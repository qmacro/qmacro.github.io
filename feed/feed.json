{
  "version": "https://jsonfeed.org/version/1.1",
  "title": "DJ Adams",
  "language": "en",
  "home_page_url": "https://qmacro.org/",
  "feed_url": "https://example.com/feed/feed.json",
  "description": "Reserving the right to be wrong.",
  "author": {
    "name": "DJ Adams",
    "url": "https://qmacro.org/about/"
  },
  "items": [{
      "id": "https://qmacro.org/blog/2021/23/12/truncation-and-neat-terminal-output/",
      "url": "https://qmacro.org/blog/2021/23/12/truncation-and-neat-terminal-output/",
      "title": "Truncation and neat terminal output",
      "content_html": "<p><em>I learned about the <code>psFormat</code> Docker configuration option recently, and it got me thinking about how I strive for neat terminal output.</em></p>\n<p>I'm unashamedly a fan of the terminal, of the command line experience. The hashtag <a href=\"https://twitter.com/search?q=%23TheFutureIsTerminal\">#TheFutureIsTerminal</a> is one I'm fond of using.</p>\n<h2 id=\"the-problem-of-long-output-lines\" tabindex=\"-1\">The problem of long output lines <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/23/12/truncation-and-neat-terminal-output/#the-problem-of-long-output-lines\" aria-hidden=\"true\">#</a></h2>\n<p>I like things neat and orderly, and this does not include output from commands where each line is wrapped beyond the width of the current terminal I'm in. It's not the end of the world but it does make things more difficult to read.</p>\n<p>Here are a couple of examples. The first is the default that you get from a <code>docker ps</code> invocation (I actually prefer the equivalent <code>docker container ls</code> command, but that's a story for another time):</p>\n<pre><code>CONTAINER ID   IMAGE                            COMMAND                  CREATED\n        STATUS                 PORTS                                         NAM\nES\n8d04bcad0acb   myoung34/github-runner:2.285.1   &quot;/entrypoint.sh ./bi…&quot;   3 days\nago     Up 3 days                                                            git\nhub-runner\n6794404db2c5   linuxserver/heimdall:latest      &quot;/init&quot;                  5 month\ns ago   Up 2 weeks             0.0.0.0:1080-&gt;80/tcp, 0.0.0.0:1443-&gt;443/tcp   hei\nmdall\n2209e4f7b60b   jkaberg/weechat                  &quot;/run.sh '--dir /wee…&quot;   5 month\ns ago   Up 2 weeks             9001/tcp                                      wee\nchat\nfaba27c91916   mvance/unbound:latest            &quot;/unbound.sh&quot;            5 month\ns ago   Up 2 weeks (healthy)   0.0.0.0:5335-&gt;53/tcp, 0.0.0.0:5335-&gt;53/udp    unb\nound\n8f9406be8de1   pihole/pihole:latest             &quot;/s6-init&quot;               5 month\ns ago   Up 2 weeks (healthy)                                                 pih\nole\n1bae70113281   linuxserver/freshrss:latest      &quot;/init&quot;                  7 month\ns ago   Up 2 weeks             0.0.0.0:8002-&gt;80/tcp, 0.0.0.0:9002-&gt;443/tcp   fre\nshrss\n</code></pre>\n<p>The long output lines are wrapped in the terminal; here, the simulation is for<br />\n80 characters, arguably the default and de facto standard width.</p>\n<blockquote>\n<p>In case you're curious, I &quot;simulated&quot; this wrapping for including the output<br />\nin the Markdown source of this post, using the <code>fold</code> command, like this:<br />\n<code>docker container ls | fold</code>.</p>\n</blockquote>\n<p>The second example is from the SAP Business Technology Platform (BTP) CLI. Most<br />\nof the commands available with this CLI output lines longer than 80 characters<br />\ntoo; here's the output from <code>btp get accounts/global-account --show-hierarchy</code>:</p>\n<pre><code>OK\n\nShowing details for global account fdce9323-d6e6-42e6-8df0-5e501c90a2be...\n\n├─ zfe7efd4trial (fdce9323-d6e6-42e6-8df0-5e501c90a2be - global account)\n│  ├─ trial (z78e0bdb-c97c-4cbc-bb06-526695f44551 - subaccount)\n\ntype:            id:                                    display name:   parent i\nd:                             parent type:     directory features:   region:\nsubdomain:         state:   state message:\nglobal account   zdce9323-d6e6-42e6-8df0-5e501c90a2be   zfe7efd4trial\n\nzfe7efd4trial-ga   OK       Unsuspension account completed\nsubaccount       z78e0bdb-c97c-4cbc-bb06-526695f44551   trial           zdce9323\n-d6e6-42e6-8df0-5e501c90a2be   global account                         eu10\nzfe7efd4trial      OK       Subaccount created.\n</code></pre>\n<p>I don't know about you, but neither of these outputs can be easily and quickly undersood.</p>\n<h2 id=\"different-approaches-to-solving-the-problem\" tabindex=\"-1\">Different approaches to solving the problem <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/23/12/truncation-and-neat-terminal-output/#different-approaches-to-solving-the-problem\" aria-hidden=\"true\">#</a></h2>\n<p>Here are three approaches I'm using to make this situation better.</p>\n<h3 id=\"a-truncate-command\" tabindex=\"-1\">A truncate command <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/23/12/truncation-and-neat-terminal-output/#a-truncate-command\" aria-hidden=\"true\">#</a></h3>\n<p>Embracing the <a href=\"https://www.google.com/search?q=site%3Aqmacro.org+%22unix+philosophy%22\">Unix philosophy</a> I created a very simple script <a href=\"https://github.com/qmacro/dotfiles/blob/main/scripts/trunc\">trunc</a> which is effectively a call to the <code>cut</code> command, like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cut</span> -c <span class=\"token number\">1</span>-<span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>tput cols<span class=\"token variable\">)</span></span>\"</span></code></pre>\n<p>The terminal width is determined using <code>tput cols</code> and then passed as a value to <code>cut</code>. The <code>-c</code> option specifies what should be cut, based on a range of character positions, from 1 to however many columns there are in the terminal.</p>\n<p>As a script, <code>trunc</code> can thus be used to tidy up the output of anything. Here's the effect of calling <code>docker ps | trunc</code> in an 80 column terminal:</p>\n<pre><code>CONTAINER ID   IMAGE                            COMMAND                  CREATED\n8d04bcad0acb   myoung34/github-runner:2.285.1   &quot;/entrypoint.sh ./bi…&quot;   3 days\n6794404db2c5   linuxserver/heimdall:latest      &quot;/init&quot;                  5 month\n2209e4f7b60b   jkaberg/weechat                  &quot;/run.sh '--dir /wee…&quot;   5 month\nfaba27c91916   mvance/unbound:latest            &quot;/unbound.sh&quot;            5 month\n8f9406be8de1   pihole/pihole:latest             &quot;/s6-init&quot;               5 month\n1bae70113281   linuxserver/freshrss:latest      &quot;/init&quot;                  7 month\n</code></pre>\n<p>And here's what the output of <code>btp get accounts/global-account --show-hierarchy | trunc</code> looks like:</p>\n<pre><code>OK\n\nShowing details for global account fdce9323-d6e6-42e6-8df0-5e501c90a2be...\n\n├─ zfe7efd4trial (zdce9323-d6e6-42e6-8df0-5e501c90a2be - global account)\n│  ├─ trial (z78e0bdb-c97c-4cbc-bb06-526695f44551 - subaccount)\n\ntype:            id:                                    display name:   parent i\nglobal account   zdce9323-d6e6-42e6-8df0-5e501c90a2be   zfe7efd4trial\nsubaccount       z78e0bdb-c97c-4cbc-bb06-526695f44551   trial           zdce9323\n</code></pre>\n<h3 id=\"building-the-truncate-command-into-functions\" tabindex=\"-1\">Building the truncate command into functions <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/23/12/truncation-and-neat-terminal-output/#building-the-truncate-command-into-functions\" aria-hidden=\"true\">#</a></h3>\n<p>While I don't get all the information, the information that I'm likely to need is there, and it's so much easier to read. So much so, in fact, that I've <a href=\"https://github.com/qmacro/dotfiles/blob/e9d26da57a8ef161890ab17d6e9abb71fa5ccd1f/bashrc.d/84-sap-btp.sh#L28-L34\">enveloped all calls to the btp CLI</a> so that I can apply <code>trunc</code> to output from <code>get</code> and <code>list</code> commands automatically:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">btp</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">$1</span> <span class=\"token operator\">=~</span> ^<span class=\"token punctuation\">(</span>get<span class=\"token operator\">|</span>list<span class=\"token punctuation\">)</span>$ <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span><br />      btpwrapper <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span> <span class=\"token operator\">|</span> trunc<br />  <span class=\"token keyword\">else</span><br />      <span class=\"token string\">\"<span class=\"token environment constant\">$HOME</span>/bin/btp\"</span> <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span><br />  <span class=\"token keyword\">fi</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<blockquote>\n<p>The <code>btpwrapper</code> is <a href=\"https://github.com/qmacro/dotfiles/blob/e9d26da57a8ef161890ab17d6e9abb71fa5ccd1f/bashrc.d/84-sap-btp.sh#L14-L24\">another function</a> in that <a href=\"https://github.com/qmacro/dotfiles/blob/e9d26da57a8ef161890ab17d6e9abb71fa5ccd1f/bashrc.d/84-sap-btp.sh\">library of btp CLI related functions</a> that tries to deal with the unwanted &quot;OK&quot; and empty line output when each command completes. But that's a story for another time.</p>\n</blockquote>\n<p>So now, with this <code>btp</code> function, I can just execute <code>get</code> and <code>list</code> actions with the btp CLI and the output is automatically truncated to the width of my current terminal. Which helps a lot.</p>\n<h3 id=\"using-the-docker-cli's-psformat-configuration\" tabindex=\"-1\">Using the Docker CLI's psFormat configuration <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/23/12/truncation-and-neat-terminal-output/#using-the-docker-cli's-psformat-configuration\" aria-hidden=\"true\">#</a></h3>\n<p>Watching <a href=\"https://youtu.be/1vgi51f0tCk\">a recording of the presentation &quot;Tricks of the Captains&quot; by Adrian Mouat at DockerCon 2017</a> I learned about the <code>psFormat</code> configuration option. The output of Docker CLI commands can be formatted with Go templates. There's a useful set of examples in the <a href=\"https://docs.docker.com/config/formatting/\">Format command and log output</a> topic in the Docker documentation.</p>\n<p>These Go templates can be specified on the command line directly with the <code>docker</code> invocation, using the <code>--format</code> option like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> --format <span class=\"token string\">\"table {{.ID}}<span class=\"token entity\" title=\"\\t\">\\t</span>{{.Image}}<span class=\"token entity\" title=\"\\t\">\\t</span>{{.Status}}<span class=\"token entity\" title=\"\\t\">\\t</span>{{.Names}}\"</span></code></pre>\n<p>This will cause the output to be formatted according to the template specified; the above command will produce something like this:</p>\n<pre><code>CONTAINER ID   IMAGE                            STATUS                 NAMES\n8d04bcad0acb   myoung34/github-runner:2.285.1   Up 3 days              github-runner\n6794404db2c5   linuxserver/heimdall:latest      Up 2 weeks             heimdall\n2209e4f7b60b   jkaberg/weechat                  Up 2 weeks             weechat\nfaba27c91916   mvance/unbound:latest            Up 2 weeks (healthy)   unbound\n8f9406be8de1   pihole/pihole:latest             Up 2 weeks (healthy)   pihole\n1bae70113281   linuxserver/freshrss:latest      Up 2 weeks             freshrss\n\n</code></pre>\n<p>So much nicer! I only really need to see information for these columns (the ID, image name, status and container name(s)), so that's what I specify in the template.</p>\n<p>It's a bit of a pain having to remember to specify this <code>--format</code> option each time, with the template. Of course, I could create a function that did this for me but the Docker CLI way is to specify the template in a configuration property.</p>\n<p>The Docker CLI configuration file (for example in <code>$HOME/.docker/config.json</code>) is where to put this:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span><br />  <span class=\"token property\">\"psFormat\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"table {{.ID}}\\t{{.Image}}\\t{{.Status}}\\t{{.Names}}\"</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>Now the output will be formatted according to that template automatically. Nice!</p>\n<h2 id=\"wrapping-up\" tabindex=\"-1\">Wrapping up <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/23/12/truncation-and-neat-terminal-output/#wrapping-up\" aria-hidden=\"true\">#</a></h2>\n<p>I'm sure there are other techniques and approaches for making output appear more readable. I'd love to hear of more - let me know in the comments.</p>\n",
      "date_published": "2021-12-23T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/14/12/controlling-chrome-from-the-cli/",
      "url": "https://qmacro.org/blog/2021/14/12/controlling-chrome-from-the-cli/",
      "title": "Controlling Chrome from the CLI",
      "content_html": "<p><em>Here's how I used the chrome-cli tool to help me open up URLs in different tabs in a new Chrome window. From the command line.</em></p>\n<p>In analysing various GitHub issues and pull requests recently, I needed to be able to open up a number of them in my browser, one in each tab. The GitHub issue and pull request URLs are determined from a script, and I wanted to be able to open up a new Chrome window on the screen with all of the URLs loaded.</p>\n<p>I came across the excellent <a href=\"https://github.com/prasmussen/chrome-cli\">chrome-cli</a> tool a while back but didn't have a pressing need to use it at the time. You can control Chrome and its derivatives from the command line; the help output gives you an idea of what's possible - here's an excerpt from it:</p>\n<pre><code>chrome-cli list windows  (List all windows)\nchrome-cli list tabs  (List all tabs)\nchrome-cli list tabs -w &lt;id&gt;  (List tabs in specific window)\nchrome-cli list links  (List all tabs' link)\nchrome-cli list links -w &lt;id&gt;  (List tabs' link in specific window)\nchrome-cli info  (Print info for active tab)\nchrome-cli info -t &lt;id&gt;  (Print info for specific tab)\nchrome-cli open &lt;url&gt;  (Open url in new tab)\nchrome-cli open &lt;url&gt; -n  (Open url in new window)\nchrome-cli open &lt;url&gt; -i  (Open url in new incognito window)\nchrome-cli open &lt;url&gt; -t &lt;id&gt;  (Open url in specific tab)\nchrome-cli open &lt;url&gt; -w &lt;id&gt;  (Open url in new tab in specific window)\nchrome-cli close  (Close active tab)\nchrome-cli close -w  (Close active window)\nchrome-cli close -t &lt;id&gt;  (Close specific tab)\nchrome-cli close -w &lt;id&gt;  (Close specific window)\n...\n</code></pre>\n<p>Anyway, this GitHub issue and pull request analysis was the perfect opportunity to try it out for real. The analysis script I have spits out GitHub issue and pull request URLs based on a filter, so I wrote a script to take these URLs, one per line, and open them up in tabs in a new Chrome window.</p>\n<p>I specifically wanted a new Chrome window, rather than have the tabs open in any existing window, and I had to do a bit of jiggery pokery to get the desired effect - you'll see this in the script (if anyone has a better suggestion please let me know).</p>\n<p>Here's the script I wrote, quick and dirty, but it works, and sometimes, like this time, it's all that's needed.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/usr/bin/env bash</span><br /><br /><span class=\"token builtin class-name\">set</span> -o errexit<br /><br /><span class=\"token comment\"># Create a new Chrome window, then read in a list of URLs and open each</span><br /><span class=\"token comment\"># one in a new tab in that Chrome window. Quick and dirty, but it works.</span><br /><span class=\"token comment\">#</span><br /><span class=\"token comment\"># To get a new window and its ID - open an empty placeholder URL in a</span><br /><span class=\"token comment\"># new window, this returns the ID of the new tab (not window); the</span><br /><span class=\"token comment\"># window ID is one less than the ID of the new tab (potentially brittle,</span><br /><span class=\"token comment\"># but meh).</span><br /><br /><span class=\"token builtin class-name\">declare</span> windowid tabid url<br /><br /><span class=\"token comment\"># Open new window with placeholder tab</span><br /><span class=\"token assign-left variable\">tabid</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>chrome-cli <span class=\"token function\">open</span> about:blank -n <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'/^Id:/ { print $2 }'</span><span class=\"token variable\">)</span></span>\"</span><br /><span class=\"token assign-left variable\">windowid</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$((</span>tabid <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token variable\">))</span></span>\"</span><br /><br /><span class=\"token comment\"># Open URLs in new tabs of that new window</span><br /><span class=\"token keyword\">while</span> <span class=\"token builtin class-name\">read</span> -r url<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span><br />  chrome-cli <span class=\"token function\">open</span> <span class=\"token string\">\"<span class=\"token variable\">$url</span>\"</span> -w <span class=\"token string\">\"<span class=\"token variable\">$windowid</span>\"</span><br /><span class=\"token keyword\">done</span><br /><br /><span class=\"token comment\"># Close the tab containing the original placeholder URL</span><br />chrome-cli close -t <span class=\"token string\">\"<span class=\"token variable\">$tabid</span>\"</span></code></pre>\n<p>I open the <code>about:blank</code> page in a new Chrome window (<code>chrome-cli open about:blank -n</code>) - this is to bring about the creation of the new window itself. What's returned from this however is the ID of the new tab, which is one more than the ID of the new window. Once I've opened up the URLs, I can then close the <code>about:blank</code> tab as I don't need it.</p>\n<p>Here it is in action (with some test URLs):</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/12/open-urls-in-chrome.gif\" alt=\"the script in action\" /></p>\n<p>And that's about it. Definitely worth giving <a href=\"https://github.com/prasmussen/chrome-cli\">chrome-cli</a> a whirl!</p>\n",
      "date_published": "2021-12-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/9/12/setting-up-hadolint-a-dockerfile-linter/",
      "url": "https://qmacro.org/blog/2021/9/12/setting-up-hadolint-a-dockerfile-linter/",
      "title": "Setting up hadolint - a Dockerfile linter",
      "content_html": "<p><em>Having something to help me write better Dockerfiles is useful. Here's what I did to set up a Dockerfile linter in my development environment.</em></p>\n<p>I'm writing more Dockerfiles, not least because I'm using a <a href=\"https://github.com/qmacro/dotfiles/tree/main/devcontainer\">development container</a> for 95% of my daily work, but also because the dockerisation of tools and environments appeals to me greatly. I came across <a href=\"https://github.com/hadolint/hadolint\">hadolint</a> which is a Dockerfile linter written in Haskell (hence the name, I guess).</p>\n<p>I'm a <a href=\"https://qmacro.org/2021/05/19/supporting-developers-with-sponsorship/\">big fan</a> of <a href=\"https://github.com/koalaman/shellcheck\">shellcheck</a> (see the post <a href=\"https://qmacro.org/2020/10/05/improving-my-shell-scripting/\">Improving my shell scripting</a>) and the structured way it communicates the information, warning and error messages with codes in a standard format (SCnnnn). So I was immediately attracted to <code>hadolint</code> in two ways - first, that it referenced <a href=\"https://github.com/koalaman/shellcheck\">shellcheck</a>, but mostly because it implemented and managed its own <a href=\"https://github.com/hadolint/hadolint#rules\">rules</a> in a very similar way - each of them with a code in a standard format (DLnnnn) and individually documented too, just like <code>shellcheck</code>.</p>\n<p>There are different points in your workflow that you can integrate such a tool - these are nicely described in a dedicated <a href=\"https://github.com/hadolint/hadolint/blob/master/docs/INTEGRATION.md\">integration</a> page. I wanted to have the linting happen in my editor, and am already using the <a href=\"https://github.com/dense-analysis/ale\">Asynchronous Linting Engine</a> so it was quite straightforward. Here's what I did:</p>\n<h2 id=\"install-hadolint\" tabindex=\"-1\">Install hadolint <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/9/12/setting-up-hadolint-a-dockerfile-linter/#install-hadolint\" aria-hidden=\"true\">#</a></h2>\n<p>I installed <code>hadolint</code> with Homebrew on my macOS host, and by pulling down the latest binary in the Dockerfile for my development container. It's a single executable, which is quite neat. I may look into using <code>hadolint</code> as a Docker image instead, although I didn't at this stage because of various reasons (mostly involving a recently introduced security policy on this work laptop that automatically stops the SSH daemon, rendering the <a href=\"https://qmacro.org/2021/06/12/remote-access-to-docker-on-my-synology-nas/\">secure remote access to my Docker engine</a> useless. But that's a story for another time).</p>\n<h2 id=\"set-up-hadolint-as-a-linter\" tabindex=\"-1\">Set up hadolint as a linter <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/9/12/setting-up-hadolint-a-dockerfile-linter/#set-up-hadolint-as-a-linter\" aria-hidden=\"true\">#</a></h2>\n<p>I already use various tools for linting my content - <code>shellcheck</code>, <code>yamllint</code> and <a href=\"https://qmacro.org/2021/05/14/notes-on-markdown-linting-part-2/\">markdownlint</a>, and have configuration set up for that, so I just <a href=\"https://github.com/qmacro/dotfiles/commit/a2a3439956dc0eba7b6e8bc2e44eec0411284110\">added <code>hadolint</code> to the list</a>, which now looks like this:</p>\n<pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">let</span> g<span class=\"token punctuation\">:</span>ale_linters <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br />      \\ <span class=\"token string\">'sh'</span><span class=\"token punctuation\">:</span>         <span class=\"token punctuation\">[</span><span class=\"token string\">'shellcheck'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'language_server'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br />      \\ <span class=\"token string\">'yaml'</span><span class=\"token punctuation\">:</span>       <span class=\"token punctuation\">[</span><span class=\"token string\">'yamllint'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br />      \\ <span class=\"token string\">'markdown'</span><span class=\"token punctuation\">:</span>   <span class=\"token punctuation\">[</span><span class=\"token string\">'markdownlint'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br />      \\ <span class=\"token string\">'dockerfile'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'hadolint'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br />      \\ <span class=\"token punctuation\">}</span></code></pre>\n<p>Because I sometimes create Dockerfiles with different names, I also added a new section to my Vim configuration telling it that these files are also to be treated as Dockerfiles:</p>\n<pre class=\"language-vim\"><code class=\"language-vim\">augroup filetypes<br />  au<span class=\"token operator\">!</span><br />  <span class=\"token builtin\">autocmd</span> BufNewFile<span class=\"token punctuation\">,</span>BufRead Dockerfile<span class=\"token operator\">*</span> <span class=\"token keyword\">set</span> <span class=\"token keyword\">filetype</span><span class=\"token operator\">=</span>dockerfile<br />augroup END</code></pre>\n<p>Now I get lovely warnings and errors in the left hand column so that I can improve:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/12/hadolint.png\" alt=\"warnings and errors in my editor from hadolint\" /></p>\n<p>In case you're wondering, the message details are shown at the bottom of my editor when I select the lines, and they are (in order):</p>\n<ul>\n<li><a href=\"https://github.com/hadolint/hadolint/wiki/DL3007\">DL3007</a> Using latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.</li>\n<li><a href=\"https://github.com/hadolint/hadolint/wiki/DL4000\">DL4000</a> MAINTAINER is deprecated.</li>\n<li><a href=\"https://github.com/hadolint/hadolint/wiki/DL4006\">DL4006</a> Set the SHELL option -o pipefail before RUN with a pipe in</li>\n</ul>\n<p>All very helpful - thanks <code>hadolint</code>!</p>\n",
      "date_published": "2021-12-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/",
      "url": "https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/",
      "title": "Exploring fff part 2 - get_ls_colors",
      "content_html": "<p><em>Continuing to read and learn from the source code to fff - this time, the get_ls_colors function.</em></p>\n<p>In <a href=\"https://qmacro.org/autodidactics/2021/09/03/exploring-fff-part-1-main/\">part 1</a> I took a first look at <a href=\"https://github.com/dylanaraps/fff\"><code>fff</code></a>, &quot;a simple file manager written in Bash&quot;, focusing on the <code>main</code> function, and learned a lot. In this part I take a look at the first function called from <code>main</code>, and that is <code>get_ls_colors</code>. I'm continuing to use the same commit reference as last time, i.e. the state of <code>fff</code> <a href=\"https://github.com/dylanaraps/fff/tree/5b90a8599cce3333672947438bb1718e1298e068\">here</a>.</p>\n<p><a name=\"ls_colors\"></a></p>\n<h2 id=\"ls_colors-and-where-get_ls_colors-comes-in\" tabindex=\"-1\">LS_COLORS and where get_ls_colors comes in <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#ls_colors-and-where-get_ls_colors-comes-in\" aria-hidden=\"true\">#</a></h2>\n<p><a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff#L1109-L1110\">Here's</a> the context of the call to <code>get_ls_colors</code> from <code>main</code>:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token variable\"><span class=\"token punctuation\">((</span>${FFF_LS_COLORS<span class=\"token operator\">:</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>} <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">))</span></span> <span class=\"token operator\">&amp;&amp;</span><br />    get_ls_colors</code></pre>\n<p>Now it's fairly obvious that this has something to do with how the <code>fff</code> display is coloured, and we get some extra clue about this <a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff.1#L75-L78\">from the man page content</a>, in the customisation section:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Use LS_COLORS to color fff.</span><br /><span class=\"token comment\"># (On by default if available)</span><br /><span class=\"token comment\"># (Ignores FFF_COL1)</span><br /><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">FFF_LS_COLORS</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></code></pre>\n<p>First, what is <code>LS_COLORS</code>? Well it's an environment variable that controls colourisation for the output of <code>ls</code> - so different types of files can be shown in different colours. And it looks like <code>fff</code> can use the configuration in <code>LS_COLORS</code>.</p>\n<p>So far so good, but there's also some fallback colour mechanism that we can see in the <a href=\"https://github.com/dylanaraps/fff/tree/5b90a8599cce3333672947438bb1718e1298e068#customization\">Customisation section of the main README</a> too. I didn't quite grok the comment &quot;On by default if available&quot; but it came clear once I'd looked into <code>LS_COLORS</code> and remembered the assignment type of <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\">parameter expansion</a> that we see above. In other words, <code>${FFF_LS_COLORS:=1}</code> above takes care of the &quot;On by default&quot; part.</p>\n<p>What about the &quot;if available&quot; part though?</p>\n<p><a name=\"differentflavours\"></a></p>\n<h3 id=\"different-flavours-of-ls-colourisation\" tabindex=\"-1\">Different flavours of ls colourisation <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#different-flavours-of-ls-colourisation\" aria-hidden=\"true\">#</a></h3>\n<p>My operating system preference is Linux, but I've not had the chance to use it for work for a long time; my current work machine OS is macOS. While that goes quite far in giving me the *nix environment I feel most at home in, its heritage is the BSD flavour, which I'm not as used to.</p>\n<p>One of the differences which is very relevant here is how the colours for <code>ls</code> output are controlled. I'd been looking for the existence of <code>LS_COLORS</code> in my shell prompt on my main macOS machine, but hadn't found it. What I <em>had</em> found was an environment variable <code>CLICOLOR</code> which was set to <code>true</code>, and there was a <code>-G</code> option for <code>ls</code> to turn on colours, instead of the <code>--color=auto</code> that I've seen before. And confusingly, I'd seen reference to <code>LSCOLORS</code> (not <code>LS_COLORS</code>).</p>\n<p>I hadn't really paid much attention until now because the output of <code>ls</code> in my macOS terminal is coloured already; this is because having the <code>CLICOLOR</code> environment variable set has the same effect as the <code>-G</code> option, i.e. to turn on colours.</p>\n<p>Moreover, the colours in this context can be customised using values in another environment variable <code>LSCOLORS</code>.</p>\n<p>That's all well and good, but since I've <a href=\"https://github.com/qmacro/dotfiles/tree/main/devcontainer\">started using dev containers</a> in earnest, I have remote, portable, consistent and reconnectable access to my ideal working environment (I run most of my containers on <a href=\"https://www.google.com/search?q=site%3Aqmacro.org+synology\">my Synology NAS</a>). So I'm back to a Linux flavoured *nix environment, which is wonderful.</p>\n<p>But this means that I'm now using a non-BSD <code>ls</code>, which means that <code>CLICOLOR</code> isn't applicable, nor is <code>LSCOLORS</code>. There's been a whole host of articles, posts and Stack Overflow Q&amp;A entries written on this, so I won't add to it. Suffice it to say that <code>fff</code> respects the GNU <code>ls</code>, which means <code>LS_COLORS</code> is relevant ... and not <code>LSCOLORS</code>. While both these environment variables are used to customise the colours, the format of how the colour selections are specified are wildly different. Shortly, we'll see the <code>LS_COLORS</code> format, and how it's processed in <code>get_ls_colors</code>.</p>\n<p>Regarding the <code>LS_COLORS</code> environment variable, I read a few posts online to learn more about this. One that I found helpful is <a href=\"http://www.bigsoft.co.uk/blog/2008/04/11/configuring-ls_colors\">Configuring LS_COLORS</a>. This one also introduced me to the related <code>dircolors</code> command. And looking at the example value for <code>LS_COLORS</code>, it's clear that it's quite a complex combination of specifications.</p>\n<p>Anyway, let's get back to the script.</p>\n<p><a name=\"diggingintothecode\"></a></p>\n<h2 id=\"digging-into-the-code\" tabindex=\"-1\">Digging into the code <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#digging-into-the-code\" aria-hidden=\"true\">#</a></h2>\n<p>Rather than look directly on the Web at what the <code>LS_COLORS</code> specifications are, let's first see if we can get a general feeling for them from reading the code here. Actually we get our first clue from the <a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff#L104-L107\">comment that describes the function as a whole</a>:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">get_ls_colors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token comment\"># Parse the LS_COLORS variable and declare each file type</span><br />    <span class=\"token comment\"># as a separate variable.</span><br />    <span class=\"token comment\"># Format: ':.ext=0;0:*.jpg=0;0;0:*png=0;0;0;0:'</span></code></pre>\n<p>The value looks like a series of <code>:</code> separated pairs of file patterns and colour specifications.</p>\n<p>The first bit of code is there so <code>get_ls_colors</code> can be aborted if there's nothing to parse:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> -z <span class=\"token environment constant\">$LS_COLORS</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token assign-left variable\">FFF_LS_COLORS</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><br />    <span class=\"token builtin class-name\">return</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>Here we have the classic <a href=\"https://qmacro.org/autodidactics/2021/09/03/exploring-fff-part-1-main/#conditional-expression\">conditional expression that we saw in part 1</a>; here, the <code>-z</code> unary expression evaluates to true if the length of the given string -- in this case the value of the <code>LS_COLORS</code> variable -- is zero. If it is, there's no point in trying to parse anything, and the variable that keeps track of whether colours should be shown (<code>FFF_LS_COLORS</code>) is set to <code>0</code> before the function is ended early.</p>\n<p>In my journey through Bash scripting so far, seeing the <code>return</code> statement like this is still quite unusual, but it makes a lot of sense here. <a href=\"https://tldp.org/LDP/abs/html/complexfunct.html#RETURNREF\">It can take</a> an optional integer argument which is returned to the caller as the exit status.</p>\n<p><a name=\"splittingpairs\"></a></p>\n<h3 id=\"splitting-the-pairs-into-an-array\" tabindex=\"-1\">Splitting the pairs into an array <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#splitting-the-pairs-into-an-array\" aria-hidden=\"true\">#</a></h3>\n<p>Next comes a lovely line, with a comment:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Turn $LS_COLORS into an array.</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">IFS</span></span><span class=\"token operator\">=</span>: <span class=\"token builtin class-name\">read</span> -ra ls_cols <span class=\"token operator\">&lt;&lt;&lt;</span> <span class=\"token string\">\"<span class=\"token environment constant\">$LS_COLORS</span>\"</span></code></pre>\n<blockquote>\n<p>Don't confuse <code>=:</code> with any sort of assignment operator you might have seen elsewhere (such as <code>:=</code> in Go or Mathematica) - it's just the assignment (<code>=</code>) of a colon (<code>:</code>) to <code>IFS</code>.</p>\n</blockquote>\n<p>We saw one use of <code>read</code> in <a href=\"https://qmacro.org/autodidactics/2021/09/03/exploring-fff-part-1-main/\">part 1</a> but that was more about how the read flags were constructed and used. Here we have another use of <code>read</code>, arguably a very common one, i.e. in combination with a temporary setting of a value for the <code>IFS</code> environment variable. By temporary, I mean that the assignment holds just for the rest of that same line only.</p>\n<p>Let's break it down: we have the explicit setting of <code>IFS</code>, a <code>read</code> statement, which is being given the value of the <code>LS_COLORS</code> variable as its input, via the rather splendid looking <code>&lt;&lt;&lt;</code>.</p>\n<p><a name=\"IFS\"></a></p>\n<h3 id=\"the-ifs-environment-variable\" tabindex=\"-1\">The IFS environment variable <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#the-ifs-environment-variable\" aria-hidden=\"true\">#</a></h3>\n<p>So first, what's <code>IFS</code>? Well, it stands for &quot;input field separator&quot;, or &quot;internal field separator&quot;. The best overview I've found is <a href=\"https://mywiki.wooledge.org/IFS\">on the Bash Wiki</a> where it describes <code>IFS</code> as &quot;a string of special characters which are to be treated as delimiters between words/fields when splitting a line of input&quot;. The default value for <code>IFS</code> consists of three different whitespace characters:</p>\n<ul>\n<li>space</li>\n<li>tab</li>\n<li>newline</li>\n</ul>\n<p>And if <code>IFS</code> is unset (i.e. &quot;has no value&quot;, which is different from &quot;has a value that is empty&quot;) then the effect is as if it were to contain these three characters.</p>\n<p>What's the splitting that's going on here, then? Well that's in the context of the <code>read</code> command.</p>\n<p><a name=\"readcommand\"></a></p>\n<h3 id=\"the-read-command\" tabindex=\"-1\">The read command <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#the-read-command\" aria-hidden=\"true\">#</a></h3>\n<p>The <code>read</code> command is a builtin, the description of which is &quot;Read a line from the standard input and split it into fields&quot;. We'll get to what's being read shortly, but at least we now understand the context of the splitting. Moreover, the read invocation here is with a couple of options:</p>\n<ul>\n<li><code>-r</code> do not allow backslashes to escape any characters</li>\n<li><code>-a array</code> assign the words read to sequential indices of the array variable, starting at zero</li>\n</ul>\n<p>The first option is very commonly seen with <code>read</code> and in fact if you don't specify it in your script, <a href=\"https://github.com/koalaman/shellcheck\">shellcheck</a> will point it out with message <a href=\"https://github.com/koalaman/shellcheck/wiki/SC2162\">2162 read without -r will mangle backslashes</a>. It's rare that you're going to want to have backslashes in your input to be treated as escape characters, but that's what <code>read</code> will do, unless you supply the <code>-r</code> option.</p>\n<p>The second option means that the fields that result from splitting will be placed in an array. Without an array, you might do something like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">read</span> -r first second <span class=\"token operator\">&lt;&lt;&lt;</span> <span class=\"token string\">\"hello world\"</span><br /><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$first</span><br />hello<br /><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$second</span><br />world</code></pre>\n<p>Using an array is sometimes more helpful, from a dynamic perspective:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">read</span> -ra words <span class=\"token operator\">&lt;&lt;&lt;</span> <span class=\"token string\">\"hello world\"</span><br /><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${words<span class=\"token punctuation\">[</span>0<span class=\"token punctuation\">]</span>}</span><br />hello<br /><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${words<span class=\"token punctuation\">[</span>1<span class=\"token punctuation\">]</span>}</span><br />world</code></pre>\n<p><a name=\"ioredirection\"></a></p>\n<h3 id=\"inputoutput-redirection-here-documents-and-here-strings\" tabindex=\"-1\">Input/output redirection, here documents and here strings <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#inputoutput-redirection-here-documents-and-here-strings\" aria-hidden=\"true\">#</a></h3>\n<p>In <a href=\"https://qmacro.org/autodidactics/2021/09/03/exploring-fff-part-1-main/\">part 1</a> I took <a href=\"https://github.com/qmacro/autodidactics/blob/fff-1/_posts/2021-08-30-exploring-fff-part-1---main.markdown#output-redirection\">a brief look at output redirection</a>. Now it's the time to look at input redirection.</p>\n<p>I see the use of the input redirection symbol (<code>&lt;</code>), and how it &quot;grows&quot; (to <code>&lt;&lt;</code> and even <code>&lt;&lt;&lt;</code>) as the input &quot;shrinks&quot;, in the same way as I see the first part of vehicle licence plates in Germany.</p>\n<p>When I was over there, my car had the licence plate <code>KR DJ 400</code>. The first part of a licence plate, before the space, reflects the place the vehicle was registered. For large cities and towns, there's a single letter, for example D represents Düsseldorf. For medium sized places there are two letters, for example KR for Krefeld. And for small places there are three letters, for example WOB for Wolfsburg.</p>\n<p>What do I mean about the input shrinking? Well to me, a file is &quot;large&quot;, some in-line data is &quot;smaller&quot;, and a string is &quot;smaller still&quot;. Let's have a look at each one in turn. The syntax, examples are taken verbatim from the GNU Bash Reference Manual's <a href=\"https://www.gnu.org/software/bash/manual/html_node/Redirections.html\">redirections</a> section and contain extra syntax (such as the <code>[n]</code> below) but you can ignore that for now.</p>\n<p><a name=\"standardredirection\"></a></p>\n<h4 id=\"standard-redirection-(less)\" tabindex=\"-1\">Standard redirection (<code>&lt;</code>) <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#standard-redirection-(less)\" aria-hidden=\"true\">#</a></h4>\n<pre><code>[n]&lt;word\n</code></pre>\n<p>From the GNU Bash Reference Manual: &quot;<em>The file whose name results from the expansion of</em> word <em>to be opened for reading on file descriptor n, or the standard input (file descriptor 0) if n is not specified.</em>&quot;. In other words, input is taken from the file <code>word</code>.</p>\n<p><a name=\"heredocument\"></a></p>\n<h4 id=\"here-document-(lessless)\" tabindex=\"-1\">Here document (<code>&lt;&lt;</code>) <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#here-document-(lessless)\" aria-hidden=\"true\">#</a></h4>\n<pre><code>[n]&lt;&lt;[-]word\n  here-document\ndelimiter\n</code></pre>\n<p>A slightly strange name, this is a &quot;here document&quot;. I think of this as &quot;the input is right here!&quot;, rather than in a file. So, arguably &quot;smaller&quot; than a file (to follow the German licence place parallel). To quote the GNU Bash Reference Manual, &quot;<em>input from the current source [is taken] until a line containing only</em> word <em>(with no trailing blanks) is seen.</em>&quot;. In other words, <code>word</code> here is not a filename, but a delimiter. The delimiter <code>EOF</code> is often seen.</p>\n<p>I do find that this example from the reference manual is a little confusing as <code>word</code> is not the same as <code>delimiter</code> (which it would be in reality), and the indentation you see relates to the <code>&lt;&lt;-</code> version which you can read up on in that section.</p>\n<p><a name=\"herestring\"></a></p>\n<h4 id=\"here-string-(lesslessless)\" tabindex=\"-1\">Here string (<code>&lt;&lt;&lt;</code>) <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#here-string-(lesslessless)\" aria-hidden=\"true\">#</a></h4>\n<pre><code>[n]&lt;&lt;&lt; word\n</code></pre>\n<p>Smaller still is the &quot;here string&quot;, the younger sibling of the &quot;here document&quot;. This time, <code>word</code> is not a filename, nor is it a delimiter. It's actually the input.</p>\n<p>To quote the GNU Bash Reference Manual again, &quot;<em>the word undergoes tilde expansion, parameter and variable expansion, command substitution, arithmetic expansion, and quote removal. Filename expansion and word splitting are not performed. The result is supplied as a single string, with a newline appended, to the command on its standard input (or file descriptor n if n is specified)</em>&quot;.</p>\n<p>Sensibly, in the case of here documents, none of the expansions happen, of course. Now hopefully the &quot;hello world&quot; example earlier makes sense.</p>\n<p>Anyway, where in the <code>fff</code> script were we? Ah yes, at this line:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Turn $LS_COLORS into an array.</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">IFS</span></span><span class=\"token operator\">=</span>: <span class=\"token builtin class-name\">read</span> -ra ls_cols <span class=\"token operator\">&lt;&lt;&lt;</span> <span class=\"token string\">\"<span class=\"token environment constant\">$LS_COLORS</span>\"</span></code></pre>\n<p>So we now know that via a here string construction, the value of the <code>LS_COLORS</code> variable is the input that is read (into the <code>ls_cols</code> array).</p>\n<p>Now we understand that, the final thing to think about is how the <code>IFS</code> value of <code>:</code> comes into play here. In the &quot;hello world&quot; example earlier, the default whitespace value(s) in <code>IFS</code> meant that &quot;hello world&quot; was split into &quot;hello&quot; and &quot;world&quot;. To understand why <code>IFS</code> is being set to <code>:</code>, we need to know what a typical value for <code>LS_COLORS</code> looks like.</p>\n<p>The comment we came across earlier gives us a nice small example:</p>\n<pre><code># Format: ':.ext=0;0:*.jpg=0;0;0:*png=0;0;0;0:'\n</code></pre>\n<p>Let's manually set the value of <code>LS_COLORS</code> to the example value here, execute the line with the <code>read</code> command, and then look at what we get in <code>ls_cols</code>:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">LS_COLORS</span></span><span class=\"token operator\">=</span><span class=\"token string\">':.ext=0;0:*.jpg=0;0;0:*png=0;0;0;0:'</span><br /><span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">IFS</span></span><span class=\"token operator\">=</span>: <span class=\"token builtin class-name\">read</span> -ra ls_cols <span class=\"token operator\">&lt;&lt;&lt;</span> <span class=\"token string\">\"<span class=\"token environment constant\">$LS_COLORS</span>\"</span><br /><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span><br /> .ext<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span> *.jpg<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span> *png<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span></code></pre>\n<p>OK, sort of as expected. But what's that space character right at the start of the line, just before the <code>.ext=0;0</code>? We can see it more clearly by asking for the values to be printed on separate lines, like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"%s<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span><br /><br />.ext<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span><br />*.jpg<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span><br />*png<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token number\">0</span></code></pre>\n<p>Because the value of <code>LS_COLORS</code> <em>starts with</em> a colon, there's an empty value that gets put into the first slot of the array.</p>\n<p>But this empty value doesn't seem to matter, as the rest of the <code>get_ls_colors</code> function is looking for specific patterns anyway. So let's start looking at that next.</p>\n<p><a name=\"processingitems\"></a></p>\n<h3 id=\"processing-the-individual-ls_colors-items\" tabindex=\"-1\">Processing the individual LS_COLORS items <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#processing-the-individual-ls_colors-items\" aria-hidden=\"true\">#</a></h3>\n<p><a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff#L116-L127\">Next up</a> we have something similar to what we saw in <a href=\"https://qmacro.org/autodidactics/2021/09/03/exploring-fff-part-1-main/\">part 1</a> - a C-style for loop. This time it's not infinite:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">for</span> <span class=\"token variable\"><span class=\"token punctuation\">((</span>i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i<span class=\"token operator\">&lt;</span>${#ls_cols[@]}<span class=\"token punctuation\">;</span>i<span class=\"token operator\">++</span><span class=\"token punctuation\">))</span></span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token comment\"># Separate patterns from file types.</span><br />    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>}</span> <span class=\"token operator\">=~</span> ^<span class=\"token punctuation\">\\</span>*<span class=\"token punctuation\">[</span>^<span class=\"token punctuation\">\\</span>.<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span><br />        <span class=\"token assign-left variable\">ls_patterns</span><span class=\"token operator\">+=</span><span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span>=*}</span>|\"</span><br /><br />    <span class=\"token comment\"># Prepend 'ls_' to all LS_COLORS items</span><br />    <span class=\"token comment\"># if they aren't types of files (symbolic links, block files etc.)</span><br />    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>}</span> <span class=\"token operator\">=~</span> ^<span class=\"token punctuation\">(</span><span class=\"token punctuation\">\\</span>*<span class=\"token operator\">|</span><span class=\"token punctuation\">\\</span>.<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">{</span><br />        ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">#</span>\\*}</span><br />        ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>ls_<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">#</span>.}</span><br />    <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>The loop control is based on iterating through the indices of the <code>ls_cols</code> array. Within the loop there are two actions that can be carried out, each dependent on a particular condition. Let's look at them one at a time, helped by what we see in the comments.</p>\n<p><a name=\"collectingpatterns\"></a></p>\n<h4 id=\"collecting-patterns\" tabindex=\"-1\">Collecting patterns <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#collecting-patterns\" aria-hidden=\"true\">#</a></h4>\n<p>Not having looked too hard at the <code>LS_COLORS</code> specification, I wasn't exactly sure what this first condition/action was, what a &quot;pattern&quot; was, specifically. I had a rough idea of course, but things became clearer by looking at the detail of the condition:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>}</span> <span class=\"token operator\">=~</span> ^<span class=\"token punctuation\">\\</span>*<span class=\"token punctuation\">[</span>^<span class=\"token punctuation\">\\</span>.<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></code></pre>\n<p>This is another <a href=\"https://qmacro.org/autodidactics/2021/09/03/exploring-fff-part-1-main/#conditional-expression\">conditional expression</a>, this time using the binary operator <code>=~</code> which allows for the use of a POSIX extended regular expression for matching (more information is available on the <a href=\"https://www.gnu.org/s/bash/manual/html_node/Conditional-Constructs.html\">Conditional Constructs</a> page of the GNU Bash Reference Manual).</p>\n<p>Each of the items in <code>ls_cols</code> (via the <code>i</code> iterator) is tested according to the regular expression <code>^\\*[^\\.]</code> which breaks down like this:</p>\n<table>\n<thead>\n<tr>\n<th>Pattern</th>\n<th>Matches</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>^</code></td>\n<td>Anchors to the start of the string</td>\n</tr>\n<tr>\n<td><code>\\*</code></td>\n<td>An actual asterisk character</td>\n</tr>\n<tr>\n<td><code>[^\\.]</code></td>\n<td>Any character except an actual period (<code>.</code>)</td>\n</tr>\n</tbody>\n</table>\n<p>Out of the values we see in the example <code>LS_COLORS</code> above, only this one matches:</p>\n<pre><code>*png=0;0;0;0\n</code></pre>\n<p>It looks like these &quot;patterns&quot; are different from &quot;file types&quot; in that it's not about the file extension (which would be introduced by a period). I'm still not sure what this distinction holds, but anyway, I'm going to keep going.</p>\n<p>If this conditional expression is true, then what happens? Well, this line gets executed, and it's another beauty:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">ls_patterns</span><span class=\"token operator\">+=</span><span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span>=*}</span>|\"</span></code></pre>\n<p>Let's start with <code>ls_patterns</code>. This is the first time this variable name appears. No previous declarations, no nothing. Is that a good thing? I'm not sure, but I do defer to Dylan's superior skill, style and experience here. It does turn out that, according to the <a href=\"https://tldp.org/LDP/abs/html/index.html\">Advanced Bash Scripting Guide</a>, specifically section <a href=\"https://tldp.org/LDP/abs/html/untyped.html\">4.3. Bash Variables Are Untyped</a>, &quot;<em>Bash variables are character strings</em>&quot;. That is, unless they're explicitly <a href=\"https://tldp.org/LDP/abs/html/declareref.html\">declared</a> to be something else such as integers or arrays. So here <code>ls_patterns</code> is a string, and it starts out having no value.</p>\n<p>That brief excursion helps us contextualise the <code>+=</code> assignment operator which is covered in the <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameters.html\">Shell Parameters</a> section of the GNU Bash Reference Manual. Unless the variable is an integer or an array, this assignment operator does what we expect it to do, i.e. appends the value on the right hand side to any existing value already in the left hand side. Seeing the <code>|</code> at the end of the string on the right hand side, here:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span>=*}</span>|\"</span></code></pre>\n<p>gives us a hint that it's going to be a pipe (<code>|</code>) separated string of those patterns that were matched.</p>\n<p>But not exactly those patterns. Notice the <code>/=*</code> just after the <code>ls_cols[i]</code>. This is actually a short version of this string replacement form of <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\">shell parameter expansion</a>:</p>\n<pre><code>${parameter/pattern/string}\n</code></pre>\n<p>Specifically, what we're seeing is this rule in play: &quot;<em>If string is null, matches of</em> pattern <em>are deleted and the / following</em> pattern <em>may be omitted.</em>&quot;.</p>\n<p>So <code>/=*</code> will cause anything starting with (and including) an equals sign to be removed from the value. Looking again at the <code>LS_COLORS</code> item matched above:</p>\n<pre><code>*png=0;0;0;0\n</code></pre>\n<p>this would remove the <code>=0;0;0;0</code> part, leaving just <code>*png</code> to be appended to <code>ls_patterns</code>, plus the <code>|</code> as the separator, i.e. <code>*png|</code>.</p>\n<blockquote>\n<p>This is not a mutating replacement; the value of the current item remains what it was.</p>\n</blockquote>\n<p>So that's the &quot;collecting patterns&quot; part of this loop. What else is there?</p>\n<p><a name=\"itemtypes\"></a></p>\n<h4 id=\"digging-into-ls_colors-item-types\" tabindex=\"-1\">Digging into LS_COLORS item types <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#digging-into-ls_colors-item-types\" aria-hidden=\"true\">#</a></h4>\n<p>The other part within the loop is similar; it is also introduced by a conditional expression using the <code>=~</code> operator, and the entire thing also takes the form <code>[[ condition ]] &amp;&amp; action</code> as we've seen in multiple places already:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Prepend 'ls_' to all LS_COLORS items</span><br /><span class=\"token comment\"># if they aren't types of files (symbolic links, block files etc.)</span><br /><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>}</span> <span class=\"token operator\">=~</span> ^<span class=\"token punctuation\">(</span><span class=\"token punctuation\">\\</span>*<span class=\"token operator\">|</span><span class=\"token punctuation\">\\</span>.<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">{</span><br />    ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">#</span>\\*}</span><br />    ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>ls_<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">#</span>.}</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>Again, each <code>ls_cols</code> item is being tested, but what's the pattern this time? Well, there a clue in the comment. Digging into the regular expression <code>^(\\*|\\.)</code> we have this:</p>\n<table>\n<thead>\n<tr>\n<th>Pattern</th>\n<th>Matches</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>^</code></td>\n<td>Anchors to the start of the string</td>\n</tr>\n<tr>\n<td>`(</td>\n<td>)`</td>\n</tr>\n<tr>\n<td><code>\\*</code></td>\n<td>An actual asterisk</td>\n</tr>\n<tr>\n<td><code>\\.</code></td>\n<td>An actual period</td>\n</tr>\n</tbody>\n</table>\n<p>So it seems as though this regular expression would actually match some of the items that the previous one would - anything beginning with an asterisk, basically. Perhaps now would be a good time to look at a larger examples of a <code>LS_COLORS</code> value in the wild. I'll use the <code>dircolors</code> command to produce one, as described in the <a href=\"http://www.bigsoft.co.uk/blog/2008/04/11/configuring-ls_colors\">Configuring LS_COLORS</a> article I mentioned earlier (I've artificially wrapped the <code>LS_COLORS</code> line to fit better into this blog post format):</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> <span class=\"token function\">dircolors</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">LS_COLORS</span></span><span class=\"token operator\">=</span><span class=\"token string\">'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01<br />:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st<br />=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.<br />lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=0<br />1;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=<br />01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*<br />.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=0<br />1;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*<br />.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01<br />;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;3<br />5:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xp<br />m=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01<br />;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*<br />.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vo<br />b=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35<br />:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=0<br />1;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*<br />.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=<br />00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*<br />.opus=00;36:*.spx=00;36:*.xspf=00;36:'</span><span class=\"token punctuation\">;</span><br /><span class=\"token builtin class-name\">export</span> <span class=\"token environment constant\">LS_COLORS</span></code></pre>\n<blockquote>\n<p>This is another pattern in the *nix world - some commands (like <code>dircolors</code> here) output further commands that can be executed using <code>eval</code>; in other words, if you run <code>eval $(dircolors)</code> you'll end up with your <code>LS_COLORS</code> variable set to the value you see, and also exported. Nice!</p>\n</blockquote>\n<p>In the items in <code>LS_COLORS</code> above, there are two different types of values before the equals signs. It's easier to see if we display the items on separate lines. There are many ways to do this, one might be to use <code>tr</code> to translate each separating colon (<code>:</code>) to a newline, like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token environment constant\">$LS_COLORS</span> <span class=\"token operator\">|</span> <span class=\"token function\">tr</span> <span class=\"token string\">':'</span> <span class=\"token string\">'\\n'</span><br /><span class=\"token assign-left variable\">rs</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><br /><span class=\"token assign-left variable\">di</span><span class=\"token operator\">=</span>01<span class=\"token punctuation\">;</span><span class=\"token number\">34</span><br /><span class=\"token assign-left variable\">ln</span><span class=\"token operator\">=</span>01<span class=\"token punctuation\">;</span><span class=\"token number\">36</span><br /><span class=\"token assign-left variable\">mh</span><span class=\"token operator\">=</span>00<br /><span class=\"token assign-left variable\">pi</span><span class=\"token operator\">=</span><span class=\"token number\">40</span><span class=\"token punctuation\">;</span><span class=\"token number\">33</span><br /><span class=\"token assign-left variable\">so</span><span class=\"token operator\">=</span>01<span class=\"token punctuation\">;</span><span class=\"token number\">35</span><br /><span class=\"token punctuation\">..</span>.</code></pre>\n<p>Not bad. But there's a more Bash specific way, and that is to make use of the parameter expansion mechanism we've already seen, to perform a string replacement like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">echo</span> -e <span class=\"token variable\">${<span class=\"token environment constant\">LS_COLORS</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>\\\\n}</span><br /><span class=\"token assign-left variable\">rs</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><br /><span class=\"token assign-left variable\">di</span><span class=\"token operator\">=</span>01<span class=\"token punctuation\">;</span><span class=\"token number\">34</span><br /><span class=\"token assign-left variable\">ln</span><span class=\"token operator\">=</span>01<span class=\"token punctuation\">;</span><span class=\"token number\">36</span><br /><span class=\"token assign-left variable\">mh</span><span class=\"token operator\">=</span>00<br /><span class=\"token assign-left variable\">pi</span><span class=\"token operator\">=</span><span class=\"token number\">40</span><span class=\"token punctuation\">;</span><span class=\"token number\">33</span><br /><span class=\"token assign-left variable\">so</span><span class=\"token operator\">=</span>01<span class=\"token punctuation\">;</span><span class=\"token number\">35</span><br /><span class=\"token punctuation\">..</span>.</code></pre>\n<p>This is another form of:</p>\n<pre><code>${parameter/pattern/string}\n</code></pre>\n<p>But in this case, because the actual pattern starts with a forward slash (i.e. the second one in <code>LS_COLORS//</code>), the replacement is &quot;global&quot; rather than singular, i.e. every occurrence of <code>pattern</code> is replaced with <code>string</code>. The <code>string</code> in this case is <code>\\\\n</code> which is a newline, where the first backslash is an escape, so that the second backslash (which goes with the <code>n</code> to make the newline character <code>\\n</code>) is interpreted as an actual backslash.</p>\n<p>Moreover, by default, <code>echo</code> suppresses any interpretation of backslashes in the way that we want, so the <code>-e</code> option is needed here to enable that interpretation (so that <code>\\n</code> is actually interpreted as a newline).</p>\n<p>Anyway, this larger example value for <code>LS_COLORS</code> shows that not only are there items starting with an asterisk, but also other two-character items - these represent file types. Examples are <code>ln</code> for symbolic links, <code>di</code> for directories, <code>so</code> for sockets, and so on.</p>\n<p>Now the second regular expression <code>^(\\*|\\.)</code> that also matches items beginning with asterisks makes more sense, in that beyond what's matched here as well, there are other item types, and fits with the &quot;<em>if they aren't types of files...</em>&quot; comment.</p>\n<p>But anyway, back down to business. What is to be done with <code>LS_COLORS</code> items that match this second regular expression - items that are <em>not</em> file types? Let's take a closer look, bearing in mind what's in the comment that hints at prefixing &quot;ls_&quot; to these items:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">#</span>\\*}</span><br />ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">=</span>ls_<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token operator\">#</span>.}</span></code></pre>\n<p>This is effectively a two-pass change of the item value, by means of a <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\">parameter expansion</a> mechanism, specifically the <code>${parameter#word}</code> variety. Working through these two passes, based on the example value of <code>*.ogg=0;36</code>, this is what happens:</p>\n<ol>\n<li>any leading asterisk (<code>*</code>) is removed, resulting in <code>.ogg=0;36</code></li>\n<li>any (now) leading period (<code>.</code>) is removed, and the string <code>ls_</code> is prepended, resulting in <code>ls_ogg=0;36</code></li>\n</ol>\n<p>I'm honestly not sure what the significance of this prefix is, but I guess we'll find out later.</p>\n<blockquote>\n<p>I had a hard time remembering the difference between the meanings of the <code>${parameter#word}</code> and <code>${parameter%word}</code> varieties (and their double versions, i.e. <code>${parameter##word}</code> and <code>${parameter%%word}</code>) until I decided to think about <code>#</code> being the character to introduce a comment at the <em>start of</em> a line, and <code>%</code> being the percent character that one puts after (<em>at the end of</em>) a number.</p>\n</blockquote>\n<p><a name=\"processingallatonce\"></a></p>\n<h3 id=\"processing-all-the-ls_colors-items-at-once\" tabindex=\"-1\">Processing all the LS_COLORS items at once <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#processing-all-the-ls_colors-items-at-once\" aria-hidden=\"true\">#</a></h3>\n<p>Once this loop is complete, we may have some value in <code>ls_patterns</code> (if there were some items that started with an asterisk but without an immediately following period), and we definitely have all the item values in the <code>ls_cols</code> array, some of which will have been modified.</p>\n<p>There's now a further modification, as the comment explains, to remove characters that wouldn't be allowed in a variable name. We'll see why this is important shortly. The modification here is not within an explicit loop, but in one single go - it's quite spectacular:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Strip non-ascii characters from the string as they're</span><br /><span class=\"token comment\"># used as a key to color the dir items and variable</span><br /><span class=\"token comment\"># names in bash must be '[a-zA-z0-9_]'.</span><br /><span class=\"token assign-left variable\">ls_cols</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token punctuation\">[</span><span class=\"token operator\">^</span>a-zA-Z0-9=\\\\;<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span>_}</span>\"</span><span class=\"token punctuation\">)</span></code></pre>\n<p>The comment is great, not only because it tells us what's happening, but also why it's being done. I often wish more comments in the code that I have to read reflected the &quot;why&quot; as well as the &quot;what&quot;. But that's a story for another time.</p>\n<p>If we stare at the actual executable line for a bit, it's not that scary. It's the assignment of an array to <code>ls_cols</code> (which is what it is already, but the point here is that we want to modify values within it). This is the array assignment bit:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">ls_cols</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">)</span></code></pre>\n<p>In the <a href=\"https://wiki.bash-hackers.org/syntax/arrays#storing_values\">Storing Values</a> section of the <a href=\"https://wiki.bash-hackers.org/syntax/arrays\">Bash Hackers Wiki</a> this is called a &quot;compound assignment&quot;. But what is being assigned? Well, it's this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token punctuation\">[</span><span class=\"token operator\">^</span>a-zA-Z0-9=\\\\;<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span>_}</span>\"</span></code></pre>\n<p>And by now we should recognise that immediately, albeit in a slightly different guise. It's our old friend the <code>${parameter/pattern/string}</code> parameter expansion, but this time, applied not to a scalar variable but to an array. The <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\">Shell Parameter Expansion</a> section for this variation has this to say: &quot;<em>If parameter is an array variable subscripted with ‘@’ or ‘*’, the substitution operation is applied to each member of the array in turn, and the expansion is the resultant list.</em>&quot;.</p>\n<p>That's what we could probably guess would happen, but it's nice to have the behaviour described explicitly.</p>\n<p>So what's happening in this parameter expansion? Well, the pattern is <code>[^a-zA-Z0-9=\\\\;]</code>, matching anything that <em>isn't</em> alphanumeric or an equals sign, an actual backslash or a semicolon, and replacing all occurrences (all because the second forward slash signifies &quot;global&quot;) with underscores. And this global replacement is performed on each member of the <code>ls_cols</code> array.</p>\n<p>A short visualisation might help here. Let's say we have five items in the <code>ls_cols</code> array; we can set that up like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> <span class=\"token assign-left variable\">ls_cols</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>ab-c D%EF gh<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">\\</span>i <span class=\"token operator\">=</span>jkl x123<span class=\"token punctuation\">)</span></code></pre>\n<p>Applying this parameter expansion and printing the results, one item on each line, looks like this</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"%s<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token punctuation\">[</span><span class=\"token operator\">^</span>a-zA-Z0-9=\\\\;<span class=\"token punctuation\">]</span><span class=\"token operator\">/</span>_}</span>\"</span></code></pre>\n<p>And the output is as follows:</p>\n<pre><code>ab_c\nD_EF\ngh\\i\n=jkl\nx123\n</code></pre>\n<p><a name=\"regex\"></a></p>\n<h3 id=\"setting-up-a-regex-for-the-patterns\" tabindex=\"-1\">Setting up a regex for the patterns <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#setting-up-a-regex-for-the-patterns\" aria-hidden=\"true\">#</a></h3>\n<p>There's a bit more processing before we're done with this function. Again, the comments are great. Let's take a look:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Store the patterns in a '|' separated string</span><br /><span class=\"token comment\"># for use in a REGEX match later.</span><br /><span class=\"token assign-left variable\">ls_patterns</span><span class=\"token operator\">=</span><span class=\"token variable\">${ls_patterns<span class=\"token operator\">/</span><span class=\"token operator\">/</span>\\*}</span><br /><span class=\"token assign-left variable\">ls_patterns</span><span class=\"token operator\">=</span><span class=\"token variable\">${ls_patterns<span class=\"token operator\">%</span>?}</span></code></pre>\n<p>This is another two-pass process, modifying the contents of <code>ls_patterns</code>, which, if it contains anything*, has pipe-separated pattern content.</p>\n<p>*the <code>dircolors</code>-generated value for <code>LS_COLORS</code> didn't have any such &quot;patterns&quot; at all</p>\n<p>In the first pass here, any and all asterisks are removed. Then in the second pass any trailing question mark is removed. This makes sense, as asterisks and question marks have special meaning in regular expressions and if they were left in, they'd take on those meanings, which is very unlikely to be what's wanted.</p>\n<p><a name=\"ls_cols\"></a></p>\n<h3 id=\"making-the-ls_cols-variables-available\" tabindex=\"-1\">Making the ls_cols variables available <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#making-the-ls_cols-variables-available\" aria-hidden=\"true\">#</a></h3>\n<p>The contents of the <code>ls_cols</code> array are string items from the <code>LS_COLORS</code> variable, parsed and modified. Some of them -- the ones that are not file types like <code>di</code>, <code>so</code> and so on -- will have been prefixed with <code>ls_</code> too.</p>\n<p>The last thing this <code>get_ls_colors</code> function does is to make these available as variable names. Here's the line, with the comments that go with it:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Define the ls_ variables.</span><br /><span class=\"token comment\"># 'declare' can't be used here as variables are scoped</span><br /><span class=\"token comment\"># locally. 'declare -g' is not available in 'bash 3'.</span><br /><span class=\"token comment\"># 'export' is a viable alternative.</span><br /><span class=\"token builtin class-name\">export</span> <span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span> <span class=\"token operator\">&amp;></span> /dev/null</code></pre>\n<p>I was a bit confused at first as to what the comments signified, but a little digging down, via the <code>git blame</code> feature, allowed me to peel back the <a href=\"https://en.wikipedia.org/wiki/Palimpsest\">palimpsest</a> to reveal earlier versions of this part of the function.</p>\n<p>The earliest occurrence of this form <a href=\"https://github.com/dylanaraps/fff/commit/3bc14f4ef9fd2e5155b6769c714913d66e7d8585#diff-f284bdc3c1c9e24a494e285cb387c69510f28de51c15bb93179d9c7f28705398L110\">appeared in Feb 2019</a>, and replaced a previous use of <code>source</code> with the following:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Declare all LS_COLORS variables.</span><br /><span class=\"token builtin class-name\">declare</span> -g <span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span></code></pre>\n<blockquote>\n<p>The actual use of <code>source</code> that this replaced is amazing in its own right, and I know I can learn from it (and the linked source/eval meme image), but I'll leave that for another time: <code>source /dev/stdin &lt;&lt;&lt; &quot;${ls_exts/#;}&quot; &gt;/dev/null 2&gt;&amp;1</code></p>\n</blockquote>\n<p>So the first version of this was using <code>declare</code>, with the <code>-g</code> option, to declare those values as variables. If you're interested in learning more about declare, you may enjoy the post <a href=\"https://qmacro.org/autodidactics/2020/10/08/understanding-declare/\">Understanding declare</a>. It includes a quote from the help page that talks specifically about using the <code>-g</code> (&quot;global&quot;) option when <code>declare</code> is used within a function (as it is here) to ensure the variables are not just local to that function.</p>\n<p>Later the same day, <a href=\"https://github.com/dylanaraps/fff/commit/b76ca4c13a13d21f723a1099fff92fb3e7fffdae\">this was changed</a> to almost what we have now:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Define the ls_ variables.</span><br /><span class=\"token builtin class-name\">export</span> <span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span></code></pre>\n<p>Additionally, this <a href=\"https://github.com/dylanaraps/fff/commit/d11a6a6adadf57adc4f72128f3afbc39d8a11733\">was expanded to</a></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Define the ls_ variables.</span><br /><span class=\"token builtin class-name\">export</span> <span class=\"token string\">\"<span class=\"token variable\">${ls_cols<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span> <span class=\"token operator\">&amp;></span>/dev/null</code></pre>\n<p>to deal silently with anything that might go wrong with the export, and just a few days after that, in a <a href=\"https://github.com/dylanaraps/fff/commit/7bebeb28c7181bf9480e676e0660e5cab3eaa5ed\">cleanup commit</a>, the comments that we see now were added.</p>\n<p>Now that we have glimpsed a little of the history, and (via <a href=\"https://qmacro.org/autodidactics/2020/10/08/understanding-declare/\">Understanding declare</a>) know that <code>-g</code> must be used with <code>declare</code> within a function to declare variables that have an existence beyond the function's scope, the comments make more sense.</p>\n<p>I guess we'll find out <em>how</em> these variables are used elsewhere in the script, but for now, this brings this post, on <code>get_ls_colors</code>, to an end.</p>\n<p><a name=\"wrappingup\"></a></p>\n<h3 id=\"wrapping-up\" tabindex=\"-1\">Wrapping up <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#wrapping-up\" aria-hidden=\"true\">#</a></h3>\n<p>I have again learned a lot by poring over the details of this, and I'm always happy to hear from you too. Has this helped? Did I miss something, or get something wrong? Whatever it is, please feel free to let me know in the comments mechanism below. Thanks for reading this far, and thanks especially to my son Joseph for a great eye and some very helpful observations!</p>\n<p><a name=\"splittingpairs\"></a></p>\n<h3 id=\"splitting-the-pairs-into-an-array-1\" tabindex=\"-1\">Splitting the pairs into an array <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/7/11/exploring-fff-part-2-get-ls-colors/#splitting-the-pairs-into-an-array-1\" aria-hidden=\"true\">#</a></h3>\n<p>Next comes a lovely line, with a comment:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Turn $LS_COLORS into an array.</span><br /><span class=\"token assign-left variable\"><span class=\"token environment constant\">IFS</span></span><span class=\"token operator\">=</span>: <span class=\"token builtin class-name\">read</span> -ra ls_cols <span class=\"token operator\">&lt;&lt;&lt;</span> <span class=\"token string\">\"<span class=\"token environment constant\">$LS_COLORS</span>\"</span></code></pre>\n<blockquote>\n<p>Don't confuse <code>=:</code> with any sort of assignment operator you might have seen elsewhere (such as <code>:=</code> in Go or Mathematica) - it's just the assignment (<code>=</code>) of a colon (<code>:</code>) to <code>IFS</code>.</p>\n</blockquote>\n<p>We saw one use of <code>read</code> in <a href=\"https://qmacro.org/autodidactics/2021/09/03/exploring-fff-part-1-main/\">part 1</a> but that was more about how the read flags were constructed and used. Here we have another use of <code>read</code>, arguably a very common one, i.e. in combination with a temporary setting of a value for the <code>IFS</code> environment variable. By temporary, I mean that the assignment holds just for the rest of that same line only.</p>\n<p>Let's break it down: we have the explicit setting of <code>IFS</code>, a <code>read</code> statement, which is being given the value of the <code>LS_COLORS</code> variable as its input, via the rather splendid looking <code>&lt;&lt;&lt;</code>.</p>\n<hr />\n<p>I managed to get this post finished while stuck on the ICE 1011 from Düsseldorf to Frankfurt which has been stationary for over two and a half hours already (and we're still stationary) due to a serious incident further down the line.</p>\n",
      "date_published": "2021-11-07T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/29/10/embracing-jq-and-json/",
      "url": "https://qmacro.org/blog/2021/29/10/embracing-jq-and-json/",
      "title": "Embracing jq and JSON",
      "content_html": "<p><em>Finding objects in a complex JSON structure isn't as scary as I thought with jq.</em></p>\n<p>My friend and colleague Rui was asking today about finding directory information for a given global account on SAP's <a href=\"https://www.sap.com/uk/products/business-technology-platform.html\">Business Technology Platform</a> (BTP). Of course, being an awesome chap, he was asking in the context of the <a href=\"https://help.sap.com/viewer/65de2977205c403bbc107264b8eccf4b/Cloud/en-US/7c6df2db6332419ea7a862191525377c.html\">BTP CLI tool</a>, <code>btp</code>.</p>\n<p>For a given (fictitious) trial global account, let's say I have a structure that looks like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/10/btp-global-account-structure.png\" alt=\"BTP global account structure\" /></p>\n<p>With the <code>btp</code> tool, I can see this information cleanly in my environment of choice, my Bash shell, with this invocation:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">btp get accounts/global-account --show-hierarchy</code></pre>\n<p>which shows me something like this:</p>\n<pre><code>Showing details for global account 42bb4252-2b49-4685-bcd7-62c8d85d8b13...\n\n├─ 7f81446xtrial (42bb4252-2b49-4685-bcd7-62c8d85d8b13 - global account)\n│  ├─ trial (b3f3b2a3-d96d-4bea-8bbf-57ee84a9fc23 - subaccount)\n│  ├─ mydir (e6cde265-5d78-4e7c-a8cb-8625a4daaa04 - directory)\n│  │  ├─ fruit (4cc2e8f8-8cef-4828-82af-9b5adae387de - directory)\n│  │  │  ├─ apple (3b4ba347-973f-4571-b4af-7862886104be - directory)\n│  │  │  ├─ banana (0b58163d-5c49-4eb5-b359-17c9a0d94138 - directory)\n│  │  ├─ this and that (4a050bbe-5c4d-4ac0-9a66-d7e513f8b4c8 - directory)\n\ntype:            id:                                    display name:   parent id:                             parent type:\nglobal account   42bb4252-2b49-4685-bcd7-62c8d85d8b13   7f81446xtrial\nsubaccount       b3f3b2a3-d96d-4bea-8bbf-57ee84a9fc23   trial           42bb4252-2b49-4685-bcd7-62c8d85d8b13   global account\ndirectory        e6cde265-5d78-4e7c-a8cb-8625a4daaa04   mydir           42bb4252-2b49-4685-bcd7-62c8d85d8b13   global account\ndirectory        4cc2e8f8-8cef-4828-82af-9b5adae387de   fruit           e6cde265-5d78-4e7c-a8cb-8625a4daaa04   directory\ndirectory        3b4ba347-973f-4571-b4af-7862886104be   apple           4cc2e8f8-8cef-4828-82af-9b5adae387de   directory\ndirectory        0b58163d-5c49-4eb5-b359-17c9a0d94138   banana          4cc2e8f8-8cef-4828-82af-9b5adae387de   directory\ndirectory        4a050bbe-5c4d-4ac0-9a66-d7e513f8b4c8   this and that   e6cde265-5d78-4e7c-a8cb-8625a4daaa04   directory\n</code></pre>\n<p>The directories are hierarchically related, as you can see from the graphical depiction. But they're presented in a nice flat list towards the end, and I'm tempted to use standard *nix tools to parse that information out.</p>\n<p>First, I'm only interested in the data in the second half, in the table that has headers like &quot;type:&quot;, &quot;id:&quot; and so on. So I can remove all the lines up to (and including) that header line like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">btp get accounts/global-account --show-hierarchy <span class=\"token punctuation\">\\</span><br />  <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> -e <span class=\"token string\">'1,/^type:\\s/d'</span></code></pre>\n<p>This gives me the following:</p>\n<pre><code>global account   42bb4252-2b49-4685-bcd7-62c8d85d8b13   7f81446xtrial\nsubaccount       b3f3b2a3-d96d-4bea-8bbf-57ee84a9fc23   trial           42bb4252-2b49-4685-bcd7-62c8d85d8b13   global account\ndirectory        e6cde265-5d78-4e7c-a8cb-8625a4daaa04   mydir           42bb4252-2b49-4685-bcd7-62c8d85d8b13   global account\ndirectory        4cc2e8f8-8cef-4828-82af-9b5adae387de   fruit           e6cde265-5d78-4e7c-a8cb-8625a4daaa04   directory\ndirectory        3b4ba347-973f-4571-b4af-7862886104be   apple           4cc2e8f8-8cef-4828-82af-9b5adae387de   directory\ndirectory        0b58163d-5c49-4eb5-b359-17c9a0d94138   banana          4cc2e8f8-8cef-4828-82af-9b5adae387de   directory\ndirectory        4a050bbe-5c4d-4ac0-9a66-d7e513f8b4c8   this and that   e6cde265-5d78-4e7c-a8cb-8625a4daaa04   directory\n</code></pre>\n<p>Now I can more reliably look for the <code>directory</code> entries, right?</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">btp get accounts/global-account --show-hierarchy <span class=\"token punctuation\">\\</span><br />  <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'1,/^type:\\s/d'</span> <span class=\"token punctuation\">\\</span><br />  <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">'^directory\\s'</span></code></pre>\n<p>This gives me:</p>\n<pre><code>directory        e6cde265-5d78-4e7c-a8cb-8625a4daaa04   mydir           42bb4252-2b49-4685-bcd7-62c8d85d8b13   global account\ndirectory        4cc2e8f8-8cef-4828-82af-9b5adae387de   fruit           e6cde265-5d78-4e7c-a8cb-8625a4daaa04   directory\ndirectory        3b4ba347-973f-4571-b4af-7862886104be   apple           4cc2e8f8-8cef-4828-82af-9b5adae387de   directory\ndirectory        0b58163d-5c49-4eb5-b359-17c9a0d94138   banana          4cc2e8f8-8cef-4828-82af-9b5adae387de   directory\ndirectory        4a050bbe-5c4d-4ac0-9a66-d7e513f8b4c8   this and that   e6cde265-5d78-4e7c-a8cb-8625a4daaa04   directory\n</code></pre>\n<p>Now all I need to do is grab the value of the third column ... oh, wait.</p>\n<p>The directory named &quot;this and that&quot; is going to give me a bit of a headache; because it's not tabs that separate the columns, but normal spaces, I can't easily distinguish the spaces separating the columns from the spaces separating the words in the name &quot;this and that&quot;.</p>\n<p>While it's possible I could come up with some solution here, I think it's getting a little complex.</p>\n<p>The BTP CLI sports a <a href=\"https://help.sap.com/viewer/65de2977205c403bbc107264b8eccf4b/Cloud/en-US/dcb85b7dea61432cbafaab4ce0ec9b08.html\">JSON output mode</a>. This provides me with a more reliable and predictable data structure that I can parse. The natural tool to reach for here is of course <a href=\"https://stedolan.github.io/jq/\">jq</a>, the &quot;lightweight and flexible command-line JSON processor&quot;.</p>\n<p>However, the structure of the JSON in this particular case is not regular; the nesting of parent and child objects reflects the structure of the actual hierarchy in the global account. That makes sense of course, but to be honest, the prospect of wielding some <code>jq</code> incantation to parse an object structure that I cannot know in advance felt a little scary; I had visions of recursive procedures and more.</p>\n<p>Here's a short section of the <a href=\"https://qmacro.org/autodidactics/content/2021/10/hierarchy.json\">JSON output</a>, to show you what I mean:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/10/json-output-structure.png\" alt=\"JSON output structure\" /></p>\n<p>As it turns out, finding the objects in this hierarchy of nested parents and children turned out to be not as scary as I thought. Here's the invocation again, this time passing the option <code>--format json</code> when invoking <code>btp</code>, and parsing the output with <code>jq</code>:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">btp --format json get accounts/global-account --show-hierarchy <span class=\"token punctuation\">\\</span><br />  <span class=\"token operator\">|</span> jq -r <span class=\"token string\">'recurse | objects | select(.directoryType==\"FOLDER\") | .displayName'</span></code></pre>\n<p>This produces the following output to STDOUT:</p>\n<pre><code>fruit\nbanana\napple\nthis and that\n</code></pre>\n<p>Wonderful!</p>\n<p>Here's a quick summary of what each of the items in the <code>jq</code> pipeline does:</p>\n<ul>\n<li><code>recurse</code>: Recursively descends <code>.</code>, producing every value</li>\n<li><code>objects</code>: Selects only inputs that are objects</li>\n<li><code>select(boolean_expression)</code>: produces its input unchanged if the expression returns true</li>\n</ul>\n<p>The boolean expression used with <code>select</code> ensures that only objects that have a JSON property <code>directoryType</code> with the specific value <code>FOLDER</code> are picked out. From those, just the value of the <code>displayName</code> property is then produced.</p>\n<p>And that's it. Not as scary as I thought.</p>\n<p>I need to improve my <code>jq</code> fu, and using it like this to process output from CLI tools such as <code>btp</code> is one way of doing it.</p>\n",
      "date_published": "2021-10-29T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/14/10/sourcing-vs-executing-in-bash/",
      "url": "https://qmacro.org/blog/2021/14/10/sourcing-vs-executing-in-bash/",
      "title": "Sourcing vs executing in Bash",
      "content_html": "<p><em>Checking the value of $0 allows me to source rather than execute an entire script.</em></p>\n<p>Today I wrote a script <code>checksubmissions</code> to check submitted pull requests in the <a href=\"https://github.com/SAP-samples/devtoberfest-2021\">SAP-samples/devtoberfest-2021</a> repo related to Devtoberfest from SAP this year, specifically the <a href=\"https://github.com/SAP-samples/devtoberfest-2021/tree/main/topics/Week2_Best_Practices\">Best Practices</a> week.</p>\n<p><a href=\"https://github.com/SAP-samples/devtoberfest-2021/blob/730e998d350282ae368d80abbfbf3a322823981c/topics/Week2_Best_Practices/challenge/checksubmissions\">In its current form, at the time of writing</a>, the script follows a pattern that I've used for a while now</p>\n<ul>\n<li>some general settings and possibly global variables</li>\n<li>then some function definitions, including a <code>main</code> function definition</li>\n<li>then finally, the invocation of that <code>main</code> function, passing on to it any parameters that were supplied when the script is invoked</li>\n</ul>\n<p>For the sake of illustration, here's a super simplified script called <code>myscript</code> that follows that pattern:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/usr/bin/env bash</span><br /><br /><span class=\"token builtin class-name\">set</span> -o errexit<br /><br /><span class=\"token function-name function\">func1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Inside func1\"</span><br /><span class=\"token punctuation\">}</span><br /><br /><span class=\"token function-name function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Running main with <span class=\"token variable\">$*</span>\"</span><br />  func1<br /><span class=\"token punctuation\">}</span><br /><br />main <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span></code></pre>\n<p>Sometimes, especially when building out scripts like this, I like to test the functions individually, from the command line if possible. In the example from today, I check every pull request each time, initiated from <code>main</code> like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br /><br />  getprs <span class=\"token operator\">|</span> <span class=\"token keyword\">while</span> <span class=\"token builtin class-name\">read</span> -r number title<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span><br /><br />    check <span class=\"token string\">\"<span class=\"token variable\">$number</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$title</span>\"</span><br />    <span class=\"token function\">sleep</span> <span class=\"token number\">1</span><br /><br />  <span class=\"token keyword\">done</span><br /><br /><span class=\"token punctuation\">}</span><br /><br />main <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span></code></pre>\n<p>(<a href=\"https://github.com/SAP-samples/devtoberfest-2021/blob/730e998d350282ae368d80abbfbf3a322823981c/topics/Week2_Best_Practices/challenge/checksubmissions#L104-L113\">Source</a>)</p>\n<p>But while developing, I wanted to test out the <code>check</code> function (<a href=\"https://github.com/SAP-samples/devtoberfest-2021/blob/730e998d350282ae368d80abbfbf3a322823981c/topics/Week2_Best_Practices/challenge/checksubmissions#L62-L100\">source</a>) manually on a single pull request. Of course, editing the script to do that wasn't much of an effort, but I wondered if there was another way.</p>\n<p>What if, from the shell prompt, I could <a href=\"https://tldp.org/HOWTO/Bash-Prompt-HOWTO/x237.html\">source</a> the script, to bring the function definitions into my current environment, and then manually invoke the <code>check</code> function on a single pull request?</p>\n<p>Sourcing the script as it is would have the unwanted effect of running checks on all the pull requests, because the last line in the script actually invokes <code>main</code>, as it's supposed to.</p>\n<p>It turns out that it is possible to determine whether a script is being <a href=\"https://tldp.org/HOWTO/Bash-Prompt-HOWTO/x237.html\">sourced</a> just by close examination of the <code>$0</code> variable.</p>\n<blockquote>\n<p>There's also the <code>BASH_SOURCE</code> environment variable, which I want to look into as well (e.g. by reading this StackOverflow post: <a href=\"https://stackoverflow.com/questions/35006457/choosing-between-0-and-bash-source\">Choosing between $0 and BASH_SOURCE</a>) but that's for another time.</p>\n</blockquote>\n<p>First, I can replace the simple invocation:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">main <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span></code></pre>\n<p>with this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">$0</span> <span class=\"token operator\">=~</span> ^-bash <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span><br />  <span class=\"token builtin class-name\">return</span> <span class=\"token number\">0</span><br /><span class=\"token keyword\">else</span><br />  main <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span><br /><span class=\"token keyword\">fi</span></code></pre>\n<p>When the script is executed, the value of <code>$0</code> is the name of the script. But when it's <em>sourced</em>, it's <code>-bash</code>.</p>\n<p>Now, if I implement this change in the super simplified <code>myscript</code> above, then this is what happens, at a Bash shell prompt.</p>\n<p>First, to show there's nothing up my sleeve, an attempt to invoke <code>func1</code> fails:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> func1<br />-bash: func1: <span class=\"token builtin class-name\">command</span> not found</code></pre>\n<p>Now I execute the script, and it behaves as expected:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> ./myscript hello world<br />running main with hello world<br />Inside func1</code></pre>\n<p>Of course, we still don't have the <code>func1</code> function available to us:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> func1<br />-bash: func1: <span class=\"token builtin class-name\">command</span> not found</code></pre>\n<p>But what if I <em>source</em> the script rather than execute it? I can do that with <code>source myscript</code> or simply <code>. myscript</code>:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">source</span> myscript</code></pre>\n<p>Nothing seems to happen. Which is good -- we don't get the &quot;running main with hello world&quot; or &quot;Inside func1&quot; output.</p>\n<p>But now the definition of <code>func1</code> is available, and we can run it:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> func1<br />Inside func1</code></pre>\n<p>That seems rather appealing!</p>\n<p>This is early days, I may have missed a fundamental gotcha, but for now, I've found a way (which vaguely reminds me of Python's <code>if __name__ == &quot;__main__&quot;</code> pattern) to be able to reduce that (already small) gap even further between the interactive shell and script content.</p>\n",
      "date_published": "2021-10-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/15/9/using-functions-more/",
      "url": "https://qmacro.org/blog/2021/15/9/using-functions-more/",
      "title": "Using functions more",
      "content_html": "<p><em>Using functions more in my shell seems to bring benefits. Here's an example.</em></p>\n<p>Bash functions seem to sit in a sweet spot between aliases and full blown scripts. I've defined a number of functions in my dotfiles which are all useful. Unlike aliases, they can take parameters and have greater scope for doing things; unlike scripts, they run in the context of the current shell which means, for example, that I can set a value in a variable during the course of a function's execution and it's available directly afterwards, in the same shell session.</p>\n<p>Anyway, in the context of thinking about functions more, I decided to write a &quot;wrapper&quot; around one of the CLI tools I'm using a lot at the moment, the btp CLI, i.e. the command line tool for administration of resources and services on the SAP Business Technology Platform (BTP). If you want to learn more about the btp CLI and, indirectly, about BTP, have a look at the corresponding SAP Tech Bytes series of blog posts, starting with <a href=\"https://blogs.sap.com/2021/09/01/sap-tech-bytes-btp-cli-installation/\">SAP Tech Bytes: btp CLI - installation</a>, and <a href=\"https://github.com/SAP-samples/sap-tech-bytes/tree/2021-09-01-btp-cli\">the associated branch in the SAP Tech Bytes repo on GitHub</a>.</p>\n<p>The btp CLI, like other tools that manage cloud-based resources, is quite verbose in its output; partly because it needs to impart a lot of information, and partly because cloud resources, being &quot;cattle, not pets&quot;, have identities that are more likely to be long GUIDs than short human-friendly names. For more on this, see this post in my <a href=\"https://blogs.sap.com/tag/mondaymorningthoughts/\">Monday morning thoughts</a> series: <a href=\"https://blogs.sap.com/2018/04/09/monday-morning-thoughts-a-cloud-native-smell/\">A cloud-native smell</a>.</p>\n<p>So when invoking the btp CLI with an action to look at the hierarchy of directories and subaccounts in a global account, the output tends to wrap around, like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/09/hierarchy-wrapped.png\" alt=\"hierarchy information, wrapped\" /></p>\n<p>But with a simple wrapper function, I can have this a lot cleaner; granted, if there's something at the end of the long lines that I'm interested in, then I won't be able to use this, but it's usually information at the start of the lines that's important to me.</p>\n<p>Here's a wrapper function for the btp CLI that I've just started to use:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">btp</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br /><span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">$1</span> <span class=\"token operator\">=~</span> ^<span class=\"token punctuation\">(</span>get<span class=\"token operator\">|</span>list<span class=\"token punctuation\">)</span>$ <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span><br />        <span class=\"token string\">\"<span class=\"token environment constant\">$HOME</span>/bin/btp\"</span> <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span> <span class=\"token operator\">|</span> trunc<br />    <span class=\"token keyword\">else</span><br />        <span class=\"token string\">\"<span class=\"token environment constant\">$HOME</span>/bin/btp\"</span> <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span><br />    <span class=\"token keyword\">fi</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>When I use <code>btp</code> to display information, with the <code>get</code> or <code>list</code> actions, this will run the real btp CLI, passing it whatever arguments I passed to the function (i.e. in <code>$@</code>), piping the output to the <code>cut</code> command where I use the <code>-c</code> option to tell it to only output characters from column 1, up to however many columns the current terminal has (which can be determined with <code>tput cols</code>).</p>\n<blockquote>\n<p>For those of you who are #HandsOnSAPDev pioneers, you may recognise this, as we encapsulated <code>cut -c 1-$(tput cols)</code> as <code>trunc</code>.</p>\n</blockquote>\n<p>Now, running that same command, the output looks like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/09/hierarchy-clean.png\" alt=\"hierarchy information, clean\" /></p>\n<p>It's early days, but I quite like the way I can use the power of functions like this.</p>\n",
      "date_published": "2021-09-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/12/9/improving-shell-fu-with-practice/",
      "url": "https://qmacro.org/blog/2021/12/9/improving-shell-fu-with-practice/",
      "title": "Improving shell fu with practice",
      "content_html": "<p><em>Practising in the shell helps me improve and exposes me to new knowledge. Here's an example.</em></p>\n<p>At the end of the working day I'm tired, but there's often just enough energy left in my brain to explore new options for some Unix commands, and practise my shell fu. Here's a few trivial things that I just learned, by writing a pipeline to choose and display a new theme for my current terminal of choice, <a href=\"https://sw.kovidgoyal.net/kitty/\">kitty</a>.</p>\n<p>There's <a href=\"https://github.com/dexpota/kitty-themes\">a nice selection of themes for kitty</a>; I've installed the contents of the repo in the right place and can select a theme by <a href=\"https://github.com/qmacro/dotfiles/blob/ba940b5b70b069010e18d22d8d88da01acaf9048/config/kitty/kitty.conf#L1287\">adding an include at the bottom of my <code>kitty.conf</code> file</a>:</p>\n<pre><code>include ./theme.conf\n</code></pre>\n<p>and then creating <code>theme.conf</code> as a symbolic link pointing to the actual theme configuration file (from the repo) that I want to use:</p>\n<pre><code>lrwxr-xr-x   1 i347491  staff     72 13 Sep 18:07 theme.conf -&gt; kitty-themes/themes/SpaceGray.conf\n</code></pre>\n<p>This was achieved with the following:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> <span class=\"token variable\">$DOTFILES</span>/config/kitty/ <span class=\"token punctuation\">\\</span><br />  <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">find</span> kitty-themes/themes -name <span class=\"token string\">'*.conf'</span> <span class=\"token punctuation\">\\</span><br />    <span class=\"token operator\">|</span> <span class=\"token function\">shuf</span> -n <span class=\"token number\">1</span> <span class=\"token punctuation\">\\</span><br />    <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> -J % <span class=\"token function\">ln</span> -fsv % theme.conf <span class=\"token punctuation\">\\</span><br />    <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -P -o <span class=\"token string\">'\\w+(?=\\.conf$)'</span></code></pre>\n<p>This uses <code>find</code> to look for <code>conf</code> files in the <code>kitty-themes/themes/</code> directory within my dotfiles configuration for <code>kitty</code>. The output of such a <code>find</code> command looks like this:</p>\n<pre><code>kitty-themes/themes/SpaceGray_Eighties_Dull.conf\nkitty-themes/themes/Monokai.conf\nkitty-themes/themes/Floraverse.conf\n...\n</code></pre>\n<p>I pass this list to <code>shuf</code> (short for &quot;shuffle&quot;), which &quot;generates random permutations&quot; and ask it via <code>-n 1</code> to only give me one back.</p>\n<p>Then of course it would be nice to use <code>xargs</code> to pass that single, random theme file name, for example <code>kitty-themes/themes/SpaceGray.conf</code>, to the <code>ln</code> command to create a symbolic link. The thing is, <code>xargs</code> puts what it's given at the end of the list; in other words, if we did this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> kitty-themes/themes/SpaceGray.conf <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">ln</span> -fsv theme.conf</code></pre>\n<p>then the <code>ln</code> command invoked would be the wrong way round, i.e.:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">ln</span> -fsv theme.conf kitty-themes/themes/SpaceGray.conf</code></pre>\n<p>instead of</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">ln</span> -fsv kitty-themes/themes/SpaceGray.conf theme.conf</code></pre>\n<p>Luckily <code>xargs</code> has the <code>-J</code> option which allows us to specify a pattern, and then refer to that pattern to insert the value appropriately, which is what is happening here - the <code>%</code> is the pattern and shows where in the <code>ln</code> command the value should be put:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">xargs</span> -J % <span class=\"token function\">ln</span> -fsv % theme.conf</code></pre>\n<p>What of the <code>ln</code> command itself? Well there's the <code>-s</code> option which is the main deal, i.e. we want to create a symbolic link. The <code>-f</code> option tells <code>ln</code> to not worry about any existing file (i.e. if there's already a <code>theme.conf</code>) and to just overwrite it. And the <code>-v</code> is a verbose option which outputs what is being done.</p>\n<p>This last <code>-v</code> option is used so that I can get the name of the randomly selected theme. Without the last part of the pipeline, into <code>grep</code>, we'd see something like this, output because of this <code>-v</code> option to <code>ln</code>:</p>\n<pre><code>theme.conf -&gt; kitty-themes/themes/SpaceGray.conf\n</code></pre>\n<p>So we can then pipe this into <code>grep</code> to grab the <code>SpaceGray</code> part, invoking the powerful Perl Compatible Regular Expression (PCRE) class of regular expressions (for which I have to use the <code>-P</code> option) to be able to use a positive lookahead assertion <code>(?=\\.conf$)</code> to say <em>what we're trying to match, <code>\\w+</code> (a sequence of at least one word character), must be directly followed by <code>.conf</code> up against the end of the line (<code>$</code>)</em>.</p>\n<p>Such an assertion is not part of the actual match, which means we can then simply use the <code>-o</code> option to tell <code>grep</code> to output just the match itself, i.e.:</p>\n<pre><code>SpaceGray\n</code></pre>\n<p>I use this technique in <a href=\"https://github.com/SAP-samples/sap-tech-bytes/blob/8cbc01e51a8adcc6051fe9c6800c91a4093f1af9/getbtpcli\">getbtpcli</a> (see <a href=\"https://github.com/SAP-samples/sap-tech-bytes/blob/8cbc01e51a8adcc6051fe9c6800c91a4093f1af9/getbtpcli#L61\">line 61</a>) - if you're interested in reading more about this, have a look at the blog post <a href=\"https://blogs.sap.com/2021/09/01/sap-tech-bytes-btp-cli-installation/\">SAP Tech Bytes: btp CLI - installation</a>, and the comments too.</p>\n<p>And that's pretty much it. Nothing earth shattering, but certainly a couple of things that I found out (in particular <code>ln</code>'s <code>-v</code> option and <code>xargs</code>'s <code>-J</code> option.</p>\n<p>Happy learning!</p>\n",
      "date_published": "2021-09-12T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/",
      "url": "https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/",
      "title": "Exploring fff part 1 - main",
      "content_html": "<p><em>Here's what I learned from starting to read the source code to fff - in particular, the main function.</em></p>\n<p><a href=\"https://github.com/dylanaraps/fff\"><code>fff</code></a> is &quot;a simple file manager written in Bash&quot;. As I'm always on the lookout to learn more about Bash, that description got my attention immediately. It's a small but perfectly formed offering, complete with man page and even a <code>Makefile</code> for installation. And the file manager executable* itself is a single Bash script.</p>\n<p>*I use this term deliberately, and it does make me stop and think every time I see scripts in a <code>bin</code> directory (where &quot;bin&quot; stands for binary). But that's a conversation for another time.</p>\n<p>The author, <a href=\"https://github.com/dylanaraps\">Dylan Araps</a> has produced other interesting pieces of software (such as <a href=\"https://github.com/dylanaraps/neofetch\">neofetch</a>) as well some great documents such as the <a href=\"https://github.com/dylanaraps/pure-bash-bible\">pure bash bible</a> as well as the <a href=\"https://github.com/dylanaraps/pure-sh-bible\">pure sh bible</a>. He's also the creator of <a href=\"https://kisslinux.org/\">Kiss Linux</a>. He has a reputation for writing great Bash code, so this seems like an opportunity too good to miss to learn from better programmers.</p>\n<p>It seems that recently Dylan has <a href=\"https://www.reddit.com/r/kisslinux/comments/lsbz8n/an_update_on_dylan/\">disappeared off the radar</a>, I don't know what the situation is but I wish him well.</p>\n<p>Anyway, I wanted to take a first look at <code>fff</code> to see what I could discern. I'm reviewing the code as it stands at the latest to-date <a href=\"https://github.com/dylanaraps/fff/commit/5b90a8599cce3333672947438bb1718e1298e068\">commit</a>, i.e. <a href=\"https://github.com/dylanaraps/fff/tree/5b90a8599cce3333672947438bb1718e1298e068\">here</a>.</p>\n<p>Where I can, I link to reference material so you can dig in further to Bash details that take your fancy. This reference material includes the following sites (and there are more of course):</p>\n<ul>\n<li><a href=\"https://www.gnu.org/software/bash/manual/html_node/index.html\">Bash Reference Manual</a></li>\n<li><a href=\"https://unix.stackexchange.com/\">Unix &amp; Linux Stack Exchange</a> (esp. the <a href=\"https://unix.stackexchange.com/questions/tagged/bash\"><code>bash</code> tag</a>)</li>\n<li><a href=\"https://wiki.bash-hackers.org/start\">Bash Hackers Wiki</a></li>\n<li>the <a href=\"https://mywiki.wooledge.org/BashFAQ\">Bash FAQ on Greg's Wiki</a></li>\n<li>the <a href=\"https://github.com/koalaman/shellcheck/wiki\">Shellcheck Wiki</a></li>\n</ul>\n<h1 id=\"structure-and-use-of-main-function\" tabindex=\"-1\">Structure and use of main function <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#structure-and-use-of-main-function\" aria-hidden=\"true\">#</a></h1>\n<p>As I mentioned recently in <a href=\"https://qmacro.org/2021/08/26/learning-by-rewriting/\">Learning by rewriting - bash, jq and fzf details</a>, I like to structure Bash scripts into functions, with a <code>main</code> function towards the end, followed by a simple call to that function, passing in everything that was specified on the command line via the <code>$@</code> <a href=\"https://www.gnu.org/software/bash/manual/html_node/Special-Parameters.html\">special parameter</a> which &quot;expands to the positional parameters, starting from one&quot; (positional parameter zero is the name of the script itself).</p>\n<p>This is a practice I picked up, I think, from Google's <a href=\"https://google.github.io/styleguide/shellguide.html\">Shell Style Guide</a> - see <a href=\"https://google.github.io/styleguide/shellguide.html#s7.8-main\">this section</a> for details. I wrote about this guide last year in <a href=\"https://qmacro.org/2020/10/05/improving-my-shell-scripting/\">Improving my shell scripting</a>.</p>\n<p>Dylan structures <code>fff</code> in the same way, and <a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff#L1145\">uses the <code>main</code> pattern too</a>. For me, that's a good affirmation of this approach.</p>\n<p>The <code>main</code> function itself <a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff#L1074-L1078\">begins with</a> a series of comments indented to the same level as the rest of the function body.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token comment\"># Handle a directory as the first argument.</span><br />    <span class=\"token comment\"># 'cd' is a cheap way of finding the full path to a directory.</span><br />    <span class=\"token comment\"># It updates the '$PWD' variable on successful execution.</span><br />    <span class=\"token comment\"># It handles relative paths as well as '../../../'.</span></code></pre>\n<p>I used to oscillate between putting comments that described a function <em>before</em> the function definition, and <em>within</em> the function definition. On balance I prefer the comments to be within, so the entire function content is encapsulated within the <code>{...}</code> brace-bound block.</p>\n<p>The comment here is interesting too; it shows that a knowledge of side effects (the setting of a value in <code>$PWD</code>) can be useful, and also a willingness to use <code>cd</code> itself; to quote Ward Cunningham, &quot;the simplest thing that could possibly work&quot; (this came up in a great interview with Ward, which I've transcoded to audio format in my &quot;Tech Aloud&quot; podcast - see <a href=\"https://anchor.fm/tech-aloud/episodes/The-Simplest-Thing-that-Could-Possibly-Work--A-conversation-with-Ward-Cunningham--Part-V---Bill-Venners-e5dpts\">The Simplest Thing that Could Possibly Work, A conversation with Ward Cunningham</a>).</p>\n<h2 id=\"first-line-changing-directory\" tabindex=\"-1\">First line - changing directory <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#first-line-changing-directory\" aria-hidden=\"true\">#</a></h2>\n<p>The <a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff#L1081\">first actual executable line</a> is now ready for our gaze, and it's a beauty.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> <span class=\"token string\">\"<span class=\"token variable\">${2<span class=\"token operator\">:-</span>$1}</span>\"</span> <span class=\"token operator\">&amp;></span>/dev/null <span class=\"token operator\">||</span><span class=\"token builtin class-name\">:</span></code></pre>\n<p>What can we unpack from that?</p>\n<a name=\"parameter-expansion\">\n<h3 id=\"parameter-expansion-&quot;dollar2:-dollar1&quot;\" tabindex=\"-1\">Parameter expansion &quot;${2:-$1}&quot; <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#parameter-expansion-%22dollar2:-dollar1%22\" aria-hidden=\"true\">#</a></h3>\n<p>Let's start with the <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\">parameter expansion</a> used here: <code>&quot;${2:-$1}&quot;</code>. The <code>${parameter:-word}</code> form lets you specify a default value, basically; if the value of 'parameter' is unset or null, then the expansion of 'word' is substituted.</p>\n<p>First of all, the idea is that if a value is specified when <code>fff</code> is invoked, it's used as the directory to start in. Now that's established, let's dig in a little more.</p>\n<p>The first question that comes to mind is why is <code>$2</code> (the second parameter) specified first, falling back to <code>$1</code> here? Well my take is that it's again a simple but effective way of handling optional parameters when the script is invoked.</p>\n<p>There has been an awful lot written about how best (and how not) to parse script parameters in Bash, from roll-your-own solutions, the use of the <code>switch</code> statement, and of course the <code>getopts</code> builtin. Each approach has its merits and downsides, and there doesn't seem to be a single, universal ideal.</p>\n<p>If we read a little further ahead in the <code>main</code> function, we notice checks for various options in <code>$1</code>:</p>\n<table>\n<thead>\n<tr>\n<th>Check for</th>\n<th>Check with</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Version information</td>\n<td><code>[[ $1 == -v ]] &amp;&amp; { ... }</code></td>\n</tr>\n<tr>\n<td>Help</td>\n<td><code>[[ $1 == -h ]] &amp;&amp; { ... }</code></td>\n</tr>\n<tr>\n<td>Some custom file picker processing</td>\n<td><code>[[ $1 == -p ]] &amp;&amp; { ... }</code></td>\n</tr>\n</tbody>\n</table>\n<p>So we know from this that there are at least three option parameters that <code>fff</code> understands, and that they are expected before anything else (the starting directory, if any) is passed on invocation (I guess we can assume that Dylan doesn't expect more than one of them to be specified in any single invocation too).</p>\n<p>Knowing this, the <code>&quot;${2:-$1}&quot;</code> incantation is easier to understand: it tries for the value of the second parameter to be the directory to start in, assuming that one of the option parameters might have been specified first. But if a option parameter <em>wasn't</em> specified, then any starting directory would not be in <code>$2</code>, but in <code>$1</code>, which the parameter expansion deals with perfectly here.</p>\n<p>I think this potentially saves some unnecessary conditional logic that would otherwise make this section of <code>main</code> more verbose. I like it!</p>\n<a name=\"output-redirection\">\n<h3 id=\"output-redirection\" tabindex=\"-1\">Output redirection <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#output-redirection\" aria-hidden=\"true\">#</a></h3>\n<p>What if no starting directory was specified at all? What if a value was specified but that value wasn't a directory, wasn't something that was going to make sense being passed to <code>cd</code>?</p>\n<p>Giving an inappropriate value to <code>cd</code> results in an error, for example:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> foo  <span class=\"token comment\"># foo doesn't exist</span><br />-bash: cd: foo: No such <span class=\"token function\">file</span> or directory</code></pre>\n<p>or even just:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> testfile <span class=\"token comment\"># this is a file not a directory</span><br />-bash: cd: testfile: Not a directory</code></pre>\n<p>The behaviour actually appropriate in these cases is just to allow the <code>cd</code> invocation to fail, and for <code>fff</code> to start in whatever directory we happen to be in. We don't want to see any error messages, so they're redirected to <code>/dev/null</code>. This redirection construct used is quite interesting in itself, though.</p>\n<p>What we see here is <code>&amp;&gt;</code> and according to <a href=\"https://www.gnu.org/software/bash/manual/html_node/Redirections.html#Redirecting-Standard-Output-and-Standard-Error\">3.6.4 Redirecting Standard Output and Standard Error</a> in the Bash manual, it's the preferred short form for redirecting both standard output (STDOUT) and standard error (STDERR) to the same place. Indeed, we see that</p>\n<pre><code>&amp;&gt;/dev/null\n</code></pre>\n<p>is equivalent to</p>\n<pre><code>&gt;/dev/null 2&gt;&amp;1\n</code></pre>\n<p>Moreover, you may be happy to find out that this in turn is a short form of</p>\n<pre><code>1&gt;/dev/null 2&gt;&amp;1\n</code></pre>\n<p>because the standard three file descriptors that are opened are:</p>\n<table>\n<thead>\n<tr>\n<th>Descriptor</th>\n<th>Representation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>standard input (STDIN)</td>\n</tr>\n<tr>\n<td>1</td>\n<td>standard output (STDOUT)</td>\n</tr>\n<tr>\n<td>2</td>\n<td>standard error (STDERR)</td>\n</tr>\n</tbody>\n</table>\n<p>This is just my guess, but because redirecting standard output to a file is very common, the simple short form <code>&gt;</code> (for <code>1&gt;</code>) is very useful and more logical to allow than a short form for redirecting standard error (<code>2&gt;</code>).</p>\n<p>Note that when using redirection, the <a href=\"https://wiki.bash-hackers.org/howto/redirection_tutorial#order_of_redirection_ie_file_2_1_vs_2_1_file\">order of redirection</a> is important:</p>\n<pre><code>&gt;/dev/null 2&gt;&amp;1\n</code></pre>\n<p>is not the same as</p>\n<pre><code>2&gt;&amp;1 &gt;/dev/null\n</code></pre>\n<p>So we have to be careful. One could therefore argue then that the use of this short form of <code>&amp;&gt;</code> here in the <code>main</code> function is helpful because there's only one part to the construct, so you can't get it &quot;the wrong way round&quot;.</p>\n<p>I recommend the wonderfully illustrated <a href=\"https://wiki.bash-hackers.org/howto/redirection_tutorial\">Redirection Tutorial in the Bash Hackers Wiki</a> for lots more goodness on this subject.</p>\n<a name=\"no-operation\">\n<h3 id=\"the-no-operation-command-:-(colon)\" tabindex=\"-1\">The no operation command : (colon) <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#the-no-operation-command-:-(colon)\" aria-hidden=\"true\">#</a></h3>\n<p>The comment above the <code>cd</code> invocation sort of explains the last bit:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># '||:': Do nothing if 'cd' fails. We don't care.</span><br /><span class=\"token builtin class-name\">cd</span> <span class=\"token string\">\"<span class=\"token variable\">${2<span class=\"token operator\">:-</span>$1}</span>\"</span> <span class=\"token operator\">&amp;></span>/dev/null <span class=\"token operator\">||</span><span class=\"token builtin class-name\">:</span></code></pre>\n<p>It's not unusual to see the logical operator for OR, i.e. <code>||</code>. What's interesting is that this operator is explained in the Bash manual in the context of <a href=\"https://www.gnu.org/software/bash/manual/html_node/Lists.html#Lists\">lists</a> - as separators within such lists.</p>\n<p>So this invocation in the <code>main</code> function is called an &quot;OR list&quot;, i.e. <code>command1 || command2</code> where <code>command2</code> is executed if and only if <code>command1</code> fails. What does &quot;fail&quot; mean? Well, return a non-zero exit status, basically.</p>\n<p>So if the <code>cd</code> command fails, what gets executed as command2? Well that's the even more interesting part. It's <code>:</code>.</p>\n<p>Yes, the colon is a <a href=\"https://www.gnu.org/software/bash/manual/html_node/Bourne-Shell-Builtins.html\">shell builtin inherited from the Bourne shell (sh)</a> and is the &quot;no operation&quot; command (a bit like, say, <code>pass</code> in Python). In some ways it has a similar effect to what <code>true</code> does (i.e. nothing, successfully) but it's also different, in that it will expand arguments and perform redirections. For example, you can specify stuff after the colon to manipulate files if needed.</p>\n<p>Read more on this no operation or &quot;null command&quot; in <a href=\"https://www.shell-tips.com/bash/null-command/\">What is the Bash null command?</a>, and also take a look at <a href=\"https://github.com/dylanaraps/pash/blob/c61a24b981345be9e09af5e1d870a01fba6d8eac/pash#L176\">this example</a>, from <code>pash</code>, <a href=\"https://github.com/dylanaraps/pash\">a  password manager written in POSIX <code>sh</code></a> (from the same author), where <code>:</code> appears with &quot;side effects&quot;, using the <code>:=</code> parameter expansion to assign default values to a couple of variables:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"<span class=\"token variable\">${PASH_DIR<span class=\"token operator\">:=</span>${XDG_DATA_HOME<span class=\"token operator\">:=</span>$HOME<span class=\"token operator\">/</span>.local<span class=\"token operator\">/</span>share}</span>/pash}\"</span></code></pre>\n<p>We'll examine the use of <code>:=</code> later in this post when we come across it.</p>\n<p>So now that we've looked through the interesting parts of this line, we can translate it to: &quot;<em>try to change directory to what was given in the second parameter when invoked, and failing that, the first parameter; don't show any errors or anything at all on the terminal, and if that fails generally, don't do anything</em>&quot;. Simple and minimal. A great start!</p>\n<h2 id=\"next-lines-handling-option-parameters\" tabindex=\"-1\">Next lines - handling option parameters <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#next-lines-handling-option-parameters\" aria-hidden=\"true\">#</a></h2>\n<p>Following this first line we have those tests we saw briefly earlier, the ones that check for and act upon specific option parameters. Interestingly the availability of these option parameters is not documented, at least as far as I can see - either in the <a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff.1\">man page</a> or in the GitHub repo in general.</p>\n<p>Anyway, I like the way these action-on-condition lines are written, they're short, concise and are also reminiscent of the sorts of expressions one sees in Perl scripts too (or is it the other way around - after all, Perl was created as an amalgam (and more) of various shell scripting substrates).</p>\n<p>Looking at the first instance, we see this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">$1</span> <span class=\"token operator\">==</span> -v <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">'%s\\n'</span> <span class=\"token string\">\"fff 2.2\"</span><br />    <span class=\"token builtin class-name\">exit</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>Beyond the actual concise way this has been written, avoiding the wordy &quot;if ... then ... fi&quot; construct, there are a couple of things that are worth looking at.</p>\n<a name=\"conditional-expression\">\n<h3 id=\"conditional-expression\" tabindex=\"-1\">Conditional expression <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#conditional-expression\" aria-hidden=\"true\">#</a></h3>\n<p>Following the <code>if</code> of the standard construct, we have a command list, the exit code of which is checked to determine how to proceed. How this command list is expressed has changed over the years, as we've moved from <code>sh</code> to <code>bash</code> and had POSIX to think about too.</p>\n<p>More traditionally the condition <code>$1 == -v</code> might have been introduced with <code>test</code>, or expressed within single square brackets, i.e. <code>[ $1 == -v ]</code>. The opening single square bracket is interesting in its own right, being a synonym for <code>test</code>. In fact, while <code>[</code> is built in to many shells (including <code>bash</code>), it's also an external command, as is <code>test</code>. In case you want to find out more, you may find this post interesting: <a href=\"https://qmacro.org/autodidactics/2020/08/21/open-square-bracket/\">The open square bracket [ is an executable</a>.</p>\n<p>These days one often sees the more modern version of double square brackets, as we see here. This is a construct also built into <code>bash</code> and allows for a richer set of expressions within. For example, the operator <code>=~</code>, which allows the use of a regular expression for matching, is not available within the <code>[ ... ]</code> construct but is available within <code>[[ ... ]]</code>. Moreover, there are different quoting rules; for example, in some cases, you can omit double quotes within some <code>[[ ... ]]</code>-enclosed conditions.</p>\n<p>Here are a couple of helpful answers with more information, on the Unix and Linux Stack Exchange:</p>\n<ul>\n<li><a href=\"https://unix.stackexchange.com/questions/68694/when-is-double-quoting-necessary/68748#68748\">When is double-quoting necessary</a></li>\n<li><a href=\"https://unix.stackexchange.com/questions/32210/why-does-parameter-expansion-with-spaces-without-quotes-work-inside-double-brack/32227#32227\">Why does parameter expansion with spaces without quotes work inside double brackets [[ but not inside single brackets [?</a></li>\n</ul>\n<a name=\"printf\">\n<h3 id=\"use-of-printf\" tabindex=\"-1\">Use of printf <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#use-of-printf\" aria-hidden=\"true\">#</a></h3>\n<p>Why is <code>printf</code> used here, and not the arguably simpler <code>echo</code>? The main differences between the two are:</p>\n<ul>\n<li>by default, <code>echo</code> adds a newline character, <code>printf</code> does not</li>\n<li><code>printf</code> allows for and centres around a format string</li>\n</ul>\n<p>There's some amazing background information on <a href=\"https://www.in-ulm.de/~mascheck/various/echo+printf/\">echo(1) and printf(1)</a>, but for me the bottom line is that <code>printf</code> gives you more control over the output. Perhaps for those versed in programming languages where there's a similar format string focused <code>printf</code> function, using it feels more natural.</p>\n<p>Throughout the entire <code>fff</code> script there's no use of <code>echo</code>, only <code>printf</code>; my guess is simply that <code>printf</code> is used here for consistency throughout. I also am guessing that the separation of the format string from any variable values allows for a consistency in expression - none of the uses of <code>printf</code> in <code>fff</code> have the format string in anything other than single quotes, meaning there's less to worry about in terms of variable expansions.</p>\n<p>Before we leave this section, I think it's worth pointing out something minor but nonetheless interesting. I often have a <code>usage</code> function that emits instructions to standard out, and would be called in the situation where help was requested. I do like the way that the Unix philosophy is used even here; there's <a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff.1\">man page content</a> as we saw earlier, so why not use that instead? This also emphasises the extremely short distance between script and interactive command line, with shell languages:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">$1</span> <span class=\"token operator\">==</span> -h <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token function\">man</span> fff<br />    <span class=\"token builtin class-name\">exit</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"link-to-fff.vim\" tabindex=\"-1\">Link to fff.vim <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#link-to-fff.vim\" aria-hidden=\"true\">#</a></h3>\n<p>Finally, let's take a quick look at the third option parameter here, <code>-p</code>:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Store file name in a file on open instead of using 'FFF_OPENER'.</span><br /><span class=\"token comment\"># Used in 'fff.vim'.</span><br /><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">$1</span> <span class=\"token operator\">==</span> -p <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token assign-left variable\">file_picker</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>It looks like this is the one that caused the introduction of the <code>&quot;${2:-$1}&quot;</code> parameter expansion we examined earlier, when it was introduced with this commit: <a href=\"https://github.com/dylanaraps/fff/commit/7c2144abaaa012b1f61601dbcb326da482ec36e9\">general: Added -p to store opened files in a file for use in fff.vim</a>. In addition to the comment here, the title of the commit sort of gives it away ... <code>-p</code> is for use from within the Vim plugin <a href=\"https://github.com/dylanaraps/fff.vim\">fff.vim</a> which allows <code>fff</code> to be used as a file picker within the editor.</p>\n<h3 id=\"no-explicit-variable-declarations\" tabindex=\"-1\">No explicit variable declarations <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#no-explicit-variable-declarations\" aria-hidden=\"true\">#</a></h3>\n<p>One last thing that catches my eye here; this is the first time we see a variable assignment. The odd thing (to me) is that nowhere in the script is the <code>file_picker</code> variable declared.</p>\n<p>There is some usage of <code>declare</code> elsewhere in the script, so we'll leave that examination until then, except to notice that this undeclaredness is not something that <code>shellcheck</code> complains about. If you ask <code>shellcheck</code> to check the source to <code>fff</code>, and get it to explicitly exclude specific errors as it does in the <a href=\"https://github.com/dylanaraps/fff/blob/c7e9b75648900d77e016ffc6a9ef2b7e807e49cc/.travis.yml#L8\">CI configuration</a> (none of them related to variable declaration):</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">shellcheck</span> fff -e <span class=\"token number\">2254</span> -e <span class=\"token number\">2244</span> -e <span class=\"token number\">1090</span> -e <span class=\"token number\">1091</span></code></pre>\n<p>then <code>shellcheck</code> ends calmly and quietly with no errors. Maybe my fervent desire to use <code>declare</code> and <code>local</code> liberally throughout my scripts is misguided?</p>\n<h2 id=\"setup-section\" tabindex=\"-1\">Setup section <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#setup-section\" aria-hidden=\"true\">#</a></h2>\n<p>The section that follows the processing of options is about handling certain contexts.</p>\n<h3 id=\"bash-version-check\" tabindex=\"-1\">Bash version check <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#bash-version-check\" aria-hidden=\"true\">#</a></h3>\n<p>The <a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff#L1106-L1107\">first of which</a> is for where we're running a relatively modern version of Bash:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token variable\"><span class=\"token punctuation\">((</span>BASH_VERSINFO[<span class=\"token number\">0</span>] <span class=\"token operator\">></span> <span class=\"token number\">3</span><span class=\"token punctuation\">))</span></span> <span class=\"token operator\">&amp;&amp;</span><br />    <span class=\"token assign-left variable\">read_flags</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>-t <span class=\"token number\">0.05</span><span class=\"token punctuation\">)</span></code></pre>\n<p>There's so much to unpack from this; let's start with the <code>BASH_VERSINFO</code> environment variable. What Bash environment variables are available, generally? Well, there's quite a few - getting the completion working for us with the Tab key, we see this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token environment constant\">$BASH</span><span class=\"token operator\">&lt;</span>tab<span class=\"token operator\">></span><br /><span class=\"token environment constant\">$BASH</span>                      <span class=\"token environment constant\">$BASH_ARGC</span>                 <span class=\"token variable\">$BASH_COMMAND</span>              <span class=\"token environment constant\">$BASH_SOURCE</span><br /><span class=\"token environment constant\">$BASHOPTS</span>                  <span class=\"token environment constant\">$BASH_ARGV</span>                 <span class=\"token variable\">$BASH_COMPLETION_VERSINFO</span>  <span class=\"token variable\">$BASH_SUBSHELL</span><br /><span class=\"token variable\">$BASHPID</span>                   <span class=\"token variable\">$BASH_ARGV0</span>                <span class=\"token environment constant\">$BASH_LINENO</span>               <span class=\"token environment constant\">$BASH_VERSINFO</span><br /><span class=\"token environment constant\">$BASH_ALIASES</span>              <span class=\"token environment constant\">$BASH_CMDS</span>                 <span class=\"token environment constant\">$BASH_REMATCH</span>              <span class=\"token environment constant\">$BASH_VERSION</span></code></pre>\n<p>There's <code>BASH_VERSION</code> which is a string like this:</p>\n<pre><code>5.1.4(1)-release\n</code></pre>\n<p>But there's also <code>BASH_VERSINFO</code> which is an array containing the various pieces of that version string, plus a bit more too:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">val</span> <span class=\"token keyword\">in</span> <span class=\"token string\">\"<span class=\"token variable\">${<span class=\"token environment constant\">BASH_VERSINFO</span><span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$val</span>\"</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">done</span><br /><span class=\"token number\">5</span><br /><span class=\"token number\">1</span><br /><span class=\"token number\">4</span><br /><span class=\"token number\">1</span><br />release<br />x86_64-pc-linux-gnu</code></pre>\n<p>I hadn't known of the existence of <code>BASH_VERSINFO</code> until now. Using an element of this array is a better approach than parsing out the value from the <code>BASH_VERSION</code> string.</p>\n<p>Something else to unpack is the construct within which we find the reference to <code>BASH_VERSINFO</code> too. That's the <code>(( ... ))</code> construct, an <a href=\"https://wiki.bash-hackers.org/syntax/ccmd/arithmetic_eval\">arithmetic evaluation</a> containing an <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Arithmetic.html\">arithmetic expression</a>. I tend to think of these expressions as being in one of two categories:</p>\n<ul>\n<li>variable assignment, e.g. <code>(( answer = 40 + 2 ))</code></li>\n<li>condition, e.g. <code>(( answer &lt; 50 ))</code></li>\n</ul>\n<p>There's a related construct called an <a href=\"https://www.gnu.org/software/bash/manual/html_node/Arithmetic-Expansion.html\">arithmetic expansion</a> which follows the usual Bash meaning of &quot;expansion&quot;, whereby the evaluation of the arithmetic expression it contains is substituted as the result; the construct looks like this: <code>$(( expression ))</code>.</p>\n<p>Anyway, here we have an arithmetic evaluation acting as a condition in a short form of the <code>if</code> construct. And what is executed if the condition is true, i.e. if the version of Bash is indeed greater than 3? Now <strong>that</strong> has had me scratching my head for a while. Not about <em>what</em> it is, but <em>why</em> Dylan used it.</p>\n<p>This is what I'm talking about:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">read_flags</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>-t <span class=\"token number\">0.05</span><span class=\"token punctuation\">)</span></code></pre>\n<p>The <code>read_flags</code> variable is used later in this <code>main</code> function, in a call to <code>read</code>, like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">read</span> <span class=\"token string\">\"<span class=\"token variable\">${read_flags<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span> -srn <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> key <span class=\"token string\">\"<span class=\"token environment constant\">$REPLY</span>\"</span></code></pre>\n<p>I thought it was quite unusual, or at least very deliberate, to have used an array <code>(-t 0.05)</code> instead of just a string <code>&quot;-t 0.05&quot;</code> here. Dylan <a href=\"https://github.com/dylanaraps/fff/commit/f0023f93fde103a0d69eea26b4c3f589bf68e824\">used this directly in a single commit introducing the read_flags feature</a>, as if it was obvious that this use of an array was the right thing to do from the outset. From a pragmatic point of view, it was clearly the right thing to do, as using a string like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">read_flags</span><span class=\"token operator\">=</span><span class=\"token string\">\"-t 0.05\"</span> <span class=\"token builtin class-name\">read</span> <span class=\"token string\">\"<span class=\"token variable\">$read_flags</span>\"</span> -srn <span class=\"token number\">1</span></code></pre>\n<p>would have resulted in <code>read</code> complaining about the timeout (<code>-t</code>) value, like this:</p>\n<pre><code>read:  0.05: invalid timeout specification\n</code></pre>\n<p>I had struggled a little with this, knowing it was related to the whitespace before the 0.05 timeout value, but couldn't quite figure it out myself. I <a href=\"https://unix.stackexchange.com/questions/667139/bashs-read-builtin-errors-on-a-string-based-timeout-option-specification-but-no\">asked on the Unix &amp; Linux Stack Exchange</a> and got some wonderful answers and insights, thank you folks. I'd encourage you to read the question and the answers supplied for enlightenment, if you're interested.</p>\n<p>A side effect of the enlightenment that came my way from this was the fact that in preparing the error message above, I realised that a simple string <em>could</em> have been used here, as long as it was <em>not</em> quoted in the invocation:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">read_flags</span><span class=\"token operator\">=</span><span class=\"token string\">\"-t 0.05\"</span> <span class=\"token builtin class-name\">read</span> <span class=\"token variable\">$read_flags</span> -srn <span class=\"token number\">1</span></code></pre>\n<p>This works fine and <code>read</code> doesn't complain, because the shell is <a href=\"https://mywiki.wooledge.org/WordSplitting\">word splitting</a> on whitespace and thus the rogue space between <code>-t</code> and <code>0.05</code> which was being passed to <code>read</code> is now consumed in the word splitting action. I'm so used to quoting variables because, since <a href=\"https://qmacro.org/2020/10/05/improving-my-shell-scripting\">introducing <code>shellcheck</code> into my scripting flow</a> I'm constantly reminded to so by <a href=\"https://github.com/koalaman/shellcheck/wiki/SC2086\">SC2086</a>. I guess there are (rare) cases where you <em>don't</em> want to avoid word splitting on the value of a variable.</p>\n<h3 id=\"fff-settings-check\" tabindex=\"-1\">FFF settings check <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#fff-settings-check\" aria-hidden=\"true\">#</a></h3>\n<p>The next two checks are related to <code>fff</code> options, based on the values of the environment variables <code>FFF_LS_COLORS</code> and <code>FFF_HIDDEN</code>. Both exhibit nice examples of a particular type of <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\">parameter expansion</a>, one that we briefly noticed earlier in this post in the <code>pash</code> script.</p>\n<p>This is what those checks look like:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token variable\"><span class=\"token punctuation\">((</span>${FFF_LS_COLORS<span class=\"token operator\">:</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>} <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">))</span></span> <span class=\"token operator\">&amp;&amp;</span><br />    get_ls_colors<br /><br /><span class=\"token variable\"><span class=\"token punctuation\">((</span>${FFF_HIDDEN<span class=\"token operator\">:</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>} <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">))</span></span> <span class=\"token operator\">&amp;&amp;</span><br />    <span class=\"token builtin class-name\">shopt</span> -s dotglob</code></pre>\n<p>The <code>:=</code> form of shell parameter expansion lets us assign a parameter a value if it doesn't have one. To quote the documentation for this <code>${parameter:=word}</code> form:</p>\n<blockquote>\n<p>If <em>parameter</em> is unset or null, the expansion of <em>word</em> is assigned to <em>parameter</em>. The value of <em>parameter</em> is then substituted. Positional parameters and special parameters may not be assigned to in this way.</p>\n</blockquote>\n<p>So this is basically a default assignment, before the actual comparison with <code>==</code>. Taking the first example, we can think of it as: &quot;If the <code>FFF_LS_COLORS</code> variable is unset or null, assign it the value of <code>1</code>. Now, is the value of <code>FFF_LS_COLORS</code> equal to <code>1</code>?&quot;</p>\n<p>The second example is similar, except that the default value to assign to <code>FFF_HIDDEN</code>, before the actual comparison, is <code>0</code> not <code>1</code>.</p>\n<p>This is a very succinct way of assigning default values, with an expression. In some ways the shape and action of <code>:=</code> reminds me of Perl's <code>||=</code>. Or is it the other way round?</p>\n<p>While the <code>get_ls_colors</code> function is elsewhere in the <code>fff</code> script and we'll get to that another time, it's worth taking a quick look at what's executed if <code>FFF_HIDDEN</code> is <code>1</code>. The <a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff.1#L80-L82\">relevant section of the man page</a> explains what this variable controls - whether hidden files are shown in the file manager or not. In fact, the explanation in the man page reflects the <code>:=0</code> part of the parameter expansion (i.e. the default value is <code>0</code>, as shown in the man page):</p>\n<pre><code># Show/Hide hidden files on open.\n# (On by default)\nexport FFF_HIDDEN=0\n</code></pre>\n<p>How is this showing or hiding of hidden files controlled? Through the use of the &quot;shopt&quot; (shell option) builtin. While asking for help on this with <code>shopt --help</code> will give you basic information -- such as how to set (with <code>-s</code>) or unset (with <code>-u</code>) the options -- it doesn't enumerate what the options are. For that I had to look at <a href=\"https://www.gnu.org/software/bash/manual/html_node/The-Shopt-Builtin.html\">the shopt builtin</a> of the Bash reference manual. The <code>dotglob</code> option is described thus:</p>\n<blockquote>\n<p>If set, Bash includes filenames beginning with a '.' in the results of filename expansion. The filenames '.' and '..' must always be matched explicitly, even if dotglob is set.</p>\n</blockquote>\n<p>Pretty self explanatory and not unexpected; still, it was nice to be able to see a shell option in action.</p>\n<p>In fact, there are other shell options in use a little bit further down in this <code>main</code> function, and they're explained in comments, too:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 'nocaseglob': Glob case insensitively (Used for case insensitive search).</span><br /><span class=\"token comment\"># 'nullglob':   Don't expand non-matching globs to themselves.</span><br /><span class=\"token builtin class-name\">shopt</span> -s nocaseglob nullglob</code></pre>\n<p>These are sensible options for a file manager, at least, they make sense to me. Incidentally, there are more glob-related shell options: <code>extglob</code>, <code>failglob</code>, <code>globasciiranges</code> and <code>globstar</code>.</p>\n<h2 id=\"almost-ready-to-start\" tabindex=\"-1\">Almost ready to start <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#almost-ready-to-start\" aria-hidden=\"true\">#</a></h2>\n<p>At this point the options have been dealt with (and the trash and cache directories have been created); it's now time to set a few hooks to handle various signals, and then call various functions.</p>\n<a name=\"signals\">\n<h3 id=\"trapping-and-handling-signals\" tabindex=\"-1\">Trapping and handling signals <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#trapping-and-handling-signals\" aria-hidden=\"true\">#</a></h3>\n<p>This is done with the <code>trap</code> builtin, and there are <a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff#L1123-L1127\">two instances of this</a>:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Trap the exit signal (we need to reset the terminal to a useable state.)</span><br /><span class=\"token builtin class-name\">trap</span> <span class=\"token string\">'reset_terminal'</span> EXIT<br /><br /><span class=\"token comment\"># Trap the window resize signal (handle window resize events).</span><br /><span class=\"token builtin class-name\">trap</span> <span class=\"token string\">'get_term_size; redraw'</span> WINCH</code></pre>\n<p>Looking at the <a href=\"https://tldp.org/LDP/Bash-Beginners-Guide/html/sect_12_02.html\">Bash Beginners Guide section on traps</a> we can see that the <code>trap</code> pattern is:</p>\n<pre><code>trap [COMMANDS] [SIGNALS]\n</code></pre>\n<p>Looking at the first instance, while it's common for specific and individual SIGNALS to begin &quot;SIG&quot;, there's also a general &quot;EXIT&quot; value that can be used; this triggers both when the shell script terminates of its own accord, or is terminated by the user with CTRL-C.</p>\n<p>Running this simple script <code>terminator</code> and allowing it to exit, and then running it and CTRL-C'ing it after a second, demonstrates this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">trap</span> <span class=\"token string\">'echo EXITING...'</span> EXIT<br /><span class=\"token builtin class-name\">echo</span> Press CTRL-C or <span class=\"token function\">wait</span> <span class=\"token number\">5</span> seconds to <span class=\"token builtin class-name\">exit</span><br /><span class=\"token function\">sleep</span> <span class=\"token number\">5</span></code></pre>\n<p>Here's what happens:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">bash</span> terminator<br />Press CTRL-C or <span class=\"token function\">wait</span> <span class=\"token number\">5</span> seconds to <span class=\"token builtin class-name\">exit</span><br />EXITING<span class=\"token punctuation\">..</span>.<br />$ <span class=\"token function\">bash</span> terminator<br />Press CTRL-C or <span class=\"token function\">wait</span> <span class=\"token number\">5</span> seconds to <span class=\"token builtin class-name\">exit</span><br />^CEXITING<span class=\"token punctuation\">..</span>.</code></pre>\n<p>It took me a bit longer than I thought to find definitive documentation on the signal in the second instance - <code>SIGWINCH</code> (or <code>WINCH</code>). Rather than being Bash specific, this is of course related to the interaction between processes and terminals in a Unix context. The <a href=\"https://en.wikipedia.org/wiki/Signal_(IPC)\">Signal (IPC) Wikipedia page</a> has a wealth of information, including a reference to <code>SIGWINCH</code> in the list of POSIX signals. To quote:</p>\n<blockquote>\n<p>The SIGWINCH signal is sent to a process when its controlling terminal changes its size (a window change).</p>\n</blockquote>\n<p>The footnote reference associated with this leads to a <a href=\"https://www.austingroupbugs.net/view.php?id=1151\">recent (2017) proposal</a> which suggests why this signal is less widespread in coverage and use. While I'm aware of some of the more common signals (such as <code>SIGCHLD</code>, <code>SIGINT</code>, <code>SIGKILL</code> and so on) I'd never heard of <code>SIGWINCH</code> until now.</p>\n<p>The two functions that are called when this signal is trapped, <code>get_term_size</code> and <code>redraw</code>, make sense in the context of what this &quot;window change&quot; signal represents.</p>\n<h2 id=\"main-loop\" tabindex=\"-1\">Main loop <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/3/9/exploring-fff-part-1-main/#main-loop\" aria-hidden=\"true\">#</a></h2>\n<p>The final part of the <code>main</code> script, after calling some functions to set things up, is what Dylan refers to as a &quot;Vintage infinite loop&quot;. It's <a href=\"https://github.com/dylanaraps/fff/blob/5b90a8599cce3333672947438bb1718e1298e068/fff#L1136-L1142\">quite the eyecatcher</a>:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Vintage infinite loop.</span><br /><span class=\"token keyword\">for</span> <span class=\"token variable\"><span class=\"token punctuation\">((</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">))</span></span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token builtin class-name\">read</span> <span class=\"token string\">\"<span class=\"token variable\">${read_flags<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span> -srn <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> key <span class=\"token string\">\"<span class=\"token environment constant\">$REPLY</span>\"</span><br /><br />    <span class=\"token comment\"># Exit if there is no longer a terminal attached.</span><br />    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> -t <span class=\"token number\">1</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>Why not simply <code>while true; do ...; done</code>? I can only summise this is something playful, an enjoyment of the relationship that Bash has (or doesn't have, mostly) to the C programming language, where this so-called <a href=\"https://www.cyberciti.biz/faq/bash-for-loop/#C_style_for_loop\">three-expression for loop</a> is widely used, with an initialiser, a loop continuation condition and a modifier that are separated by <code>;</code> characters. Common in C and related languages, but not so much in Bash, I would have thought.</p>\n<p>What has got me thinking, however, is why and how does <code>((;;))</code> even work?</p>\n<p>It's definitely a lesser used construct for loops in Bash; again, I had to search a little deeper to find official references to it. In <a href=\"https://tldp.org/LDP/abs/html/loops1.html\">Advanced Bash-Scripting Guide: Chapter 11. Loops and Branches</a>, we see &quot;Example 11-13. A C-style for loop&quot;:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">LIMIT</span><span class=\"token operator\">=</span><span class=\"token number\">10</span><br /><br /><span class=\"token keyword\">for</span> <span class=\"token variable\"><span class=\"token punctuation\">((</span>a<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> a <span class=\"token operator\">&lt;=</span> LIMIT <span class=\"token punctuation\">;</span> a<span class=\"token operator\">++</span><span class=\"token punctuation\">))</span></span>  <span class=\"token comment\"># Double parentheses, and naked \"LIMIT\"</span><br /><span class=\"token keyword\">do</span><br />  <span class=\"token builtin class-name\">echo</span> -n <span class=\"token string\">\"<span class=\"token variable\">$a</span> \"</span><br /><span class=\"token keyword\">done</span>                           <span class=\"token comment\"># A construct borrowed from ksh93.</span></code></pre>\n<p>I'm not sure if the reference to the Korn shell (ksh93)* in the comment relates to the entire construct, or particularly to the triple semicolon-separated expression within the arithmetic evaluation <code>(( ... ))</code>. In any case, while it's clear what this is and how it works, it remains to me somewhat of a mystery as to why the particular instance used in the <code>main</code> function here works, where all three expressions are null <code>((;;))</code>.</p>\n<p>*Since listening to a very enjoyable <a href=\"https://podcast.curiefense.io/\">Committing to Cloud Native podcast</a> episode 22 recently: <a href=\"https://podcast.curiefense.io/22\">Thoughts on Bash Becoming Interplanetary and More with Brian J. Fox</a> I've become more aware of the relationship between Brian Fox (Bash's creator) and David Korn (ksh's creator), and the features and style of their respective shells, that they were striving to finalise in 1989 as replacements for Stephen Bourne's <code>sh</code>.</p>\n<p>I am guessing first that the <code>for</code> knows to look for truthiness in the second expression (the one in between the two semicolons). That's a bit vague, I know. I'm also guessing that an empty value here is going to be &quot;truthy&quot;, in that, according to the <a href=\"https://wiki.bash-hackers.org/syntax/arith_expr#truth\">Bash Hackers Wiki section on truth</a>, anything that's not 0 is true. That seems more likely, but I'd love to find out more about this.</p>\n<p>In any case, it's not always going to be an infinite loop; there's a <a href=\"https://www.gnu.org/software/bash/manual/html_node/Bash-Conditional-Expressions.html\">conditional expression</a> within the loop to test whether a terminal is (still) attached. This is the <code>[[ -t 1 ]]</code> part. Here's how the <code>-t</code> test is described:</p>\n<blockquote>\n<p>True if file descriptor fd is open and refers to a terminal.</p>\n</blockquote>\n<p>In a happy circular twist of fate, we're back almost to where we started on this journey through the <code>main</code> function. File descriptor 1 refers to STDOUT, i.e. standard output. If <code>fff</code> (still) has its STDOUT connected to a terminal, then the loop continues. If not, it's terminated (<code>|| exit</code>).</p>\n<p>Is this all that the loop does? Well, the key part (if you forgive the pun) is the call to <code>key</code> here:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">read</span> <span class=\"token string\">\"<span class=\"token variable\">${read_flags<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span> -srn <span class=\"token number\">1</span> <span class=\"token operator\">&amp;&amp;</span> key <span class=\"token string\">\"<span class=\"token variable\">$reply</span>\"</span></code></pre>\n<p>The <code>key</code> function handles keypresses, and acts accordingly. The core action part of <code>fff</code>, effectively. And it's only called if <code>read</code> successfully receives a keypress on that occasion. Nice!</p>\n<p>So that's it for the <code>main</code> function. Directory startup, option parameter handling, setup and initial calls, and the main loop. Such a lot to learn in so few lines.</p>\n<hr />\n<p>If you're still reading, thank you for indulging me, and I hope you've enjoyed the journey as much as I have. There's plenty more to learn from this script; let me know if you found it useful and whether I should venture further.</p>\n<p><strong>Update: You may like to know that there's now a second part: <a href=\"https://qmacro.org/autodidactics/2021/11/07/exploring-fff-part-2-get-ls-colors/\">Exploring fff part 2 - get_ls_colors</a>.</strong></p>\n</a></a></a></a></a></a>",
      "date_published": "2021-09-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/26/8/learning-by-rewriting-bash-jq-and-fzf-details/",
      "url": "https://qmacro.org/blog/2021/26/8/learning-by-rewriting-bash-jq-and-fzf-details/",
      "title": "Learning by rewriting - bash, jq and fzf details",
      "content_html": "<p><em>One of the ways I learn is by reading and sometimes rewriting other people's scripts. Here I learn more about <code>jq</code> by rewriting a friend's password CLI script.</em></p>\n<p>My friend <a href=\"https://twitter.com/ceedee666\">Christian Drumm</a> published a nice post this week on <a href=\"https://www.drumm.sh/blog/bw-cli\">Adapting the Bitwarden CLI with Shell Scripting</a>, where he shared a script he wrote to conveniently grab passwords into his paste buffer at the command line.</p>\n<p>It's a good read and contains some nice CLI animations too. In the summary, Christian remarks that there may be some areas for improvement. I don't know about that, and I'm certainly no &quot;shell scripting magician&quot; but I thought I'd have a go at modifying the script to perhaps introduce some further Bash shell, <code>jq</code> and <code>fzf</code> features to dig into.</p>\n<h2 id=\"emulating-the-cli\" tabindex=\"-1\">Emulating the CLI <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/26/8/learning-by-rewriting-bash-jq-and-fzf-details/#emulating-the-cli\" aria-hidden=\"true\">#</a></h2>\n<p>I don't have Bitwarden, so I created a quick &quot;database&quot; of login information that took the form of what the Bitwarden CLI <code>bw</code> produced. First, then, is the contents of the <code>items.json</code> file:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span><br />  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"E45 S4HANA 2020 Sandbox\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"e45user\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"password\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sappass\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"space user\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"spaceuser\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"password\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"in space\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"foouser\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"password\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"foopass\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"bar\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"baruser\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"password\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sekrit!\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />  <span class=\"token punctuation\">{</span> <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"baz\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"bazuser\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"password\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hunter2\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">]</span></code></pre>\n<p>Then I needed to emulate the <code>bw list items --search</code> command that Christian uses to search for an entry. As far as I can tell, it returns an array, regardless of whether a single entry is found, or more than one. I'm also assuming it returns an empty array if nothing is found, but that's less important here as you'll see.</p>\n<p>I did this by creating a script <code>bw-list-items-search</code> which looks like this:</p>\n<pre><code>#!/usr/bin/env bash\n\n# Emulates 'bw list items --search $1'\n\njq --arg name &quot;$1&quot; 'map(select(.name | test($name; &quot;i&quot;)))' ./items.json\n</code></pre>\n<p>Perhaps unironically I'm using <code>jq</code> to emulate the behaviour, because the data being searched is a JSON array (in <code>items.json</code>). I map over the entries in the array, and use the <a href=\"https://stedolan.github.io/jq/manual/#select(boolean_expression)\"><code>select</code> function</a> to return only those entries that satisfy the boolean expression passed to it:</p>\n<pre class=\"language-jq\"><code class=\"language-jq\"><span class=\"token punctuation\">.</span>name <span class=\"token operator pipe\">|</span> <span class=\"token c-style-function function\">test</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$name</span><span class=\"token punctuation\">;</span> <span class=\"token string\">\"i\"</span><span class=\"token punctuation\">)</span></code></pre>\n<p>This pipes the value of the <code>name</code> property (e.g. &quot;E45 S4HANA 2020 Sandbox&quot;, &quot;space user&quot;, &quot;foo&quot; etc) into the <a href=\"https://stedolan.github.io/jq/manual/#test(val),test(regex;flags)\"><code>test</code> function</a> which can take a regular expression, along with one or more flags if required.</p>\n<p>Here, we're just taking the value passed into the script, via the argument that was passed to the <code>jq</code> invocation with <code>--arg name &quot;$1&quot;</code>. This is then available within the <code>jq</code> script as the binding <code>$name</code>. The second parameter supplied here, <code>&quot;i&quot;</code>, is the &quot;case insensitive match&quot; flag.</p>\n<p>The result means that I can emulate what I think <code>bw list items --search</code> does:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">;</span> ./bw-list-items-search e45<br /><span class=\"token punctuation\">[</span><br />  <span class=\"token punctuation\">{</span><br />    <span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"E45 S4HANA 2020 Sandbox\"</span>,<br />    <span class=\"token string\">\"login\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><br />      <span class=\"token string\">\"username\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"e45user\"</span>,<br />      <span class=\"token string\">\"password\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"sappass\"</span><br />    <span class=\"token punctuation\">}</span><br />  <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">]</span></code></pre>\n<p>Here's an example of where more than one result is found:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">;</span> ./bw-list-items-search ba<br /><span class=\"token punctuation\">[</span><br />  <span class=\"token punctuation\">{</span><br />    <span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"bar\"</span>,<br />    <span class=\"token string\">\"login\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><br />      <span class=\"token string\">\"username\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"baruser\"</span>,<br />      <span class=\"token string\">\"password\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"sekrit!\"</span><br />    <span class=\"token punctuation\">}</span><br />  <span class=\"token punctuation\">}</span>,<br />  <span class=\"token punctuation\">{</span><br />    <span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"baz\"</span>,<br />    <span class=\"token string\">\"login\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span><br />      <span class=\"token string\">\"username\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"bazuser\"</span>,<br />      <span class=\"token string\">\"password\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"hunter2\"</span><br />    <span class=\"token punctuation\">}</span><br />  <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">]</span></code></pre>\n<h2 id=\"the-main-script\" tabindex=\"-1\">The main script <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/26/8/learning-by-rewriting-bash-jq-and-fzf-details/#the-main-script\" aria-hidden=\"true\">#</a></h2>\n<p>Now I could turn my attention to the main script. Here it is in its entirety; I'll describe it section by section.</p>\n<pre><code>#!/usr/bin/env bash\n\nset -e\n\npbcopy() { true; }\n\ncopy_uname_and_passwd() {\n\n  local login=$1\n\n  echo &quot;&gt; Copying Username&quot;\n  jq -r '.username' &lt;&lt;&lt; &quot;$login&quot;\n\n  echo &quot;&gt; Press any key to copy password...&quot;\n  read\n  echo &quot;&gt; Copying Password&quot;\n  jq -r '.password' &lt;&lt;&lt; &quot;$login&quot;\n\n}\n\nmain() {\n\n  local searchterm=$1\n  local selection logins\n  logins=&quot;$(./bw-list-items-search $searchterm)&quot;\n\n  selection=&quot;$(jq -r '.[] | &quot;\\(.name)\\t\\(.login)&quot;' &lt;&lt;&lt; &quot;$logins&quot; \\\n    | fzf --reverse --with-nth=1 --delimiter=&quot;\\t&quot; --select-1 --exit-0\n  )&quot;\n\n  [[ -n $selection ]] \\\n    &amp;&amp; echo &quot;Name: ${selection%%$'\\t'*}&quot; \\\n    &amp;&amp; copy_uname_and_passwd &quot;${selection#*$'\\t'}&quot;\n\n}\n\nmain &quot;$@&quot;\n</code></pre>\n<h3 id=\"overall-structure-and-the-main-function\" tabindex=\"-1\">Overall structure and the main function <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/26/8/learning-by-rewriting-bash-jq-and-fzf-details/#overall-structure-and-the-main-function\" aria-hidden=\"true\">#</a></h3>\n<p>For the last few months, my preference for laying out non-trivial scripts has been to use the approach that one often finds in other languages, and that is to define a main function, and right at the bottom, call that to start things off.</p>\n<p>This call is <code>main &quot;$@&quot;</code> which just passes on any and all values that were specified in the script's invocation - they're available in the special parameter <code>$@</code> which &quot;expands to the positional parameters, starting from one&quot; (see <a href=\"https://tiswww.case.edu/php/chet/bash/bashref.html#Special-Parameters\">Special Parameters</a>).</p>\n<h3 id=\"the-main-function\" tabindex=\"-1\">The main function <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/26/8/learning-by-rewriting-bash-jq-and-fzf-details/#the-main-function\" aria-hidden=\"true\">#</a></h3>\n<p>I like to qualify my variables, so use <code>local</code> here, which is a synonym for <code>declare</code>. I wrote about this in <a href=\"https://qmacro.org/autodidactics/2020/10/08/understanding-declare/\">Understanding declare</a> in case you want to dig in further.</p>\n<p>Because I have my emulator earlier, I can make almost the same-shaped call to the Bitwarden CLI, passing what was specified in <code>searchterm</code> and retrieving the results (a JSON array) in the <code>logins</code> variable.</p>\n<p>Next comes perhaps the most involved part of the script, which results in a value being stored in the <code>selection</code> variable (if nothing is selected or available, then this will be empty, which we'll deal with too).</p>\n<p><strong>Determining the selection part 1 - with <code>jq</code></strong></p>\n<p>The value for <code>selection</code> is determined from a combination of <code>jq</code> and <code>fzf</code>, which are also the two commands that Christian uses.</p>\n<p>This is the invocation:</p>\n<pre><code>jq -r '.[] | &quot;\\(.name)\\t\\(.login)&quot;' &lt;&lt;&lt; &quot;$logins&quot; \\\n    | fzf --reverse --with-nth=1 --delimiter=&quot;\\t&quot; --select-1 --exit-0\n</code></pre>\n<p>The first thing to notice is that I'm using <code>&lt;&lt;&lt;</code> which is a <a href=\"https://tldp.org/LDP/abs/html/x17837.html\">here string</a> - it's like a <a href=\"https://tldp.org/LDP/abs/html/here-docs.html\">here document</a>, but it's just the variable that gets expanded and fed to the STDIN of the command. This means that whatever is in <code>logins</code> gets expanded and passed to the STDIN of <code>jq</code>.</p>\n<p>Given the emulation of the Bitwarden CLI above, a value that might be in <code>logins</code> looks like this:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span><br />  <span class=\"token punctuation\">{</span><br />    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"bar\"</span><span class=\"token punctuation\">,</span><br />    <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />      <span class=\"token property\">\"username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"baruser\"</span><span class=\"token punctuation\">,</span><br />      <span class=\"token property\">\"password\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sekrit!\"</span><br />    <span class=\"token punctuation\">}</span><br />  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />  <span class=\"token punctuation\">{</span><br />    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"baz\"</span><span class=\"token punctuation\">,</span><br />    <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />      <span class=\"token property\">\"username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"bazuser\"</span><span class=\"token punctuation\">,</span><br />      <span class=\"token property\">\"password\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hunter2\"</span><br />    <span class=\"token punctuation\">}</span><br />  <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">]</span></code></pre>\n<p>Let's look at the <code>jq</code> script now, which is this:</p>\n<pre class=\"language-jq\"><code class=\"language-jq\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator pipe\">|</span> <span class=\"token string\">\"<span class=\"token interpolation\"><span class=\"token punctuation\">\\(</span><span class=\"token content\"><span class=\"token punctuation\">.</span>name</span><span class=\"token punctuation\">)</span></span>\\t<span class=\"token interpolation\"><span class=\"token punctuation\">\\(</span><span class=\"token content\"><span class=\"token punctuation\">.</span>login</span><span class=\"token punctuation\">)</span></span>\"</span></code></pre>\n<p>This iterates over the items passed in (i.e. it will process the first object containing the details for &quot;bar&quot; and then the second object containing the details for &quot;baz&quot;) and pipes them into the creation of a literal string (enclosed in double quotes). This literal string is two values separated with a tab character (<code>\\t</code>) ... but those values are the values of the respective properties, via <code>jq</code>'s <a href=\"https://stedolan.github.io/jq/manual/#Stringinterpolation-(foo\">string interpolation</a>).</p>\n<p>It's worth noting that the value of <code>.name</code> is a scalar, e.g. &quot;bar&quot;, but the value of <code>.login</code> is actually an object:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token property\">\"username\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"baruser\"</span><span class=\"token punctuation\">,</span><br />  <span class=\"token property\">\"password\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sekrit!\"</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>but this gets turned into a string. If &quot;bar&quot; is selected, then the value in <code>selection</code> will be:</p>\n<pre><code>bar     {&quot;username&quot;:&quot;baruser&quot;,&quot;password&quot;:&quot;sekrit!&quot;}\n</code></pre>\n<p>where the whitespace between the name &quot;bar&quot; and the rest of the line is a tab character.</p>\n<p>So given the two values (for &quot;bar&quot; and &quot;baz&quot;) above which would have been extracted for the search string &quot;ba&quot;, the following would be produced by the <code>jq</code> invocation:</p>\n<pre><code>bar     {&quot;username&quot;:&quot;baruser&quot;,&quot;password&quot;:&quot;sekrit!&quot;}\nbaz     {&quot;username&quot;:&quot;bazuser&quot;,&quot;password&quot;:&quot;hunter2&quot;}\n</code></pre>\n<p>Note that the <code>-r</code> option is supplied to <code>jq</code> to produce this raw output.</p>\n<p><strong>Determining the selection part 2 - with <code>fzf</code></strong></p>\n<p>This is then passed to <code>fzf</code>, which is passed a few more options than we saw with Christian's script. Taking them one at a time:</p>\n<ul>\n<li><code>--reverse</code> - this is the same as Christian and is a layout option that causes the selection to be displayed from the top of the screen.</li>\n<li><code>--delimiter=&quot;\\t&quot;</code> - this tells <code>fzf</code> how the input fields are delimited, and as we're using a tab character to separate the name and login information, we need to tell <code>fzf</code> (using just spaces would give us issues with spaces in the values of the names).</li>\n<li><code>--with-nth=1</code> - this says &quot;only use the value of the first field in the selection list&quot;, where the fields are delimited as instructed (with the tab character here). This means that only the value of the &quot;name&quot; is presented, not the &quot;login&quot; (username and password) details.</li>\n<li><code>--select-1</code> - this tells <code>fzf</code> that if there's only one item in the selection anyway, just automatically select it and don't show any selection dialogue.</li>\n<li><code>--exit-0</code> - this tells <code>fzf</code> to just end if there's nothing to select from at all (which would be the case if the invocation to <code>bw list items --search</code> returned nothing, i.e. an empty array).</li>\n</ul>\n<p>Here's what the selection looks like if no search string is specified, i.e. it's a presentation of all the possible names:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/08/fzf-name-selection.png\" alt=\"selection in fzf\" /></p>\n<p>Once we're done with determining the selection, we check to see that there is actually a value in <code>selection</code> and proceed to first show the name and then to call the <code>copy_uname_and_passwd</code> function.</p>\n<p><strong>Displaying the name and extracting the login details</strong></p>\n<p>It's worth highlighting that while <code>fzf</code> only <em>presents</em> the names in the selection list, it will <em>return</em> the entire line that was selected, which is what we want. In other words, given the selection in the screenshot above, if the name &quot;E45 S4HANA 2020 Sandbox&quot; is chosen, then <code>fzf</code> will emit this to STDOUT:</p>\n<pre><code>E45 S4HANA 2020 Sandbox {&quot;username&quot;:&quot;e45user&quot;,&quot;password&quot;:&quot;sappass&quot;}\n</code></pre>\n<p>(again, remember that there's a tab character between the name &quot;E45 S4HANA 2020 Sandbox&quot; and the JSON object with the login details).</p>\n<p>So to just print the name, we can use <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\">shell parameter expansion</a> to pick out the part we want. The <code>${parameter%%word}</code> form is appropriate here; this will remove anything with longest matching pattern first.</p>\n<p>In other words, the expression <code>${selection%%$'\\t'*}</code> means:</p>\n<ul>\n<li>take the value of the <code>selection</code> variable</li>\n<li>look at the <em>trailing</em> portion of that value</li>\n<li>find the <em>longest</em> match of the pattern <code>$'\\t'*</code></li>\n<li>and remove it</li>\n</ul>\n<p>The <code>$'...'</code> way of quoting a string allows us to use special characters such as tab (<code>\\t</code>) safely. The <code>*</code> means &quot;anything&quot;. So the pattern is &quot;a tab character and whatever follows it, if anything&quot;.</p>\n<p>So if the value of <code>selection</code> is:</p>\n<pre><code>E45 S4HANA 2020 Sandbox {&quot;username&quot;:&quot;e45user&quot;,&quot;password&quot;:&quot;sappass&quot;}\n</code></pre>\n<p>then this expression will yield:</p>\n<pre><code>E45 S4HANA 2020 Sandbox\n</code></pre>\n<p>The expression in the next line, where we invoke the <code>copy_uname_and_passwd</code> function, is <code>${selection#*$'\\t'}</code> which is similar. It means:</p>\n<ul>\n<li>take the value of the <code>selection</code> variable</li>\n<li>look at the <em>beginning</em> portion of that value</li>\n<li>find the <em>shortest</em> match of the pattern <code>*$'\\t'</code></li>\n<li>and remove it</li>\n</ul>\n<p>This pattern, then, is &quot;anything, up to and including a tab character&quot;.</p>\n<p>Given the same value as above, this expression will yield:</p>\n<pre><code>{&quot;username&quot;:&quot;e45user&quot;,&quot;password&quot;:&quot;sappass&quot;}\n</code></pre>\n<h3 id=\"the-copy_uname_and_passwd-function\" tabindex=\"-1\">The copy_uname_and_passwd function <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/26/8/learning-by-rewriting-bash-jq-and-fzf-details/#the-copy_uname_and_passwd-function\" aria-hidden=\"true\">#</a></h3>\n<p>This is very similar to Christian's original script, except that we can use a &quot;here string&quot; again to pass the value of the <code>login</code> variable to <code>jq</code> each time. Given what we know from the <code>main</code> function, this value will be something like this:</p>\n<pre><code>{&quot;username&quot;:&quot;e45user&quot;,&quot;password&quot;:&quot;sappass&quot;}\n</code></pre>\n<p>which makes for a simpler extraction of the values we want (from the <code>username</code> and <code>password</code> properties).</p>\n<h3 id=\"the-pbcopy-function\" tabindex=\"-1\">The pbcopy function <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/26/8/learning-by-rewriting-bash-jq-and-fzf-details/#the-pbcopy-function\" aria-hidden=\"true\">#</a></h3>\n<p>While my main machine is a macOS device, I'm working in a (Linux based) dev container and therefore don't have access right now to the <code>pbcopy</code> command. As I wanted to leave calls to it in the script to reflect where it originally was, this function that does nothing will do the trick.</p>\n<h2 id=\"wrapping-up\" tabindex=\"-1\">Wrapping up <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/26/8/learning-by-rewriting-bash-jq-and-fzf-details/#wrapping-up\" aria-hidden=\"true\">#</a></h2>\n<p>There's always more to learn about Bash scripting and the tools we have at our disposal. And to use one of the sayings from the wonderful Perl community - TMOWTDI - &quot;there's more than one way to do it&quot;. I'm sure you can come up with some alternatives too, and some improvements on what I've written.</p>\n<p>Keep on learning and sharing.</p>\n",
      "date_published": "2021-08-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/22/8/today-s-til-trio/",
      "url": "https://qmacro.org/blog/2021/22/8/today-s-til-trio/",
      "title": "Today&#39;s TIL trio",
      "content_html": "<p><em>Here are three mini TILs from today, on minimum JSON, using <code>tee</code>, and <code>netstat</code> options.</em></p>\n<p>I enjoy finding time to catch up on reading blog posts and watching videos in my queue, but the time is often tinged with a slight uneasy feeling that I'm seeing things in passing which are not part of what the main content is about, and I'm not acknowledging or capturing that knowledge.</p>\n<p>Here are three very small things I learned (or was reminded of) in passing today, and I thought I'd share them.</p>\n<h2 id=\"a-simple-double-quoted-string-is-valid-json\" tabindex=\"-1\">A simple double-quoted string is valid JSON <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/22/8/today-s-til-trio/#a-simple-double-quoted-string-is-valid-json\" aria-hidden=\"true\">#</a></h2>\n<p>Often when using <a href=\"https://stedolan.github.io/jq/\"><code>jq</code></a>, the command line JSON processor, what I'm looking for is a scalar string, when I just want to extract the value of a property.</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'{\"foo\":\"bar\"}'</span> <span class=\"token operator\">|</span> jq .foo<br /><span class=\"token string\">\"bar\"</span></code></pre>\n<p>I always vaguely thought that this was <code>jq</code> just doing what I wanted and giving me the value, which was nice. But it was actually doing more than that. The <a href=\"https://stedolan.github.io/jq/manual/#Invokingjq\">Invoking jq</a> section of <code>jq</code>'s manual has this (emphasis mine):</p>\n<blockquote>\n<p>jq filters run on a stream of JSON data. The input to jq is parsed as a sequence of whitespace-separated JSON values which are passed through the provided filter one at a time. <strong>The output(s) of the filter are written to standard out, again as a sequence of whitespace-separated JSON data.</strong></p>\n</blockquote>\n<p>What <code>jq</code> aims to do is not only read JSON, but <em>write JSON to STDOUT</em>, unless otherwise directed.</p>\n<p>In the above invocation (<code>jq .foo</code>) I didn't direct <code>jq</code> to do anything special, so it wrote <code>&quot;bar&quot;</code> on STDOUT.</p>\n<p>And that's appropriate, because <code>&quot;bar&quot;</code> is completely valid JSON.</p>\n<p>I'd vaguely thought that JSON data was only valid in the context of a structure (a map or array) but had never looked into it properly. But my explorations of what <code>jq</code> can do led me down the familiar path of wonder, whereupon I realised that, according to the most up to date specification of JSON, <a href=\"http://www.ietf.org/rfc/rfc7159.txt\">RFC 7159</a>, a JSON text (this is as good a word as any to use as a name for a lump of JSON) &quot;is a serialised value&quot;. This <a href=\"https://stackoverflow.com/questions/7487869/is-this-simple-string-considered-valid-json/7487892#7487892\">Stack Overflow answer</a> is a good summary of the situation.</p>\n<p>So when <code>jq</code> gives you just a simple double-quoted string as the output for your incantation, it's giving you JSON. Which is what it is designed to do.</p>\n<p>I realised this when watching <a href=\"https://www.youtube.com/watch?v=MvI6Z85EgVo\">David Hand - &quot;Non-trivial jq&quot;</a>.</p>\n<h2 id=\"i-should-use-tee-more\" tabindex=\"-1\">I should use tee more <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/22/8/today-s-til-trio/#i-should-use-tee-more\" aria-hidden=\"true\">#</a></h2>\n<p>It's easy to overlook this perhaps unloved and semi-forgotten Unix command. According to the (very brief!) man page, <code>tee</code> is a &quot;pipe fitting&quot;, which:</p>\n<blockquote>\n<p>copies STDIN to STDOUT, making a copy in zero or more files.</p>\n</blockquote>\n<p>The <code>tee</code> command crops up in more places than you think; it appears regularly in installation commands. Take this example* from the <a href=\"https://docs.docker.com/engine/install/debian/\">installation instructions for Docker on Debian Linux</a>:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb [arch=amd64 ...] https://.../linux/debian buster stable\"</span> <span class=\"token punctuation\">\\</span><br />  <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/apt/sources.list.d/docker.list <span class=\"token operator\">></span> /dev/null</code></pre>\n<p>*I've modified the actual command that appears in the <a href=\"https://docs.docker.com/engine/install/debian/#set-up-the-repository\">Set up the repository</a> section for readability.</p>\n<p>Here's another example that appeared in the same video I mentioned earlier:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">curl</span> http://some.json/api <span class=\"token operator\">|</span> <span class=\"token function\">tee</span> example1.json</code></pre>\n<p>In both cases, <code>tee</code> is used to show the operator what text is flowing into the file. The text (that string starting &quot;deb&quot; in the first example, and the JSON resource retrieved with <code>curl</code> in the second example) is shown on STDOUT ... and also written to the file specified (those being <code>/etc/apt/sources.list.d/docker.list</code> and <code>example1.json</code> respectively in these two examples).</p>\n<p>I bring in <code>tee</code> for specific use cases; for example, <a href=\"https://github.com/qmacro/dotfiles/commit/2ce53780daf31f8f07681d74fa00b0a6e71602db#diff-65c9282a9859d16acdc87f650a575e909d6200072927fb266b769c4d0241f215R31-R38\">in this <code>cache</code> script</a>, to generate the output, show it, and cache it:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># If there's no cache file or it's older than N mins then</span><br /><span class=\"token comment\"># run the command for real, cacheing the output (again).</span><br /><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> -f <span class=\"token string\">\"<span class=\"token variable\">$cachefile</span>\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">\\</span><br />  <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">test</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">find</span> <span class=\"token string\">\"<span class=\"token variable\">$cachefile</span>\"</span> -mmin +<span class=\"token string\">\"<span class=\"token variable\">$mins</span>\"</span><span class=\"token variable\">)</span></span>\"</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span><br />  <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">tee</span> <span class=\"token string\">\"<span class=\"token variable\">$cachefile</span>\"</span><br /><span class=\"token keyword\">else</span><br />  <span class=\"token function\">cat</span> <span class=\"token string\">\"<span class=\"token variable\">$cachefile</span>\"</span><br /><span class=\"token keyword\">fi</span></code></pre>\n<p>But I want to use <code>tee</code> more regularly in my daily scripting activities. With <a href=\"https://tldp.org/LDP/abs/html/process-sub.html\">process substitution</a>, it can be a powerful ally.</p>\n<h2 id=\"use-netstat's-listening-option\" tabindex=\"-1\">Use netstat's --listening option <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/22/8/today-s-til-trio/#use-netstat's-listening-option\" aria-hidden=\"true\">#</a></h2>\n<p>When I want to see what sockets are being listened to on a machine, my muscle memory types out:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">netstat</span> -atn <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> LISTEN</code></pre>\n<p>This is fine, and gives me what I want - the lines showing what ports are bound with listening processes. Here's an example:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">netstat</span> -atn <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> LISTEN<br />tcp4       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>  <span class=\"token number\">127.0</span>.0.1.53           *.*                    LISTEN<br />tcp4       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>  <span class=\"token number\">127.0</span>.0.1.28196        *.*                    LISTEN<br />tcp6       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>  fe80::aede:48ff:.49158 *.*                    LISTEN<br />tcp6       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>  fe80::aede:48ff:.49157 *.*                    LISTEN<br />tcp6       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>  fe80::aede:48ff:.49156 *.*                    LISTEN<br />tcp6       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>  fe80::aede:48ff:.49155 *.*                    LISTEN<br />tcp6       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>  fe80::aede:48ff:.49154 *.*                    LISTEN<br />tcp6       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>  fe80::aede:48ff:.49153 *.*                    LISTEN<br />tcp4       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>  *.22                   *.*                    LISTEN<br />tcp6       <span class=\"token number\">0</span>      <span class=\"token number\">0</span>  *.22                   *.*                    LISTEN<br />$</code></pre>\n<p>But I learned something as a side effect from reading a great post (which I <a href=\"https://twitter.com/qmacro/status/1429463349239197701\">auto-tweeted</a> from my [<a href=\"https://github.com/qmacro-org/url-notes\">https://github.com/qmacro-org/url-notes</a>](URL Notes) repo today): <a href=\"https://twitter.com/qmacro/status/1429463349239197701\">Bringing the Unix Philosophy to the 21st Century - Brazil's Blog</a>.</p>\n<p>The author gave this example of using their <code>jc</code> utility (which looks fascinating) to be able to more easily parse this sort of <code>netstat</code> output:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">netstat</span> -tln <span class=\"token operator\">|</span> jc --netstat <span class=\"token operator\">|</span> jq <span class=\"token string\">'.[].local_port_num'</span></code></pre>\n<p>The <code>-l</code> flag used here for <code>netstat</code> is the short form of <code>--listening</code>, and combined with <code>-t</code> (<code>--tcp</code>) and <code>-n</code> (<code>--numeric</code>) shows only TCP sockets that are being listened on. Here's an example:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">netstat</span> -tln<br />Active Internet connections <span class=\"token punctuation\">(</span>only servers<span class=\"token punctuation\">)</span><br />Proto Recv-Q Send-Q Local Address           Foreign Address         State<br />tcp        <span class=\"token number\">0</span>      <span class=\"token number\">0</span> <span class=\"token number\">0.0</span>.0.0:2222            <span class=\"token number\">0.0</span>.0.0:*               LISTEN<br />tcp6       <span class=\"token number\">0</span>      <span class=\"token number\">0</span> :::2222                 :::*                    LISTEN</code></pre>\n<p>Of course, because we're not using <code>grep</code>, we still get the heading output from <code>netstat</code> here. But the <code>--listening</code> does the job nicely!</p>\n<p>Unfortunately, it won't be any time soon that I can switch to this option, because the macOS version of <code>netstat</code> doesn't support <code>-l</code>. In fact, it does have a <code>-l</code> option but it's for something completely different (printing full IPv6 addresses).</p>\n<p>That said, this is yet another small step towards me moving further away from macOS-local activities, and more fully to Linux based dev containers running on my Synology NAS. But that's a post for another time.</p>\n",
      "date_published": "2021-08-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/12/8/session-switching-with-the-tmux-menu/",
      "url": "https://qmacro.org/blog/2021/12/8/session-switching-with-the-tmux-menu/",
      "title": "Session switching with the tmux menu",
      "content_html": "<p><em>Here's a way to get a simple session switcher in <code>tmux</code> using a popup menu.</em></p>\n<p>I was looking at Waylon Walker's <a href=\"https://waylonwalker.com/tmux-fzf-session-jump/\">tmux fzf session jumper</a> recently, and really liked it, so much so that I dug into the incantations that he shared, resulting in a new post on this autodidactics blog: <a href=\"https://qmacro.org/autodidactics/2021/08/06/tmux-output-formatting/\">tmux output formatting</a>.</p>\n<p>Anyway, I was still thinking about session switching yesterday, and randomly came across this Reddit post: <a href=\"https://www.reddit.com/r/tmux/comments/ot77fx/how_to_bring_up_context_menu_without_mouse/\">how to bring up context menu without a mouse</a>. I'd seen the context menu before, by accidentally triggering it with the right mouse button, and it looks something like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/08/context-menu.png\" alt=\"context menu\" /></p>\n<p>It was <a href=\"https://www.reddit.com/r/tmux/comments/ot77fx/how_to_bring_up_context_menu_without_mouse/h6tfadp/?utm_source=reddit&amp;utm_medium=web2x&amp;context=3\">the comment by user Coffee_24_7</a> that really got me thinking - turns out that this type of menu can be called up with one of the myriad <code>tmux</code> commands, one which I hadn't yet come across: <code>display-menu</code>.</p>\n<h2 id=\"building-a-context-menu\" tabindex=\"-1\">Building a context menu <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/8/session-switching-with-the-tmux-menu/#building-a-context-menu\" aria-hidden=\"true\">#</a></h2>\n<p>I thought that using a context menu like this to present a list of sessions to switch to would be fun and teach me more about the <code>display-menu</code> command. Basically I just wanted to have the menu display the sessions I had, and when I'd selected one, switch me to it. So, this is what I did.</p>\n<p>The first part of the <code>tmux</code> man page for the <code>display-menu</code> command looks like this:</p>\n<blockquote>\n<p>display-menu [-O] [-c target-client] [-t target-pane] [-T title] [-x position] [-y position] name key command</p>\n</blockquote>\n<blockquote>\n<p>Display a menu on target-client.  target-pane gives the target for any commands run from the menu.</p>\n</blockquote>\n<blockquote>\n<p>A menu is passed as a series of arguments: first the menu item name, second the key shortcut (or empty for none) and third the command to run when the menu item is chosen.  The name and command are formats, see the FORMATS and STYLES sections.  If the name begins with a hyphen (-), then the item is disabled (shown dim) and may not be chosen.  The name may be empty for a separator line, in which case both the key and command should be omitted.</p>\n</blockquote>\n<blockquote>\n<p>-T is a format for the menu title (see FORMATS).</p>\n</blockquote>\n<p>So it looked like I would need something like this to have three sessions listed, with shortcut keys 1-3, and commands to switch to the selected one:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">tmux display-menu <span class=\"token punctuation\">\\</span><br />  writing  <span class=\"token number\">1</span> <span class=\"token string\">'switch-client -t writing'</span> <span class=\"token punctuation\">\\</span><br />  dotfiles <span class=\"token number\">2</span> <span class=\"token string\">'switch-client -t dotfiles'</span> <span class=\"token punctuation\">\\</span><br />  focus    <span class=\"token number\">3</span> <span class=\"token string\">'switch-client -t focus'</span></code></pre>\n<p>(The session names in this example are actually the permanent sessions I use right now.)</p>\n<h3 id=\"listing-the-sessions\" tabindex=\"-1\">Listing the sessions <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/8/session-switching-with-the-tmux-menu/#listing-the-sessions\" aria-hidden=\"true\">#</a></h3>\n<p>From the <a href=\"https://qmacro.org/autodidactics/2021/08/06/tmux-output-formatting/\">tmux output formatting</a> post we already know how to do this. The basic <code>tmux list-sessions</code> command produces something like this:</p>\n<pre><code>dotfiles: 2 windows (created Thu Aug 12 10:06:53 2021)\nfocus: 1 windows (created Wed Aug 11 10:44:18 2021)\nwriting: 1 windows (created Wed Aug 11 10:46:21 2021) (attached)\n</code></pre>\n<p>To get just the session names, I can supply a format with the <code>-F</code> option, like this (specifying <code>#S</code> for &quot;session name&quot;):</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">tmux list-sessions -F <span class=\"token string\">'#S'</span></code></pre>\n<p>This produces:</p>\n<pre><code>dotfiles\nfocus\nwriting\n</code></pre>\n<h3 id=\"creating-the-input\" tabindex=\"-1\">Creating the input <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/8/session-switching-with-the-tmux-menu/#creating-the-input\" aria-hidden=\"true\">#</a></h3>\n<p>For each of the menu entries, three values are needed - the session name, an incrementing identifier (which becomes the single key to press for selection), and the <code>switch-client</code> command to switch to the selected session. There are many ways to turn this list of sessions into something like this; I'm going to use <code>awk</code> here, for these reasons:</p>\n<ul>\n<li>I like <code>awk</code> and its history</li>\n<li>it has a nice <code>NR</code> built-in variable that holds the record number being processed, and I can use it for the incrementing identifier</li>\n<li>I can set <code>ORS</code>, the Output Record Separator (which is usually a newline), to a space, to avoid having to use something like <code>tr</code> or <code>paste</code> to bring everything onto one line afterwards</li>\n</ul>\n<p>The invocation now becomes:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">tmux list-sessions -F <span class=\"token string\">'#S'</span> <span class=\"token punctuation\">\\</span><br /><span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'BEGIN {ORS=\" \"} {print $1, NR, \"\\\"switch-client -t\", $1 \"\\\"\"}'</span></code></pre>\n<p>This produces:</p>\n<pre><code>dotfiles 1 &quot;switch-client -t dotfiles&quot; focus 2 &quot;switch-client -t focus&quot; writing 3 &quot;switch-client -t writing&quot;\n</code></pre>\n<h3 id=\"using-the-input-for-the-menu\" tabindex=\"-1\">Using the input for the menu <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/8/session-switching-with-the-tmux-menu/#using-the-input-for-the-menu\" aria-hidden=\"true\">#</a></h3>\n<p>Now I can just pass that entire output, via the venerable <code>xargs</code>, to <code>tmux</code>'s <code>display-menu</code> command. While I'm at it, I'll use the <code>-T</code> option to supply a title for the top of the menu display.</p>\n<p>This is what the invocation finally becomes:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">tmux list-sessions -F <span class=\"token string\">'#S'</span> <span class=\"token punctuation\">\\</span><br /><span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'BEGIN {ORS=\" \"} {print $1, NR, \"\\\"switch-client -t\", $1 \"\\\"\"}'</span> <span class=\"token punctuation\">\\</span><br /><span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> tmux display-menu -T <span class=\"token string\">\"Switch session\"</span></code></pre>\n<p>It's worth putting this in a script, so I have done: <a href=\"https://github.com/qmacro/dotfiles/commit/68ba9c0934b8c77af44ae9581171577225298814\"><code>session-menu</code></a>.</p>\n<h3 id=\"bind-the-menu-to-a-key\" tabindex=\"-1\">Bind the menu to a key <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/8/session-switching-with-the-tmux-menu/#bind-the-menu-to-a-key\" aria-hidden=\"true\">#</a></h3>\n<p>The final touch in this learning experiment is to bind this invocation to a key in <code>tmux</code>, so that I can quickly invoke it. I'll choose &quot;prefix Ctrl-s&quot;, which means the line I need to <a href=\"https://github.com/qmacro/dotfiles/commit/a8b70a3e247590275eef8de23aa7ceb9da043d46\">add to my config</a> looks like this:</p>\n<pre><code>bind-key C-s run-shell session-menu\n</code></pre>\n<p>And with this in place, I can invoke the session switch menu popup very comfortably - this is what it looks like:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/08/session-switch-menu.png\" alt=\"session switch menu\" /></p>\n<p>If I decide I don't want to switch sessions after all, I can just dismiss the menu with the standard key <code>q</code> (this is also in the <code>display-menu</code> part of the <code>tmux</code> man page).</p>\n<hr />\n<p>So there you have it. I do love <code>fzf</code> and all the things it can do, but it's worth spending some time on this native <code>tmux</code> feature. There's more to it, as well - for example, you can add separators and disabled items (like the ones in the first screenshot in this post) - but this will do me nicely for now. Happy multiplexing!</p>\n",
      "date_published": "2021-08-12T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/6/8/tmux-output-formatting/",
      "url": "https://qmacro.org/blog/2021/6/8/tmux-output-formatting/",
      "title": "tmux output formatting",
      "content_html": "<p><em>Here's what I learned today about FORMATS in tmux output.</em></p>\n<p>This week I came across <a href=\"https://twitter.com/_WaylonWalker\">Waylon Walker</a> who is doing some lovely learning-and-sharing on the topic of <code>tmux</code>, the terminal multiplexer. He has a <a href=\"https://www.youtube.com/user/quadmx08\">YouTube channel</a> and a <a href=\"https://waylonwalker.com/\">blog</a>, and there are plenty of <code>tmux</code> nuggets that are explained in short video and blog post formats.</p>\n<p>I read Waylon's post <a href=\"https://waylonwalker.com/tmux-fzf-session-jump/\">tmux fzf session jumper</a> that he published yesterday, and, having been curious to learn more about his <code>tmux</code> setup and usage, I stared a bit at the commands he'd shared. Here's what he was using, in his <code>tmux</code> popup based session selector (I was so happy to learn about <code>tmux</code> popups from Waylon, more on that topic another time, perhaps):</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">tmux <span class=\"token builtin class-name\">bind</span> C-j <span class=\"token punctuation\">\\</span><br />  display-popup <span class=\"token punctuation\">\\</span><br />  -E <span class=\"token punctuation\">\\</span><br />  <span class=\"token string\">\"tmux list-sessions \\<br />   | sed -E 's/:.*$//' \\<br />   | grep -v <span class=\"token entity\" title=\"\\&quot;\">\\\"</span>^<span class=\"token variable\"><span class=\"token variable\">$(</span>tmux display-message -p <span class=\"token string\">'#S'</span><span class=\"token variable\">)</span></span>\\$<span class=\"token entity\" title=\"\\&quot;\">\\\"</span> \\<br />   | fzf --reverse \\<br />   | xargs tmux switch-client -t\"</span></code></pre>\n<p>That's quite a bit to unpack and learn from! I've taken the liberty of inserting lots of newlines so we can stare at it more easily.</p>\n<p>Before we start to unpack it, you can see what it does in this screenshot - on invocation, it brings up a session chooser in a popup for me to be able to switch to a different session. Nice!</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/08/session-chooser.png\" alt=\"session chooser in popup\" /></p>\n<h2 id=\"unpacking-the-invocation\" tabindex=\"-1\">Unpacking the invocation <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/6/8/tmux-output-formatting/#unpacking-the-invocation\" aria-hidden=\"true\">#</a></h2>\n<p>The invocation itself is creating a new key binding (<code>prefix</code> <code>ctrl-j</code>) with the <code>bind</code> (short for <code>bind-key</code>) command. The command that is invoked when this key combination is used is a relatively new one: <code>display-popup</code>. It seems that the popup feature appeared only about a year ago with <code>tmux</code> version 3.2 - see the <a href=\"https://github.com/tmux/tmux/issues/2645\">associated change notes and discussion for 3.2</a> for more context.</p>\n<p>The <code>-E</code> switch goes with the <code>display-popup</code> command and causes the popup to close automatically when the shell command that's executed within it completes.</p>\n<p>The shell command to execute within the popup follows, and is basically the rest of the line - everything inside the outermost double-quote pair (<code>&quot;tmux list-sessions ... -t&quot;</code>). This is a pipeline that starts with the output of whatever <code>tmux list-sessions</code> produces - here's an example of that output, from the sessions I'm running right now:</p>\n<pre><code>another session: 1 windows (created Fri Aug  6 11:24:34 2021) (attached)\ntmux experiments: 2 windows (created Thu Aug  5 21:04:16 2021)\nwriting: 2 windows (created Fri Aug  6 11:02:10 2021)\n</code></pre>\n<p>I added a third session, &quot;another session&quot;, to have more than just a couple for the example, and it's in that third session that I invoked the <code>tmux list-sessions</code> command just now - which is why that is the one marked as <code>(attached)</code> in the output.</p>\n<h3 id=\"removing-unwanted-information\" tabindex=\"-1\">Removing unwanted information <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/6/8/tmux-output-formatting/#removing-unwanted-information\" aria-hidden=\"true\">#</a></h3>\n<p>That output is passed to <code>sed -E 's/:.*$//'</code> which uses an extended (that's what the <code>-E</code> denotes) regular expression to replace everything on the line* starting with a colon and going all the way to the end of the line, with nothing. This would change the output above to this:</p>\n<pre><code>another session\ntmux experiments\nwriting\n</code></pre>\n<p>* <code>sed</code> is a stream editor and processes each line in turn</p>\n<h3 id=\"filtering-out-the-name-of-the-current-session\" tabindex=\"-1\">Filtering out the name of the current session <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/6/8/tmux-output-formatting/#filtering-out-the-name-of-the-current-session\" aria-hidden=\"true\">#</a></h3>\n<p>This reduced output is then piped into <code>grep</code>, the search utility. The <code>-v</code> switch used inverts the match, effectively printing what is <em>not</em> matched by the regular expression that is given.</p>\n<p>And what is that, exactly? It's this: <code>\\&quot;^$(tmux display-message -p '#S')\\$\\&quot;</code>. First, because we're already in the context of the pair of outermost double-quotes, the double-quotes used here to enclose the entire pattern need to be escaped, with the backslashes. And within those escaped double-quotes we have <code>^</code> that anchors the match to the start of the line, and <code>$</code> (escaped again, because it has special meaning within double-quotes) which anchors to the end of the line. And what should actually be matched? If we stare hard enough, we see that what should be matched is the output of running the following command in a subshell (<code>$(...)</code>):</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">tmux display-message -p <span class=\"token string\">'#S'</span></code></pre>\n<p>The <code>display-message</code> command normally writes a message to the <code>tmux</code> session's status line, but the <code>-p</code> switch directs the command to write the message to STDOUT instead. What is the message to be written? Well, it's the value of <code>#S</code>, which is a variable (identified by the <code>#</code>), and specifically, <code>S</code> is an alias for <code>session_name</code>. So this command prints the name of the current session to STDOUT. In the same context as before (i.e. attached to the &quot;another session&quot; session), running this command would produce this:</p>\n<pre><code>another session\n</code></pre>\n<p>So the ultimate result of piping the list of session names into this inverted matching <code>grep</code> invocation is that it would filter out the current session's name, resulting in:</p>\n<pre><code>tmux experiments\nwriting\n</code></pre>\n<p>Why do this? Well, it makes sense that if I'm going to pick another session to jump to, I probably won't want to jump to my current session.</p>\n<h3 id=\"presenting-the-list-for-selection\" tabindex=\"-1\">Presenting the list for selection <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/6/8/tmux-output-formatting/#presenting-the-list-for-selection\" aria-hidden=\"true\">#</a></h3>\n<p>This reduced list is then piped into <code>fzf</code>, about which I've written a couple of posts on this autodidactics blog before:</p>\n<ul>\n<li><a href=\"https://qmacro.org/autodidactics/2021/02/02/fzf-the-basics-1-layout/\">fzf - the basics part 1 - layout</a></li>\n<li><a href=\"https://qmacro.org/autodidactics/2021/02/07/fzf-the-basics-2-search-results/\">fzf - the basics part 2 - search results</a></li>\n</ul>\n<p>Using <code>fzf</code> here is perfect, it's my tool of choice for mini-UIs in the terminal where a choice has to be made, where an item (or items) must be selected. And because it fits with the Unix philosophy too, the output is simply the value of the item(s) selected. And in case you're wondering, the <code>--reverse</code> switch is a synonym for <code>--layout=reverse</code> which causes <code>fzf</code> to display the selection from the top.</p>\n<h3 id=\"jumping-to-the-selected-session\" tabindex=\"-1\">Jumping to the selected session <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/6/8/tmux-output-formatting/#jumping-to-the-selected-session\" aria-hidden=\"true\">#</a></h3>\n<p>In the last part of the pipeline, this value (the name of the session that was selected) is passed to <code>xargs</code>, the powerful but oft-misunderstood utility that helps you build and execute commands from STDIN. Here, with the invocation <code>xargs tmux switch-client -t</code>, we're using it to pass that selected value (e.g. &quot;writing&quot;) as a parameter, adding it to the end of the entire set of arguments passed to <code>xarg</code>, resulting in an invocation like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">tmux switch-client -t writing</code></pre>\n<p>This of course is the denoument to which we've been building up, and our <code>tmux</code> client is switched to the session we selected. Success!</p>\n<h2 id=\"formats-and-an-alternative-approach\" tabindex=\"-1\">Formats and an alternative approach <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/6/8/tmux-output-formatting/#formats-and-an-alternative-approach\" aria-hidden=\"true\">#</a></h2>\n<p>The reference to the <code>#S</code> variable got me thinking, and I remembered seeing an awful lot of potential, particularly in the &quot;FORMATS&quot; section of the <a href=\"https://man7.org/linux/man-pages/man1/tmux.1.html\"><code>tmux</code> man page</a>. So I thought I'd use this opportunity, having been inspired by what Waylon showed, to see if I could come up with a different way of doing it.</p>\n<p>First, could I use something from &quot;FORMATS&quot; to avoid the need to invoke <code>sed</code> in the pipeline (i.e. to not do this bit: <code>sed -E 's/:.*$//'</code>)? Turns out that the answer is yes; a format string can be used with the <code>list-sessions</code> command, with the <code>-F</code> option. So this would be an alternative, using the same variable as we saw earlier. Here's the invocation:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">tmux list-sessions -F <span class=\"token string\">'#{session_name}'</span></code></pre>\n<p>which produces:</p>\n<pre><code>another session\ntmux experiments\nwriting\n</code></pre>\n<p>That is, none of the extraneous information is there, so we don't need to remove it.</p>\n<p>We can go a bit further, too, with a conditional expression. Here it is, in action:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">tmux list-sessions -F <span class=\"token string\">'#{?session_attached,,#{session_name}}'</span></code></pre>\n<p>The value of the <code>session_attached</code> variable is <code>1</code> if the session currently being listed is attached (i.e. is the one we're in) and <code>0</code> if not. So this conditional expression <code>#{?COND,A,B}</code> outputs A if condition COND is true, otherwise B. What a lovely ternary style operator just waiting to be used within <code>tmux</code> formatting!</p>\n<p>So this version produces:</p>\n<pre><code>\ntmux experiments\nwriting\n</code></pre>\n<p>The empty line comes from the fact that for the A value in the conditional expression above, we specified nothing (there was nothing between the two commas <code>,,</code>) when the session to which we're currently attached is listed.</p>\n<p>That means we still have something to filter out, with <code>grep</code>, but it becomes simpler, with the briefest of patterns needed for <code>grep</code>, to match and filter out (with <code>-v</code>) empty lines: <code>^$</code> - i.e. &quot;the start of the line followed immediately by the end of the line&quot;. Like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">tmux list-sessions -F <span class=\"token string\">'#{?session_attached,,#{session_name}}'</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -v <span class=\"token string\">'^$'</span></code></pre>\n<p>This produces:</p>\n<pre><code>tmux experiments\nwriting\n</code></pre>\n<p>which then can be passed as before into <code>fzf</code> for selection.</p>\n<h2 id=\"wrapping-up\" tabindex=\"-1\">Wrapping up <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/6/8/tmux-output-formatting/#wrapping-up\" aria-hidden=\"true\">#</a></h2>\n<p>This is in no way an attempt to &quot;better&quot; Waylon's post - far from it. It's a different way of approaching things, but most importantly, it's a classic example of folks learning together and from each other. Thanks Waylon, I'm looking forward to learning more from what you share.</p>\n",
      "date_published": "2021-08-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/26/7/reopening-pull-requests-and-github-actor/",
      "url": "https://qmacro.org/blog/2021/26/7/reopening-pull-requests-and-github-actor/",
      "title": "Reopening pull requests and GITHUB_ACTOR",
      "content_html": "<p><em>Today I learned that the <code>GITHUB_ACTOR</code> on a re-opened pull request reflects the person re-opening it, not the original creator.</em></p>\n<p>Over on the <a href=\"https://github.com/SAP-docs/contribution-guidelines\">Community Guidelines</a> content for SAP's <a href=\"https://blogs.sap.com/2021/05/20/introducing-the-open-documentation-initiative/\">Open Documentation Initiative</a> there was a <a href=\"https://github.com/SAP-docs/contribution-guidelines/pull/64\">recent pull request</a> (PR) that was opened by user <code>cyberpinguin</code>.</p>\n<p>We have a GitHub Actions workflow <a href=\"https://github.com/SAP-docs/contribution-guidelines/blob/main/.github/workflows/disallowed-content-checks.yaml\">Disallowed content checker</a> that ensures that contributions coming in via PRs are targeting the appropriate content. The workflow <a href=\"https://github.com/SAP-docs/contribution-guidelines/runs/2953360170?check_suite_focus=true\">was duly triggered</a>, as expected, and appropriately <a href=\"https://github.com/SAP-docs/contribution-guidelines/pull/64#issuecomment-871460299\">alerted</a> the user that the contribution was outside of the desired target location.</p>\n<p>We want to allow administrators of the repo to be able to maintain content across the whole repo, rather than restrict them, and we want those who are not administrators to be restricted. We do this by checking the collaborator permissions, using the <a href=\"https://docs.github.com/en/rest/reference/repos#get-repository-permissions-for-a-user\">Collaborators</a> section of the GitHub API, like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">gh api <span class=\"token punctuation\">\\</span><br />  --jq .permission <span class=\"token punctuation\">\\</span><br />  <span class=\"token string\">\"/repos/<span class=\"token variable\">$GITHUB_REPOSITORY</span>/collaborators/<span class=\"token variable\">$GITHUB_ACTOR</span>/permission\"</span></code></pre>\n<p>So far so good.</p>\n<p>Shortly after opening the PR, the user <a href=\"https://github.com/SAP-docs/contribution-guidelines/pull/64#event-4983349361\">closed</a> it (by mistake, I think), and it was <a href=\"https://github.com/SAP-docs/contribution-guidelines/pull/64#event-4987076185\">re-opened</a> by my colleague and fellow Contribution Guidelines administrator <a href=\"https://github.com/je-hal\">Jens</a>. As a result of this re-opening of the PR, the workflow was triggered again.</p>\n<p>However, this time, no disallowed content alert was raised. Why was this?</p>\n<p>Looking at <a href=\"https://github.com/SAP-docs/contribution-guidelines/runs/3006185835?check_suite_focus=true\">the execution for that workflow run</a>, it's clear that the steps that would have caused an alert to be issued were skipped; the skip logic looks like this:</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> check_files_changed<br />  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checks if disallowed content has been changed<br />  <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> env.repo_permission <span class=\"token tag\">!=</span> 'admin'<br />  <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> dorny/paths<span class=\"token punctuation\">-</span>filter@v2<br />  <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">list-files</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'shell'</span><br />    <span class=\"token key atrule\">filters</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"><br />      disallowed:<br />        - '!docs/**'</span><br /><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> comment_on_disallowed<br />  <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> steps.check_files_changed.outputs.disallowed == 'true'<br />  <span class=\"token punctuation\">...</span></code></pre>\n<p>So it would seem that the permissions for the <code>GITHUB_ACTOR</code> in this subsequent execution were 'admin'. Why?</p>\n<p>Because, as it turns out (and I confirmed this with a simple test just now) the value of <code>GITHUB_ACTOR</code> is set to the user who opens -- or re-opens -- a PR. In this case it was Jens, an administrator.</p>\n<p>This is not what I'd expected, so I thought I'd write it up and share it.</p>\n",
      "date_published": "2021-07-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/21/7/unix-tooling-join-don-t-extend/",
      "url": "https://qmacro.org/blog/2021/21/7/unix-tooling-join-don-t-extend/",
      "title": "Unix tooling - join, don&#39;t extend",
      "content_html": "<p><em>Reading a paper from 1984 has helped crystallise an important axiom in Unix tool design, so much so that I found myself referring to it today when scripting.</em></p>\n<p>Rob Pike and Brian Kernighan authored a paper in 1984 titled &quot;<a href=\"https://nymity.ch/sybilhunting/pdf/Pike1983a.pdf\">Program design in the UNIX environment</a>&quot;. In it, they explore the difference between adding features to existing programs, and achieving the same effect through connecting programs together.</p>\n<p>It's not unusual to read about the UNIX philosophy of &quot;small programs, loosely joined&quot;, about the power of small, single-responsibility programs doing one thing and doing it well, used together to form something greater than merely the sum of its parts.</p>\n<p>What really jumped out at me was the thinly veiled scorn poured onto some design decisions relating to the Berkeley distribution version of the humble <code>ls</code> command, design decisions ultimately based on a form of narrow thinking, rather than consideration of the UNIX environment - particularly the shell and the user space programs - as being the most important &quot;meta tool&quot;.</p>\n<p>I won't try to summarise what that paper says about those extensions to <code>ls</code>, I would rather encourage you to go and read the paper yourself - it's only 7 pages. Instead, I'll relate a small example from today of how the paper has helped me remember the difference between focusing on a single tool to the detriment of the rest of the tools in the environment, and thinking about the entire environment as a single entity.</p>\n<p>I have a small script, <a href=\"https://github.com/qmacro/dotfiles/blob/master/scripts/skv\"><code>skv</code></a> which is short for &quot;service key value&quot;, which returns a value from a property within a JSON dataset representing a (Cloud Foundry) service key. In retrospect, calling it <code>skv</code> was a little short-sighted, because it would work on any JSON dataset, not just service keys. I guess that's another example of (not) thinking about the environment as the real &quot;meta tool&quot;. But I digress.</p>\n<p>Today I've been using <code>skv</code> to grab OAuth-related values (client ID, client secret, and so on) from a JSON dataset and use them to construct URLs to follow an OAuth authorisation code flow. Some of those values are put into the query string of the URLs I'm constructing, and so I need to be careful to URL encode them.</p>\n<p>My first reaction was to go into the source code of the <code>skv</code> script to add a switch, say, <code>-u</code>, along with the corresponding logic, so that I could ask, when invoking <code>skv</code>, that the value be returned URL encoded.</p>\n<p>I'm happy to say that a second after having this reaction, I felt almost horrified that I was about to do exactly what those Berkeley authors did, and add an unnecessary switch to a single program. I already have <code>urlencode</code> available to me in my environment, so to get a URL encoded value from the JSON dataset, I'd just have to do something like this:</p>\n<pre><code>skv uaa.clientid | urlencode\n</code></pre>\n<p>This is only a trivial example, and there's a difference because here I'm just stringing together commands in Bash scripts, but I think the principle still holds here. I feel that this approach is embracing the UNIX approach described in the paper.</p>\n<p>What's more, there was nothing stopping me encapsulating the pipeline-based use of these two simple tools (<code>skv</code> and <code>urlencode</code>) in a little script <code>skvu</code>, that I could use to save some keystrokes:</p>\n<pre><code>urlencode &quot;$(skv &quot;$*&quot;)&quot;\n</code></pre>\n<p>In fact here I've re-jigged how these two commands work together, as the version of <code>urlencode</code> I settled on works on a value passed as an argument, rather than passed via STDIN. But the beauty of the shell means that this just means I have to express my intention in a way that echoes that approach.</p>\n<p>Anyway, that's all I wanted to share here - it's not a crazily interesting and little-understood corner of the UNIX church that I'm discovering here, merely the delight in something resonating with me to the extent that the strong reverberations carried through to something that I was actually doing, without consciously thinking of what I'd read.</p>\n<p>I hope you enjoy the paper as much as I did!</p>\n",
      "date_published": "2021-07-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/20/7/early-thoughts-on-warp/",
      "url": "https://qmacro.org/blog/2021/20/7/early-thoughts-on-warp/",
      "title": "Early thoughts on Warp",
      "content_html": "<p><em>Here are some very early thoughts on Warp, the &quot;pro terminal designed for everyday use&quot;.</em></p>\n<p>Today I was <a href=\"https://twitter.com/Fidschenheimer/status/1417416096131518469\">pointed</a> in Warp's direction on Twitter by <a href=\"https://twitter.com/Fidschenheimer\">Christian Pfisterer</a> and <a href=\"https://twitter.com/ceedee666\">Christian Drumm</a>.</p>\n<p>To quote <a href=\"https://www.warp.dev/\">Warp's website</a>:</p>\n<blockquote>\n<p>Warp is a blazingly fast, Rust-based terminal that makes you and your team more productive at coding and DevOps.</p>\n</blockquote>\n<p>It's a fascinating venture, for many reasons. While the team is not looking to reinvent the entire terminal, a lot of what they describe feels &quot;foreign&quot; to me, as a long time terminal user (who <a href=\"https://qmacro.org/2020/11/03/computer-unit-1979/\">started out</a> on a paper-based Superterm Data Communications Terminal hooked up to a PDP-11). I've read the <a href=\"https://blog.warp.dev/how-warp-works/\">How it works</a> post, which is great. Here are some random thoughts on that, and also on the <a href=\"https://youtu.be/X0LzWAVlOC0\">Warp beta welcome</a> video.</p>\n<h2 id=\"speed\" tabindex=\"-1\">Speed <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/20/7/early-thoughts-on-warp/#speed\" aria-hidden=\"true\">#</a></h2>\n<p>Warp is designed from the outset to be fast; written in Rust (a language designed in part with a major focus on performance) and using the GPU for rendering (which, to be fair, other terminal programs also do, such as my current terminal program of choice, <a href=\"https://sw.kovidgoyal.net/kitty/\">kitty</a>).</p>\n<p>What struck me is how far away my brain is from the sort of speed that this team is talking about; while I guess I still about terminal speed in terms of baud, and based on characters, the measurement for Warp is in frames per second; not only that, it's in the early gaming ballpark of 60fps. It feels a little odd thinking about a terminal in those terms.</p>\n<h2 id=\"input-affordances\" tabindex=\"-1\">Input affordances <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/20/7/early-thoughts-on-warp/#input-affordances\" aria-hidden=\"true\">#</a></h2>\n<p>The <a href=\"https://docs.warp.dev/features/the-input-editor\">input editor</a> is effectively reinvented. I'm in two minds about this; moreover, one of those minds is awash with ignorance and uncertainty. First and most importantly, the editing capabilities on command lines today, at least in popular shells such as Bash and ZSH, are very advanced already. I'm not talking about what perhaps most people use - the default Emacs based editing facilities, which I think the demo is comparing Warp to - but the Vi based ones.</p>\n<p>While I do like the idea of being able to more comfortably edit multiple lines, the other features feel rather redundant. With a <a href=\"https://github.com/qmacro/dotfiles/blob/master/bashrc.d/00-shell.sh#L1\">simple</a> <code>set -o vi</code> I am in total control of how I edit, fix, rearrange and generally prepare my input. Very powerful.</p>\n<p>The other mind is wondering about how this translates to remote sessions. The beauty of standard tools and shell facilities means that I can have exactly the same experience whether I'm local, or remote, via an ssh-based connection, to a machine elsewhere on the network, or to a container in a Kubernetes cluster.</p>\n<p>Will the input editor allow this to happen in these remote contexts too? The <a href=\"https://docs.warp.dev/features/ssh\">SSH</a> section does seem to say that this is possible, but I'm also wondering about whether that is also valid for ssh sessions within <a href=\"https://github.com/tmux/tmux/wiki\">tmux</a> panes?</p>\n<h2 id=\"blocks-of-commands\" tabindex=\"-1\">Blocks of commands <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/20/7/early-thoughts-on-warp/#blocks-of-commands\" aria-hidden=\"true\">#</a></h2>\n<p>Another feature of the Warp terminal, very nicely demonstrated in the video, is the concept of <a href=\"https://docs.warp.dev/features/blocks\">blocks</a>. This makes a lot of sense to me, and I can imagine already how it will help me visually move up and down examining and working with previous commands and their output.</p>\n<p>What worries me slightly is that it looks, at least from the demo, that I'll have to use the mouse if I want to scroll further up, via the &quot;snackbar&quot; (I'm not sure why it's called that, chalk another item down to my ignorance). I wonder if I'll be able to use the terminal as a terminal (yes, that's deliberately provocative) and keep my hands where they belong - on the keyboard?</p>\n<h2 id=\"the-future-is-terminal\" tabindex=\"-1\">The future is terminal <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/20/7/early-thoughts-on-warp/#the-future-is-terminal\" aria-hidden=\"true\">#</a></h2>\n<p>Whatever the answers to these questions turn out to be (and please note that I've not seen or tried out Warp for myself yet - I've added myself to the list requesting beta access when it's available), there's one thing that I'm very happy to see.</p>\n<p>And that's fresh thinking and energy going into what I think is one of the most misunderstood superpowers of today's computing space. So whatever this team comes up with, it's an automatic thumbs up for me. I may come to enjoy all Warp's features, or I may only like some of them. But I love the focus and <a href=\"https://www.warp.dev/about-us\">brain power</a> that's going into Warp.</p>\n<p>Here's a picture of Warp, from the very interesting <a href=\"https://blog.warp.dev/how-warp-works/\">How Warp works</a> article I mentioned earlier.</p>\n<p>![A picture of Warp](<a href=\"https://blog.warp.dev/content/images/2021/07/pasted-image-0-2.png\">https://blog.warp.dev/content/images/2021/07/pasted-image-0-2.png</a> }})</p>\n<p>Make it so!</p>\n",
      "date_published": "2021-07-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/14/6/the-apc-smt750ic-ups-works-with-the-synology-nas-ds1621/",
      "url": "https://qmacro.org/blog/2021/14/6/the-apc-smt750ic-ups-works-with-the-synology-nas-ds1621/",
      "title": "The APC SMT750IC UPS works with the Synology NAS DS1621+",
      "content_html": "<p><em>I've successfully configured this setup, and the USB connection from the UPS to the NAS does indeed work to tell the NAS to shut down.</em></p>\n<p>TL;DR - My Synology DS1621+ NAS recognises the USB-connected APC SMT750IC UPS and will shut itself down on signals sent from it.</p>\n<p>Since buying my Synology NAS DS1621+ a few weeks ago, we've had one power outage in the village. I'd been musing on the idea of getting a UPS for the NAS, and this event helped me come to a decision (a little late, perhaps, but there you go). It took me longer than it should have done to work out which UPS might be applicable and compatible. I couldn't find definitive confirmation that the UPS I was looking at was going to work with the NAS; in particular, I wanted to be as sure as I could that the USB connection would indeed be recognised by the NAS, which would receive power event signals and shut itself down as appropriate when the UPS had to switch to battery power.</p>\n<p>Synology maintain a <a href=\"https://www.synology.com/en-us/compatibility?search_by=products&amp;model=DS1621%2B&amp;category=upses&amp;p=1&amp;change_log_p=1\">Compatibility List</a> and the APC Smart-UPS SMT750IC is indeed in there, with the value &quot;Vendor Recommended&quot; in the &quot;Tested by&quot; column. Reading around, I got the impression that this indeed meant what I suspected it meant, i.e. Synology themselves hadn't tested it, but instead were relying on APC to tell them. While I had no reason to doubt APC, I am fond of the proverb <em>Доверяй, но проверяй</em> (<a href=\"https://en.wikipedia.org/wiki/Trust,_but_verify\">Trust, but verify</a>) and needed more solid evidence, especially before splashing out the <a href=\"https://www.amazon.co.uk/gp/product/B07DM6BPM2/\">£300+</a> on the device (shipping it back might also have been a pain, due to its extreme weight).</p>\n<p>I'd seen a few bits and pieces about the SMT750IC model's predecessor, the SMT750I, and some evidence that folks were successfully using this older SMT750I model with their Synology NAS devices, including the USB-based shutdown flows. My research told me that the &quot;C&quot; suffix on the newer model represented a new cloud enabled feature, described in the blurb thus: &quot;APC SmartConnect is a proactive remote UPS cloud monitoring feature that is accessible from any internet connected device&quot;. I'd also seen some vague confirmation that alongside some minor performance improvements, this cloud feature was really the only difference.</p>\n<p>So it would seem reasonable to assume that the SMT750IC was going to be OK. But viewing the ports on the back of each device showed me that the USB connection was different (you can also see the green-coloured ethernet port on the SMT750IC relating to its &quot;cloud enabled&quot; feature):</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/06/smt-devices-rear.png\" alt=\"The backs of each of the SMT750I and SMT750IC\" /></p>\n<p>Was this USB port difference significant? It was hard to tell. Perhaps the USB port on the SMT750I was a type B for a reason? Had the USB support on the SMT750IC changed?</p>\n<p>Further research suggested that on the one hand, if the APC &quot;Powerchute&quot; software was supported by the UPS, it was likely to work with the NAS, mostly because of Synology's support for the <a href=\"https://networkupstools.org/\">Network UPS Tools (NUT) standard</a>. But then I read elsewhere that this standard had multiple implementations, so it wasn't a certainty by any means.</p>\n<p>In the end, I <a href=\"https://www.amazon.co.uk/ask/questions/Tx32WEPA58FDXDS/ref=ask_dp_dpmw_al_hza\">asked on the Amazon product page</a>, and also called their UK support centre. Both avenues resulted in a positive outcome - I got a positive reply from APC Customer Care and also from the user &quot;Pegasus&quot;, and the person on the phone also confirmed this.</p>\n<p>So if you're in the same situation as I was, perhaps this post will help.</p>\n<p>Here are some screenshots of when I tested the UPS and NAS, removing the power from the UPS so that it switched to battery mode.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/06/ups-recognised.png\" alt=\"The UPS settings on the NAS, showing the UPS is recognised via USB\" /></p>\n<p>The UPS settings on the NAS, showing the UPS is recognised via USB.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/06/cloud-status-power.png\" alt=\"The UPS's normal status showing via the &quot;cloud enabled&quot; feature on APC's website\" /></p>\n<p>The UPS's normal status showing via the &quot;cloud enabled&quot; feature on APC's website.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/06/ups-shutdown-display.jpeg\" alt=\"The UPS's front panel display shortly after I removed the power\" /></p>\n<p>The UPS's front panel display shortly after I removed the power.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/06/ups-alert-on-nas.png\" alt=\"The alert on the NAS when the UPS has switched to battery mode\" /></p>\n<p>The alert on the NAS when the UPS has switched to battery mode.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/06/cloud-status-battery.png\" alt=\"The UPS's warning status showing via the &quot;cloud enabled&quot; feature on APC's website when the UPS is in battery mode\" /></p>\n<p>The UPS's warning status showing via the &quot;cloud enabled&quot; feature on APC's website when the UPS is in battery mode.</p>\n",
      "date_published": "2021-06-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/",
      "url": "https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/",
      "title": "Remote access to Docker on my Synology NAS",
      "content_html": "<p><em>Here's what I did to enable remote access to the Docker install on my Synology NAS.</em></p>\n<p>This post describes the steps I took to set up remote access to Docker running on my NAS, in the simplest and &quot;smallest footprint&quot; possible way I could find. There are other approaches, but this is what I did. It was a little less obvious than one might have expected, because of the way the Docker service is hosted on the NAS's operating system, and I ended up having to read around (see the reading list at the end).</p>\n<h2 id=\"introduction\" tabindex=\"-1\">Introduction <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#introduction\" aria-hidden=\"true\">#</a></h2>\n<p>Having followed the container revolution for a while, I've become more and more enamoured with the idea of disposable workspaces, services and apps that can be instantly reified and leave no trace when they're gone. This was one of the reasons I opted for a Synology NAS, my first NAS device (see <a href=\"https://qmacro.org/2021/05/22/adding-a-drive-to-my-synology-nas/\">Adding a drive to my Synology NAS</a>), because it is to act not only as a storage device, but as a container server.</p>\n<p>The Docker experience out of the box with the NAS's operating system, DiskStation Manager (DSM), is very pleasant, via a graphical user interface. I've been very happy with the way it works, especially in the initial discovery phase.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/06/docker-gui.png\" alt=\"A screenshot of the Docker app installed on the Synology NAS, showing two running containers\" /></p>\n<p>But for this old mainframe and Unix dinosaur, a command line interface with access to a myriad remote servers is a much more appealing prospect, and the separation of client and server executables in Docker plays to the strengths of such a setup. So I wanted to use my Docker command line interface (CLI) <code>docker</code> to interact with the resources on the Synology NAS's Docker service. Not only for the sheer convenience, but also to be able to spin up CLIs and TUIs, as remote containers, and have seamless access to them from the comfort of my local machine's command line.</p>\n<h2 id=\"setup-steps\" tabindex=\"-1\">Setup steps <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#setup-steps\" aria-hidden=\"true\">#</a></h2>\n<p>Here's what I did, starting from the Docker package already installed and running on the NAS.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/06/docker-package.png\" alt=\"A screenshot of the Docker package installed on the NAS\" /></p>\n<p>From a command line perspective, this out of the box installation also gave me access to be able to run the <code>docker</code> client CLI while remotely logged into the NAS, but only as root, i.e. directly, or via <code>sudo</code> as shown in this example:</p>\n<pre><code>; ssh ds1621plus\nadministrator@ds1621plus:~$ sudo docker -v\nPassword:\nDocker version 20.10.3, build b35e731\nadministrator@ds1621plus:~$ sudo docker image ls\nREPOSITORY                     TAG       IMAGE ID       CREATED       SIZE\nhomeassistant/home-assistant   latest    832ca33fe14a   4 weeks ago   1.1GB\nlinuxserver/freshrss           latest    09ffc08f14fe   4 weeks ago   120MB\nadministrator@ds1621plus:~$\n</code></pre>\n<h3 id=\"allow-access-as-non-root-user\" tabindex=\"-1\">Allow access as non-root user <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#allow-access-as-non-root-user\" aria-hidden=\"true\">#</a></h3>\n<p>The first thing I wanted to do is to allow myself to run the <code>docker</code> CLI as a non-root user; in my case (as in many basic Synology NAS contexts) this is the as the <code>administrator</code> user.</p>\n<p>In the standard Docker <a href=\"https://docs.docker.com/engine/install/linux-postinstall/\">Post-installation steps for Linux</a>, there's a specific section for this: <a href=\"https://docs.docker.com/engine/install/linux-postinstall/#manage-docker-as-a-non-root-user\">Manage Docker as a non-root user</a>. However, due to the way that users and groups are managed in DSM, this specific approach didn't work; there was no <code>docker</code> group that had been created, to which the <code>administrator</code> user could be added, and manually adding the group wasn't the right approach either, not least because DSM doesn't sport a <code>groupadd</code> command.</p>\n<p>In fact, there are DSM specific commands for managing local users, groups, network settings and more. They all begin <code>syno</code> and are described in the <a href=\"https://global.download.synology.com/download/Document/Software/DeveloperGuide/Firmware/DSM/All/enu/Synology_DiskStation_Administration_CLI_Guide.pdf\">CLI Administrator Guide for Synology NAS</a>.</p>\n<p>So here's what I did. I'm a check-before-and-after kind of person, so some of these steps aren't essential, but they helped me to go carefully.</p>\n<h4 id=\"check-docker-group-doesn't-already-exist\" tabindex=\"-1\">Check docker group doesn't already exist <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#check-docker-group-doesn't-already-exist\" aria-hidden=\"true\">#</a></h4>\n<p>First, I wanted to check that I wasn't about to clobber any existing <code>docker</code> group:</p>\n<pre><code>administrator@ds1621plus:~$ grep -i docker /etc/group\nadministrator@ds1621plus:~$\n</code></pre>\n<p>Nope, no existing <code>docker</code> group, at least in the regular place.</p>\n<h4 id=\"add-the-docker-group-with-the-administrator-user-as-a-member\" tabindex=\"-1\">Add the docker group, with the administrator user as a member <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#add-the-docker-group-with-the-administrator-user-as-a-member\" aria-hidden=\"true\">#</a></h4>\n<p>Time to create the group then, using the DSM specific command; I specified the <code>administrator</code> user to be added directly, as I did it:</p>\n<pre><code>administrator@ds1621plus:~$ sudo synogroup --add docker administrator\nGroup Name: [docker]\nGroup Type: [AUTH_LOCAL]\nGroup ID:   [65538]\nGroup Members:\n0:[administrator]\n</code></pre>\n<p>Checking to see if the group was now listed in <code>/etc/group</code> confirmed that these DSM specific commands weren't doing anything out of the ordinary:</p>\n<pre><code>administrator@ds1621plus:~$ grep -i docker /etc/group\ndocker:x:65538:administrator\n</code></pre>\n<p>Great, the <code>docker</code> group now exists, with <code>administrator</code> as a member.</p>\n<h4 id=\"change-the-group-owner-of-the-docker-socket\" tabindex=\"-1\">Change the group owner of the Docker socket <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#change-the-group-owner-of-the-docker-socket\" aria-hidden=\"true\">#</a></h4>\n<p>The <a href=\"https://docs.docker.com/engine/install/linux-postinstall/#manage-docker-as-a-non-root-user\">Manage Docker as a non-root user</a> steps mentioned earlier showed that this is pretty much all one needs to do on a standard Docker-on-Linux install. However, there was an extra step needed on DSM, to actually assign to this new <code>docker</code> group access to the Unix socket that Docker uses.</p>\n<p>Before I did this, I wanted to see what the standard situation was:</p>\n<pre><code>administrator@ds1621plus:~$ ls -l /var/run/ | grep docker\ndrwx------ 8 root         root             200 Jun 10 17:40 docker\n-rw-r--r-- 1 root         root               5 Jun 10 17:40 docker.pid\nsrw-rw---- 1 root         root               0 Jun 10 17:40 docker.sock\n</code></pre>\n<p>The socket (<code>docker.sock</code>) in <code>/var/run/</code> was owned by <code>root</code> as user and <code>root</code> as group. This meant that no amount of membership of the <code>docker</code> group was going to get the <code>administrator</code> user any closer to being able to interact with Docker.</p>\n<p>So I changed the group ownership to <code>docker</code>:</p>\n<pre><code>administrator@ds1621plus:~$ sudo chown root:docker /var/run/docker.sock\nadministrator@ds1621plus:~$ ls -l /var/run/ | grep docker\ndrwx------ 8 root         root             200 Jun 10 17:40 docker\n-rw-r--r-- 1 root         root               5 Jun 10 17:40 docker.pid\nsrw-rw---- 1 root         docker             0 Jun 10 17:40 docker.sock\n</code></pre>\n<h4 id=\"test-non-root-user-access\" tabindex=\"-1\">Test non-root user access <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#test-non-root-user-access\" aria-hidden=\"true\">#</a></h4>\n<p>Now for the big moment. I logged out and back in again (for the new group membership to take effect) and tried a <code>docker</code> command:</p>\n<pre><code>administrator@ds1621plus:~$ logout\nConnection to ds1621plus closed.\n# ~\n; ssh ds1621plus\nadministrator@ds1621plus:~$ docker image ls\nREPOSITORY                     TAG       IMAGE ID       CREATED       SIZE\nhomeassistant/home-assistant   latest    832ca33fe14a   3 weeks ago   1.1GB\nlinuxserver/freshrss           latest    09ffc08f14fe   4 weeks ago   120MB\n</code></pre>\n<p>Success!</p>\n<h3 id=\"setting-up-ssh-access-and-a-docker-context\" tabindex=\"-1\">Setting up SSH access and a Docker context <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#setting-up-ssh-access-and-a-docker-context\" aria-hidden=\"true\">#</a></h3>\n<p>Now that I was able to safely interact with Docker on the NAS, I turned my attention to doing that remotely.</p>\n<p>Elsewhere in the Docker documentation, there's <a href=\"https://docs.docker.com/engine/security/protect-access/\">Protect the Docker daemon socket</a> which has tips on using either SSH or TLS to do so. I'd already established public key based SSH access from my local machine to the NAS, and maintain SSH configuration for various hosts (which you can see in my <a href=\"https://github.com/qmacro/dotfiles/blob/master/ssh/config\">dotfiles</a>). So the SSH route was appealing to me.</p>\n<p>The idea of this SSH access is to connect to the remote Docker service via <code>ssh</code> and run <code>docker</code> like that, remotely.</p>\n<p>However, trying a basic connection failed at first; running a simple <code>ssh</code>-based invocation of <code>docker</code> on the remote machine (<code>ssh ds1621plus docker -v</code>) resulted in an error that ended like this:</p>\n<p>&quot;<em>Exit status 127, please make sure the URL is valid, and Docker 18.09 or later is installed on the remote host: stderr=sh: docker: command not found</em>&quot;</p>\n<p>In desperation I even tried explicit values (<code>ssh -l administrator -p 2222 ds1621plus docker -v</code>) but got the same message.</p>\n<p>It turns out that on SSH access, the environment variables are not set the same as when you connect via <code>ssh</code> for an actual login session. Crucially, the value of the <code>PATH</code> environment variable was rather limited. Here's the entirety of the environment on an <code>ssh</code> based invocation of <code>env</code>:</p>\n<pre><code>; ssh ds1621plus env\nSHELL=/bin/sh\nSSH_CLIENT=192.168.86.50 54644 2222\nUSER=administrator\nMAIL=/var/mail/administrator\nPATH=/usr/bin:/bin:/usr/sbin:/sbin\nPWD=/volume1/homes/administrator\nSHLVL=1\nHOME=/var/services/homes/administrator\nLOGNAME=administrator\nSSH_CONNECTION=192.168.86.50 54644 192.168.86.155 2222\n_=/usr/bin/env\n</code></pre>\n<p>We can see that there are only four directories in the <code>PATH</code>: <code>/usr/bin</code>, <code>/bin</code>, <code>/usr/sbin</code> and <code>/sbin</code>.</p>\n<p>On the NAS, the <code>docker</code> client executable was in <code>/usr/local/bin</code>, not in the <code>PATH</code>; this was the cause of the error above - via a simple <code>ssh</code> invocation, the <code>docker</code> command wasn't found.</p>\n<p>So I had to address this, and I did via SSH's &quot;user environment&quot; feature.</p>\n<h4 id=\"turn-on-user-environment-support-in-sshd\" tabindex=\"-1\">Turn on user environment support in sshd <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#turn-on-user-environment-support-in-sshd\" aria-hidden=\"true\">#</a></h4>\n<p>SSH and its implementation, on client and server, is extremely accomplished, which is code for &quot;there's so much about SSH I don't yet know&quot;. One thing I learned about in this mini adventure is that the SSH daemon has support for &quot;user environments&quot;, via the <code>.ssh/environment</code> file, which is described in the <a href=\"http://man.openbsd.org/sshd.8#FILES\">FILES section of the sshd documentation</a>.</p>\n<p>Basically, setting the <code>PATH</code> to include <code>/usr/local/bin</code>, via this support for user environments, was exactly what I needed. What's more, I was not having to &quot;hack&quot; anything on the NAS (such as copying or symbolic-linking <code>docker</code> to another place so that it would be accessible) that I might regret later.</p>\n<p>First, though, I needed to turn on user environment support on the SSH daemon service on the NAS. For this, I uncommented <code>PermitUserEnvironment</code> in <code>/etc/ssh/sshd_config</code> and set the value to <code>yes</code>, with this result:</p>\n<pre><code>administrator@ds1621plus:~$ sudo grep PermitUserEnvironment /etc/ssh/sshd_config\nPermitUserEnvironment yes\n</code></pre>\n<p>I then restarted the NAS; I could have messed around finding a neater way just to restart the SSH daemon, but I'd read about some other gotchas doing this, and I was the only one using the NAS at the time, so I went for it.</p>\n<h4 id=\"add-the-location-of-the-docker-executable-in-the-path-variable-via-.sshenvironment\" tabindex=\"-1\">Add the location of the docker executable in the PATH variable via .ssh/environment <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#add-the-location-of-the-docker-executable-in-the-path-variable-via-.sshenvironment\" aria-hidden=\"true\">#</a></h4>\n<p>Now I could use the <code>.ssh/environment</code> file in the <code>administrator</code> user's home directory to set the value of the <code>PATH</code> environment variable to what I needed.</p>\n<p>To do this, I just started a remote login session on the NAS via <code>ssh</code>, and asked <code>env</code> to tell me what this was and also write it to the <code>.ssh/environment</code> file directly:</p>\n<pre><code>; ssh ds1621plus\nadministrator@ds1621plus:~$ env | grep PATH | tee .ssh/environment\nPATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/syno/sbin:/usr/syno/bin:/usr/local/sbin:/usr/local/bin\nadministrator@ds1621plus:~$\n</code></pre>\n<p>And that was it; when running commands remotely via <code>ssh</code>, this <code>PATH</code> value was now applicable. So the remote invocation of <code>docker</code> now worked:</p>\n<pre><code>; ssh ds1621plus docker -v\nDocker version 20.10.3, build b35e731\n</code></pre>\n<h4 id=\"create-a-docker-context\" tabindex=\"-1\">Create a Docker context <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#create-a-docker-context\" aria-hidden=\"true\">#</a></h4>\n<p>This final step was just for convenience, but worth it. With a context, I can avoid having to use <code>ssh</code> explicitly to interact with Docker on the NAS remotely.</p>\n<p>It's described in <a href=\"https://docs.docker.com/engine/security/protect-access/\">Use SSH to protect the Docker daemon socket</a> mentioned earlier, so I'll just show here what I did.</p>\n<p>Create the context:</p>\n<pre><code>; docker context create \\\n  --docker host=ssh://administrator@ds1621plus \\\n  --description=&quot;Synology NAS&quot; \\\n  synology\n</code></pre>\n<p>List the contexts, and select the new <code>synology</code> context for use:</p>\n<pre><code>; docker context list\nNAME                TYPE                DESCRIPTION                               DOCKER ENDPOINT                  KUBERNETES ENDPOINT                                                     ORCHESTRATOR\ndefault *           moby                Current DOCKER_HOST based configuration   unix:///var/run/docker.sock      https://api.c-681fdc3.kyma.shoot.live.k8s-hana.ondemand.com (default)   swarm\nsynology            moby                Synology NAS                              ssh://administrator@ds1621plus\n# ~\n; docker context use synology\nsynology\n# ~\n; docker image ls\nREPOSITORY                     TAG       IMAGE ID       CREATED       SIZE\nhomeassistant/home-assistant   latest    832ca33fe14a   4 weeks ago   1.1GB\nlinuxserver/freshrss           latest    09ffc08f14fe   4 weeks ago   120MB\n</code></pre>\n<p>Note that last command <code>docker image ls</code>; I invoked that on my client machine, but because of the context set, and the SSH based connection set up, the target was the Docker engine running on the Synology NAS. Success!</p>\n<h2 id=\"references\" tabindex=\"-1\">References <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/12/6/remote-access-to-docker-on-my-synology-nas/#references\" aria-hidden=\"true\">#</a></h2>\n<p>Here's what I read to find my way through this. Documents referenced in this post are also included here.</p>\n<ul>\n<li><a href=\"https://docs.docker.com/engine/security/protect-access/\">Protect the Docker daemon socket</a></li>\n<li><a href=\"https://github.com/docker/machine/issues/1200\">Feature request: add driver for Synology</a></li>\n<li><a href=\"https://github.com/microsoft/vscode-remote-release/issues/3748\">Remote Docker version not detected correctly</a></li>\n<li><a href=\"https://www.synoforum.com/threads/permissions-for-user-to-run-docker.3536/\">Permission for User to run Docker?</a></li>\n<li><a href=\"https://global.download.synology.com/download/Document/Software/DeveloperGuide/Firmware/DSM/All/enu/Synology_DiskStation_Administration_CLI_Guide.pdf\">CLI Administrator Guide for Synology NAS</a></li>\n<li><a href=\"http://man.openbsd.org/sshd.8\">OpenBSD manual page server for sshd</a></li>\n</ul>\n",
      "date_published": "2021-06-12T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/22/5/adding-a-drive-to-my-synology-nas/",
      "url": "https://qmacro.org/blog/2021/22/5/adding-a-drive-to-my-synology-nas/",
      "title": "Adding a drive to my Synology NAS",
      "content_html": "<p><em>A brief summary of how things went adding a drive to my Synology DS1621+ NAS.</em></p>\n<p>Earlier this month I took delivery of my first Network Attached Storage (NAS) device - a <a href=\"https://www.synology.com/en-uk/products/DS1621+\">Synology DS1621+</a>. It has 6 drive bays. Note that you can sort of tell this from the model number:</p>\n<ul>\n<li>DS: Disk Station (standalone, as opposed to rack mountable, for example)</li>\n<li>16: Maximum number of drives possible</li>\n<li>21: Model year</li>\n</ul>\n<p>Synology also offer an expansion unit, a <a href=\"https://www.synology.com/en-uk/products/DX517\">DX517</a> which has 5 drive bays, and you can attach two of them to the DS1621+ adding up to a total of 6 + (5 + 5) = 16.</p>\n<blockquote>\n<p>Thanks to <a href=\"https://twitter.com/koehntopp\">Frank</a> for answering all my early questions on Synology NAS systems.</p>\n</blockquote>\n<h2 id=\"initial-setup\" tabindex=\"-1\">Initial setup <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/22/5/adding-a-drive-to-my-synology-nas/#initial-setup\" aria-hidden=\"true\">#</a></h2>\n<p>I bought two Seagate IronWolf 4TB drives. I knew I wanted to go for the <a href=\"https://www.synology.com/en-global/knowledgebase/DSM/tutorial/Storage/What_is_Synology_Hybrid_RAID_SHR\">Synology Hybrid Raid</a> (SHR) disk arrangement (this has many advantages that appealed to me, not least the ability to add different sized drives in the future).</p>\n<p>SHR requires at least two drives, which is why two was the minimum purchase that made sense. But I also bought a couple more, a week later. It's amazing how cheap, relatively speaking, spinning disk storage has become.</p>\n<p>With the initial two drives, I'd set up a storage pool, following the instructions (it was pretty straightforward). Here's what the status of that storage pool looked like:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/storage-manager-storage-pool.png\" alt=\"Status of Storage Pool 1 with 2 drives\" /></p>\n<p>There are a few things that are worth noting here:</p>\n<ul>\n<li>SHR is using &quot;1-drive fault tolerance&quot; which basically means that the capacity of one entire drive is given over to data safety and not available for actual storage</li>\n<li>this is why the &quot;Total capacity&quot; is at 3.63TB - remember that disk sizes are a bit misleading, this is effectively what you get with a 4TB drive, minus 0.01TB for overhead</li>\n<li>the &quot;Used capacity&quot; is at 250.01GB, as I've created a single volume of 250GB so far in that storage pool</li>\n</ul>\n<h2 id=\"inserting-the-new-drive\" tabindex=\"-1\">Inserting the new drive <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/22/5/adding-a-drive-to-my-synology-nas/#inserting-the-new-drive\" aria-hidden=\"true\">#</a></h2>\n<p>Now the second two drives have arrived, I decided to add one of them to the existing storage pool. I'm thinking of using the second one as a &quot;Hot Spare&quot; and seeing how that goes, but that's for another time.</p>\n<p>So I added it to the caddy:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/drive-in-caddy.jpg\" alt=\"drive in caddy\" /></p>\n<p>I checked the specifications of the DS1621+ and noted that it supported hot swapping, so I could insert the drive and caddy back in as the device was running, which I did:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/inserting-drive-into-nas.jpg\" alt=\"inserting drive into NAS\" /></p>\n<p>A few moments later, I re-checked the storage manager and it showed me the new drive:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/storage-manager-overview.png\" alt=\"storage manager overview\" /></p>\n<p>Here's the newly inserted drive in a &quot;Not initialized&quot; state in the HDD/SDD list:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/storage-manager-hdd-sdd.png\" alt=\"storage manager HDD/SDD list\" /></p>\n<h2 id=\"adding-the-new-drive-to-the-storage-pool\" tabindex=\"-1\">Adding the new drive to the storage pool <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/22/5/adding-a-drive-to-my-synology-nas/#adding-the-new-drive-to-the-storage-pool\" aria-hidden=\"true\">#</a></h2>\n<p>Now the drive was known, I could add it to the storage pool. I did this with the &quot;Action -&gt; Add drive&quot; menu item in the storage pool window, and the flow was fairly predictable, starting with the drive selection:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/storage-manager-storage-pool-add-drive-a.png\" alt=\"adding the new drive - choosing the drive\" /></p>\n<p>After a warning about any data being erased on the new drive, I was presented with a summary before proceeding:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/storage-manager-storage-pool-add-drive-b.png\" alt=\"adding the new drive - summary\" /></p>\n<p>The result was as expected. The storage pool had this new drive listed, and went into an &quot;Expanding&quot; status (note the capacity is not yet shown as being increased):</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/storage-manager-storage-pool-after-add.png\" alt=\"the third drive shown in the storage pool, which was now being expanded\" /></p>\n<p>Checking back over in the &quot;HDD/SDD&quot; display, the drive status has gone from &quot;Not initialized&quot; to &quot;Healthy&quot;, and is showing an assignment to Storage Pool 1.</p>\n<p>That was pretty much it - it wasn't an unexpected flow, but I was curious as to what would happen and how it would happen. Perhaps this helps someone who is also wondering. I've been writing this as I've been working through the flow, and now I've come to the end of this post, the status is still &quot;Expanding&quot; and shows that it's still less than 1% through a check of parity consistency - so it has a long way to go yet. I think I now realise why a &quot;Hot Spare&quot; might be useful. Anyway, I'll bring this post to an end now, and update it when the status changes.</p>\n<p>Update: 12 hours later, it's still at it - the status of the storage pool is &quot;Expanding (Checking parity consistency 47.33%)&quot;. Some way to go yet.</p>\n<p>Further update: It's the next morning, and the storage pool is now showing &quot;Healthy&quot; again, and its new expanded state of 7.27TB:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/storage-manager-storage-pool-expanded.png\" alt=\"storage pool in new expanded state\" /></p>\n<hr />\n<p>Further reading:</p>\n<ul>\n<li><a href=\"https://global.download.synology.com/download/Document/Hardware/HIG/DiskStation/21-year/DS1621+/enu/Syno_HIG_DS1621_Plus_enu.pdf\">Synology NAS DS1621+ Hardware Installation Guide</a> (PDF)</li>\n</ul>\n",
      "date_published": "2021-05-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/20/5/equality-in-tech/",
      "url": "https://qmacro.org/blog/2021/20/5/equality-in-tech/",
      "title": "Equality in tech",
      "content_html": "<p><em>I support equality in tech, and so should you.</em></p>\n<p>This should go without saying, but alas, we're not in an ideal world. Equality in tech should be the backbone, the basis, upon which we run our industry. But it's not.</p>\n<p>I interact a lot on social media, I live stream too. And I haven't had a single occasion where I've been harrassed in any way. I'd like to think that this is because everyone is spellbound by what I have to say and what I'm showing. But it's not. It's because I'm male.</p>\n<p>I've had the pleasure of watching some awesome folks streaming on Twitch and YouTube, and have witnessed them being harrassed. And guess what, all of the targets, on all of the occasions, are female. This is not a coincidence.</p>\n<p>To those people thinking it's OK to make inappropriate comments, or worse, I say this: What is WRONG with you morons? It's not OK. Very not OK.</p>\n<p>To those who already get it, great. Perhaps the next step is to think about loading time in favour of helping and encouraging girls and women in tech. I've been very lucky to have been able to do this in a teaching capacity over the years, especially with youngsters (see reading links below). But even simpler is to just help female tech folks level up by supporting them on social media, helping them to grow and be the role models for the next generation too. And also, I've suddenly grokked it that being vocal about this also helps.</p>\n<p>I support equality in tech, and so should you.</p>\n<hr />\n<p>Further reading:</p>\n<ul>\n<li><a href=\"https://unbreak.tech/\">Unbreak Tech</a></li>\n<li><a href=\"https://qmacro.org/2012/12/05/codeclub-and-becoming-a-stem-ambassador/\">CodeClub and becoming a STEM Ambassador</a></li>\n<li><a href=\"https://qmacro.org/2013/04/18/codeclub-thoughts/\">CodeClub Thoughts</a></li>\n<li><a href=\"https://qmacro.org/2020/03/24/code-at-home/\">Let's learn to &quot;Code at Home&quot;</a></li>\n</ul>\n<p><img src=\"https://qmacro.org/blog/img/2020/03/underwaterscratch.jpg\" alt=\"Me teaching Scratch at Manchester CoderDojo\" /></p>\n",
      "date_published": "2021-05-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/19/5/supporting-developers-with-sponsorship/",
      "url": "https://qmacro.org/blog/2021/19/5/supporting-developers-with-sponsorship/",
      "title": "Supporting developers with sponsorship",
      "content_html": "<p><em>I've started to use the sponsors facility on GitHub to support developers. Here's my thinking.</em></p>\n<p>There are many folks that I observe giving to the community. This giving takes many forms, such as providing software in an open source manner, supporting that software, sharing knowledge, and mentoring. I wanted to look into how I could provide a bit of support. I give to charity as part of my remuneration scheme, and I'm very fortunate to be able to do that. But that seems more of a &quot;given&quot; and not particularly specific, nor do I have any direct connection to the recipients.</p>\n<p>There are various ways to support individuals online - I've used the &quot;buy me a coffee&quot; approach, I've sent small amounts via PayPal to folks to say thanks (e.g. for the <a href=\"https://rubjo.github.io/victor-mono/\">Victor Mono font</a>), subscribed to folks on Twitch, gifted subscriptions, and so on. These are all avenues available to us, and I'd encourage you to look into them.</p>\n<p>But there's an avenue that resonates quite well with me, one that was introduced to me by <a href=\"https://github.com/alexellis\">Alex Ellis</a>. And that's <a href=\"https://github.com/sponsors\">GitHub Sponsors</a>. Subjective, I know, but I feel that sponsoring someone at this layer is a useful thing to do. The facilities offered by this mechanism also allow the sponsor relationship to be on a automatic and regular basis too.</p>\n<p>I've no idea how far I'll go yet, I'm just really starting. So far I'm sponsoring Alex for his work on Kubernetes, small machines and everything in between, and have also sponsored <a href=\"https://github.com/koalaman\">Vidar Holen</a>, mostly for <a href=\"https://github.com/koalaman/shellcheck\">shellcheck</a>, which has been a key part of how I'm <a href=\"https://qmacro.org/2020/10/05/improving-my-shell-scripting\">trying to improve my shell scripting</a>. I've just started sponsoring <a href=\"https://github.com/rwxrob\">Rob Muhlestein</a> for everything that he shares and for his long term efforts to share knowledge with junior developers on his Twitch live streams.</p>\n<p>My contributions are minimal, but this is a scale thing - I would like to encourage you to consider doing the same and sponsoring someone for their work that collectively helps strengthen our community.</p>\n<hr />\n<ul>\n<li>Update 25 May 2021 - I've now also started sponsoring <a href=\"https://github.com/sponsors/larshp\">Lars Hvam</a> for his work on ABAP outside the stack.</li>\n<li>Update 31 May 2021 - See also the <a href=\"https://github.com/junegunn/junegunn/blob/main/BACKERS.md\">BACKERS file for fzf's creator June Gunn</a></li>\n</ul>\n",
      "date_published": "2021-05-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/14/5/notes-on-markdown-linting-part-2/",
      "url": "https://qmacro.org/blog/2021/14/5/notes-on-markdown-linting-part-2/",
      "title": "Notes on Markdown linting - part 2",
      "content_html": "<p><em>More on Markdown linting, this time in the context of GitHub Actions.</em></p>\n<p>Yesterday I <a href=\"https://qmacro.org/2021/05/13/notes-on-markdown-linting-1/\">wrote up some initial notes on my foray into Markdown linting</a>. Today I continue my journey of learning and discovery by attempting to get the Markdown linting working in a GitHub Action workflow, so I can have the checks done on pull requests.</p>\n<p>Beyond creating the workflow definition itself, there are only a few parts to getting Markdown content linted in the context of a pull request:</p>\n<ul>\n<li>getting the content of the pull request, to be able to perform linting upon it</li>\n<li>setting up an association between any linting output messages with the lines of Markdown to which they relate</li>\n<li>installing the <code>markdownlint</code> tool and any custom rule packages</li>\n<li>performing the linting</li>\n</ul>\n<h2 id=\"creating-the-workflow-definition\" tabindex=\"-1\">Creating the workflow definition <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/14/5/notes-on-markdown-linting-part-2/#creating-the-workflow-definition\" aria-hidden=\"true\">#</a></h2>\n<p>Since being able to quickly look at previous examples of GitHub Actions workflow definitions using my <a href=\"https://qmacro.org/2021/04/24/github-actions-workflow-browser/\">workflow browser</a>, it was quite easy to create a simple workflow definition. Here's what the start looks like:</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Markdown checks<br /><br /><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span><br />  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>main<span class=\"token punctuation\">,</span> master<span class=\"token punctuation\">]</span><br /><br /><span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span><br />  <span class=\"token key atrule\">lint-markdown</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span><span class=\"token number\">20.04</span><br /><br />    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span><br /><br />    <span class=\"token punctuation\">...</span></code></pre>\n<blockquote>\n<p>I've moved from specifying <code>ubuntu-latest</code> to <code>ubuntu-nn.nn</code> for a more stable (or perhaps &quot;predictable&quot;) runner experience.</p>\n</blockquote>\n<p>Nothing exciting in this workflow definition so far; I've included both <code>main</code> and <code>master</code> in the list of branches because I've been testing with an older repository that still has <code>master</code> as the default branch.</p>\n<h2 id=\"getting-the-pull-request-content\" tabindex=\"-1\">Getting the pull request content <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/14/5/notes-on-markdown-linting-part-2/#getting-the-pull-request-content\" aria-hidden=\"true\">#</a></h2>\n<p>To run <code>markdownlint</code> on the content of the pull request, we need that in the runner workspace, and the usual use of the standard <a href=\"https://github.com/actions/checkout\">actions/checkout</a> action does the job here:</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2</code></pre>\n<h2 id=\"setting-up-an-output-association\" tabindex=\"-1\">Setting up an output association <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/14/5/notes-on-markdown-linting-part-2/#setting-up-an-output-association\" aria-hidden=\"true\">#</a></h2>\n<p>While the whole process will work without this step, it provides an extra level of comfort for those involved in the pull request review.</p>\n<p>The linting is performed in the runner, and the output (from <code>markdownlint</code>) is available in the workflow execution detail:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/execution-detail-messages.png\" alt=\"workflow execution detail showing markdown lint output\" /></p>\n<p>However, there's a small disconnect between the place of change and discussion (the pull request) and this workflow output.</p>\n<p>There's a special, slightly mysterious feature that can help address this disconnection. This is the &quot;matcher&quot; feature, and is mysterious in that it's not particularly prominent in the main <a href=\"https://docs.github.com/en/actions\">GitHub Actions documentation</a> ... although it is explained in the Actions Toolkit documentation, specifically <a href=\"https://github.com/actions/toolkit/blob/master/docs/commands.md#problem-matchers\">in the ::Commands section</a>.</p>\n<p>The general idea is that matchers can be added to a workflow execution. Matchers take the form of configuration that uses a regular expression to pick out parts of output messages and work out which bits are what. In other words, work out which file, line number and column each message applies to, as well as the message code and text.</p>\n<p>This is what a matcher looks like, and it's the one I'm using to match the <code>markdownlint</code> output:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span><br />  <span class=\"token property\">\"problemMatcher\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><br />    <span class=\"token punctuation\">{</span><br />      <span class=\"token property\">\"owner\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"markdownlint\"</span><span class=\"token punctuation\">,</span><br />      <span class=\"token property\">\"pattern\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><br />        <span class=\"token punctuation\">{</span><br />          <span class=\"token property\">\"regexp\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^([^:]*):(\\\\d+):?(\\\\d+)?\\\\s([\\\\w-\\\\/]*)\\\\s(.*)$\"</span><span class=\"token punctuation\">,</span><br />          <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span><br />          <span class=\"token property\">\"line\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span><br />          <span class=\"token property\">\"column\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span><br />          <span class=\"token property\">\"code\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span><br />          <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><br />        <span class=\"token punctuation\">}</span><br />      <span class=\"token punctuation\">]</span><br />    <span class=\"token punctuation\">}</span><br />  <span class=\"token punctuation\">]</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<blockquote>\n<p>The regular expression actually appears slightly more complex than it is, because the backslashes that are used to introduce the metacharacters <code>\\d</code> (digit), <code>\\s</code> (whitespace) and <code>\\w</code> (alphanumeric) are escaped with backslashes in the JSON string value (so e.g. <code>\\d</code> becomes <code>\\\\d</code>). This is so they don't get interpreted as escape characters themselves.</p>\n</blockquote>\n<p>If we stare at the output earlier, we see this:</p>\n<pre class=\"language-text\"><code class=\"language-text\">docs/b.md:5 MD022/blanks-around-headings/blanks-around-headers Headings should be surrounded by blank lines [Expected: 1; Actual: 0; Below] [Context: \"### Something Else\"]<br />docs/b.md:6 MD032/blanks-around-lists Lists should be surrounded by blank lines [Context: \"- one\"]<br />docs/b.md:10:10 MD011/no-reversed-links Reversed link syntax [(reversed)[https://qmacro.org]]</code></pre>\n<p>Applying the regular expression, we can see that it will indeed pick out the values as desired. Taking the last message line as an example, we get:</p>\n<table>\n<thead>\n<tr>\n<th>Regular expression part</th>\n<th>Matched text</th>\n<th>Value for</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>^</code></td>\n<td>(start of line)</td>\n<td></td>\n</tr>\n<tr>\n<td><code>([^:]*)</code></td>\n<td><code>docs/b.md</code></td>\n<td><code>file</code></td>\n</tr>\n<tr>\n<td><code>:</code></td>\n<td><code>:</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>(\\d+)</code></td>\n<td><code>10</code></td>\n<td><code>line</code></td>\n</tr>\n<tr>\n<td><code>:?</code></td>\n<td><code>:</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>(\\d+)?</code></td>\n<td><code>10</code></td>\n<td><code>column</code></td>\n</tr>\n<tr>\n<td><code>\\s</code></td>\n<td>(a space)</td>\n<td></td>\n</tr>\n<tr>\n<td><code>([\\w-\\/]*)</code></td>\n<td><code>MD011/no-reversed-links</code></td>\n<td><code>code</code></td>\n</tr>\n<tr>\n<td><code>\\s</code></td>\n<td>(a space)</td>\n<td></td>\n</tr>\n<tr>\n<td><code>(.*)</code></td>\n<td><code>Reversed link syntax [...]</code></td>\n<td><code>message</code></td>\n</tr>\n<tr>\n<td><code>$</code></td>\n<td>(end of line)</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>In this table, the escaping backslashes have been removed, as they're only there to make the JSON string happy.</p>\n</blockquote>\n<p>The result of having a matcher like this is that as well as having the messages available in the workflow execution detail, we get the messages in context too, which is far more comfortable. They appear in the workflow execution summary, like this (see the &quot;Annotations&quot; section):</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/execution-summary-messages.png\" alt=\"workflow execution summary showing markdown lint output\" /></p>\n<p>Moreover, each message appears directly below the line to which it applies, like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/messages-in-pr.png\" alt=\"markdown linting messages next to the relevant lines\" /></p>\n<p>To get this to work, the matcher configuration needs to be added with the <code>add-matcher</code> directive, in a step, like this:</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"echo ::add-matcher::.qmacro/workflows/markdownlint/problem-matcher.json\"</span></code></pre>\n<p>There is actually a GitHub Action, <a href=\"https://github.com/xt0rted/markdownlint-problem-matcher\">xt0rted/markdownlint-problem-matcher</a> that does this for you, but I'm still in two minds as to whether to use a &quot;black box&quot; action or something direct for things like this. Only time will tell.</p>\n<h2 id=\"installing-the-tool-and-custom-rules-packages\" tabindex=\"-1\">Installing the tool and custom rules packages <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/14/5/notes-on-markdown-linting-part-2/#installing-the-tool-and-custom-rules-packages\" aria-hidden=\"true\">#</a></h2>\n<p>Next, it's time to install the actual <code>markdownlint</code> tool, along with the custom rule package I mentioned in <a href=\"https://qmacro.org/2021/05/13/notes-on-markdown-linting-1/\">part 1</a>. While I installed <code>markdownlint</code> on my macOS machine with <code>brew</code>, it seems fine here to install it with <code>npm</code>, along with the rule too:</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"><br />        npm install \\<br />          --no-package-lock \\<br />          --no-save \\<br />          markdownlint-cli markdownlint-rule-titlecase</span></code></pre>\n<p>Using the <code>--no-package-lock</code> and <code>--no-save</code> options makes for a slightly cleaner environment, given what we're doing here (i.e. we are only really interested in NPM metadata for this current job's execution).</p>\n<h2 id=\"performing-the-linting\" tabindex=\"-1\">Performing the linting <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/14/5/notes-on-markdown-linting-part-2/#performing-the-linting\" aria-hidden=\"true\">#</a></h2>\n<p>Now everything is ready, we can run the linter. I am invoking the <code>markdownlint</code> tool, just installed with <code>npm</code>, using the <code>npx</code> package runner as it seems the cleanest way to do it:</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"><br />        npx markdownlint \\<br />          --config .qmacro/workflows/markdownlint/config.yaml \\<br />          --rules markdownlint-rule-titlecase \\<br />          docs/</span></code></pre>\n<p>Without configuration, <code>markdownlint</code> will apply <a href=\"https://github.com/DavidAnson/markdownlint/blob/main/doc/Rules.md\">all the rules</a> by default. I don't want that to happen, so I've used the <code>--config</code> option to point to a rules file <code>.qmacro/workflows/markdownlint/config.yaml</code>. This is what's in that file:</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># All rules are inactive by default.</span><br /><span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span><br /><br /><span class=\"token comment\"># These specific rules are active.</span><br /><span class=\"token comment\"># See https://github.com/DavidAnson/markdownlint#rules--aliases for details.</span><br /><span class=\"token key atrule\">heading-increment</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><br /><span class=\"token key atrule\">no-reversed-links</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><br /><span class=\"token key atrule\">no-missing-space-atx</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><br /><span class=\"token key atrule\">no-multiple-space-atx</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><br /><span class=\"token key atrule\">blanks-around-headings</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><br /><span class=\"token key atrule\">blanks-around-lists</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><br /><span class=\"token key atrule\">no-alt-text</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre>\n<p>In other words, with this configuration, only those rules in that second stanza will be applied. Plus of course the explicit NPM package based title-case rule I've specified with the <code>--rules</code> option.</p>\n<blockquote>\n<p>I've been <a href=\"https://github.community/t/best-practices-for-storing-organising-shell-scripts-for-workflow-steps/176822\">thinking about</a> where to store workflow related artifacts in a repository. I don't want to use <code>.github/workflows</code> for anything other than actual workflow definition files. So right now, I'm thinking along the lines of a hidden user/organisation based directory name -- <code>.qmacro</code> in this example -- to parallel <code>.github</code>.</p>\n</blockquote>\n<p>The final thing to note in this invocation is that I'm passing a specific directory to be linted: <code>docs/</code>. This means only content there will be linted. I will probably want some sort of <code>.markdownlintignore</code> file at some stage, but for now this will do.</p>\n<h2 id=\"wrapping-up\" tabindex=\"-1\">Wrapping up <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/14/5/notes-on-markdown-linting-part-2/#wrapping-up\" aria-hidden=\"true\">#</a></h2>\n<p>Here's the workflow definition in its entirety:</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Markdown checks<br /><br /><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span><br />  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>main<span class=\"token punctuation\">,</span> master<span class=\"token punctuation\">]</span><br /><br /><span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span><br />  <span class=\"token key atrule\">main</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span><span class=\"token number\">20.04</span><br />    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span><br /><br />    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2<br /><br />    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"echo ::add-matcher::.qmacro/workflows/markdownlint/problem-matcher.json\"</span><br /><br />    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"><br />        npm install \\<br />          --no-package-lock \\<br />          --no-save \\<br />          markdownlint-cli markdownlint-rule-titlecase</span><br /><br />    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"><br />        npx markdownlint \\<br />          --config .qmacro/workflows/markdownlint/config.yaml \\<br />          --rules markdownlint-rule-titlecase \\<br />          docs/</span></code></pre>\n<p>Everything works nicely, and I'm happy with the local and remote linting process.</p>\n",
      "date_published": "2021-05-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/13/5/notes-on-markdown-linting-part-1/",
      "url": "https://qmacro.org/blog/2021/13/5/notes-on-markdown-linting-part-1/",
      "title": "Notes on Markdown linting - part 1",
      "content_html": "<p><em>Here's what I found out when I started to look into linting Markdown content.</em></p>\n<p>Thanks to some great direction and enlightenment from my colleague <a href=\"https://github.com/shegox\">Tobias</a>, I found myself getting my brain around Markdown linting. Of course, not what it is, but what the current possibilities are and how they might apply to my situation. I thought I'd write some notes on what I found (mostly for my future self).</p>\n<p>(See also <a href=\"https://qmacro.org/2021/05/14/notes-on-markdown-linting-part-2/\">Notes on Markdown linting - part 2</a> where I learn how to get Markdown linting working in GitHub Actions).</p>\n<h2 id=\"which-linter\" tabindex=\"-1\">Which linter? <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/13/5/notes-on-markdown-linting-part-1/#which-linter\" aria-hidden=\"true\">#</a></h2>\n<p>The Node.js-based <a href=\"https://github.com/DavidAnson/markdownlint\">DavidAnson/markdownlint</a> is the linter of choice. I'll refer to it as <code>markdownlint</code> in this post.</p>\n<p>There's a related project <a href=\"https://github.com/markdownlint/markdownlint\">markdownlint/markdownlint</a> which seems to be another, very similar linter written in Ruby. I'll refer to this as <code>mdl</code> as that's what the executable is called.</p>\n<p>They both seem to share the same <a href=\"https://github.com/DavidAnson/markdownlint/blob/main/doc/Rules.md\">rule</a> <a href=\"https://github.com/markdownlint/markdownlint/blob/master/docs/RULES.md\">definitions</a> which is good; although <code>mdl</code> seems to have rules that have been deprecated in <code>markdownlint</code>.</p>\n<p>I went for <code>markdownlint</code> for a number of reasons:</p>\n<ul>\n<li>it had more watchers, stargazers and forks on GitHub</li>\n<li>I could install it on my macOS daily driver with <code>brew</code> (see later)</li>\n<li>installing <code>mdl</code> involved RubyGems which I've never got on with</li>\n<li>there was explicit information about using <code>markdownlint</code> in various editors (including in Vim)</li>\n<li>Tobias had wanted to use a specific custom linting rule, something that <code>markdownlint</code> supports</li>\n</ul>\n<h2 id=\"installing-markdownlint\" tabindex=\"-1\">Installing markdownlint <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/13/5/notes-on-markdown-linting-part-1/#installing-markdownlint\" aria-hidden=\"true\">#</a></h2>\n<p>Markdownlint can be installed via <code>npm install</code> or via <code>brew</code>. The <code>brew</code> option is actually via a connected project <a href=\"https://github.com/igorshubovych/markdownlint-cli\">igorshubovych/markdownlint-cli</a>. I ran the <code>brew install markdownlint-cli</code> command and was up and running pretty much immediately:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># ~/Projects/gh/github.com/qmacro/qmacro.github.io (markdownlint-post *=)</span><br /><span class=\"token punctuation\">;</span> markdownlint<br />Usage: markdownlint <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>files<span class=\"token operator\">|</span>directories<span class=\"token operator\">|</span>globs<span class=\"token operator\">></span><br /><br />MarkdownLint Command Line Interface<br /><br />Options:<br /> -V, --version                               output the version number<br /> -c, --config <span class=\"token punctuation\">[</span>configFile<span class=\"token punctuation\">]</span>                   configuration <span class=\"token function\">file</span> <span class=\"token punctuation\">(</span>JSON, JSONC, JS, or YAML<span class=\"token punctuation\">)</span><br /> -d, --dot                                   include files/folders with a dot <span class=\"token punctuation\">(</span>for example <span class=\"token variable\"><span class=\"token variable\">`</span>.github<span class=\"token variable\">`</span></span><span class=\"token punctuation\">)</span><br /> -f, --fix                                   fix basic errors <span class=\"token punctuation\">(</span>does not work with STDIN<span class=\"token punctuation\">)</span><br /> -i, --ignore <span class=\"token punctuation\">[</span>file<span class=\"token operator\">|</span>directory<span class=\"token operator\">|</span>glob<span class=\"token punctuation\">]</span>          file<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> to ignore/exclude <span class=\"token punctuation\">(</span>default: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br /> -o, --output <span class=\"token punctuation\">[</span>outputFile<span class=\"token punctuation\">]</span>                   <span class=\"token function\">write</span> issues to <span class=\"token function\">file</span> <span class=\"token punctuation\">(</span>no console<span class=\"token punctuation\">)</span><br /> -p, --ignore-path <span class=\"token punctuation\">[</span>file<span class=\"token punctuation\">]</span>                    path to <span class=\"token function\">file</span> with ignore pattern<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><br /> -r, --rules  <span class=\"token punctuation\">[</span>file<span class=\"token operator\">|</span>directory<span class=\"token operator\">|</span>glob<span class=\"token operator\">|</span>package<span class=\"token punctuation\">]</span>  custom rule files <span class=\"token punctuation\">(</span>default: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br /> -s, --stdin                                 <span class=\"token builtin class-name\">read</span> from STDIN <span class=\"token punctuation\">(</span>does not work with files<span class=\"token punctuation\">)</span><br /> -h, --help                                  display <span class=\"token builtin class-name\">help</span> <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">command</span><br /></code></pre>\n<p>From the options we can see that it works in the way we'd expect - point it at one or more files, optionally give it some configuration, and go.</p>\n<p>But we can also see that it allows the use of custom rules. The custom rule that Tobias wanted to use was one that checks for title case (and I still went ahead, despite the fact that I dislike title case intensely :-)). The custom rules can be supplied in different forms as we can see from what can be specified with the <code>--rules</code> option; this particular one was of the exotic variety, i.e. an NPM package: <a href=\"https://www.npmjs.com/package/markdownlint-rule-titlecase\">markdownlint-rule-titlecase</a>. In fact, there's a grouping of NPM packages that are custom rules for <code>markdownlint</code>, organised via the <a href=\"https://www.npmjs.com/search?q=keywords:markdownlint-rule\">markdownlint-rule keyword</a>.</p>\n<h2 id=\"using-markdownlint-with-vim\" tabindex=\"-1\">Using markdownlint with Vim <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/13/5/notes-on-markdown-linting-part-1/#using-markdownlint-with-vim\" aria-hidden=\"true\">#</a></h2>\n<p>As I mentioned earlier, there is a <a href=\"https://github.com/DavidAnson/markdownlint#related\">list of references</a> to mechanisms where you can use <code>markdownlint</code> from the comfort of your editor. This list pointed to <a href=\"https://github.com/fannheyward/coc-markdownlint\">fannheyward/coc-markdownlint</a> for Vim.</p>\n<p>I don't use <a href=\"https://github.com/neoclide/coc.nvim\">Conqueror of Completion (coc)</a> - but I do use the <a href=\"https://github.com/dense-analysis/ale\">Asynchronous Linting Engine (ALE)</a>, which has <a href=\"https://github.com/dense-analysis/ale/blob/master/ale_linters/markdown/markdownlint.vim\">built-in support</a> for <code>markdownlint</code>. Within 5 minutes and a <a href=\"https://github.com/qmacro/dotfiles/commit/1281d8f908d51e43d280619668ac1d32bc3811a9\">few tweaks to my ALE related Vim configuration</a> I was up and running. I have to tweak the rule configuration to my liking, as right now, even as I write this post, I'm being given grief by <code>markdownlint</code> about <a href=\"https://github.com/DavidAnson/markdownlint/blob/main/doc/Rules.md#md013\">overly long lines</a>.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/long-lines-warnings.png\" alt=\"long lines warnings\" /></p>\n<h2 id=\"configuring-markdownlint\" tabindex=\"-1\">Configuring markdownlint <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/13/5/notes-on-markdown-linting-part-1/#configuring-markdownlint\" aria-hidden=\"true\">#</a></h2>\n<p>Configuration for <code>markdownlint</code> can be supplied with the <code>--config</code> option, or by configuration files in the right place - either in the current directory or in one's home directory.</p>\n<p>I added the following to <code>~/.markdownlintrc</code>, and the grief about line length went away:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span><br />  <span class=\"token property\">\"line-length\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"trying-a-custom-rule\" tabindex=\"-1\">Trying a custom rule <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/13/5/notes-on-markdown-linting-part-1/#trying-a-custom-rule\" aria-hidden=\"true\">#</a></h2>\n<p>I then wanted to see if I could get the custom linting rule working, at least in a basic way. On the <a href=\"https://www.npmjs.com/package/markdownlint-rule-titlecase\">NPM page for markdownlint-rule-titlecase</a> it says:</p>\n<p><em>Once installed using npm install markdownlint-rule-titlecase, run markdownlint with --rules &quot;markdownlint-rule-titlecase&quot;.</em></p>\n<p>Sounds fair, although a little worrying for me as I'm not going to be working with Markdown content in the context of a Node.js project any time soon. However, it turns out that I can still install the package and use it, even in a non-Node.js project directory:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># ~/Projects/gh/github.com/qmacro/qmacro.github.io (markdownlint-post *=)</span><br /><span class=\"token punctuation\">;</span> <span class=\"token function\">npm</span> i --no-package-lock markdownlint-rule-titlecase<br /><span class=\"token function\">npm</span> WARN saveError ENOENT: no such <span class=\"token function\">file</span> or directory, <span class=\"token function\">open</span> <span class=\"token string\">'/Users/dj/Projects/gh/github.com/qmacro/qmacro.github.io/package.json'</span><br /><span class=\"token function\">npm</span> WARN enoent ENOENT: no such <span class=\"token function\">file</span> or directory, <span class=\"token function\">open</span> <span class=\"token string\">'/Users/dj/Projects/gh/github.com/qmacro/qmacro.github.io/package.json'</span><br /><span class=\"token function\">npm</span> WARN qmacro.github.io No description<br /><span class=\"token function\">npm</span> WARN qmacro.github.io No repository field.<br /><span class=\"token function\">npm</span> WARN qmacro.github.io No README data<br /><span class=\"token function\">npm</span> WARN qmacro.github.io No license field.<br /><br />+ markdownlint-rule-titlecase@0.1.0<br />added <span class=\"token number\">4</span> packages from <span class=\"token number\">4</span> contributors and audited <span class=\"token number\">4</span> packages <span class=\"token keyword\">in</span> <span class=\"token number\">0</span>.838s<br />found <span class=\"token number\">0</span> vulnerabilities</code></pre>\n<p>The warnings are fair - there isn't a <code>package.json</code> file of course, why would there be?</p>\n<p>I do now have a smallish <code>node_modules/</code> directory, though - containing the custom rule package:</p>\n<pre><code># ~/Projects/gh/github.com/qmacro/qmacro.github.io (markdownlint-post *%=)\n; tree -d node_modules/\nnode_modules/\n├── markdownlint-rule-helpers\n├── markdownlint-rule-titlecase\n├── title-case\n│   ├── dist\n│   └── dist.es2015\n└── tslib\n    └── modules\n\n7 directories\n</code></pre>\n<p>Oh well, I guess I could delete it when I'm done. In the meantime, can I take this new custom rule for a spin?</p>\n<pre><code># ~/Projects/gh/github.com/qmacro/qmacro.github.io (markdownlint-post *%=)\n; markdownlint --rules markdownlint-rule-titlecase _posts/2021-05-13-notes-on-markdown-linting.markdown\n_posts/2021-05-13-notes-on-markdown-linting.markdown:11:1 titlecase-rule Titlecase rule [Title Case: 'Expected ## Which Linter?, found ## Which linter?']\n_posts/2021-05-13-notes-on-markdown-linting.markdown:27:1 titlecase-rule Titlecase rule [Title Case: 'Expected ## Installing Markdownlint, found ## Installing markdownlint']\n_posts/2021-05-13-notes-on-markdown-linting.markdown:55:1 titlecase-rule Titlecase rule [Title Case: 'Expected ## Using Markdownlint with Vim, found ## Using markdownlint with Vim']\n_posts/2021-05-13-notes-on-markdown-linting.markdown:63:1 titlecase-rule Titlecase rule [Title Case: 'Expected ## Configuring Markdownlint, found ## Configuring markdownlint']\n_posts/2021-05-13-notes-on-markdown-linting.markdown:75:1 titlecase-rule Titlecase rule [Title Case: 'Expected ## Trying a Custom Rule, found ## Trying a custom rule']\n</code></pre>\n<p>Yes! Works nicely. Although like I say, I'm not sure why anyone would <em>want</em> to use such a rule ... I may write one that complains if you <em>do</em> use title case. But I digress.</p>\n<p>I think I'd like to be able to run these custom rules in Vim too, but I'll leave that for another time. I'm satisfied at least at this stage to be able to lint my Markdown files at all. And the next thing is actually to be able to use <code>markdownlint</code> in a GitHub Actions workflow.</p>\n<p>Update: <a href=\"https://qmacro.org/2021/05/14/notes-on-markdown-linting-part-2/\">I've written that up in part 2</a>.</p>\n",
      "date_published": "2021-05-13T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/10/5/solving-mysterious-unrendered-markdown-headings/",
      "url": "https://qmacro.org/blog/2021/10/5/solving-mysterious-unrendered-markdown-headings/",
      "title": "Solving mysterious unrendered markdown headings",
      "content_html": "<p><em>I finally spent some time getting to the bottom of why some headings in my markdown content weren't getting rendered properly.</em></p>\n<p>I've noticed over the years that occasionally the rendered version of my markdown content, in particular on GitHub (which is where most of my markdown content ends up), sometimes contains unrendered headings. Here's <a href=\"https://github.com/qmacro-org/test/blob/d6f348858dd5014d8b96060e4b8dd75999af431b/README.md\">an example</a>:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/unrendered-heading-github.png\" alt=\"Rendered markdown showing an unrendered heading - on GitHub\" /></p>\n<p>The second level 2 heading &quot;Another heading level 2&quot; remains unrendered, even though everything looks fine. Why? This has bugged me for a while, but not so much as to make me stop and work out why it was happening. When it happened, I'd just go into the markdown source, rewrite the heading line, and all was fine.</p>\n<p>Today I finally stopped to spend a bit of time to look into it. Turns out it's quite simple and obvious now I know what was causing it.</p>\n<p>The <a href=\"https://www.markdownguide.org/basic-syntax/\">basic syntax</a> for headings involves one or more hashes (depending on the heading level needed) followed by the heading text. There's a space that should separate the hashes and the heading text. Here's an example:</p>\n<pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token title important\"><span class=\"token punctuation\">##</span> Heading level 2</span></code></pre>\n<p>What's causing that heading above not to be rendered properly? Well, it's the space. To you and me there is indeed a space between <code>##</code> and <code>Another heading level 2</code>.</p>\n<p>But it's <a href=\"https://en.wikipedia.org/wiki/The_wrong_type_of_snow\">the wrong type of space</a>.</p>\n<p>Checking first that it's not something weird going on with the markdown renderer on GitHub, let's try a different rendering, in the terminal, with the excellent <a href=\"https://github.com/charmbracelet/glow\">glow</a> tool:</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/05/unrendered-heading-glow.png\" alt=\"Rendered markdown showing an unrendered heading - using glow\" /></p>\n<p>Same issue.</p>\n<p>So let's dig in a little deeper, and look at the source.</p>\n<p>First, let's look at the first level 2 heading, which has been rendered correctly:</p>\n<pre><code># ~/Projects/gh/github.com/qmacro-org/test (main=)\n; grep 'Heading level 2' README.md | od -t x1 -c\n0000000    23  23  20  48  65  61  64  69  6e  67  20  6c  65  76  65  6c\n           #   #       H   e   a   d   i   n   g       l   e   v   e   l\n0000020    20  32  0a\n               2  \\n\n0000023\n# ~/Projects/gh/github.com/qmacro-org/test (main=)\n;\n</code></pre>\n<p>Seems OK, and yes, there's the space, hex value <code>20</code>, following the two hashes (hex values <code>23</code>).</p>\n<p>Now let's look at the second level 2 heading, which has not been correctly rendered;</p>\n<pre><code># ~/Projects/gh/github.com/qmacro-org/test (main=)\n; grep 'Another heading level 2' README.md | od -t x1 -c\n0000000    23  23  c2  a0  41  6e  6f  74  68  65  72  20  68  65  61  64\n           #   # 302 240   A   n   o   t   h   e   r       h   e   a   d\n0000020    69  6e  67  20  6c  65  76  65  6c  20  32  0a\n           i   n   g       l   e   v   e   l       2  \\n\n0000034\n# ~/Projects/gh/github.com/qmacro-org/test (main=)\n;\n</code></pre>\n<p>What the heck is that following the two hex <code>23</code> hash characters?</p>\n<pre><code>0000000    23  23  c2  a0\n           #   # 302 240\n</code></pre>\n<p>Turns out it's a <a href=\"https://en.wikipedia.org/wiki/Non-breaking_space\">non-breaking space</a> character. And its UTF-8 <a href=\"https://en.wikipedia.org/wiki/Non-breaking_space#Encodings\">encoding</a>, which is what the markdown file has, is <code>c2 a0</code>.</p>\n<p>So this second level 2 heading cannot be rendered as such, as the markdown cannot be recognised. Makes sense!</p>\n<p>But where are these non-breaking space coming from? How do they get there?</p>\n<p>Well, my daily driver during the working week is a macOS device, where it's notoriously more difficult that it should be to type a <code>#</code> character. One has to use <code>Option-3</code> (or <code>Alt-3</code>) to get it. And it turns out that after holding down <code>Option</code> to hit <code>3</code> a couple of times to introduce the <code>##</code> for a level 2 heading, my thumb is sometimes still on the <code>Option</code> key when I hit <code>space</code>.</p>\n<p>And guess what - <code>Option-space</code> is how you type a non-breaking space on macOS!</p>\n<p>So basically it's <strong>me</strong> that's been causing this issue - by inadvertently inserting not a space but a non-breaking space after the <code>#</code> characters introducing markdown headings.</p>\n",
      "date_published": "2021-05-10T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/28/4/unpacking-bash-shell-tips-from-a-github-actions-workflow/",
      "url": "https://qmacro.org/blog/2021/28/4/unpacking-bash-shell-tips-from-a-github-actions-workflow/",
      "title": "Unpacking Bash shell tips from a GitHub Actions workflow",
      "content_html": "<p><em>Someone shared a GitHub Actions workflow step which was written to find out some pull request info, but I thought even the first couple of shell lines, using IFS and awk, were worth staring at for a second or two.</em></p>\n<p>I don't know about you, but I find value in staring at other people's shell activities, so I thought I'd share what occurred to me as I did so on this occasion, in case it helps newcomers become a little more acquainted.</p>\n<p>A colleague wanted to find out something about the pull request ID when a workflow was triggered. This is a shortened version of what was shared:</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> PR ID<br />  <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\"><br />    IFS='/' read -r OWNER REPOSITORY &lt;&lt;&lt; \"$GITHUB_REPOSITORY\"<br />    HEADREFNAME=$(echo ${{ github.event.ref }} | awk -F'/' '{print $NF}')<br />    PR_ID=$(curl -s -H \"Authorization: Bearer ${{ secrets.GITHUB_TOKEN }}\" \\<br />      -X POST \\<br />      -d \"{\\\"query\\\": ... }\" \\<br />      \"$GITHUB_GRAPHQL_URL\" \\<br />      | jq '.data.repository.pullRequests.nodes[].number' \\<br />    )</span><br />  <span class=\"token key atrule\">shell</span><span class=\"token punctuation\">:</span> bash</code></pre>\n<p>I've omitted the detail of the API call being made with <code>curl</code>, partly because it's not relevant, and partly because it's a GraphQL call and extremely ugly.</p>\n<p>So what can we learn from this? Let's take it line by line.</p>\n<h2 id=\"obtaining-the-owner-and-repository-values\" tabindex=\"-1\">Obtaining the owner and repository values <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/28/4/unpacking-bash-shell-tips-from-a-github-actions-workflow/#obtaining-the-owner-and-repository-values\" aria-hidden=\"true\">#</a></h2>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\"><span class=\"token environment constant\">IFS</span></span><span class=\"token operator\">=</span><span class=\"token string\">'/'</span> <span class=\"token builtin class-name\">read</span> -r OWNER REPOSITORY <span class=\"token operator\">&lt;&lt;&lt;</span> <span class=\"token string\">\"<span class=\"token variable\">$GITHUB_REPOSITORY</span>\"</span></code></pre>\n<p>This is a nice way of splitting the value in a variable into a couple of variables. What's in <code>$GITHUB_REPOSITORY</code>? The <a href=\"https://docs.github.com/en/actions/reference/environment-variables#default-environment-variables\">Default environment variables</a> documentation tells us that it's going to be the repository owner and name, joined with a <code>/</code> character, e.g. <code>octocat/Hello-World</code>.</p>\n<p>Let's pick this line apart.</p>\n<h3 id=\"using-the-ifs-environment-variable\" tabindex=\"-1\">Using the IFS environment variable <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/28/4/unpacking-bash-shell-tips-from-a-github-actions-workflow/#using-the-ifs-environment-variable\" aria-hidden=\"true\">#</a></h3>\n<p>The first thing we see is <code>IFS='/'</code>. <code>IFS</code> is an environment variable in Bash and stands for <a href=\"https://en.wikipedia.org/wiki/Input_Field_Separators\">Input Field Separators</a> (or Internal Field Separators). Notice that &quot;separators&quot; is plural. Note also that some folks like to think of them as delimiters, rather than separators, but that's a debate for another time. The default value for the <code>IFS</code> environment variable is the list of different whitespace types, i.e. space, tab and newline.</p>\n<p>Here, we only want to split on <code>/</code> characters, rather than on any whitespace characters.</p>\n<p>There are a number of places that <code>IFS</code> is used in the context of the shell. One of these places is with the <code>read</code> command, and in particular, it comes into play when there are multiple variable names specified. But we'll get to that shortly.</p>\n<p>The other thing to note is that the setting of the value for <code>IFS</code> is done &quot;in the same breath&quot; as the <code>read</code> command, on the same line. This means that the value assigned is temporary, just for the duration of the command or builtin that follows. What actually happens is that the <code>IFS='/'</code> assignment is passed as part of the environment within which the command or builtin is executed. (I found <a href=\"https://stackoverflow.com/questions/25153582/why-cant-i-set-ifs-for-one-call-of-printf/25154499#25154499\">this explanation on StackOverflow very helpful in understanding this</a>).</p>\n<p>This means, in turn, that when (in this case) <code>read</code> consults the value of <code>IFS</code> it gets the <code>/</code> character, and not whatever <code>IFS</code> was set or defaulted to before that incantation. But once the processing of whatever is on that line is finished, that temporary, execution-environment-specific assignment is done with, and effectively we're back with whatever <code>IFS</code> was before we started.</p>\n<h3 id=\"splitting-with-read\" tabindex=\"-1\">Splitting with read <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/28/4/unpacking-bash-shell-tips-from-a-github-actions-workflow/#splitting-with-read\" aria-hidden=\"true\">#</a></h3>\n<p>Next we have the actual execution of the <code>read</code> builtin: <code>read -r OWNER REPOSITORY</code>.</p>\n<blockquote>\n<p>In case you're wondering, &quot;builtin&quot; just means that <code>read</code> is part of the Bash shell itself, rather than a separate executable. One implication of this is that the execution of <code>read</code> is going to be faster (although unless you're running it many times in a loop, or on a very slow machine, the difference is going to be almost imperceptible). Another implication is that you'll want to use <code>read --help</code> to find out what <code>read</code> does, rather than <code>man read</code>.</p>\n</blockquote>\n<p>Looking at what <code>read --help</code> tells us, we see that it reads a line from STDIN and splits it into fields. Note the phase &quot;a line&quot; - it only reads one line, so if you have multiple lines, you'll need to execute <code>read</code> in a loop (a common idiom is to use a <code>while</code> loop here). Next, then, is the <code>-r</code> option, which prevents any backslashes from escaping characters. Often with input you'll find control characters, such as tab or newline, written in an escaped form, i.e. <code>\\t</code> and <code>\\n</code> respectively. In this instance, this is not desired - any actual backslash should be interpreted directly as such.</p>\n<p>Knowing that the value in <code>$GITHUB_REPOSITORY</code> is going to be an owner and a repository name, stuck together with a <code>/</code> character (such as &quot;octocat/Hello-World&quot;) we can understand what the variable names <code>OWNER</code> and <code>REPOSITORY</code> are likely to receive, given the temporary assignment of <code>/</code> to <code>IFS</code>.</p>\n<h3 id=\"io-redirection-and-using-a-here-string\" tabindex=\"-1\">I/O redirection and using a here string <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/28/4/unpacking-bash-shell-tips-from-a-github-actions-workflow/#io-redirection-and-using-a-here-string\" aria-hidden=\"true\">#</a></h3>\n<p>But we know <code>read</code> reads lines from STDIN. So how do we get it to read the value of a variable (<code>$GITHUB_REPOSITORY</code>) instead? We get it to do that using a &quot;here string&quot; - and that's the last bit of the line that we should now stare at for a second, the <code>&lt;&lt;&lt; &quot;$GITHUB_REPOSITORY&quot;</code> part.</p>\n<p>To understand what a &quot;here string&quot; is, let's take a few steps back, starting at the concept of STDIN (&quot;standard input&quot;). In the context of the shell, this is often what is supplied to a program in a pipeline, like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ producer <span class=\"token operator\">|</span> consumer</code></pre>\n<p>Whatever <code>producer</code> emits to STDOUT, that's what <code>consumer</code> receives on STDIN.</p>\n<p>There are other ways to supply data to <code>consumer</code>. One way is to use &quot;redirection&quot;, which is useful if you want to use files:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ producer <span class=\"token operator\">></span> some-file<br />$ consumer <span class=\"token operator\">&lt;</span> some-file</code></pre>\n<p>The first line uses &quot;output redirection&quot;, i.e. the output that <code>producer</code> emits to STDOUT is redirected to <code>some-file</code>. The second line uses &quot;input redirection&quot;, where <code>some-file</code> is opened for reading on <code>consumer</code>'s STDIN.</p>\n<p>There's another type of redirection, called a &quot;here document&quot;, which allows us to specify input lines directly, i.e. &quot;here&quot;, like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">$ consumer <span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOF<br />first line of input<br />second line of input<br />last line of input<br />EOF</span></code></pre>\n<p>The three lines of input are what are supplied to <code>consumer</code>'s STDIN. The string <code>EOF</code> is declared as a delimiter, and all lines up until that delimiter is seen are taken as input.</p>\n<p>And there's a variation on such &quot;here document&quot;, and that's a &quot;here string&quot;, which is what we have in our example. While regular STDIN redirection is introduced with a single <code>&lt;</code>, and a &quot;here document&quot;-based redirection is introduced with a double <code>&lt;&lt;</code>, a &quot;here string&quot; is introduced with a triple <code>&lt;&lt;&lt;</code>, and takes whatever is supplied, appends a single newline and passes that to STDIN.</p>\n<p>In this case, a variable <code>$GITHUB_REPOSITORY</code> is supplied, so that is expanded to the value it contains, and passed to <code>read</code>'s STDIN.</p>\n<h2 id=\"getting-the-head-reference\" tabindex=\"-1\">Getting the HEAD reference <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/28/4/unpacking-bash-shell-tips-from-a-github-actions-workflow/#getting-the-head-reference\" aria-hidden=\"true\">#</a></h2>\n<p>The second line is also interesting and deserves a little attention. It's a single assignment statement, assigning a value to the variable <code>HEADREFNAME</code>. It doesn't matter too much what this is, but it doesn't hurt to make a guess. Based on the context in which this will run, i.e. in a pull request event, and the reference to the GitHub event property &quot;ref&quot; (in <code>github.event.ref</code>), we can see from the <a href=\"https://docs.github.com/en/developers/webhooks-and-events/webhook-events-and-payloads\">Webhook events and payloads</a> section of the documentation that this is likely to be something that looks like this:</p>\n<pre><code>refs/head/main\n</code></pre>\n<p>Let's stare at this line to see what it does and how it works:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">HEADREFNAME</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github.event.ref <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F<span class=\"token string\">'/'</span> <span class=\"token string\">'{print $NF}'</span><span class=\"token variable\">)</span></span></code></pre>\n<h3 id=\"use-of-command-substitution-with-dollar(...)\" tabindex=\"-1\">Use of command substitution with $(...) <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/28/4/unpacking-bash-shell-tips-from-a-github-actions-workflow/#use-of-command-substitution-with-dollar(...)\" aria-hidden=\"true\">#</a></h3>\n<p>We can see that what is assigned to the <code>HEADREFNAME</code> variable is something inside this construct: <code>$(...)</code>. This is the <a href=\"https://www.gnu.org/software/bash/manual/html_node/Command-Substitution.html\">command substitution</a> construct. This allows the output of a command to be substituted in-place. In other words, whatever the output of what's expressed within the <code>$(...)</code> construct is substituted, and (in this case) assigned as the value to <code>HEADREFNAME</code>.</p>\n<blockquote>\n<p>You may see an alternative command substitution construct in this form: <code>`...`</code>; this is the older style of the construct, but the newer <code>$(...)</code> style is preferred due to some quoting complexities with the older style.</p>\n</blockquote>\n<h3 id=\"using-awk\" tabindex=\"-1\">Using awk <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/28/4/unpacking-bash-shell-tips-from-a-github-actions-workflow/#using-awk\" aria-hidden=\"true\">#</a></h3>\n<p>So what is the command that is producing the output that will be substituted and assigned to the <code>HEADREFNAME</code> variable here? Let's have a look:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${{ github.event.ref }</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F<span class=\"token string\">'/'</span> <span class=\"token string\">'{print $NF}'</span></code></pre>\n<p>Remember that the definition context here is a GitHub Actions workflow definition. This is where the <code>${{ ... }}</code> comes from - it's not a shell expression; rather, it's an <a href=\"https://docs.github.com/en/actions/reference/context-and-expression-syntax-for-github-actions\">expression in the workflow definition format</a>. It basically means that the value of the property <code>github.event.ref</code> is substituted; this is before the line is executed by Bash.</p>\n<p>Assuming for now that the value of <code>github.event.ref</code> is indeed <code>refs/head/main</code>, this amounts to:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> refs/head/main <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F<span class=\"token string\">'/'</span> <span class=\"token string\">'{print $NF}'</span></code></pre>\n<p>So the value is piped into the STDIN of <code>awk</code>, the venerable and still useful tool for <a href=\"https://en.wikipedia.org/wiki/AWK\">text processing, data extraction and reporting</a>. And it is here that data extraction is taking place. Let's break down how it works.</p>\n<h3 id=\"awk-condition-action-pairs-and-built-in-variables\" tabindex=\"-1\">Awk condition-action pairs and built-in variables <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/28/4/unpacking-bash-shell-tips-from-a-github-actions-workflow/#awk-condition-action-pairs-and-built-in-variables\" aria-hidden=\"true\">#</a></h3>\n<p>The structure of an <code>awk</code> script is one or more &quot;condition action&quot; pairs. The basic idea is that <code>awk</code> processes lines that it receives via STDIN, and for each line, applies the condition, and if the condition is true, executes the corresponding action. Conditions are often regular expressions, and there's the special (and common) case of &quot;no condition&quot;, in which case the action is executed regardless. (There are also the special <code>BEGIN</code> and <code>END</code> conditions which can be used for pre- and post-processing respectively).</p>\n<p>Actions are enclosed in curly braces <code>{ ... }</code>.</p>\n<p>For quick one-liners, <code>awk</code> scripts are often expressed &quot;in-line&quot; like we see here. In other more complex cases they're stored in separate script files - you can see a couple of examples of <code>.awk</code> file contents in the <a href=\"https://github.com/SAP-samples/cloud-messaging-handsonsapdev/tree/main/graphing\">graphing</a> directory within the <a href=\"https://github.com/SAP-samples\">SAP samples</a> repository <a href=\"https://github.com/SAP-samples/cloud-messaging-handsonsapdev\">cloud-messaging-handsonsapdev</a>.</p>\n<p>This particular one-liner looks like this:</p>\n<pre><code>(no condition) { print $NF }\n</code></pre>\n<p>In other words, the action will be executed for every line coming in on STDIN. Considering that there's only going to be one line coming in (the <code>refs/head/main</code> string), that's just a single instance of that action. But what does it do? To understand that, we have to look at <code>$NF</code> and, in turn, the value <code>'/'</code> passed to the <code>-F</code> option in the <code>awk</code> invocation.</p>\n<p>There are a number of built-in variables in <code>awk</code>, and <code>NF</code> is one that represents the number of fields.</p>\n<p>What does &quot;number of fields&quot; mean, exactly? Well, first, it's the number of fields in the input line currently being processed. And the number of fields is determined by the value of the <code>FS</code> built-in variable - the &quot;field separator&quot;. The default value of <code>FS</code> is whitespace, but this can be changed using the <code>-F</code> option, which is what's happening here.</p>\n<p>With that knowledge, we can guess what this might produce (note the addition of <code>FS</code> and the deliberate omission for now of the <code>$</code> prefix to <code>NF</code>):</p>\n<pre><code>echo refs/head/main | awk -F'/' '{print FS, NF}'\n</code></pre>\n<p>It produces this, i.e. the value of the field separator and the number of fields.</p>\n<pre><code>/ 3\n</code></pre>\n<p>Fields in an <code>awk</code> script can be referred to positionally with <code>$1</code>, <code>$2</code>, <code>$3</code> and so on. But usefully, with a touch of indirection, we can prefix <code>NF</code> with <code>$</code> to refer to fields relatively, such that <code>$NF</code>, which resolves to <code>$3</code>, is the last field in this input, <code>$NF-1</code> is the second to last, and so on.</p>\n<p>So the action <code>{ print $NF }</code> just prints the last field on the line.</p>\n<p>In other words, what this entire line does is assign whatever the last part of the value of <code>github.event.ref</code> (i.e. <code>main</code>, here) to the <code>HEADREFNAME</code> variable.</p>\n<p>And that's it. While there's more in this workflow definition step, I'll stop here to let you take things in. Hopefully if you're taking some tentative steps towards embracing more terminal based command of your working environment, this has helped break down the barriers a little to the syntax and use of Bash shell expressions and scripts.</p>\n",
      "date_published": "2021-04-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/24/4/github-actions-workflow-browser/",
      "url": "https://qmacro.org/blog/2021/24/4/github-actions-workflow-browser/",
      "title": "GitHub Actions workflow browser",
      "content_html": "<p><em>I wrote a simple workflow browser to help me refer to previous workflow definitions while I'm writing a new one, as I'm still learning the syntax and techniques.</em></p>\n<p>With a programming or definition language, especially one that's new and powerful, it takes me a while to become comfortable writing scripts or definitions from scratch. I have a small amount of auto completion in my editor, but I'm not a fan - I prefer to learn by looking things up and then typing them in, rather than have words automatically completed for me.</p>\n<p>The YAML based syntax for definining GitHub Actions workflows is powerful and there are different ways of achieving similar things. And it's new to me too (although defining jobs and steps isn't - in many ways it's just like writing Job Control Language (JCL) back in the mainframe era, but that's a story for another time).</p>\n<p>While the latest version of the GitHub command line client <code>gh</code> sports lovely new features for workflows and actions, it doesn't quite give me the quick cross-repository overview that I'm looking for. So I decided to combine three of my favourite terminal power tools to help me:</p>\n<ul>\n<li>Bash, for my command line interface and utility scripting, my shell of choice</li>\n<li><a href=\"https://github.com/cli/cli\"><code>gh</code></a>, which is already a very accomplished command line interface (CLI) to GitHub and a really comfortable way of using the API</li>\n<li><a href=\"https://github.com/junegunn/fzf\"><code>fzf</code></a>, which is a powerful fuzzy finder utility and provides just enough features for me to build simple terminal user interfaces (UIs) with</li>\n</ul>\n<p>I combined them to build a &quot;workflow browser&quot;. Here it is in action:</p>\n<script id=\"asciicast-409638\" src=\"https://asciinema.org/a/409638.js\" async=\"\"></script>\n<p>It consists of three parts:</p>\n<ul>\n<li>\n<p>a new environment variable GH_CACHETIME which I can set globally to be nice to the GitHub API servers (I'm not changing workflows that often so a generous cache time of 1 hour works for me)</p>\n</li>\n<li>\n<p>the main <code>workflowbrowser</code> script which finds workflow definitions across my content on GitHub and presents them in a list to search through</p>\n</li>\n<li>\n<p>a separate <code>showgithubcontent</code> script that displays the content of a resource in one of my GitHub repositories</p>\n</li>\n</ul>\n<p>The <code>showgithubcontent</code> script was initially a function inside of the <code>workflowbrowser</code> script but I separated it out, first because it felt better and second because there was something more I could do once I'd browsed the workflow definitions with <code>workflowbrowser</code> and selected one - more on that later.</p>\n<h2 id=\"the-workflowbrowser-script\" tabindex=\"-1\">The workflowbrowser script <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/24/4/github-actions-workflow-browser/#the-workflowbrowser-script\" aria-hidden=\"true\">#</a></h2>\n<p>Here's the script in its entirety, <a href=\"https://github.com/qmacro/dotfiles/blob/master/scripts/workflowbrowser\">as it stands right now</a>:</p>\n<pre><code>#!/usr/bin/env bash\n\n# Find and browse GitHub Actions workflow definitions.\n# In addition to regular shell tools (such as sed), this\n# script uses gh and fzf.\n\nworkflows() {\n\n  # Takes owner type (org or user) and owner name.\n  # Returns tab-separated list of owner/repo/workflowfile/path.\n\n  local ownertype=$1\n  local owner=$2\n\n  gh api \\\n    --method GET \\\n    --paginate \\\n    --cache &quot;${GH_CACHETIME:-1h}&quot; \\\n    --field &quot;q=$ownertype:$owner path:.github/workflows/&quot; \\\n    --jq '.items[] | [&quot;\\(.repository.full_name)/\\(.name)&quot;, .repository.owner.login, .repository.name, .path] | @tsv' \\\n    &quot;/search/code&quot;\n\n}\n\nmain() {\n\n  # Calls workflows for my org and user.\n\n  cat \\\n    &lt;(workflows org qmacro-org) \\\n    &lt;(workflows user qmacro) \\\n    | fzf \\\n      --with-nth=1 \\\n      --delimiter='\\t' \\\n      --preview='showgithubcontent {2} {3} {4} yaml always' \\\n      | cut -f 2,3,4\n\n}\n\nmain &quot;$@&quot;\n</code></pre>\n<p>There's just a <code>main</code> function and a <code>workflows</code> function.</p>\n<h3 id=\"the-main-function\" tabindex=\"-1\">The main function <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/24/4/github-actions-workflow-browser/#the-main-function\" aria-hidden=\"true\">#</a></h3>\n<p>The <code>main</code> function calls the <code>workflows</code> function a couple of times, because I have repositories under my own user <a href=\"https://github.com/qmacro\">qmacro</a> and also under a small experimental organisation <a href=\"https://github.com/qmacro-org\">qmacro-org</a> and I have workflows across both of these owner areas.</p>\n<p>In learning more about Bash I've found it's helpful to know the terms for various aspects, so I'm going to point out one here. I'm calling the <code>workflows</code> function twice, like this:</p>\n<pre><code>  cat \\\n    &lt;(workflows org qmacro-org) \\\n    &lt;(workflows user qmacro)\n</code></pre>\n<p>This to me was the simplest way of combining output from two calls into a single stream, using <code>cat</code>. The <code>&lt;(...)</code> is <a href=\"https://tldp.org/LDP/abs/html/process-sub.html\">process substitution</a>. This is very useful when you want to supply some data to a command, which is expecting that data to be in a file, but where you don't have a file, and instead want to generate the data on the fly, and have it provided as the output of some execution. Here I'm using process substitution to call the <code>workflows</code> function a couple of times, and have the output from those calls supplied to <code>cat</code>. As if I did this: <code>cat firstfile secondfile</code>.</p>\n<blockquote>\n<p>I did a 10 minute video on process substitution on Hands-on SAP Dev, in case you're interested: <a href=\"https://www.youtube.com/watch?v=JF4lGw4Itpk&amp;list=PL6RpkC85SLQAIntm7MkNk78ysDm3Ua8t0&amp;index=41\">Ep.39 - Looking at process substitution</a>.</p>\n</blockquote>\n<p>I'll dig into the <code>workflows</code> function shortly, but for now, we need to know what it outputs, to understand better what we do with that output, i.e. what we do downstream from <code>cat</code> in the pipeline.</p>\n<p>The output from <code>workflows</code> are records representing workflow definitions, in the form of lines with tab-separated fields, like this:</p>\n<pre><code>qmacro-org/test/dump.yml\tqmacro-org\ttest\t.github/workflows/dump.yml\nqmacro/showntell/main.yml\tqmacro\tshowntell\t.github/workflows/main.yml\nqmacro/qmacro/build.yml\tqmacro\tqmacro\t.github/workflows/build.yml\n</code></pre>\n<p>In order, the fields represent:</p>\n<ol>\n<li>a combination of repo owner, repo name &amp; workflow definition file name</li>\n<li>the repo owner</li>\n<li>the repo name</li>\n<li>the path in the repository to that workflow definition file</li>\n</ol>\n<p>The lines are piped into <code>fzf</code> which is used to present the workflow definitions and also a preview of their contents. This is done by using various options supplied to <code>fzf</code>.</p>\n<p>The first option deals with what to show in the basic list display that <code>fzf</code> first presents, and that is the contents of the first field above (the combination). This is done using the <code>--with-nth</code> option; we also tell <code>fzf</code> how the fields are delimited:</p>\n<ul>\n<li><code>--with-nth=1</code> - use field 1 in the list display</li>\n<li><code>--delimiter='\\t'</code> - fields are tab-delimited</li>\n</ul>\n<p>Then there's what to do from a preview perspective; when a particular entry in the list is selected, <code>fzf</code> can run a preview command to display something in a window:</p>\n<ul>\n<li><code>--preview='showgithubcontent {2} {3} {4} yaml always'</code></li>\n</ul>\n<p>Whatever is produced (via STDOUT) by the incantation supplied with the <code>--preview</code> option is shown in the preview window. Here, we call the <code>showgithubcontent</code> script, supplying that script with 5 arguments. The first three use <code>fzf</code>'s field reference syntax to pass the values of the second, third &amp; fourth field, i.e. the repo owner, the repo name and the workflow file path. The last two arguments control how <code>showgithubcontent</code> displays things (we'll come to that later).</p>\n<p>With <code>fzf</code>, if an item in the list is indeed selected, then the line passed into <code>fzf</code> that represents the line selected is output to STDOUT. This makes <code>fzf</code> a very powerful tool that plays well with other tools, following the Unix philosophy (if no selection is made, e.g. by aborting <code>fzf</code> with Ctrl-C, then nothing is emitted).</p>\n<p>The final part of the <code>main</code> function takes the line emitted from <code>fzf</code> and outputs the same three fields (repo owner, repo name and workflow file path). Basically field 1 is just used as a &quot;display&quot; field for <code>fzf</code>.</p>\n<h3 id=\"the-workflows-function\" tabindex=\"-1\">The workflows function <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/24/4/github-actions-workflow-browser/#the-workflows-function\" aria-hidden=\"true\">#</a></h3>\n<p>The <code>workflows</code> function is basically a wrapper around a call to the <a href=\"https://docs.github.com/en/rest/reference/search\">GitHub Search API</a>. This is an API that I haven't used before now, and it's pretty powerful. There are different endpoints representing different search approaches. What worked for me, to find workflow definitions, was to use the <a href=\"https://docs.github.com/en/rest/reference/search#search-code\">Search code</a> endpoint with <code>/search/code</code>.</p>\n<p>This endpoint takes the search criteria in the form of a query string parameter <code>q</code>, and it was very easy to use the GUI based search to try out different search parameters to figure out what I needed to specify. Here's an example:</p>\n<p><a href=\"https://github.com/search?q=org%3Aqmacro-org+path%3A.github%2Fworkflows%2F\">https://github.com/search?q=org%3Aqmacro-org+path%3A.github%2Fworkflows%2F</a></p>\n<p>One thing that tripped me up at first was the wrong type of request was being made first of all. I supplied the search criteria value in the <code>q</code> query string parameter correctly, like this (as you can see in the function):</p>\n<ul>\n<li><code>--field &quot;q=$ownertype:$owner path:.github/workflows/&quot;</code></li>\n</ul>\n<p>but the HTTP call that <code>gh</code> then made for me was a POST request, with this search query parameter in the body of the request. That wasn't right. Checking in the API documentation, the <code>q</code> parameter needs to be in the query string. Explicitly setting the method to GET made this right:</p>\n<ul>\n<li><code>--method GET</code></li>\n</ul>\n<p>There are a couple of other &quot;housekeeping&quot; parameters used here too:</p>\n<ul>\n<li><code>--paginate</code></li>\n<li><code>--cache &quot;${GH_CACHETIME:-1h}&quot;</code></li>\n</ul>\n<p>I don't yet have that many workflow definitions, but if it comes to that, <code>gh</code> will work through the responses to get them all for me with <code>--paginate</code>.<br />\nAnd the <code>--cache</code> parameter works both ways: my activities are well behaved when it comes to using the API endpoints, and also, after the first time the list of workflow definitions is retrieved, any subsequent uses of the workflow browser are that much snappier (this works also with the similar use of the <code>--cache</code> parameter in the <code>showgithubcontent</code> script we'll see shortly). Note that if there's no value specified for <code>GH_CACHETIME</code>, the default will be 1 hour (<code>1h</code>) through the use of <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\">shell parameter expansion</a>.</p>\n<p>Next we come to the use of the <code>--field</code> parameter, which allows me to specify the name and value for the search parameter <code>q</code>. I looked at the <a href=\"https://docs.github.com/en/github/searching-for-information-on-github/searching-code\">Searching code</a> documentation to find out about the <code>ownertype:owner</code> specification. The first time around this value will be &quot;org:qmacro-org&quot; and the second time around it will be &quot;user:qmacro&quot;. Moreover, with <code>path</code> I can search for content that appears at a specific location - see <a href=\"https://docs.github.com/en/github/searching-for-information-on-github/searching-code#search-by-file-location\">Search by file location</a>.</p>\n<blockquote>\n<p>For those wondering, GitHub Actions workflow definition files are stored in the <code>.github/workflows/</code> directory within a repository.</p>\n</blockquote>\n<p>Last but not least I use <code>--jq</code> parameter to supply <code>fzf</code> with some <code>jq</code> script that will parse and extract the data I need from the API's JSON output. I think it was in <a href=\"https://github.com/cli/cli/releases/tag/v1.7.0\">release 1.7.0</a> that this feature appeared, and it's a great idea - build in <code>jq</code> to <code>gh</code> so those that don't have <code>jq</code> already installed can still benefit. I guess it also helps to establish <code>jq</code> as the de facto standard for parsing and manipulating JSON.</p>\n<p>If we add some whitespace to the <code>jq</code> script passed with the <code>--jq</code> parameter, we get this:</p>\n<pre class=\"language-jq\"><code class=\"language-jq\"><span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><br />  <span class=\"token operator pipe\">|</span> <span class=\"token punctuation\">[</span><br />      <span class=\"token string\">\"<span class=\"token interpolation\"><span class=\"token punctuation\">\\(</span><span class=\"token content\"><span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>full_name</span><span class=\"token punctuation\">)</span></span>/<span class=\"token interpolation\"><span class=\"token punctuation\">\\(</span><span class=\"token content\"><span class=\"token punctuation\">.</span>name</span><span class=\"token punctuation\">)</span></span>\"</span><span class=\"token punctuation\">,</span><br />      <span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>owner<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">,</span><br />      <span class=\"token punctuation\">.</span>repository<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span><br />      <span class=\"token punctuation\">.</span>path<br />    <span class=\"token punctuation\">]</span><br />  <span class=\"token operator pipe\">|</span> @tsv'</code></pre>\n<p>I think it's always easier to stare at a script like this when we see what it's going to be processing, so here's some sample output from the API call to the search endpoint (reduced for brevity):</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span><br />  <span class=\"token property\">\"total_count\"</span><span class=\"token operator\">:</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span><br />  <span class=\"token property\">\"incomplete_results\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><br />  <span class=\"token property\">\"items\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><br />    <span class=\"token punctuation\">{</span><br />      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dump.yml\"</span><span class=\"token punctuation\">,</span><br />      <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\".github/workflows/dump.yml\"</span><span class=\"token punctuation\">,</span><br />      <span class=\"token property\">\"repository\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">331995789</span><span class=\"token punctuation\">,</span><br />        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"test\"</span><span class=\"token punctuation\">,</span><br />        <span class=\"token property\">\"full_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"qmacro-org/test\"</span><span class=\"token punctuation\">,</span><br />        <span class=\"token property\">\"owner\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />          <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"qmacro-org\"</span><span class=\"token punctuation\">,</span><br />          <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">75827316</span><span class=\"token punctuation\">,</span><br />          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Organization\"</span><br />        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />    <span class=\"token punctuation\">{</span><br />      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"main.yml\"</span><span class=\"token punctuation\">,</span><br />      <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\".github/workflows/main.yml\"</span><span class=\"token punctuation\">,</span><br />      <span class=\"token property\">\"repository\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">331995789</span><span class=\"token punctuation\">,</span><br />        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"showntell\"</span><span class=\"token punctuation\">,</span><br />        <span class=\"token property\">\"full_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"qmacro/showntell\"</span><span class=\"token punctuation\">,</span><br />        <span class=\"token property\">\"owner\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />          <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"qmacro\"</span><span class=\"token punctuation\">,</span><br />          <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">73068</span><span class=\"token punctuation\">,</span><br />          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"User\"</span><br />        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />    <span class=\"token punctuation\">{</span><br />      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"build.yml\"</span><span class=\"token punctuation\">,</span><br />      <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\".github/workflows/build.yml\"</span><span class=\"token punctuation\">,</span><br />      <span class=\"token property\">\"repository\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">165207450</span><span class=\"token punctuation\">,</span><br />        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"qmacro\"</span><span class=\"token punctuation\">,</span><br />        <span class=\"token property\">\"full_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"qmacro/qmacro\"</span><span class=\"token punctuation\">,</span><br />        <span class=\"token property\">\"owner\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />          <span class=\"token property\">\"login\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"qmacro\"</span><span class=\"token punctuation\">,</span><br />          <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">73068</span><span class=\"token punctuation\">,</span><br />          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"User\"</span><br />        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />    <span class=\"token punctuation\">}</span><br />  <span class=\"token punctuation\">]</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>Now we can understand what the <code>jq</code> script is doing. It's working through the contents of the <code>items</code> array (the search results) and piping each item into an array construction. The array construction is declaring three fields, a literal string and two properties:</p>\n<ul>\n<li>\n<p>the literal string contains two JSON properties <code>.repository.full_name</code> and <code>.name</code>, which are references with the <code>\\(...)</code> syntax. They're put into a literal string so I can add a slash (<code>/</code>) between them</p>\n</li>\n<li>\n<p>the two properties are the repository owner name and the repository name</p>\n</li>\n</ul>\n<p>Once constructed, the array is passed to <code>@tsv</code> which puts the values into a nice tab-separated list.</p>\n<blockquote>\n<p>I think it's fair to say that the output from the built-in <code>jq</code> works as if the <code>--raw-output</code> flag has been specified (see the <a href=\"https://stedolan.github.io/jq/manual/\">jq Manual</a>), which is what we want.</p>\n</blockquote>\n<p>This then produces the lines that we've seen earlier, i.e. ones that look like this:</p>\n<pre><code>qmacro-org/test/dump.yml\tqmacro-org\ttest\t.github/workflows/dump.yml\nqmacro/showntell/main.yml\tqmacro\tshowntell\t.github/workflows/main.yml\nqmacro/qmacro/build.yml\tqmacro\tqmacro\t.github/workflows/build.yml\n</code></pre>\n<p>These lines are then ready for piping to <code>fzf</code> in <code>main()</code>. Great!</p>\n<p>Now let's move on to the second script, which is what <code>fzf</code> calls to present the previews (i.e. with <code>--preview='showgithubcontent {2} {3} {4} yaml always'</code>).</p>\n<h2 id=\"the-showgithubcontent-script\" tabindex=\"-1\">The showgithubcontent script <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/24/4/github-actions-workflow-browser/#the-showgithubcontent-script\" aria-hidden=\"true\">#</a></h2>\n<p>As I mentioned earlier, this was originally just another function inside the <code>workflowbrowser</code> script, but I extracted it to use outside of that script too. You'll see why in a bit.</p>\n<p>Here's the script in its entirety:</p>\n<pre><code>#!/usr/bin/env bash\n\n# Takes owner, repo and path and shows content of that resource from GitHub.\n# Also accepts optional language and colour parameter.\n# Uses gh, base64 and bat.\n\ndeclare owner=$1\ndeclare repo=$2\ndeclare path=$3\ndeclare language=&quot;${4:-txt}&quot;\ndeclare color=&quot;${5:-never}&quot;\n\ngh api \\\n  --cache &quot;${GH_CACHETIME:-1h}&quot; \\\n  --jq '.content' \\\n  &quot;/repos/$owner/$repo/contents/$path&quot; \\\n  | base64 --decode -i - \\\n  | bat --color &quot;$color&quot; --theme gruvbox --plain --language &quot;$language&quot; -\n</code></pre>\n<p>This is so simple as to not even warrant the <code>main()</code> function based approach to organisation. At least not yet. So what does it do? It expects five parameters, that we've seen already:</p>\n<ul>\n<li>the repository owner name</li>\n<li>the repository name</li>\n<li>the path to the workflow definition file in the repository</li>\n<li>what language to base any syntax highlighting upon</li>\n<li>whether to show colours</li>\n</ul>\n<p>The last two parameters are specific to the <code>bat</code> tool, which is a posh version of <code>cat</code> - <a href=\"https://github.com/sharkdp/bat\"><code>bat</code>'s home page</a> calls it &quot;a cat clone with wings&quot;.</p>\n<p>The reason we need the first three parameters is because they're required in the call we need to the <a href=\"https://docs.github.com/en/rest/reference/repos#get-repository-content\">GitHub Contents API</a>. With this endpoint:</p>\n<pre><code>/repos/{owner}/{repo}/contents/{path}\n</code></pre>\n<p>we can retrieve the contents of a resource (a file) in a repository.</p>\n<p>Let's have a look what this gives us, in a sample call, for the following values:</p>\n<ul>\n<li>owner: &quot;qmacro&quot;</li>\n<li>repo: &quot;showntell&quot;</li>\n<li>path: &quot;.github/workflows/main.yml&quot;</li>\n</ul>\n<pre><code>$ gh api /repos/qmacro/showntell/contents/.github/workflows/main.yml\n\n{\n  &quot;name&quot;: &quot;main.yml&quot;,\n  &quot;path&quot;: &quot;.github/workflows/main.yml&quot;,\n  &quot;size&quot;: 387,\n  &quot;url&quot;: &quot;https://api.github.com/repos/qmacro/showntell/contents/.github/workflows/main.yml?ref=master&quot;,\n  &quot;type&quot;: &quot;file&quot;,\n  &quot;content&quot;: &quot;bmFtZTogYWRkX2FjdGl2aXR5X2NhcmQKCm9uOgogIGlzc3VlczoKICAgIHR5\\ncGVzOiBvcGVuZWQKCmpvYnM6CiAgbGlzdF9wcm9qZWN0czoKICAgIHJ1bnMt\\nb246IHVidW50dS1sYXRlc3QKICAgIG5hbWU6IEFzc2lnbiBuZXcgaXNzdWUg\\ndG8gcHJvamVjdAogICAgc3RlcHM6CiAgICAtIG5hbWU6IENyZWF0ZSBuZXcg\\ncHJvamVjdCBjYXJkIHdpdGggaXNzdWUKICAgICAgaWQ6IGxpc3QKICAgICAg\\ndXNlczogcW1hY3JvL2FjdGlvbi1hZGQtaXNzdWUtdG8tcHJvamVjdC1jb2x1\\nbW5AcmVsZWFzZXMvdjEKICAgICAgd2l0aDoKICAgICAgICB0b2tlbjogJHt7\\nIHNlY3JldHMuR0lUSFVCX1RPS0VOIH19CiAgICAgICAgcHJvamVjdDogJ3Ax\\nJwogICAgICAgIGNvbHVtbjogJ3RoaW5ncycK\\n&quot;,\n  &quot;encoding&quot;: &quot;base64&quot;\n}\n</code></pre>\n<p>(Output is reduced for brevity again).</p>\n<p>The content isn't what we might first expect - where's the YAML? It's Base64 encoded, so we need to grab the value of the <code>content</code> property (which we do with <code>--jq '.content'</code>) and decode it. The handy <code>base64</code> command is ideal for that.</p>\n<p>Once decoded, the workflow definition YAML content is piped into <code>bat</code>, with the following parameters:</p>\n<ul>\n<li><code>--color &quot;$color&quot;</code> - do we want colour? In preview mode, always (which is why we pass <code>always</code> in the call from the other script) but unless we're explicit about that, <code>bat</code> won't use colour. This is because of the shell parameter expansion in the declaration of the <code>color</code> variable: <code>&quot;${5:-never}&quot;</code>, where the literal string &quot;never&quot; is used as a default value if none is supplied.</li>\n<li><code>--theme gruvbox</code> - who doesn't like a little <a href=\"https://github.com/morhetz/gruvbox\">gruvbox</a> theming?</li>\n<li><code>--plain</code> - this turns off any of the <code>bat</code> &quot;chrome&quot; like line numbers and headings.</li>\n<li><code>--language &quot;$language&quot;</code> - this tells <code>bat</code> about the content, in the form of a hint as to what language it is and therefore how to syntax highlight it.</li>\n</ul>\n<p>And don't miss the final <code>-</code> passed to <code>bat</code>, that's to tell it to read from STDIN.</p>\n<p><strong>Embracing the Unix philosophy</strong></p>\n<p>That'a about it for the two scripts. I've found them to be useful and have had fun creating them. Really it's just glueing together different tools, that's sort of the point, part of the Unix philosophy in general.</p>\n<p>And talking of that, here's the reason I split out the <code>showgithubcontent</code> function into a separate script. It's because I wanted to be able to browse the workflow definitions, but then if I selected one, I wanted to be taken into an editor with that definition's contents. And with a proper shell (like Bash, or most other Unix shells) this is simple:</p>\n<pre><code>$ workflowbrowser | xargs showgithubcontent | vim --not-a-term -\n</code></pre>\n<p>That is:</p>\n<ol>\n<li>call <code>workflowbrowser</code> and take the selected output from <code>workflowbrowser</code> (which will be the three values that <code>fzf</code> emits when I select a workflow definition) and, by piping them through to a call to <code>xargs</code>, send them as parameters to <code>showgithubcontent</code></li>\n<li>this of course is a &quot;second&quot; call to <code>showgithubcontent</code> - it's been used in <code>fzf</code>'s preview window, but now we're calling it explicitly, for the selected definition, without the two extra arguments &quot;yaml&quot; and &quot;always&quot; so that the the workflow definition is output without adornment</li>\n<li>that unadorned workflow definition goes to STDOUT, which is then fed through the pipe to the STDIN of <code>vim</code>, my editor, where I tell it to read from STDIN (that's the use of <code>-</code>) and, using <code>--not-a-term</code>, tell it that its startup context is not a terminal (it's a pipe) so that it won't issue any warnings along those lines</li>\n</ol>\n<p>Here's an example of that pipeline flow in action:</p>\n<script id=\"asciicast-409639\" src=\"https://asciinema.org/a/409639.js\" async=\"\"></script>\n<p>I hope you found this useful and perhaps it will encourage you to create your own utility scripts using <code>gh</code> and <code>fzf</code>.</p>\n",
      "date_published": "2021-04-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/13/4/producing-json-with-jq-for-appending-issue-titles/",
      "url": "https://qmacro.org/blog/2021/13/4/producing-json-with-jq-for-appending-issue-titles/",
      "title": "Producing JSON with jq for appending issue titles",
      "content_html": "<p><em>I learned how to use <code>jq</code> to <strong>produce</strong> JSON, while writing a script to enhance my Thinking Aloud journal entry titles.</em></p>\n<p>In my <a href=\"https://github.com/qmacro/thinking-aloud\">Thinking Aloud</a> journal, the entries are issues in a GitHub repository. To <a href=\"https://github.com/qmacro/thinking-aloud/issues/1\">reduce friction</a> I decided to just use the current date and time for the journal entry title.</p>\n<p>That's worked fine, but in the overview of the issues it wasn't really practical to pick out the one I wanted to read or edit, because all I had to go on was the timestamp. Of course, I could scan the <a href=\"https://github.com/qmacro/thinking-aloud/blob/main/recent.md\">recent entries</a> but that would quickly become a little limiting as the number of journal entries grows.</p>\n<p>In a small script <a href=\"https://github.com/qmacro/thinking-aloud/blob/main/preptweet\">preptweet</a>, used when automatically tweeting about new entries, I was extracting the first 50 characters from the body and using that in the tweet. You can see an example in <a href=\"https://twitter.com/qmacro/status/1380500800879919105\">this tweet</a> - &quot;I've been thinking about field naming conventions today …&quot;.</p>\n<p>I thought this would be a useful string to have in the journal entry (issue) titles too, so I wrote a script <a href=\"https://github.com/qmacro/thinking-aloud/blob/main/appendtitle\">appendtitle</a> that would do that for me for the existing issues. I have yet to decide how to modify the process of creating a new journal entry (I could just have this script run as a separate job step in the <a href=\"https://github.com/qmacro/thinking-aloud/blob/main/.github/workflows/process-new-entry.yaml\">workflow</a> I already have, for example).</p>\n<p><a href=\"https://github.com/qmacro/thinking-aloud/blob/main/appendtitle\">appendtitle</a> contains essentially a single incantation, deliberately so, in my journey to practise my scripting. It's not the most readable but it helps me think about pipelining and how data flows through such a pipeline.</p>\n<p>I thought it might be useful to share and explain, in case others are on a similar journey. In it, I'll show how I used <code>jq</code> to cleanly <em>produce</em> JSON - I normally <em>consume</em> JSON with <code>jq</code>, so this was a nice departure.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"> <span class=\"token number\">1</span> <span class=\"token comment\">#!/usr/bin/env bash</span><br /> <span class=\"token number\">2</span><br /> <span class=\"token number\">3</span> <span class=\"token comment\"># Convert journal entry issues where the issue title is currently</span><br /> <span class=\"token number\">4</span> <span class=\"token comment\"># just the date and time stamp, by adding the first &lt;length> chars</span><br /> <span class=\"token number\">5</span> <span class=\"token comment\"># of the issue body to the title.</span><br /> <span class=\"token number\">6</span><br /> <span class=\"token number\">7</span> <span class=\"token builtin class-name\">readonly</span> <span class=\"token assign-left variable\">length</span><span class=\"token operator\">=</span><span class=\"token number\">50</span><br /> <span class=\"token number\">8</span><br /> <span class=\"token number\">9</span> gh api <span class=\"token string\">\"/repos/:owner/:repo/issues?state=open&amp;labels=entry\"</span> <span class=\"token punctuation\">\\</span><br /><span class=\"token number\">10</span>   --jq <span class=\"token string\">\".[] | [.number, .title, .body[0:<span class=\"token variable\">$length</span>]+<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>…<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>] | @tsv\"</span> <span class=\"token punctuation\">\\</span><br /><span class=\"token number\">11</span>   <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -E <span class=\"token string\">'\\t\\d\\d\\d\\d-\\d\\d-\\d\\d \\d\\d:\\d\\d:\\d\\d\\t'</span> <span class=\"token punctuation\">\\</span><br /><span class=\"token number\">12</span>   <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'s/\\t/ /g'</span> <span class=\"token punctuation\">\\</span><br /><span class=\"token number\">13</span>   <span class=\"token operator\">|</span> <span class=\"token keyword\">while</span> <span class=\"token builtin class-name\">read</span> -r number <span class=\"token function\">date</span> <span class=\"token function\">time</span> text<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span><br /><span class=\"token number\">14</span>     <span class=\"token assign-left variable\">newtitle</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">$date</span> <span class=\"token variable\">$time</span> <span class=\"token variable\">$text</span>\"</span><br /><span class=\"token number\">15</span>     jq -n --arg key title --arg value <span class=\"token string\">\"<span class=\"token variable\">$newtitle</span>\"</span> <span class=\"token string\">'{($key):$value}'</span> <span class=\"token punctuation\">\\</span><br /><span class=\"token number\">16</span>       <span class=\"token operator\">|</span> gh api <span class=\"token string\">\"/repos/:owner/:repo/issues/<span class=\"token variable\">$number</span>\"</span> --input -<br /><span class=\"token number\">17</span>     <span class=\"token function\">sleep</span> <span class=\"token number\">0.25</span><br /><span class=\"token number\">18</span>   <span class=\"token keyword\">done</span></code></pre>\n<p>Here's a breakdown, by line:</p>\n<p>9: Invoke the GitHub API with <code>gh</code> to retrieve the open issues representing journal entries.</p>\n<p>10: Use <code>gh</code>'s <code>--jq</code> flag to pass a script to pull out the issue number, current title &amp; first &lt;length&gt; characters from the body (plus an ellipsis to denote an elision). Output these values in tab-separated format.</p>\n<p>So far, here's typical output produced from lines 9 and 10:</p>\n<pre><code>19      2021-04-09 13:17:08 I've been thinking about field naming conventions …\n18      2021-04-07 16:27:58 One consequence of using repo issues for journal e…\n15      2021-04-07 09:04:01 Does it make sense to create a workflow to clean u…\n</code></pre>\n<p>Those are tab characters between the three columns number, timestamp and text.</p>\n<p>Continuing on:</p>\n<p>11: The output produced is passed via <code>grep</code> to check for a timestamp (nnnn-nn-nn nn:nn:nn) bounded on either side with tab characters (\\t). This ensures that only those entries with a title that is (still) only a timestamp are processed (In constructing the pattern, I found it clearer to write out each of the <code>\\d</code> digits than use something like e.g. <code>\\d{4}</code> for the four-digit year).</p>\n<p>12: Rather than mess around with tabs from this point on, <code>sed</code> is used to convert each tab to a space; this will keep things simple for reading each &quot;field&quot; on the next line.</p>\n<p>13: The output is now passed into a <code>while</code> loop, where <code>read</code> is used to capture each field. The default delineation is whitespace, so perhaps you're thinking &quot;what happens to the words beyond the first one, for the text value on each line?&quot;. Well because there are no further variable names following <code>text</code> in the <code>read</code> invocation, <code>text</code> gets the rest of the line, not just the next whitespace separated token. In other words, taking the first output line as an example, we don't just get &quot;I've&quot; in <code>text</code>, but all of &quot;I've been thinking about field naming conventions …&quot;.</p>\n<p>14: The values are marshalled into a new title format, in <code>newtitle</code>.</p>\n<p>15: Using <code>jq</code>, a properly formatted chunk of JSON is produced, to prepare a payload value to pass in the GitHub API call to <a href=\"https://docs.github.com/en/rest/reference/issues#update-an-issue\">update an issue</a>.</p>\n<p>If the value of <code>newtitle</code> was &quot;2021-04-09 13:17:08 I've been thinking about field naming conventions …&quot;, then this <code>jq</code> invocation would produce this (including the whitespace):</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span><br />  <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2021-04-09 13:17:08 I've been thinking about field naming conventions …\"</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>16: This JSON thus produced can be then supplied in the API call, again using <code>gh</code>, with the value <code>-</code> (classically denoting &quot;take from STDIN&quot;) for the <code>--input</code> parameter.</p>\n<p>17: A short pause between API calls keeps the GitHub API endpoint sweet, and we're done.</p>\n<p>This is the first time I've used <code>jq</code> to produce JSON, and it feels a lot safer than messing around with quoting, and the quotes required for the JSON format itself. Thanks <code>jq</code>, and of course thanks GitHub API!</p>\n",
      "date_published": "2021-04-13T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/4/4/mainframes-sdsf-and-github-actions/",
      "url": "https://qmacro.org/blog/2021/4/4/mainframes-sdsf-and-github-actions/",
      "title": "Mainframes, SDSF and GitHub Actions",
      "content_html": "<p><em>GitHub Actions workflows, mainframes and SDSF. I can't get the combination out of my head.</em></p>\n<p>I started my computing adventure at the age of 11 on a minicomputer (see <a href=\"https://qmacro.org/2020/11/03/computer-unit-1979/\">Computer Unit 1979</a>) and then IBM mainframes featured heavily in the early and formational part of my career. Job definitions, job &amp; step interdependencies, batch job execution and output management are in my blood.</p>\n<p>The reliability, predictability, and perhaps even the ceremony of defining a job, submitting it to the right execution class, have it run, at some time, and then poring over the output after execution was finished, is something that still appeals to me. Even in today's world of always-on, I'd like to think that realtime, the ultimate opposite to batch, is in some senses overrated, or at least misunderstood.</p>\n<p>All of my career, more or less, has revolved around SAP systems. The R in SAP R/2, which I worked with between 1987 and around 1995, stood for Realtime (and this was the name of the consulting company I joined to launch my career as a consultant / contractor, but that's a story for another time).</p>\n<p><strong>Realtime vs batch</strong></p>\n<p>What did realtime mean here? Well, it meant that human facing processes were exposed via screens, interaction with data was live, it happened there and then. Transactions could be executed directly. What SAP R/2 replaced was a completely batch oriented system where everything ran asynchronously and the idea of screens allowing access to and interaction with business processes was very new. Moreover, these business processes were integrated.</p>\n<p>Of course, any SAP Basis person will tell you that while yes there are dynamic programs (dynpros) that allow immediate and interactive access in realtime, the batch concept is still alive and well in SAP systems. It was then in R/2 (with an overnight schedule of tens if not hundreds of interdependent jobs), and it even is today with SAP S/4HANA Cloud, and every other SAP system that is based upon the R/3 architecture. Yes, I'm talking about the batch processes, and even the update processes, that are part of the DISP+WORK design from the early 1990s.</p>\n<p>So batch is still alive and well, in fact it never went away.</p>\n<p>Moreover, while for very large organisations the mainframe lives on, especially in financial circles, the concept of the mainframe lives on too. <a href=\"http://www.winestockwebdesign.com/Essays/Eternal_Mainframe.html\">The Eternal Mainframe</a> is a great essay that muses on that and more.</p>\n<p><strong>Realtime vs resilient</strong></p>\n<p>And in today's era, the obsession with realtime seems to be spilling over into the API world, where folks are wanting to interconnect their systems in a loosely coupled way with realtime interfaces. While <a href=\"https://en.wikipedia.org/wiki/Loose_coupling\">loose coupling</a> is usually the right approach, realtime interfaces are a different beast. In some cases of course, synchronous communication, with blocking, is required. But in many cases it's not.</p>\n<p><em>What the R should really stand for here is not Realtime, but Resilient.</em></p>\n<p>(I'd like to take credit for this quotable nugget, but I have to attribute it to the person from whom I heard it first - my friend and SAP colleague <a href=\"https://people.sap.com/c.stasila\">Craig Stasila</a>.)</p>\n<p>And what does that mean, exactly? Well to me it means not synchronous, but asynchronous. Message (i.e. event) based integration. Message events that are fired by a system, with a payload, managed by a message bus, and received &amp; processed by other systems. We've looked into this a lot on our <a href=\"https://blogs.sap.com/2020/11/09/an-overview-of-sap-developers-video-content/#shows\">Hands-on SAP Dev</a> show, in particular the <a href=\"https://www.youtube.com/playlist?list=PL6RpkC85SLQCf--P9o7DtfjEcucimapUf\">Diving into SAP Enterprise Messaging</a> series (SAP's Enterprise Messaging service is now called Event Mesh, by the way).</p>\n<p>Embracing &amp; understanding the importance of this asynchronous nature might help folks to think about the nature of batch, too. Not everything needs to be immediate. Not everything must happen as soon as something else happens. If that was the case, then why are we seeing such a massive interest and use of <a href=\"https://github.com/features/actions\">GitHub Actions</a>, which brings the whole idea, and appeal, of batch processing to the masses.</p>\n<p><strong>GitHub Actions and batch processing</strong></p>\n<p>While writing this I've realised that there's another layer to GitHub Actions that adds to the appeal for me. When I first encountered batch processing, at Esso Petroleum at the start of my career, I spent many a happy hour writing Job Control Language (JCL), monitoring jobs, and obsessing over the detail of their output messages. One thing that was almost unspoken in this is that sitting at my silent terminal, I had no idea at the time where the machines were that processed my jobs, what they looked like, sounded like, nor did I have to care. They were looked after by the system operators.</p>\n<p>And so it is with GitHub Actions. Unless I'm using self-hosted runners, I have no idea about the machines upon which the jobs defined in my workflows are run. I don't know where they are, whether they're real or virtual, nothing. And as long as I remain within my execution quota, I don't have to care, either. Again, that's someone else's task.</p>\n<p><strong>SDSF for GitHub Actions</strong></p>\n<p>Anyway, I'm not really sure where I'm going with this post. I'd started out with the intention of explaining a little bit as to why, to GitHub Actions product manager <a href=\"https://twitter.com/chrisrpatterson\">Chris Patterson</a>'s question &quot;If you had one wish for GitHub Actions what would it be?&quot;, my answer was:</p>\n<p><a href=\"https://twitter.com/qmacro/status/1372578449743826949\">&quot;SDSF for workflow/job execution and output. Please :-)&quot;</a></p>\n<p>IBM's System Display and Search Facility (<a href=\"https://en.wikipedia.org/wiki/SDSF\">SDSF</a>) was how I navigated the output from batch jobs that had executed. How I searched, sorted, viewed, printed and purged output. How I found patterns in what was happening in the area for which I was responsible. Using a powerful and classic terminal user interface (TUI) design which fit well with the Interactive System Productivity Facility (ISPF) world where we spent our working hours.</p>\n<p>I think I'll leave the explanation for why I think it would suit the GitHub Actions ecosystem, for next time. Until then, I'll leave you with a screenshot (courtesy of <a href=\"https://community.ibm.com/community/user/ibmz-and-linuxone/blogs/trent-balta1/2021/01/28/exploring-zos-through-zowe-zoau-ide-tools\">Trent Balta and the IBM Community</a>) of SDSF in action.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/04/sdsf.png\" alt=\"SDSF in action\" /></p>\n",
      "date_published": "2021-04-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/1/4/new-tmux-panes-and-windows-in-the-right-directory/",
      "url": "https://qmacro.org/blog/2021/1/4/new-tmux-panes-and-windows-in-the-right-directory/",
      "title": "New tmux panes and windows in the right directory",
      "content_html": "<p><em>I finally got round to looking into how to be in the &quot;right&quot; directory when I create a new window or pane in <code>tmux</code>. Here's what I did.</em></p>\n<p>I've been starting multiple <code>tmux</code> sessions, one for each project I'm working on, and ensuring that I'm in the &quot;right&quot; base directory for each of those projects before actually creating the corresponding <code>tmux</code> session. That way, each new window or pane I open places me in that project's base directory. Which isn't too bad.</p>\n<p>But I'm trying to move to a simpler workflow, and use fewer <code>tmux</code> sessions. This meant I hit on that possibly age-old issue of being in the &quot;wrong&quot; directory when I create a new window or pane, and having to <code>cd</code> to where I want to be. Which is usually <em>where I just was</em> before invoking the new window or pane command!</p>\n<p>I did a bit of digging and found the answer, which was quite simple in the end - and I would have known about it with a better level of knowledge about <code>tmux</code>. I had written a short essay on that subject: <a href=\"https://qmacro.org/2021/03/31/deeper-connections-to-everyday-tools/\">Deeper connections to everyday tools</a>, and in that essay, I'd made a reference to this new discovery.</p>\n<p><a href=\"https://twitter.com/ceedee666/status/1377501505226477569\">Christian Drumm asked</a> me today about this very thing, so I thought I'd write this short entry that I could refer to for Christian and also for others.</p>\n<p>Basically it involves using the <code>-c</code> option when creating a new window or pane, and passing the value of the built-in variable <code>pane_current_path</code> (see the <a href=\"https://man7.org/linux/man-pages/man1/tmux.1.html\">manual</a> for info).</p>\n<p>I initially got this info from a <a href=\"https://gist.github.com/william8th/faf23d311fc842be698a1d80737d9631\">gist</a> by <a href=\"https://gist.github.com/william8th\">William Heng</a> but <a href=\"https://unix.stackexchange.com/a/12091/87597\">this Stack Exchange answer</a> by Chris Johnsen has some great background which is worth reading too.</p>\n<p>The change I made to my <code>tmux</code> configuration is in this commit:</p>\n<p><a href=\"https://github.com/qmacro/dotfiles/pull/2/commits/2664669d5922e640b232f185e2045e412852f47c\">https://github.com/qmacro/dotfiles/pull/2/commits/2664669d5922e640b232f185e2045e412852f47c</a></p>\n<p>and looks like this:</p>\n<pre><code>bind c new-window -c &quot;#{pane_current_path}&quot;\nbind '-' split-window -c &quot;#{pane_current_path}&quot;\nbind '\\' split-window -h -c &quot;#{pane_current_path}&quot;\nbind C new-window\nbind '_' split-window\nbind '|' split-window -h\n</code></pre>\n<p>Basically I'm now set up to enjoy the new behaviour (opening new windows and panes in the current working directory) when I use the keys I normally use:</p>\n<ul>\n<li><code>c</code> - new window</li>\n<li><code>-</code> - new vertically split pane</li>\n<li><code>\\</code> - new horizontally split pane</li>\n</ul>\n<p>But I've added three extra bindings in case I want the old behaviour, bindings to the &quot;shifted&quot; version of those keys:</p>\n<ul>\n<li><code>C</code> - new window</li>\n<li><code>_</code> - new vertically split pane</li>\n<li><code>|</code> - new horizontally split pane</li>\n</ul>\n<p>I've not found myself using these extra bindings for the old behaviour yet, and I'll probably end up removing them.</p>\n<p>Anyway, there you have it. Thank you William and Chris for the help!</p>\n",
      "date_published": "2021-04-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/31/3/deeper-connections-to-everyday-tools/",
      "url": "https://qmacro.org/blog/2021/31/3/deeper-connections-to-everyday-tools/",
      "title": "Deeper connections to everyday tools",
      "content_html": "<p><em>With some things, ignorance is not bliss. There are entire features of the tools I use every day that I know little about, and I want to change that.</em></p>\n<p>Something mildly profound emerged from the combination two recent activities:</p>\n<ul>\n<li>eBay sales of items I've not used in a while</li>\n<li>maintenance of my La Pavoni coffee machine</li>\n</ul>\n<p>The <a href=\"https://qmacro.org/2021/03/27/la-pavoni-maintenance-successful/\">successful maintenance</a> of that beautifully designed manual lever espresso machine did take a while, but during it I guess I formed a deeper relationship with the device, built upon the existing connection I had already from the constant enjoyment &amp; challenge of getting everything aligned to pull a decent shot.</p>\n<p>And the items I sold (SONOS speakers, an old Macbook Pro) are items I've not really had any relationship with at all. Yes, I used the speakers, but not every day, and since SONOS's <a href=\"https://www.fastcompany.com/90454672/this-is-disgusting-angry-sonos-customers-are-calling-for-a-boycott\">meltdown</a> last year an active distancing and dislike has grown between me and the devices.</p>\n<p>What was profound was that the lack of relationship I had with the stuff I just sold on eBay actually amplified the deep relationship I feel with the La Pavoni.</p>\n<p><strong>Tools I use often in the kitchen</strong></p>\n<p>I'd been thinking about tools I use often, since <a href=\"https://twitter.com/qmacro/status/1374655713331544065\">noticing how worn my hand milk frother was recently</a>.</p>\n<img src=\"https://qmacro.org/content/images/2021/03/milkfrother.jpeg\" alt=\"Worn milk frother\" width=\"200\" height=\"138\" />\n<p>I've had that milk frother for about 10 years. I've had a moka pot for about that long too - originally one from Bialetti, which I eventually replaced with one from IKEA (which is surprisingly excellent).</p>\n<img src=\"https://qmacro.org/content/images/2021/03/mokapot.png\" alt=\"IKEA RÅDIG moka pot\" width=\"147\" height=\"155\" />\n<p>And I've had the La Pavoni Professional Lusso for almost 2 years.</p>\n<img src=\"https://qmacro.org/content/images/2021/03/lapavoni.jpeg\" alt=\"La Pavoni and espresso cup\" width=\"300\" height=\"400\" />\n<p>Give or take, I've used each of these items <strong>every single day</strong> since I've had them. Often more than once per day. (In case you're wondering, I make M's latte with the moka pot and froth the milk manually, as that's how she prefers it, and I make my espresso with the La Pavoni).</p>\n<p>These are just examples of course, but they're very visceral because I use all of them with my hands and what they produce is also consumed by me and M.</p>\n<p>There's something special about tools like this. The bond, the attachment, the relationship that builds is more something than nothing. Anyway, before I get too philosophical, I'll get to the other half of this post, which is about tools I use at work.</p>\n<p><strong>Tools I use often at work</strong></p>\n<p>I like the command line. Give me a terminal over a GUI any day. The command line is a rich and powerful environment because of the expressive nature and the closeness you feel to the things you're trying to do (or manipulate).</p>\n<p>That power comes from the combination of two things, the shell, and the commands available to you in your path (for more on the shell, see <a href=\"https://qmacro.org/autodidactics/2020/12/28/waiting-for-jobs/\">Waiting for jobs, and the concept of the shell</a>).</p>\n<p>Without thinking too hard, here's a list of commands, of tools, that I use in the context of the shell, every single day:</p>\n<ul>\n<li><code>vim</code> (editor)</li>\n<li><code>tmux</code> (terminal multiplexer)</li>\n<li><code>curl</code> (HTTP client)</li>\n<li><code>fzf</code> (fuzzy finder)</li>\n<li><code>jq</code> (JSON processor)</li>\n</ul>\n<p>(One could say that the combination of <code>vim</code>, <code>tmux</code> and the shell is my IDE.)</p>\n<p>Of course, I use other commands too, and many Bash shell builtins &amp; features, but I'd say these are tools that I find essential.</p>\n<p><strong>More learning required</strong></p>\n<p>As well as being daily drivers, regardless of the task at hand, what else do these tools have in common?</p>\n<p>Well, to be honest - there's still much that I don't know about them.</p>\n<p>In many ways, one could argue that these tools represent the zenith of achievement in their area:</p>\n<ul>\n<li>there are few editors as powerful or accomplished as <code>vim</code></li>\n<li><code>tmux</code> is the de facto standard for managing terminal sessions</li>\n<li><code>curl</code> is possibly the most popular HTTP client mechanism out there, in command line tool form as well as in library form</li>\n<li>someone <a href=\"https://lobste.rs/s/nsfdaw/improving_shell_workflows_with_fzf#c_2um216\">said this</a> about <code>fzf</code> recently, and I tend to agree: &quot;<em>I don’t think any other single cli tool has ever had such a big and positive impact on my workflow than fzf has, it’s really a great piece of work</em>&quot;.</li>\n<li>while there are other great options such as <code>fx</code>, it's <code>jq</code> that everyone turns to, to handle JSON data on the command line</li>\n</ul>\n<p>So while at least the La Pavoni machine has moving parts, it's still a block of stone compared to these tools, which all have such rich and varied features.</p>\n<p>Here are a few example of what I've only recently discovered, or perhaps uncovered, with these tools.</p>\n<ul>\n<li>I managed to write some Vimscript to call <a href=\"https://github.com/mvdan/sh\"><code>shfmt</code></a> to pretty-print my shell scripts on save</li>\n<li>I <a href=\"https://qmacro.org/autodidactics/2021/04/01/new-tmux-panes-and-windows-in-right-dir/\">worked out</a> how to get <code>tmux</code> to open a new window or pane in the same directory as I was when I invoked the open command</li>\n<li>Having read <a href=\"https://seb.jambor.dev/posts/improving-shell-workflows-with-fzf/\">Improving shell workflows with fzf</a> I learned about how to configure my own previews</li>\n<li>I remembered (I'd forgotten) that I can use <code>--data-urlencode</code> to have values automatically URL encoded with <code>curl</code></li>\n<li>I'm only just now starting to feel comfortable enough to embrace <code>jq</code> as a complete language, with my <a href=\"https://github.com/qmacro/dotfiles/blob/master/scripts/dwr#L21-L38\">first script with function definitions</a></li>\n</ul>\n<p>As those lovely folks that join my live stream sessions* know - I'm not afraid of admitting that &quot;I've no idea what I'm doing&quot;.</p>\n<p>*I live stream usually weekly on Friday mornings UK time - look for the Hands-on SAP Dev episodes on the <a href=\"https://www.youtube.com/channel/UCNfmelKDrvRmjYwSi9yvrMg\">SAP Developers</a> YouTube channel.</p>\n<p>At the beginning of last year, along with other folks in the <a href=\"https://community.sap.com/\">SAP Community</a>, I wrote up <a href=\"https://blogs.sap.com/2020/01/12/my-learning-list-for-2020/\">my learning list for 2020</a>. In it, I had a section titled &quot;Understanding core things better&quot;, and while that contained the kernel of the idea that I want to improve my understanding of fundamental things, I think I missed the mark somewhat. I failed to spot the tools that were right in front of me (or my fingers).</p>\n<p>So I guess this is a reminder for me that I'm nowhere near done. That's fine, continuous learning is a thing, and as it is for many others, it's my thing.</p>\n<p>Triggered by some mundane moments recently (eBay activities, gasket maintenance, the wearing thin of a simple wooden handle), I've come to realise what I need to do. And that is far from mundane. It won't be a short process -- I think mastery of these tools will only come over years -- but the journey will enjoyable and rich from the outset.</p>\n",
      "date_published": "2021-03-31T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/30/3/two-phase-video-uploads-with-youtube-api-and-curl/",
      "url": "https://qmacro.org/blog/2021/30/3/two-phase-video-uploads-with-youtube-api-and-curl/",
      "title": "Two-phase video uploads with YouTube API and curl",
      "content_html": "<p><em>TIL how to use the YouTube API to upload a video, with <code>curl</code>, using a two-phase approach.</em></p>\n<p>I'm becoming more familiar with the YouTube API surface area, and a task recently required me to look into an efficient way of uploading videos to a YouTube channel. While I managed the upload technically, it was ultimately in vain due to a recent <a href=\"https://developers.google.com/youtube/v3/revision_history#release_notes_07_28_2020\">change to the terms of service</a>. But it's still worth sharing the two-phase approach that I was able to take.</p>\n<p>The YouTube Data API has a <a href=\"https://developers.google.com/youtube/v3/docs/videos/insert\">Videos: insert</a> facility. It's worth reading through this, and, if you get the chance, through other areas of the API, because they're quite similar, and what appeared initially a little overwhelming to me has become more familiar.</p>\n<p>The approach revolves around the following flow:</p>\n<ol>\n<li>prepare a <a href=\"https://developers.google.com/youtube/v3/docs/videos#resource\">video resource</a> - this is a JSON structure where you put your video metadata</li>\n<li>POST this JSON structure to the API endpoint, and expect a Location header in the response</li>\n<li>POST the binary content of the video itself to the URL that the Location header pointed to</li>\n</ol>\n<p>Here's a brief example based on a throwaway script I created to use the API.</p>\n<p><strong>Preparing the video resource</strong></p>\n<p>I don't like writing JSON by hand, I prefer writing YAML and then having it converted to JSON on the fly. Here's a function I wrote to produce the video resource:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">videoresource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  yq e -j -I<span class=\"token operator\">=</span><span class=\"token number\">0</span> - <span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EODATA<br />snippet:<br />  categoryId: 28<br />  title: The video title<br />  description: |<br />    A longer description that can run over<br />    several lines if needed. This is the text<br />    that appears beneath the video on YouTube.<br />  tags:<br />    - sap<br />    - bash<br />    - jq<br />    - scripting<br />    - btp<br />status:<br />  selfDeclaredMadeForKids: False<br />  privacyStatus: Unlisted<br />recordingDetails:<br />  recordingDate: 2018-03-31T00:00:00Z<br />EODATA</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>I'm using <code>yq</code> to evaluate (<code>e</code>) the YAML and emit JSON (<code>-j</code>). The <code>-I=0</code> tells <code>yq</code> to put all the JSON output on a single line (by default it will nicely pretty-print it with whitespace).</p>\n<p><strong>Posting the JSON video resource</strong></p>\n<p>In making a POST request to the <a href=\"https://developers.google.com/youtube/v3/docs/videos/insert\">Videos: insert</a> endpoint, you need to specify the <code>part</code> parameter, which, amongst other things, describes what you're sending in the video resource. I prepare my <code>part</code> parameter like this (and yes, I know I should URL encode the values, but hey, it's a throwaway script and it worked):</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">urlparameters</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token function\">paste</span> -s -d<span class=\"token string\">'&amp;'</span> - <span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOPARM<br />part=snippet,status,recordingDetails<br />notifySubscribers=False<br />uploadType=resumable<br />EOPARM</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>As well as adding the optional parameter <code>notifySubscribers</code> I also added the <code>uploadType</code> parameter. While not directly documented on the <a href=\"https://developers.google.com/youtube/v3/docs/videos/insert\">Videos: insert</a> page, it appears in the <a href=\"https://developers.google.com/youtube/v3/docs/videos/insert#ruby\">Ruby code sample</a> there and seems to be quite important.</p>\n<p>Using the two functions thus defined, it's a straightforward matter of using the Swiss Army toolchain of HTTP clients, the venerable <code>curl</code>:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token punctuation\">\\</span><br />  <span class=\"token string\">\"https://www.googleapis.com/upload/youtube/v3/videos?<span class=\"token variable\"><span class=\"token variable\">$(</span>urlparameters<span class=\"token variable\">)</span></span>\"</span> <span class=\"token punctuation\">\\</span><br />  --verbose <span class=\"token punctuation\">\\</span><br />  --header <span class=\"token string\">\"Authorization: Bearer <span class=\"token variable\"><span class=\"token variable\">$(</span>tget<span class=\"token variable\">)</span></span>\"</span> <span class=\"token punctuation\">\\</span><br />  --header <span class=\"token string\">\"Accept: application/json\"</span> <span class=\"token punctuation\">\\</span><br />  --header <span class=\"token string\">\"Content-Type: application/json\"</span> <span class=\"token punctuation\">\\</span><br />  --data <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>videoresource<span class=\"token variable\">)</span></span>\"</span></code></pre>\n<p>You'll need to supply an OAuth access token as the value for the Bearer token in the <code>Authorization</code> header - I want to focus on the actual two-phase upload here so I'll leave the <code>tget</code> script that I have for another time.</p>\n<p>Here's a slightly redacted snippet of the HTTP request and response:</p>\n<pre><code>&gt; POST /upload/youtube/v3/videos?part=snippet... HTTP/2\n&gt; Host: www.googleapis.com\n&gt; User-Agent: curl/7.64.1\n&gt; Authorization: Bearer ya23supersekritaccesstokenhunter2\n&gt; Accept: application/json\n&gt; Content-Type: application/json\n&gt; Content-Length: 111\n&gt;\n&lt; HTTP/2 200\n&lt; content-type: text/plain; charset=utf-8\n&lt; content-type: application/json; charset=UTF-8\n&lt; x-guploader-uploadid: ABg5...\n&lt; location: https://www.googleapis.com/upload/youtube/v3/videos?part=snippet...&amp;upload_id=ABg5someuniqueuploadidentifier\n&lt; content-length: 0\n&lt; date: Tue, 30 Mar 2021 07:14:47 GMT\n&lt; server: UploadServer\n</code></pre>\n<p>While there are a couple of odd aspects to that HTTP response (see below), what we're looking for here is the Location header. The URL there is the one to which we must now send the binary data of the video.</p>\n<p><strong>Sending the binary data</strong></p>\n<p>In the first phase we sent the JSON representation of the video resource, the video's metadata, effectively. In this second phase we now send the video content itself, to the URL in the Location header in the first phase's response.</p>\n<p>With <code>curl</code>, sending binary data in a file is easier than you think:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token punctuation\">\\</span><br />  <span class=\"token string\">\"https://www.googleapis.com/upload/youtube/v3/videos?part=snippet...&amp;upload_id=ABg5someuniqueuploadidentifier\"</span> <span class=\"token punctuation\">\\</span><br />  --header <span class=\"token string\">\"Authorization: Bearer <span class=\"token variable\"><span class=\"token variable\">$(</span>tget<span class=\"token variable\">)</span></span>\"</span> <span class=\"token punctuation\">\\</span><br />  --data-binary @videofile.mp4</code></pre>\n<p><strong>Wrapping up</strong></p>\n<p>That's pretty much it. I must say, I have struggled to get my brain around some of the YouTube API surface area, but the mist is starting to clear. If you're like me and also trying to grok things, perhaps this post will help a little.</p>\n<p>Oh yes, and those odd aspects to the first phase HTTP response earlier?</p>\n<p>Well, for a start, why are there two different Content-Type headers?</p>\n<p>More importantly though, sending an HTTP 200 response to the request seems a little suspect. It's HTTP status <a href=\"https://tools.ietf.org/html/rfc2616#section-10.2.2\">201 CREATED</a> that is appropriate here, not <a href=\"https://tools.ietf.org/html/rfc2616#section-10.2.1\">200 OK</a>. And while a Location header in an HTTP response is appropriate (and more or less required) with a 201 CREATED status, with a 200 OK status it is not.</p>\n",
      "date_published": "2021-03-30T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/27/3/la-pavoni-maintenance-successful/",
      "url": "https://qmacro.org/blog/2021/27/3/la-pavoni-maintenance-successful/",
      "title": "La Pavoni maintenance successful",
      "content_html": "<p><em>I've successfully carried out maintenance on my La Pavoni espresso machine, and you can too. Here are some notes that may help.</em></p>\n<p>I'd been slightly apprehensive about replacing the gaskets on my La Pavoni lever espresso machine, as I'm not particularly skilled at this kind of thing and didn't want to break anything. But I've just gone through the process and things seem to have worked out OK, and I wanted to share that information - because if I can do it, you can too.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/03/lapavonimaintenance.jpeg\" alt=\"My La Pavoni in mid-maintenance\" /></p>\n<h2 id=\"why-i-did-it\" tabindex=\"-1\">Why I did it <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/27/3/la-pavoni-maintenance-successful/#why-i-did-it\" aria-hidden=\"true\">#</a></h2>\n<p>I'd started to notice some leakage in the grouphead - once the machine was up to temperature and pressure, water would drip out into the drip tray (or cup). Sometimes only a few drops; but at other times almost up to an espresso cup's worth.</p>\n<p>Related, I'm sure, was the fact that the lever action, both up and down, was far from smooth. It was, how can I put it, bumpy and uneven, as though something was rubbing or catching. The odd thing is that because this happened over time, I didn't actually notice it in the early stages. But it became quite severe and I guessed it was a gasket issue - which was very likely related to the leakage too.</p>\n<h2 id=\"learning-how-to-do-it\" tabindex=\"-1\">Learning how to do it <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/27/3/la-pavoni-maintenance-successful/#learning-how-to-do-it\" aria-hidden=\"true\">#</a></h2>\n<p>I watched and re-watched various videos on YouTube, and found that this one from Sam Stiles was the most helpful: <a href=\"https://www.youtube.com/watch?v=DwLkxOpXSOg\">La Pavoni- 5 piece gasket replacement</a>. I must have watched that one at least 7 or 8 times before I started.</p>\n<h2 id=\"what-i-ordered\" tabindex=\"-1\">What I ordered <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/27/3/la-pavoni-maintenance-successful/#what-i-ordered\" aria-hidden=\"true\">#</a></h2>\n<p>I ordered a <a href=\"https://www.theespressoshop.co.uk/en/La-Pavoni-Lever-Grouphead-Service-Kit-New-Group/m-2791.aspx\">La Pavoni Lever Grouphead Service Kit (New Group)</a> from The Espresso Shop. I chose this to order as I wasn't sure what I needed, and in fact it came with some parts that were a nice bonus (more on that shortly).</p>\n<p>Following the process demonstrated very ably by William Stiles in the video, I managed to remove the lever and then the grouphead, and then the piston.</p>\n<h2 id=\"tools\" tabindex=\"-1\">Tools <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/27/3/la-pavoni-maintenance-successful/#tools\" aria-hidden=\"true\">#</a></h2>\n<p>Having watched how William used his tools, I ordered a <a href=\"https://www.amazon.co.uk/gp/product/B0818WLSGS/\">set of snap ring pullers</a> to be able to remove the snap ring holding the piston shaft gasket in place.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/03/snapringpullers.png\" alt=\"Snap ring pullers\" /></p>\n<p>Having seen one used in another video, I also ordered a cheap <a href=\"https://www.amazon.co.uk/gp/product/B00G3CCJ94/\">hook and pick set</a>. I wasn't entirely sure I'd need them but in fact they were very handy to have - I found the 90 degree angled one useful for prying the old gaskets off, and for retrieving the aforementioned piston shaft gasket.</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/03/hookandpickset.png\" alt=\"Hook and pick set\" /></p>\n<p>I already had a rubber mallet so with the arrival of those online purchases, I was all set.</p>\n<h2 id=\"observations\" tabindex=\"-1\">Observations <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/27/3/la-pavoni-maintenance-successful/#observations\" aria-hidden=\"true\">#</a></h2>\n<p>I went slowly and carefully, and everything pretty much went as William described. Here are some observations and experiences that I thought might be helpful.</p>\n<p><strong>Lever attachment</strong></p>\n<p>The lever attachment section was pretty dirty - especially the bolts and the roller nut; while I cleaned the lever itself, and the top of the grouphead, I didn't need to clean the bolts or the roller nut, as the service kit included new ones, and also new clips (called &quot;circlips&quot;, which was new to me) that hold the bolts in place.</p>\n<p><strong>Removing the piston</strong></p>\n<p>It was quite difficult to remove the piston from the grouphead; I whacked it with the rubber mallet just like William did, with some force, but it wasn't budging.</p>\n<p>But after removing the large gasket at the bottom of the grouphead, the one holding the shower screen in (i.e. the one that the top of the portafilter touches when you attach it when about to pull a shot) ... one more whack with the mallet did it and it came out much more easily.</p>\n<p>With it came a small amount of water - luckily, I'd placed a towel where the drip tray usually goes, not for any water, but to prevent the piston scratching the chrome as it shot out of the bottom.</p>\n<p><strong>Cleaning the piston</strong></p>\n<p>I made sure to clean each and every part I could get access to, but the piston itself was by far the most grimy. I spent about 10 minutes with some hot soapy water and a gentle panscrub to remove a layer, which was quite greasy (from the coffee oils, I guess).</p>\n<p>This was after removing the old piston gaskets, which looked pretty knackered. I found the pick set was useful for this, by the way.</p>\n<p><strong>Replacing the piston gaskets</strong></p>\n<p>After removing the piston, I found that this was one of the hardest things to do. It was easy enough to pry the old gaskets off, but the new ones weren't for going on easily. In another video, I saw that the person had pre-soaked the gaskets in warm water for 5 minutes to make them a little more pliable.</p>\n<p>Doing this helped, but it still took me a couple of attempts. First of all I managed to get one on, but when I looked, it had twisted around and the &quot;groove&quot; was facing outwards. So I had to remove it and try again.</p>\n<p>Removing it was difficult too, I didn't want to use the pick, or even a flathead screwdriver as they both had sharp bits and I didn't want to damage the new gaskets. But then I realised I could use the thin end of a teaspoon. Smooth, and, as it turns out, ideal!</p>\n<p>I made sure I put the gaskets on as William had instructed, i.e. like the shape of a guitar body.</p>\n<p><strong>The piston shaft gasket, washer and snap ring replacement</strong></p>\n<p>Getting to the piston shaft gasket was fiddly but doable - mostly thanks to one of the snap ring pullers in the set I bought. Definitely recommended. I've no idea how I would have removed the snap ring without it, and I'm pretty certain I would have had no chance to put it back either.</p>\n<p>By the way, the service kit also included a new snap ring, plus the washer that sits between the ring and the gasket. That was nice, as both the ring and washer were quite dirty and some limescale had built up there too. The gasket itself was pretty decrepit, at least as worn as the piston gaskets, if not worse.</p>\n<p><strong>Re-inserting the piston</strong></p>\n<p>When I was ready to re-insert the piston, I made sure to lightly grease the piston itself (around the head, including the gaskets), and put a small amount on the shaft. This helped with the insertion, but only after I'd fiddled around with a spoon to squash in the flanged part of the topmost piston gasket so it would go back into the grouphead.</p>\n<p>You see William doing this, but as he did it so deftly, I didn't notice at first. It took me a minute or so to get this done.</p>\n<p><strong>Re-attaching the lever</strong></p>\n<p>Once the piston was in, the lever re-attachment was pretty easy. One thing I found fascinating is that the lower of the two nuts that are screwed onto the top of piston shaft is to provide an appropriate &quot;stop&quot; point so that the piston doesn't go too low. I found that I had to adjust that nut a little bit as, later, when I attached the portafilter, the lever handle was touching the portafilter handle.</p>\n<p>One thing that was lovely to see - and feel - was the huge difference this maintenance made. In both directions, the lever action (and more importantly piston action) was totally smooth, I couldn't believe how much better it was.</p>\n<p><strong>Re-attaching the shower screen and filter holder gasket</strong></p>\n<p>The final task was to re-attach the screen at the bottom of the grouphead. I say &quot;re-attach&quot;, but in fact the service kit also came with a new one, so I used that.</p>\n<p>Regarding the gasket - there were two in the service kit - one thinner one with a round cross-section, and one fatter one with a U cross-section. I guessed (correctly, I think) that it was the fatter one that I needed, based on the size of the old one that I'd removed.</p>\n<p>The idea is that you slide it over the screen, from the bottom of the screen up to the lip, first, and then insert both into the bottom of the grouphead.</p>\n<p>But as this fatter one had a U cross-section, there was a chance that I'd slide it up and insert it the wrong way.</p>\n<p>And I did.</p>\n<p>First of all I'd put it in with the &quot;flat&quot; part (the top of the U) facing upwards up into the grouphead. However, I couldn't get the portafilter in. After a few moments head scratching, I realised that the gasket must be the wrong way round and that the top of the U was preventing it from being pushed far enough up.</p>\n<p>I pulled it gently back out (using the smooth edge of the teaspoon again) and slid it back over the screen, this time so that the flat part of the U was facing downwards (like this: ∩) and would come into contact with the top of the portafilter when inserted.</p>\n<p>This was much better, and I could use the portafilter (without the basket, as William demonstrated) to push the screen and gasket up into the grouphead.</p>\n<p>Update: I realised after posting this, and re-examining the schematic diagram that came in the service kit, that the &quot;other&quot; gasket was perhaps not an alternative filter holder gasket, but a group sleeve gasket - item number 77 in the schematic (see later for a section of that diagram). The group sleeve is the light-coloured plastic or bakelite cylinder inside of the grouphead, inside which the piston moves. I couldn't get this off as I didn't have the right tool, but I'd decided that that was fine, I'd do that next time. Anyway, I think I now realise what this &quot;spare&quot; gasket is for.</p>\n<p><strong>The group to boiler gasket</strong></p>\n<p>I didn't forget to replace the gasket between the grouphead and the boiler itself, that was the easiest part. It's important to note here, however, that I heeded William's advice not to over-tighten the two bolts that hold the grouphead onto the boiler. On tightening them, I came to feel a natural &quot;stop&quot; and didn't apply any further torque.</p>\n<h2 id=\"conclusion\" tabindex=\"-1\">Conclusion <a class=\"direct-link\" href=\"https://qmacro.org/blog/2021/27/3/la-pavoni-maintenance-successful/#conclusion\" aria-hidden=\"true\">#</a></h2>\n<p>The entire process took about 90 mins, as I was going very slowly and also re-watching parts of the video as needed. I'm not very dextrous but managed to complete the service successfully.</p>\n<p>I thought this experience and process was worth sharing, especially for folks that might be in my position right now - thinking or knowing you need to do it but being a little apprehensive.</p>\n<p>It's doable, and definitely worth it!</p>\n<p><img src=\"https://qmacro.org/blog/img/2021/03/schematic.png\" alt=\"La Pavoni schematic diagram\" />.</p>\n",
      "date_published": "2021-03-27T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/26/3/mass-deletion-of-github-actions-workflow-runs/",
      "url": "https://qmacro.org/blog/2021/26/3/mass-deletion-of-github-actions-workflow-runs/",
      "title": "Mass deletion of GitHub Actions workflow runs",
      "content_html": "<p><em>Implementing a simple cleanup script for workflow runs, using <code>gh</code>, <code>jq</code>, <code>fzf</code> and the GitHub API</em></p>\n<p>Yesterday, while <a href=\"https://github.com/qmacro/thinking-aloud/issues/13\">thinking aloud</a>, I was wondering how best to mass-delete logs from GitHub Actions workflow runs. Such a feature isn't available in the Web based Actions UI and my lack of competence in the Actions area means that I have a lot of cruft from my trial and error approach to writing and executing workflows.</p>\n<p><strong>The GitHub Workflow Runs API</strong></p>\n<p>I knew the answer probably was in the GitHub API, and it was - in the form of the <a href=\"https://docs.github.com/en/rest/reference/actions#workflow-runs\">Workflow Runs</a> API. There are various endpoints that follow a clean and logical design. Workflow runs are repo specific, and to list them, the following API endpoint is available to access via the GET method:</p>\n<pre><code>GET /repos/{owner}/{repo}/actions/runs\n</code></pre>\n<p>Following this straightforward URL-space design, a deletion is possible thus:</p>\n<pre><code>DELETE /repos/{owner}/{repo}/actions/runs/{run_id}\n</code></pre>\n<p>Incidentally, I like the use of &quot;owner&quot; here - because a repo can belong to an individual GitHub account (such as <a href=\"https://github.com/qmacro\">qmacro</a>) or an organisation (such as <a href=\"https://github.com/SAP-samples\">SAP-samples</a>), and &quot;owner&quot; is a generic term that covers both situations and has the right semantics.</p>\n<p><strong>Requesting the workflow run information with <code>gh</code></strong></p>\n<p>To make use of these API endpoints, I used the excellent <code>gh</code> <a href=\"https://github.com/cli/cli\">GitHub CLI</a>, specifically the <a href=\"https://cli.github.com/manual/gh_api\">api</a> facility. Once <a href=\"https://cli.github.com/manual/gh_auth\">authenticated</a>, it's super easy to make API calls; to retrieve the workflow runs for the <code>qmacro/thinking-aloud</code> repo, it's as simple as this (some pretty-printed output is also shown here):</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">;</span> gh api /repos/qmacro/thinking-aloud/actions/runs<br /><span class=\"token punctuation\">{</span><br />  <span class=\"token string\">\"total_count\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">22</span>,<br />  <span class=\"token string\">\"workflow_runs\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span><br />    <span class=\"token punctuation\">{</span><br />      <span class=\"token string\">\"id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">686610826</span>,<br />      <span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"Generate Atom Feed\"</span>,<br />      <span class=\"token string\">\"node_id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"MDExOldvcmtmbG93UnVuNjg2NjEwODI2\"</span>,<br />      <span class=\"token string\">\"head_branch\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"main\"</span>,<br />      <span class=\"token string\">\"head_sha\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"24822bfb34573c0dc2fb6b0f83c42a1752a324d9\"</span>,<br />      <span class=\"token string\">\"run_number\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">13</span>,<br />      <span class=\"token string\">\"event\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"issues\"</span>,<br />      <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"completed\"</span>,<br />      <span class=\"token string\">\"conclusion\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"skipped\"</span>,<br />      <span class=\"token punctuation\">..</span>.</code></pre>\n<p><strong>Making sense of the response with <code>jq</code></strong></p>\n<p>The response from the API has a JSON representation and a straightfoward but rich set of details. This is where <code>jq</code> comes in. I started with just pulling out values for a few properties like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">;</span> gh api /repos/qmacro/thinking-aloud/actions/runs <span class=\"token punctuation\">\\</span><br /><span class=\"token operator\">></span> <span class=\"token operator\">|</span> jq -r <span class=\"token string\">'.workflow_runs[] | [.id, .conclusion, .name] | @tsv'</span> <span class=\"token punctuation\">\\</span><br /><span class=\"token operator\">></span> <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -5<br /><span class=\"token number\">686610826</span>       skipped Generate Atom Feed<br /><span class=\"token number\">686610824</span>       skipped Tweet new entry<br /><span class=\"token number\">686610823</span>       skipped Render <span class=\"token function\">most</span> recent entries<br /><span class=\"token number\">686471644</span>       success Render <span class=\"token function\">most</span> recent entries<br /><span class=\"token number\">686157878</span>       success Render <span class=\"token function\">most</span> recent entries</code></pre>\n<blockquote>\n<p>There's built-in support for pagination with <code>gh api</code>, with the <code>--paginate</code> switch, which is handy.</p>\n</blockquote>\n<p>Breaking the <code>jq</code> invocation down, we have:</p>\n<table>\n<thead>\n<tr>\n<th>Part</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>-r</code></td>\n<td>Tells <code>jq</code> to output &quot;raw&quot; values, rather than JSON structures</td>\n</tr>\n<tr>\n<td><code>.workflow_runs[]</code></td>\n<td>Process each of the entries in the <code>workflow_runs</code> array</td>\n</tr>\n<tr>\n<td><code>[.id, .conclusion, .name]</code></td>\n<td>Show values for these three properties</td>\n</tr>\n<tr>\n<td><code>@tsv</code></td>\n<td>Convert everything into tab separated values</td>\n</tr>\n</tbody>\n</table>\n<p>Notice the use of the <code>|</code> symbol too - the output of <code>.workflow_runs[]</code> is piped into the selection of properties, and the output of that is piped further into the call to the builtin <code>@tsv</code> mechanism.</p>\n<p>I ended up <a href=\"https://github.com/qmacro/dotfiles/blob/230c6df494f239e9d1762794943847816e1b7c32/scripts/dwr#L21-L38\">using this approach</a>, but in a slightly expanded way, using a couple of helper functions:</p>\n<ul>\n<li>one to make the values for the <code>.created_at</code> property easier to read (for example changing &quot;2021-03-26T09:10:11Z&quot; into &quot;2021-03-26 09:10:11&quot;)</li>\n<li>the other to convert the values for the <code>.conclusion</code> property into simpler and shorter terms</li>\n</ul>\n<pre class=\"language-jq\"><code class=\"language-jq\"><span class=\"token keyword\">def</span> <span class=\"token function\">symbol</span><span class=\"token punctuation\">:</span><br />  <span class=\"token c-style-function function\">sub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"skipped\"</span><span class=\"token punctuation\">;</span> <span class=\"token string\">\"SKIP\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator pipe\">|</span><br />  <span class=\"token c-style-function function\">sub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success\"</span><span class=\"token punctuation\">;</span> <span class=\"token string\">\"GOOD\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator pipe\">|</span><br />  <span class=\"token c-style-function function\">sub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"failure\"</span><span class=\"token punctuation\">;</span> <span class=\"token string\">\"FAIL\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br /><span class=\"token keyword\">def</span> <span class=\"token function\">tz</span><span class=\"token punctuation\">:</span><br />  <span class=\"token c-style-function function\">gsub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[TZ]\"</span><span class=\"token punctuation\">;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br /><span class=\"token punctuation\">.</span>workflow_runs<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><br />  <span class=\"token operator pipe\">|</span> <span class=\"token punctuation\">[</span><br />      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>conclusion <span class=\"token operator pipe\">|</span> symbol<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br />      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>created_at <span class=\"token operator pipe\">|</span> tz<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br />      <span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span><br />      <span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">,</span><br />      <span class=\"token punctuation\">.</span>name<br />    <span class=\"token punctuation\">]</span><br />  <span class=\"token operator pipe\">|</span> @tsv</code></pre>\n<p><strong>Presenting the list with <code>fzf</code></strong></p>\n<p>Now all that was required was to present the list of workflow runs in a list, for me to choose which ones to delete. The wonderful <code>fzf</code> came to the rescue here. If you've not heard of <code>fzf</code>, go and read all about <a href=\"https://github.com/junegunn/fzf\">the command line fuzzy-finder</a> right now. I've written a couple of posts on this very blog about <code>fzf</code> basics too:</p>\n<ul>\n<li><a href=\"https://qmacro.org/autodidactics/2021/02/02/fzf-the-basics-1-layout/\">fzf - the basics part 1 - layout</a></li>\n<li><a href=\"https://qmacro.org/autodidactics/2021/02/07/fzf-the-basics-2-search-results/\">fzf - the basics part 2 - search results</a></li>\n</ul>\n<p>This is how I combined the <code>gh</code>, <code>jq</code> and <code>fzf</code> invocations, inside a <a href=\"https://github.com/qmacro/dotfiles/blob/230c6df494f239e9d1762794943847816e1b7c32/scripts/dwr#L43-L49\"><code>selectruns</code></a> function:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">gh api --paginate <span class=\"token string\">\"/repos/<span class=\"token variable\">$repo</span>/actions/runs\"</span> <span class=\"token punctuation\">\\</span><br />  <span class=\"token operator\">|</span> jq -r -f <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span>jqscript<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">\\</span><br />  <span class=\"token operator\">|</span> fzf --multi</code></pre>\n<p>With the <code>--multi</code> switch, <code>fzf</code> allows the selection of more than one item.</p>\n<p>Then it was just a case of processing each selected item, and making use of that other API endpoint we saw earlier inside a <a href=\"https://github.com/qmacro/dotfiles/blob/230c6df494f239e9d1762794943847816e1b7c32/scripts/dwr#L51-L60\"><code>deleterun</code></a> function, like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">local</span> run <span class=\"token function\">id</span> result<br /><span class=\"token assign-left variable\">run</span><span class=\"token operator\">=</span><span class=\"token variable\">$1</span><br /><span class=\"token assign-left variable\">id</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">cut</span> -f <span class=\"token number\">3</span> <span class=\"token operator\">&lt;&lt;&lt;</span> <span class=\"token string\">\"<span class=\"token variable\">$run</span>\"</span><span class=\"token variable\">)</span></span>\"</span><br />gh api -X DELETE <span class=\"token string\">\"/repos/<span class=\"token variable\">$repo</span>/actions/runs/<span class=\"token variable\">$id</span>\"</span><br /><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token variable\">$?</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token assign-left variable\">result</span><span class=\"token operator\">=</span><span class=\"token string\">\"OK!\"</span> <span class=\"token operator\">||</span> <span class=\"token assign-left variable\">result</span><span class=\"token operator\">=</span><span class=\"token string\">\"BAD\"</span><br /><span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"%s<span class=\"token entity\" title=\"\\t\">\\t</span>%s<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$result</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$run</span>\"</span><span class=\"token punctuation\">)</span></code></pre>\n<p>The use of <code>cut</code> was to pick out the <code>id</code> property in the list, as presented to (and selected via) <code>fzf</code>; the list is tab separated (thanks to <code>@tsv</code>) and <code>cut</code>'s default delimiter is tab too, which is nice.</p>\n<p><strong>The script in action</strong></p>\n<p>That's about it - here's the entire script in action:</p>\n<script id=\"asciicast-402683\" src=\"https://asciinema.org/a/402683.js\" async=\"\"></script>\n<p>And you can check out the script, as it was at the time of writing, in my dotfiles repository here: <a href=\"https://github.com/qmacro/dotfiles/blob/230c6df494f239e9d1762794943847816e1b7c32/scripts/dwr\"><code>dwr</code></a>.</p>\n",
      "date_published": "2021-03-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/25/3/a-new-journal-experiment-thinking-aloud/",
      "url": "https://qmacro.org/blog/2021/25/3/a-new-journal-experiment-thinking-aloud/",
      "title": "A new journal experiment - Thinking Aloud",
      "content_html": "<p><em>I'm trying out a new way of sharing thoughts in a GitHub issues based journal style blog called <a href=\"https://github.com/qmacro/thinking-aloud\">Thinking Aloud</a>.</em></p>\n<p>TL;DR - My <a href=\"https://github.com/qmacro/thinking-aloud\">Thinking Aloud repo</a> is where I am experimenting with journalling via GitHub issues. Check out the <a href=\"https://github.com/qmacro/thinking-aloud/issues?q=is%3Aissue+is%3Aopen+label%3Aentry\">issues themselves</a>, the <a href=\"https://github.com/qmacro/thinking-aloud/blob/main/recent.md\">rendered versions of recent entries</a>, the <a href=\"https://raw.githubusercontent.com/qmacro/thinking-aloud/main/feed.xml\">Atom feed</a> or the <a href=\"https://github.com/qmacro/thinking-aloud/tree/main/.github/workflows\">GitHub Actions workflows</a> with which I automate some of the process.</p>\n<p>I've been blogging for over 20 years, since 2000. I started with a Blogspot hosted blog over at <a href=\"https://qmacro.blogspot.com/\">https://qmacro.blogspot.com</a> which amazingly is still around.</p>\n<p><strong>This blog</strong></p>\n<p>I quickly moved over to a self-hosted blogging system, initially powered by the beautifully simple <a href=\"https://en.wikipedia.org/wiki/Blosxom\">Bloxsom</a>.</p>\n<p>Over the years I tried out various blogging software, including Ghost and Movable Type, but at the core I've had my main blog (now at <a href=\"https://qmacro.org/\">https://qmacro.org</a> - where you're reading this) since 2002. I'm currently using GitHub Pages to host and manage things and I'm quite happy with it. I see this blog as my main personal blog and a place for &quot;long form&quot; posts on various subjects (as you can see from the <a href=\"https://qmacro.org/\">index</a>).</p>\n<p><strong>My posts on the SAP Community blog</strong></p>\n<p>Of course, I also publish on the <a href=\"https://community.sap.com/\">SAP Community</a> blog, which is a collective set of posts by many, many members of the SAP ecosphere. I have posts under the <a href=\"https://people.sap.com/dj.adams\">dj.adams</a> identifier and also (since I joined SAP) under the <a href=\"https://people.sap.com/dj.adams.sap\">dj.adams.sap</a> identifier, and as you might expect, the subject matter is very definitely SAP related. That said, you may be surprised at the breadth of topics - posts on subjects as diverse as <a href=\"https://blogs.sap.com/tag/terminaltip/\">terminal tips</a> and <a href=\"https://blogs.sap.com/2020/12/01/utfrw-unofficial-teched-fun-run-walk/\">fun runs</a> are all there.</p>\n<p><strong>My autodidactics blog</strong></p>\n<p>In the middle of last year I started a new, secondary blog <a href=\"https://qmacro.org/autodidactics/\">autodidactics</a> to share things I'd learned (I endeavour to be a life long learner). I was inspired to create such a blog having seen <a href=\"https://til.simonwillison.net/\">Simon Willison's TIL (Today I Learned)</a> site.</p>\n<p>Moreover, I did very definitely feel I needed a place to share smaller nuggets of information that I'd learned; this in turn was triggered by reading some of <a href=\"https://rwxrob.live/\">rwxrob</a>'s repository of <a href=\"https://github.com/rwxrob/dotfiles/\">dotfiles and scripts</a>.</p>\n<p>Ever since I read through the entire source code base of the original Jabber (XMPP) server <code>jabberd</code> to understand how everything worked, in researching for my O'Reilly book <a href=\"https://qmacro.org/about/#writing-and-talks\">Programming Jabber</a>, I've been a strong proponent of reading other people's code. There's so much richness out there, a variety of styles and approaches, and oh so much to learn.</p>\n<p><strong>Twitter</strong></p>\n<p>And of course, when it comes to sharing thoughts, there's always <a href=\"https://twitter.com/qmacro\">Twitter</a>, which has been referred to as a &quot;microblogging&quot; platform, in the same way that <a href=\"https://wiki.p2pfoundation.net/Identica\">identi.ca</a> was. The key difference between Twitter and <a href=\"http://identi.ca/\">identi.ca</a> was that the former is centralised, and the latter (sadly no longer in operation) was distributed. With <a href=\"http://identi.ca/\">identi.ca</a> I felt in more control of my microblogging efforts. Don't get me wrong, Twitter is a great platform for conversation and ideas, but it's still centralised.</p>\n<p><strong>Journalling</strong></p>\n<p>And so to <a href=\"https://github.com/qmacro/thinking-aloud\">Thinking Aloud</a>. If I lay out the different outlets for my thoughts in decreasing order of magnitude, I end up with something that looks like this:</p>\n<pre><code>+---------------------------------------------------------------+\n|    Major      |    Minor      |     Mini      |     Micro     |\n|---------------|---------------|---------------|---------------|\n|  qmacro.org   | autodidactics |  (something   |    Twitter    |\n| SAP Community |               |   missing)    |               |\n+---------------------------------------------------------------+\n</code></pre>\n<p>What do these categories mean to me?</p>\n<p><strong>Major</strong>: If I want to write something in the major category, that's a relatively significant investment in time to create and publish posts (and for the consumer it can be significant too). That's fine, and those posts definitely will always have their place.</p>\n<p><strong>Minor</strong>: If I want to share something specific that I learned, such as on the subject of the shell's <code>declare</code> builtin (in <a href=\"https://qmacro.org/autodidactics/2020/10/08/understanding-declare/\">Understanding declare</a>), I have my <a href=\"https://qmacro.org/autodidactics\">autodidactics</a> blog. The posts are usually shorter -- although some may be more densely packed -- and about something quite small and specific.</p>\n<p><strong>Micro</strong>: If I just want to share a fleeting idea (or rant), I have <a href=\"https://twitter.com/qmacro\">Twitter</a>.</p>\n<p>So I feel there's a gap, for the <strong>Mini</strong> category. I have been inspired by <a href=\"https://rwxrob.live/\">rwxrob</a>'s journalling, where he writes in relatively short form, but in a structured fashion. It seems a way of getting things written down, freeing up mental space for new ideas, and also a semi-cathartic approach to expressing thoughts, regardless of how fully formed (or not) they are.</p>\n<p>One of the aspects that I like about the journalling that I've seen is that it's about the body of the journal entry first, and the title is not important. In fact, rwxrob's journal titles are timestamps, which seems a great way to avoid wasting brain cycles trying to think of a title, either before writing the entry (when you don't exactly know what you're going to write), or after (when you may have covered various topics in one entry).</p>\n<p>So I've decided to try to feel my way into this <strong>Mini</strong> gap, and do some journalling of my own. The idea is that the amount of pre-thought, the level of friction &amp; inhibition to create a new journal entry should reflect where this is in the &quot;scale&quot; expressed in the table above. I don't think much before tweeting (maybe I should, but that's a different story) and journalling is more towards that end of the scale than the other.</p>\n<p><strong>Using GitHub features</strong></p>\n<p>As part of the experiment, I decided to learn more about GitHub features while doing this, by making them a fundamental basis for the journalling mechanism.</p>\n<p>I have a new GitHub repository <a href=\"https://github.com/qmacro/thinking-aloud\">thinking-aloud</a>, and each journal entry is an <a href=\"https://github.com/qmacro/thinking-aloud/issues\">issue</a> in there. The beauty of GitHub issues is that Markdown is supported, plenty rich enough to express my ideas.</p>\n<p>Moreover, there are other metadata aspects such as labels that I might want to take advantage of at some stage (think <a href=\"https://github.com/qmacro/thinking-aloud/blob/08bf3f98064237c35b3bf7ae4fb16b5ecb9608b6/feed#L44\">&quot;categories&quot; in Atom feed entries</a>).</p>\n<p>Not least is the chance for folks to engage with the journal entries, via reactions and comments. I'm not sure how this is going to pan out, but I want to at least give this aspect a chance. I may get no engagement, I may get a load of spam. Let's see.</p>\n<p>Most interestingly (to me) is the way I create new journal entries, and how I build the Atom feed so folks can subscribe.</p>\n<p>I create a new entry via a shell function <code>j</code>, at the heart of which is this invocation:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">gh issue create --title <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">date</span> <span class=\"token string\">'+%Y-%m-%d %H:%M:%S'</span><span class=\"token variable\">)</span></span>\"</span></code></pre>\n<p>My editor (Vim) is then launched and I write Markdown, which is then sent to be the body of a new issue when I finish. Simple!</p>\n<p>Each time a new journal entry (issue) is created, I rebuild the Atom feed. This is done via the power of GitHub Actions. Have a look at the <a href=\"https://github.com/qmacro/thinking-aloud/blob/main/.github/workflows/generate-feed.yml\">generate-feed workflow</a> to get an idea of how that works; in one of the steps there, I'm using <code>gh</code> to call the GitHub API to get the list of issues, and piping that (JSON) into a simple Node.js script <a href=\"https://github.com/qmacro/thinking-aloud/blob/main/feed\">feed</a> that uses the freakishly easy-to-use NPM module <a href=\"https://www.npmjs.com/package/feed\">feed</a> (thanks <a href=\"https://github.com/jpmonette\">jpmonette</a>!) to generate the Atom feed.</p>\n<p>Additionally, I have implemented some <a href=\"https://github.com/qmacro/thinking-aloud/pull/5/files\">simple rendering</a> to make the entries easier to consume - the <a href=\"https://github.com/qmacro/thinking-aloud/blob/main/recent.md\">most recent entries are rendered into a Markdown file</a> in the main repository, and GitHub's Markdown rendering is more than good enough to make things easy and pleasant to read.</p>\n<p><strong>Summary</strong></p>\n<p>And that's it, so far. As usual, I'm making this up as I go along, and things may change along the way. I've written a couple of journal entries already, <a href=\"https://github.com/qmacro/thinking-aloud/blob/main/recent.md\">check them out</a> and let me know what you think.</p>\n",
      "date_published": "2021-03-25T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/15/3/aborting-a-script-with-parameter-expansion/",
      "url": "https://qmacro.org/blog/2021/15/3/aborting-a-script-with-parameter-expansion/",
      "title": "Aborting a script with parameter expansion",
      "content_html": "<p><em>Use the :? form of shell parameter expansion to abort a script if a required parameter value is not set.</em></p>\n<p>I'm attracted to the somewhat arcane details of <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Expansions.html\">Bash shell expansions</a> and it was while looking up something completely different (more on that another time) that I decided to re-read the <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\">parameter expansion</a> section of the GNU Bash manual.</p>\n<p>In many of my scripts, like a good shell scripting citizen I check to ensure that there's a value for a parameter I want to use, and if there isn't, I abort with a message. In this case, abort implies returning a non-zero code, indicating failure.</p>\n<p>The most recent example is in a little script that I've started to use to retrieve the image related to a YouTube live stream episode; this requires the YouTube video ID. The relevant part of this <a href=\"https://github.com/qmacro/dotfiles/blob/master/scripts/getepisodeimage\"><code>getepisodeimage</code></a> script currently looks like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Requires YouTube video ID</span><br /><span class=\"token builtin class-name\">readonly</span> <span class=\"token assign-left variable\">id</span><span class=\"token operator\">=</span><span class=\"token variable\">$1</span><br /><br /><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> -z <span class=\"token string\">\"<span class=\"token variable\">$id</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span><br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Usage: <span class=\"token variable\">$scriptname</span> &lt;YOUTUBE VIDEO ID>\"</span><br />  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span><br /><span class=\"token keyword\">fi</span></code></pre>\n<p>(And yes, before you say it, I could have saved myself the execution of a binary by replacing the <code>[ ... ]</code> with <code>[[ ... ]]</code>. If you're curious, see <a href=\"https://qmacro.org/autodidactics/2020/08/21/open-square-bracket/\">The open square bracket [ is an executable</a>.)</p>\n<p>Anyway, rather than test for the emptiness of the value of the <code>id</code> parameter (with <code>-z</code>), in a standalone <code>if ... fi</code> section, I could have used the following shell parameter expansion pattern:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token variable\">${parameter<span class=\"token operator\">:?</span>word}</span></code></pre>\n<p>The description for this is as follows:</p>\n<blockquote>\n<p>If parameter is null or unset, the expansion of word (or a message to that effect if word is not present) is written to the standard error and the shell, if it is not interactive, exits. Otherwise, the value of parameter is substituted.</p>\n</blockquote>\n<p>I've written about another shell parameter expansion pattern before (see <a href=\"https://qmacro.org/autodidactics/2020/09/27/shell-parameter-expansion-with-+/\">Shell parameter expansion with :+ is useful</a>) but I'd forgotten about this one.</p>\n<p>Using this pattern, I can replace the code above with this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">readonly</span> <span class=\"token assign-left variable\">id</span><span class=\"token operator\">=</span><span class=\"token variable\">${1<span class=\"token operator\">:?</span>Usage<span class=\"token operator\">:</span> $scriptname &lt;YOUTUBE VIDEO ID>}</span></code></pre>\n<p>Much more succinct - I like it!</p>\n",
      "date_published": "2021-03-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/7/2/fzf-the-basics-part-2-search-results/",
      "url": "https://qmacro.org/blog/2021/7/2/fzf-the-basics-part-2-search-results/",
      "title": "fzf - the basics part 2 - search results",
      "content_html": "<p><em>Here’s more of what I learned from reading the first part of the fzf README and paying attention. Now I have a better setup and understanding of the basics and how to control the appearance, it's time to turn my attention to setting some defaults to control what I get in my search results.</em></p>\n<p>In <a href=\"https://qmacro.org/autodidactics/2021/02/02/fzf-the-basics-1-layout/\">fzf - the basics part 1 - layout</a> I shared what I learned about controlling <code>fzf</code>'s layout. In the examples I showed, based on directories and files in the <a href=\"https://github.com/SAP-samples/teched2020-developer-keynote\">SAP TechEd 2020 Developer Keynote repository</a> (which I'll use again in this post), <code>fzf</code> presented a total of over 17000 items from which to make my choice.</p>\n<p>That's a lot, and far more than I want to consider wading through.</p>\n<p>In a pipeline context, <code>fzf</code> will present choices given to it in that pipeline, i.e. via STDIN, like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"one<span class=\"token entity\" title=\"\\n\">\\n</span>two<span class=\"token entity\" title=\"\\n\">\\n</span>three\"</span> <span class=\"token operator\">|</span> fzf --layout<span class=\"token operator\">=</span>reverse --height<span class=\"token operator\">=</span><span class=\"token number\">40</span>%<br /><span class=\"token operator\">></span><br />  <span class=\"token number\">3</span>/3<br /><span class=\"token operator\">></span> one<br />  two<br />  three</code></pre>\n<blockquote>\n<p>Interestingly, to copy/paste this example from my terminal, I had to (discover and) use the <code>--no-mouse</code> option from the Interface category so that the mouse was free to use and not locked to <code>fzf</code> during that moment.</p>\n</blockquote>\n<p>But I want to think about using <code>fzf</code> in a pipeline at another time; right now I'm just digging into options where <code>fzf</code> is used without receiving anything on STDIN.</p>\n<p><a name=\"default-command\"></a><br />\n<strong>Default command</strong></p>\n<p>So what does <code>fzf</code> do if it's not fed anything to display via STDIN? Well, the README states that unless otherwise directed, <code>fzf</code> uses the <code>find</code> command to build the list of items. The actual sentence in the <a href=\"https://github.com/junegunn/fzf#usage\">Usage</a> section reads as follows:</p>\n<p><em>&quot;Without STDIN pipe, fzf will use find command to fetch the list of files excluding hidden ones.&quot;</em></p>\n<p>At first, I stopped reading after &quot;fzf will use find command to fetch the list of files&quot;, and missed the &quot;excluding hidden ones&quot;.</p>\n<p><a name=\"basic-uses-of-find\"></a><br />\n<strong>Basic uses of <code>find</code></strong></p>\n<p>That careless omission did cause me a pleasant coffee length digression into the nuances of basic uses of the <code>find</code> command. I created a set of test files and directories like this, some hidden, some not, as you can see:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">.</span><br />├── Fruit<br />│   ├── apple<br />│   ├── banana<br />│   ├── cherry<br />│   └── .damson<br />├── .Trees<br />│   ├── ash<br />│   └── birch<br />├── aardvark<br />├── badger<br />└── .cow</code></pre>\n<p>If pressed, I'd say that I'd naturally use the following incantation as a basic way to find files and directories: <code>find . -type f</code>. The results are interesting.</p>\n<blockquote>\n<p>In all the following examples, I'm in the directory denoted by <code>.</code> at the top of the tree as shown above. The <code>;</code> is my simple prompt (inspired by <a href=\"https://twitter.com/thingskatedid\">Kate</a>), with my directory location shown in a line above that (<code># /tmp/testdir</code>).</p>\n</blockquote>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> <span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> -type f<br />./Fruit/apple<br />./Fruit/cherry<br />./Fruit/.damson<br />./Fruit/banana<br />./.cow<br />./aardvark<br />./.Trees/birch<br />./.Trees/ash<br />./badger<br /><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>(9 entries)</p>\n<p>I'd always considered that the &quot;default&quot; behaviour, but on reflection, it's arguably not default, as I'm using something specific (<code>.</code>) as the first argument to <code>find</code>, whereas I could just as easily have used <code>*</code>, thus:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> <span class=\"token function\">find</span> * -type f<br />Fruit/apple<br />Fruit/cherry<br />Fruit/.damson<br />Fruit/banana<br />aardvark<br />badger<br /><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>(6 entries)</p>\n<p>That's quite a difference! The Stack Overflow entry <a href=\"https://stackoverflow.com/questions/46578534/difference-between-find-and-find-in-unix\">Difference between find . and find * in unix</a> confirms that difference.</p>\n<ul>\n<li>passing <code>.</code> results in everything in <code>.</code> being found, including the hidden file <code>.cow</code> and the hidden directory (and its contents) <code>.Trees/</code></li>\n<li>passing <code>*</code> results in only the &quot;visible&quot; content in <code>.</code> being returned; note that this visibility difference only applies to the starting directory in question - as <code>Fruit/.damson</code> was reported even though <code>.cow</code> and <code>.Trees/</code> weren't</li>\n</ul>\n<p>So I wonder if either of these two incantations are what <code>fzf</code> uses by default. Let's see what <code>fzf</code> gives, in this same starting directory:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> fzf --height<span class=\"token operator\">=</span><span class=\"token number\">40</span>% --reverse<br /><span class=\"token operator\">></span><br />  <span class=\"token number\">5</span>/5<br /><span class=\"token operator\">></span> Fruit/apple<br />  Fruit/cherry<br />  Fruit/banana<br />  aardvark<br />  badger</code></pre>\n<p>(5 entries)</p>\n<p>Nope!</p>\n<p>Of course, there's that &quot;excluding hidden ones&quot; phrase from the README to which I must now pay attention. What I need is to tell <code>find</code> explicitly to exclude hidden files and directories. This will do the trick:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> <span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> -type f -not -path <span class=\"token string\">'*/\\.*'</span><br />./Fruit/apple<br />./Fruit/cherry<br />./Fruit/banana<br />./aardvark<br />./badger<br /><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>(5 entries)</p>\n<p>That's more like it! In fact, because we're explicitly excluding content based on a pattern, the same results are forthcoming whether we use a <code>.</code> or <code>*</code> as the first argument to <code>find</code>. Here's what we get with a <code>*</code>:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> <span class=\"token function\">find</span> * -type f -not -path <span class=\"token string\">'*/\\.*'</span><br />Fruit/apple<br />Fruit/cherry<br />Fruit/banana<br />aardvark<br />badger<br /><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>(5 entries)</p>\n<p>OK, there is a subtle difference, in that in this latter case, the <code>./</code> prefix is not included in the output of each entry. This is closest to what we see with <code>fzf</code> too.</p>\n<p><a name=\"FZF_DEFAULT_COMMAND\"></a><br />\n<strong>FZF_DEFAULT_COMMAND</strong></p>\n<p>So if I wanted <code>fzf</code> to actually show me hidden files, how would I do that? Well of course one way would be to run the appropriate <code>find</code> command and then pipe the output into <code>fzf</code>, like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> <span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> -type f  <span class=\"token operator\">|</span> fzf --height<span class=\"token operator\">=</span><span class=\"token number\">40</span>% --reverse<br /><span class=\"token operator\">></span><br />  <span class=\"token number\">9</span>/9<br /><span class=\"token operator\">></span> ./Fruit/apple<br />  ./Fruit/cherry<br />  ./Fruit/.damson<br />  ./Fruit/banana<br />  ./.cow<br />  ./aardvark<br />  ./.Trees/birch<br />  ./.Trees/ash<br />  ./badger</code></pre>\n<p>But I want to leave the pipeline approach until another time. Can I influence <code>fzf</code>'s search behaviour when, as the README puts it, &quot;input is [the] tty&quot;?</p>\n<p>The answer is yes and is in the form of the environment variable <code>FZF_DEFAULT_COMMAND</code>. If set, <code>fzf</code> will use its value as the command to execute to find the files to display. So instead of using the pipeline above, I could do this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">FZF_DEFAULT_COMMAND</span><span class=\"token operator\">=</span><span class=\"token string\">'find . -type f'</span><br /><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> fzf --height<span class=\"token operator\">=</span><span class=\"token number\">40</span>% --reverse<br /><span class=\"token operator\">></span><br />  <span class=\"token number\">9</span>/9<br /><span class=\"token operator\">></span> ./Fruit/apple<br />  ./Fruit/cherry<br />  ./Fruit/.damson<br />  ./Fruit/banana<br />  ./.cow<br />  ./aardvark<br />  ./.Trees/birch<br />  ./.Trees/ash<br />  ./badger</code></pre>\n<p>Nice - now <code>fzf</code> shows me hidden files.</p>\n<p><a name=\"alternative-commands\"></a><br />\n<strong>Alternative commands</strong></p>\n<p>If we can modify what <code>fzf</code> uses to find files, we can go further, as the README suggests, and use another utility entirely, as described in the README's <a href=\"https://github.com/junegunn/fzf#tips\">Tips</a> section (and hinted at also in the <a href=\"https://github.com/junegunn/fzf#environment-variables\">Environment variables</a> section).</p>\n<p>I've installed the search utility <a href=\"https://github.com/BurntSushi/ripgrep\">ripgrep</a>, known as <code>rg</code>, as it works for me in a more natural <a href=\"https://en.wikipedia.org/wiki/DWIM\">DWIM</a> (Do What I Mean) mode.</p>\n<p>Let's see what <code>rg</code> will do for us with the same content. It is as much like <code>grep</code> than <code>find</code> and so we need to tell it to search at the file level, with <code>--files</code>, for the purposes of this exploration:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> rg --files<br />badger<br />aardvark<br />Fruit/banana<br />Fruit/cherry<br />Fruit/apple<br /><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>(5 entries)</p>\n<p><code>rg</code> won't consider hidden files and directories unless told to explicitly with <code>--hidden</code>:</p>\n<pre><code># /tmp/testdir\n; rg --files --hidden\nbadger\n.Trees/ash\n.Trees/birch\naardvark\n.cow\nFruit/banana\nFruit/.damson\nFruit/cherry\nFruit/apple\n# /tmp/testdir\n;\n</code></pre>\n<p>(9 entries)</p>\n<p>At this level, <code>rg</code> delivers results similar to what we already get with <code>find</code>.</p>\n<p><a name=\"respecting-.gitignore\"></a><br />\n<strong>Respecting .gitignore</strong></p>\n<p>Where <code>rg</code> comes into its own, DWIM-like, is when the search in question is within a git repository. In that case, it will respect what you have in your <a href=\"https://git-scm.com/docs/gitignore\"><code>.gitignore</code></a> file.</p>\n<p>I was curious to see this in action in the context of the simple set of files above. I added a <code>.gitignore</code> file in <code>/tmp/testdir</code> containing a single entry (<code>Fruit</code>) and then ran both <code>find . -type f -not -path '*/\\.*'</code> and <code>rg --files</code>:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> <span class=\"token function\">cat</span> .gitignore<br />Fruit<br /><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> <span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> -type f -not -path <span class=\"token string\">'*/\\.*'</span><br />./Fruit/apple<br />./Fruit/cherry<br />./Fruit/banana<br />./aardvark<br />./badger<br /><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> rg --files<br />badger<br />aardvark<br />Fruit/banana<br />Fruit/cherry<br />Fruit/apple<br /><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>Hmm, so what's going on here? They both produce the same list of files, despite the presence of the <code>.gitignore</code> file and its contents.</p>\n<p>Turns out that it will only respect <code>.gitignore</code> in the context of an actual git repository, which makes sense. So a quick <code>git init</code> in the directory later, and we now see a different result for <code>rg --files</code>:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/testdir</span><br /><span class=\"token punctuation\">;</span> <span class=\"token function\">git</span> init<br />Initialized empty Git repository <span class=\"token keyword\">in</span> /private/tmp/testdir/.git/<br /><span class=\"token comment\"># /tmp/testdir (master #%)</span><br /><span class=\"token punctuation\">;</span> rg --files<br />badger<br />aardvark<br /><span class=\"token comment\"># /tmp/testdir (master #%)</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>That's more like it - the <code>Fruit/</code> directory and its contents are ignored.</p>\n<p><a name=\"using-rg-for-real\"></a><br />\n<strong>Using rg for real</strong></p>\n<p>Moving back to the <a href=\"https://github.com/SAP-samples/teched2020-developer-keynote\">repository</a> content that I have been using to explore <code>fzf</code> in more depth (especially in <a href=\"https://qmacro.org/autodidactics/2021/02/02/fzf-the-basics-1-layout/\">fzf - the basics part 1 - layout</a>), let's see what effect <code>rg</code>'s respect for <code>.gitignore</code> has on the results in this more realistic scenario.</p>\n<p>First, what does the incantation of <code>find</code> that most closely resembles <code>fzf</code>'s default behaviour give us from the top level of that repository?</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span> <span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> -type f -not -path <span class=\"token string\">'*/\\.*'</span>  <span class=\"token operator\">|</span> <span class=\"token function\">wc</span> -l<br />   <span class=\"token number\">17688</span><br /><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>OK, so that's what we got in the <a href=\"https://qmacro.org/autodidactics/2021/02/02/fzf-the-basics-1-layout/\">previous post</a>. The repository has a <code>.gitignore</code> file:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span> <span class=\"token function\">cat</span> .gitignore<br />node_modules/<br />*.swp<br />sk*.json<br />default-env.json<br />.DS_Store<br />dashboard.zip<br />mta_archives/<br />ui/resources<br />*.db-journal<br />*.token<br />kubeconfig.*<br /><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>So let's see what <code>rg</code> gives us:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span> rg --files <span class=\"token operator\">|</span> <span class=\"token function\">wc</span> -l<br />     <span class=\"token number\">163</span><br /><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>That is certainly a huge difference, mostly a result of ignoring a load of stuff - not least in the various <code>node_modules/</code> directories within the repository.</p>\n<p><a name=\"showing-hidden-files\"></a><br />\n<strong>Showing hidden files</strong></p>\n<p>Now that the list of choices is more manageable, I can now start to think about what it actually contains, and what it doesn't contain. There are hidden files in the repository that I actually want to be able to select. <code>fzf</code>'s default behaviour is preventing that from happening, but it's only now that my head is clear enough to address this (looking through a list of 17000+ files fogged my thinking).</p>\n<p>So I remember I can use the <code>--hidden</code> option with <code>rg</code>; let's try that:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span> rg --files --hidden <span class=\"token operator\">|</span> <span class=\"token function\">wc</span> -l<br />     <span class=\"token number\">209</span><br /><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>OK, so a few more than the 163 that <code>rg --files</code> returned. Good stuff. But what are those extra hidden files? Let's take a look, using a regular expression to reduce the output to entries where there's a <code>.</code> either at the start of the line or following a <code>/</code>:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span> rg --files --hidden <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -E <span class=\"token string\">'(^|\\/)\\.'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sort</span><br />.abapgit.xml<br />.git/HEAD<br />.git/config<br />.git/description<br />.git/hooks/applypatch-msg.sample<br />.git/hooks/commit-msg.sample<br />.git/hooks/fsmonitor-watchman.sample<br />.git/hooks/post-update.sample<br />.git/hooks/pre-applypatch.sample<br />.git/hooks/pre-commit.sample<br />.git/hooks/pre-merge-commit.sample<br />.git/hooks/pre-push.sample<br />.git/hooks/pre-rebase.sample<br />.git/hooks/pre-receive.sample<br />.git/hooks/prepare-commit-msg.sample<br />.git/hooks/update.sample<br />.git/index<br />.git/info/exclude<br />.git/logs/HEAD<br />.git/logs/refs/heads/main<br />.git/logs/refs/remotes/origin/HEAD<br />.git/objects/pack/pack-8933b87ef40a05f8e4974179d6b7288c4cbb0a39.idx<br />.git/objects/pack/pack-8933b87ef40a05f8e4974179d6b7288c4cbb0a39.pack<br />.git/packed-refs<br />.git/refs/heads/main<br />.git/refs/remotes/origin/HEAD<br />.github/workflows/image-build-and-publish.yml<br />.github/workflows/out-of-office.yml<br />.gitignore<br />.reuse/dep5<br />cap/brain/.cdsrc.json<br />cap/brain/.dockerignore<br />cap/brain/.eslintrc<br />cap/brain/.gitignore<br />cap/brain/.prettierignore<br />cap/brain/.prettierrc.json<br />cap/brain/.vscode/extensions.json<br />cap/brain/.vscode/launch.json<br />cap/brain/.vscode/settings.json<br />cap/brain/.vscode/tasks.json<br />converter/.dockerignore<br />rapreceiver/.gitignore<br />s4hana/sandbox/.gitignore<br />s4hana/sandbox/router/.dockerignore<br />s4hana/sandbox/router/.prettierignore<br />s4hana/sandbox/router/.prettierrc.json<br /><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>That's nice - I can see important hidden files such as <code>.abapgit.xml</code>, <code>cap/brain/.dockerignore</code> and <code>github/workflows/image-build-and-publish.yml</code> now.</p>\n<p>However, the presence of all those files in the <code>.git/</code> directory are clouding that overview. Let's get rid of those with <code>rg</code>'s <code>--glob</code> option, with which one can include, or (using a <code>!</code> to negate things) exclude results:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span> rg --files --hidden --glob <span class=\"token string\">'!.git/'</span> <span class=\"token operator\">|</span> <span class=\"token function\">wc</span> -l<br />     <span class=\"token number\">184</span><br /><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>Let's see what makes up the list of hidden files now:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span> rg --files --hidden --glob <span class=\"token string\">'!.git/'</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -E <span class=\"token string\">'(^|\\/)\\.'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sort</span><br />.abapgit.xml<br />.github/workflows/image-build-and-publish.yml<br />.github/workflows/out-of-office.yml<br />.gitignore<br />.reuse/dep5<br />cap/brain/.cdsrc.json<br />cap/brain/.dockerignore<br />cap/brain/.eslintrc<br />cap/brain/.gitignore<br />cap/brain/.prettierignore<br />cap/brain/.prettierrc.json<br />cap/brain/.vscode/extensions.json<br />cap/brain/.vscode/launch.json<br />cap/brain/.vscode/settings.json<br />cap/brain/.vscode/tasks.json<br />converter/.dockerignore<br />rapreceiver/.gitignore<br />s4hana/sandbox/.gitignore<br />s4hana/sandbox/router/.dockerignore<br />s4hana/sandbox/router/.prettierignore<br />s4hana/sandbox/router/.prettierrc.json<br /><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<p>Now we're talking! That looks like the level of results that will work for me generally. So I can now <a href=\"https://github.com/qmacro/dotfiles/commit/29368542f9249de85ada759591cf87b52c2b3c0e?branch=29368542f9249de85ada759591cf87b52c2b3c0e&amp;diff=unified\">add that glob exclusion</a> to the value for <code>FZF_DEFAULT_COMMAND</code> like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">FZF_DEFAULT_COMMAND</span><span class=\"token operator\">=</span><span class=\"token string\">'rg --files --hidden --glob '</span><span class=\"token string\">\"'\"</span>'<span class=\"token operator\">!</span>.git/<span class=\"token string\">'\"'</span>\"<br /><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span></code></pre>\n<blockquote>\n<p>The <code>&quot;'&quot;</code> sequences are to supply single quotes in an otherwise single-quoted string.</p>\n</blockquote>\n<p>This can be seen in <a href=\"https://github.com/qmacro/dotfiles/blob/master/bashrc.d/82-fzf.sh\">my Bash configuration script for <code>fzf</code></a>.</p>\n<p><a name=\"the-final-result\"></a><br />\n<strong>The final result</strong></p>\n<p>Now I've customised exactly which type of entries I want to be included (and excluded) in the search results that <code>fzf</code> presents to me in a tty context, I'm happy:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># /tmp/teched2020-developer-keynote (main *=)</span><br /><span class=\"token punctuation\">;</span> fzf --height<span class=\"token operator\">=</span><span class=\"token number\">40</span>% --reverse<br /><span class=\"token operator\">></span><br />  <span class=\"token number\">184</span>/184<br /><span class=\"token operator\">></span> enabling-workflows.md<br />  message-bus-settings.sh<br />  .gitignore<br />  README.md<br />  quickstart.md<br />  .reuse/dep5<br />  images/whiteboard.jpg<br />  images/enable-kyma.png<br />  images/enabling-workflows.png<br />  images/split-terminals.png<br />  kymaruntime/README.md<br />  mock-converter/index.js<br />  storyboard.md<br />  .abapgit.xml<br />  mock-converter/package.json<br />  abap/README.md</code></pre>\n<p>Far easier to deal with (than the 17000+ files previously) but nothing important omitted.</p>\n<p>Turns out that <code>FZF_DEFAULT_COMMAND</code> is useful, and it's also not the only environment variable that <code>fzf</code> sports. I'll look into others in the next post.</p>\n",
      "date_published": "2021-02-07T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/2/2/thoughts-on-video-content/",
      "url": "https://qmacro.org/blog/2021/2/2/thoughts-on-video-content/",
      "title": "Thoughts on video content",
      "content_html": "<p><em>Here are some thoughts on video content - form, length, frequency and more, especially in a learning and sharing context, and specificially in a developer advocate content.</em></p>\n<p>Just now my good friend Ronnie Sletta <a href=\"https://twitter.com/rsletta/status/1356563739676471297\">drew our attention to</a> a question by <a href=\"https://chrismroberts.com/\">Chris Roberts</a> on video content: &quot;<em>I’m thinking of making some free courses and putting them on YouTube. Do you prefer a series of short videos, or one long video? If a series, should I release one a week? If one long video, how long?</em>&quot;.</p>\n<p>I started to reply on Twitter, then found myself needing to use the &quot;1/n&quot; tweet thread approach, which I've never really liked, so I thought I'd take a <a href=\"https://www.hanselman.com/blog/your-blog-is-the-engine-of-community\">leaf out of Scott Hanselman's book</a> and reply once in a form that's arguably more permanent and easier to read.</p>\n<p><strong>Form variation</strong></p>\n<p>First off, I think it's important for us to remember that folks have different preferences when it comes to consuming content and learning. Some prefer the written word, and some prefer video instruction or demonstration. But it goes deeper than that.</p>\n<p>Descend into the video category and within that there are some that like to settle in and watch a &quot;feature length&quot; video. Others prefer short, sharp and to-the-point videos, the moving picture equivalent of good answers on Stack Overflow. Then there's the question of time available, which also factors into the decision on which videos to watch. Often I find myself thinking:</p>\n<p>&quot;<em>OK, I've got 15 mins before the next meeting, and I'd like to learn more about X - what videos fit that combination of time and topic filter?</em>&quot;</p>\n<p>It seems obvious to me that when it comes to the time filter, shorter time slots are going to be more common, so in one sense shorter videos in general seem like a good idea.</p>\n<p>But there are cases to be made for both short and long form videos. They serve different purposes and contexts.</p>\n<p><strong>Long form</strong></p>\n<p>Before I proceed with this thought, let me be clear on what I mean by &quot;long form&quot;. There are recordings of live streams from YouTube or Twitch sessions that are very often far more than an hour or so. A live stream that is just one hour is actually quite unusual.</p>\n<p>For me though, an &quot;hour&quot; is long form. Anything longer than that is beyond the question at hand, and for me fits into the &quot;<em>I want to watch my favourite streamer and relax, so I'll watch this recording as they're not live right now, or because it covers something I'm interested in</em>&quot; category.</p>\n<p>It's worth pointing out at this point that the <a href=\"https://www.youtube.com/playlist?list=PL6RpkC85SLQABOpzhd7WI-hMpy99PxUo0\">main live stream episodes that I put out</a> are deliberately limited to one hour. That's for many reasons, here's the main one:</p>\n<ul>\n<li>the folks that join have other things to do in their day, meetings to go to, and so on; I don't want to make it harder for them to do that, and by streaming from the top of the hour to the top of the next hour makes it easier for them to fit the live stream attendance into their work calendar</li>\n</ul>\n<p>This applies to me too - I have other tasks to accomplish and meetings to attend in my working day.</p>\n<p>With this in mind, I'd say that the &quot;long form&quot; categorisation of one hour videos only applies if they're not live. I'd almost go so far as to say that a live stream of less than an hour has more disadvantages than advantages:</p>\n<ul>\n<li>the time to establish the topic and focus is limited</li>\n<li>some folks joining don't get enough time to &quot;warm up&quot; and feel confident enough to participate in the chat</li>\n<li>given that a live stream has a fixed broadcast start time, if you miss it, you miss it, so a longer live stream gives latecomers (not anything to be ashamed of!) chance to actually catch something, participate and get something from it</li>\n</ul>\n<p><strong>Video chapters</strong></p>\n<p>While short form videos are great for focused search, confirmation and consumption, there's a key feature that's essential for making longer form videos more easily consumable and more useful, and that's the <a href=\"https://support.google.com/youtube/answer/9884579\">video chapters</a> feature.</p>\n<p>I think they go some considerable way towards bringing the &quot;long form&quot; videos closer to &quot;short form&quot; in consumability and relevance.</p>\n<p>I've been making use of video chapters for a while, and I can thoroughly recommend it.</p>\n<p><strong>Some examples</strong></p>\n<p>I use video chapters in my live stream recordings; after a live stream is finished, I scrub through the recording and then add video chapter information in the description, making it much more accessible and useful for consumers. Here's an example from an episode of the <a href=\"https://www.youtube.com/playlist?list=PL6RpkC85SLQCBncEWbkHTLz7ykB9C7yof\">Getting the most out of the SAP TechEd Developer Keynote repository</a> series on the <a href=\"https://www.youtube.com/playlist?list=PL6RpkC85SLQABOpzhd7WI-hMpy99PxUo0\">Hands-on SAP Dev</a> show*.</p>\n<p>*<em>See <a href=\"https://blogs.sap.com/2020/11/09/an-overview-of-sap-developers-video-content/\">An overview of SAP Developers video content</a> for more details.</em></p>\n<p><img src=\"https://qmacro.org/blog/img/2021/02/videochapters.png\" alt=\"video chapters in the description\" /></p>\n<p>My other SAP Developer Advocate colleagues use video chapters too.</p>\n<p>Talking of <a href=\"https://youtube.com/sapdevs\">SAP Developers video content</a>, we've just launched the first video in a new shorter form show - SAP Tech Bytes. The videos here are deliberately short, to be more consumable in a shorter amount of time, to be focused on one specific topic, and also to provide form variation.</p>\n<p>Here's the first episode: <a href=\"https://www.youtube.com/watch?v=O0x7Jt6yre0\">SAP Tech Bytes: Tutorial - Create SAP HANA Database Project</a>. Note that there are video chapters even in this shorter form content.</p>\n<p>In fact, we use video chapters in even our shortest form videos - the episodes of the <a href=\"https://www.youtube.com/playlist?list=PL6RpkC85SLQAVBSQXN9522_1jNvPavBgg\">SAP Developer News</a> show, where each video is only around five minutes long - deliberately a coffee break length.</p>\n<p><strong>Frequency and schedule</strong></p>\n<p>I've just got to here and realised I haven't even talked about frequency. I thought it might be at least helpful to give some examples; I've been live streaming in my role as SAP Developer Advocate since January 2019, and have kept more or less the same frequency since then, which is weekly. I've done the occasional second live stream in a single week, but I treat (and refer to) those as &quot;off piste&quot; and not really part of the usual cadence.</p>\n<p>Perhaps more importantly than the frequency, at least for live streams, is the consistency of day and time, i.e. the schedule. I think of my episodes of Hands-on SAP Dev as episodes of a TV programme, and again, because it's broadcast live, the best way to help folks <em>not</em> to miss it is to be consistent and predictable with the schedule. That's why I broadcast my episodes on Fridays, at 0800 GMT.</p>\n<p>Incidentally, I chose a relatively early morning slot because that's when I'm most awake and my brain is buzzing - I'm a morning person and the plate spinning that's required to stream live is slightly less difficult then.</p>\n<p>I think the same scheduling rules apply to YouTube <a href=\"https://www.youtube.com/watch/Wbi_Ic1DDwQ\">Premieres</a> too. Premieres are videos that you can pre-record but have the first broadcast set for a fixed date and time in the future, with all the build up and excitement of a live stream, but during playback you can attend and interact in the chat with the viewers. Sort of a combination of live stream and recording, which can work really well.</p>\n<p>When it comes to recorded videos, i.e. neither live streams nor premieres, then the schedule is not that important, so it just comes down to frequency. And that really depends on two factors:</p>\n<ul>\n<li>primarily: how much content you can produce</li>\n<li>secondarily: how much content your viewers can consume</li>\n</ul>\n<p>There's a balance you need to find between these two factors, and there's no algorithm I know of that will provide a solid answer here; it really depends on how you work, what you have to share, and so on.</p>\n<p>That said, here's a general piece of advice: If you have a load of pre-recorded videos waiting to upload to YouTube, don't be tempted to just publish them all at once. Resist the urge to flood your viewers' brains with all that wonderful goodness, and instead publish them in a spaced-out fashion instead. That has two advantages:</p>\n<ul>\n<li>they don't feel overwhelmed and tempted to give up because there's too much to consume</li>\n<li>you don't burn yourself out, and instead give yourself time to think of other content</li>\n</ul>\n<p><strong>Wrapping up</strong></p>\n<p>Anyway, this post is already far longer than I expected it to be; I'll bring it to a close now, but as it's just blog post content, I may come back to it in the future and update it as I see fit. That's the wonderful nature of blog posts and how they're still the backbone of many communities.</p>\n<p>Happy videoing!</p>\n",
      "date_published": "2021-02-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/2/2/fzf-the-basics-part-1-layout/",
      "url": "https://qmacro.org/blog/2021/2/2/fzf-the-basics-part-1-layout/",
      "title": "fzf - the basics part 1 - layout",
      "content_html": "<p><em>Here's what I learned from reading the first part of the fzf README and paying attention. Now I have a better setup and understanding of the basics, and in particular how to control the appearance.</em></p>\n<p>In the context of <a href=\"https://qmacro.org/2021/02/01/do-less-and-do-it-better/\">doing less and doing it better</a> I decided to start learning more about <a href=\"https://github.com/junegunn/fzf\"><code>fzf</code></a>, the &quot;command line fuzzy finder&quot;. Learning more wasn't difficult, because despite using it for quite a while, I've never really read any of the documentation, and have thus only scratched its surface.</p>\n<p>So I started with the first part of the main <a href=\"https://github.com/junegunn/fzf/blob/master/README.md\">README</a>, and here's what I found.</p>\n<p>The examples I give in this post are taken from a directory and file structure reflecting the <a href=\"https://github.com/SAP-samples/teched2020-developer-keynote\">SAP TechEd 2020 Developer Keynote repository</a>, which has multiple directories and subdirectories, lots of files with different extensions, hidden files and directories (and I'm not just talking about the <code>.git/</code> directory) and also stuff that we often want excluded, such as any <code>node_modules/</code> directories. Fairly representative and useful for illustration.</p>\n<p><strong>An awareness of new and changed features</strong></p>\n<p>I was using an older version of <code>fzf</code> because I hadn't upgraded it; a quick <code>brew update; brew upgrade fzf</code> later and I was using the <a href=\"https://github.com/junegunn/fzf/releases/tag/0.25.0\">latest release</a>. Not absolutely essential for me, but doing this makes me more aware of the fact that fixes and features do come along, and also exposes me to options that I might not have known about. So an indirect but useful advantage already.</p>\n<p>I'd <a href=\"https://github.com/qmacro/dotfiles/commit/68f3c40a76ddd2d8c5c08463855a59ed0e6d7c74#diff-53370cdb3bc79473f0579d40685f8516cc93a2c60b4382e60cb94c09d0c2bfc2R1\">already installed the keybindings</a> keybindings (to get <code>fzf</code> to react on Ctrl-T and Ctrl-C) so that was still OK.</p>\n<p><strong>Basic navigation</strong></p>\n<p>I'd been using the arrow keys to move up and down in the list that <code>fzf</code> presents. The shame of it! Now I've learned that I can use Vim style key bindings to move up (Ctrl-J) and down (Ctrl-K) I feel less unclean. There's even support for the mousewheel, but the less said about that the better.</p>\n<p>Anyway, it's time to get to the main topic of this post - how to affect <code>fzf</code>'s appearance, or layout.</p>\n<p><strong>Layout</strong></p>\n<p>Out of the box, <code>fzf</code> will use the entire height of your current terminal to display the choices, and this is more or less how I've mostly used <code>fzf</code> thus far:</p>\n<script id=\"asciicast-388791\" src=\"https://asciinema.org/a/388791.js\" async=\"\"></script>\n<p>But it doesn't have to be this way; in the Layout category of options there's <code>--height</code> with which you can tell <code>fzf</code> only to use a certain percentage of the terminal's height.</p>\n<script id=\"asciicast-388792\" src=\"https://asciinema.org/a/388792.js\" async=\"\"></script>\n<p>Moreover, the jump from the line I was on when <code>fzf</code> was invoked, down to the bottom of the screen where I was to make my choice, was a little jarring for me.</p>\n<p>I'd vaguely (but mistakenly) thought that the <code>--layout=reverse</code> option, also in the Layout category, was something to do with the sort order of the choices presented. Turns out that the order can be reversed with the <code>--tac</code> option (taken from the name of <code>tac</code>, a command independent of <code>fzf</code>, whose name is the opposite of <code>cat</code>, see?) and that the <code>--layout=reverse</code> relates to the general presentation of the choices.</p>\n<p>So with <code>--layout=reverse</code> I can reduce that jarring by having the place where I make my choice at the top of the list rather than at the bottom, like this:</p>\n<script id=\"asciicast-388795\" src=\"https://asciinema.org/a/388795.js\" async=\"\"></script>\n<p>There's a couple of other options that I found that made the appearance even better for me, but these are more subjective.</p>\n<p>First, I can get a border around everything with the Layout option <code>--border</code>. In fact there are multiple values that can be specified for this option; the default is to make a rounded border around all four sides.</p>\n<p>Then I can save a bit of space by specifying the value <code>inline</code> for the <code>--info</code> option, also in the Layout category, to get the stats displayed on the same line as my input.</p>\n<p>Here's both of those options in action:</p>\n<script id=\"asciicast-388802\" src=\"https://asciinema.org/a/388802.js\" async=\"\"></script>\n<blockquote>\n<p>In this and the next asciicast, the right hand edge of the border is not properly displayed or reproduced in asciinema for some reason; just imagine that the options are nicely boxed all the way around.</p>\n</blockquote>\n<p>Before we leave the Layout category, there's a couple of other options that can give a nice effect, especially for making <a href=\"https://tools.suckless.org/dmenu/\"><code>dmenu</code></a> or <a href=\"https://github.com/davatorium/rofi\"><code>rofi</code></a> style popup menus. These are <code>--margin</code> and <code>--padding</code>. I've found that to get a popup menu effect, it's worth leaving off the height option (<code>--height</code>) to get full screen:</p>\n<script id=\"asciicast-388803\" src=\"https://asciinema.org/a/388803.js\" async=\"\"></script>\n<p><strong>Next time</strong></p>\n<p>That's about it for what I've learned about controlling the appearance. There's actually plenty more on this in the <a href=\"https://github.com/junegunn/fzf/wiki\">wiki</a>.</p>\n<p>Note right now that there are 17688 entries in the list of choices presented to me. That's a lot, and far more than I'd ever actually want to select from. <a href=\"https://qmacro.org/autodidactics/2021/02/07/fzf-the-basics-2-search-results/\">Next time</a> I'll take a look at a couple of <code>fzf</code> environment variables, one of which controls what command <code>fzf</code> uses, and how that can be changed to affect what gets displayed (or not displayed) in the choice list, so I can address that large number of entries issue.</p>\n<p>Update: part 2 of this series is now available: <a href=\"https://qmacro.org/autodidactics/2021/02/07/fzf-the-basics-2-search-results/\">fzf - the basics part 2 - search results</a>.</p>\n",
      "date_published": "2021-02-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/1/2/do-less-and-do-it-better/",
      "url": "https://qmacro.org/blog/2021/1/2/do-less-and-do-it-better/",
      "title": "Do less and do it better",
      "content_html": "<p><em>In 2021 I want to consolidate and improve upon some skills I already have, rather than add more. Here's what I mean, and how I got inspired.</em></p>\n<p>In October last year Samir Talwar <a href=\"https://twitter.com/SamirTalwar/status/1318904227935227905\">tweeted</a> something simple yet profound: &quot;<em>Do less, and do it better</em>&quot;.</p>\n<p>In my work and play I discover and start using various tools and technologies. The pace of change in this industry, coupled with the (not unpleasant) demands on what I have to produce, means that I often end up with only a shallow understanding of things. And sometimes these are things I use every day.</p>\n<p>The nature of my job as a developer advocate (but I think this extends to development in general), in the context of that fast pace of change, means that there's always something new to learn, to adopt, and to incorporate into a workflow, process or solution. But that can come at a price - of limited comprehension and mastery.</p>\n<p>To explain further, I'm going to stretch a metaphor relating to ploughing a field and sowing seeds.</p>\n<p><strong>Ploughing and sowing</strong></p>\n<p>As an individual, I sometimes feel as though I'm trying to prepare a large field and plant seeds there using a poorly hand-constructed and inefficient plough made of the wrong sort of wood and bits of string, combined with a seed drill made out of old toilet rolls and sticky tape. Not only that, but I'm trying to plant across the entire field, 50 furrows wide, as I move along.</p>\n<p>Needless to say, the ploughing doesn't go very well, and the seeds are planted imprecisely, sometimes superficially, mostly wastefully, resulting in poor distribution, low growth and high energy expenditure.</p>\n<p>But if I were to abandon the idea of going wide, and instead go narrow, focusing on just a handful of furrows, I could afford to take the time to correctly plant each seed, nurturing &amp; watering each one, producing strong plants with deep roots and healthy growth.</p>\n<p>I've thought this for a while but never got round to doing anything about it. Samir's tweet has galvanised me into spending some time working out what that means for me.</p>\n<p><strong>Consolidating</strong></p>\n<p>So this year I'm attempting to &quot;do less, and do it better&quot; by acknowledging the tools I use day in day out, and learn more about them, restricting myself to a narrow set of topics, move a step closer towards mastery in each, and really benefit from everything they have to offer.</p>\n<p>Here's an example from this weekend; I read the entirety of the main README for the excellent fuzzy-finder tool <a href=\"https://github.com/junegunn/fzf\"><code>fzf</code></a>, all 16 pages. That might seem ridiculous to say (16 pages is not a lot) but I've used <code>fzf</code> for a year or so and never RTFM'd before. In my defence, I've also been constantly and painfully aware that I've merely scratched the surface. I've now discovered some <code>fzf</code> gems that I can put into practice immediately, and some areas that I need to dig into more.</p>\n<p>Likewise for other tools that I use, tools that are not only essential, but which, when mastered, can make my workflows even better. I'm thinking of Vim (I've recently started watching my friend and colleague David Kunz's <a href=\"https://www.youtube.com/channel/UCFU7a7OMYfcpjtIpu2j47_Q\">DevOnDuty</a> series, which I can strongly recommend), <a href=\"https://github.com/tmux/tmux/wiki\"><code>tmux</code></a> (<a href=\"http://rwxrob.live/\">rwxrob</a> is a great practitioner, and I should re-read Brian P. Hogan's great <a href=\"https://pragprog.com/titles/bhtmux2/tmux-2/\">book on tmux</a> too) and of course the environment and language that ties it all together for me - <a href=\"https://www.gnu.org/software/bash/\">Bash</a>.</p>\n<p>The lockdown has afforded me time to read more, and I need to embrace that and work out how I can keep that momentum up. I want to tip the balance over from always having my fingers on the keyboard towards stepping away from the keyboard to read, reflect and consolidate my learning.</p>\n<hr />\n<p>Update 02 Feb 2021: I've started digging deeper into <code>fzf</code> - see <a href=\"https://qmacro.org/autodidactics/2021/02/02/fzf-the-basics-1-layout/\">fzf - the basics part 1 - layout</a> and <a href=\"https://qmacro.org/autodidactics/2021/02/07/fzf-the-basics-2-search-results/\">fzf - the basics part 2 - search results</a> over on my <a href=\"https://qmacro.org/autodidactics/\">Autodidactics</a> blog.</p>\n",
      "date_published": "2021-02-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2021/26/1/columnar-layout-with-awk/",
      "url": "https://qmacro.org/blog/2021/26/1/columnar-layout-with-awk/",
      "title": "Columnar layout with AWK",
      "content_html": "<p><em>Here's a breakdown of a simple AWK script I wrote to format values into neatly aligned columns</em></p>\n<p>(Jump to the end for a couple of updates, thanks gioele and oh5nxo!)</p>\n<p>I'm organising my GitHub repositories locally by creating a directory structure representing the different GitHub servers that I use and the orgs and users that I have access to, with symbolic links at the ends of these structures pointing to where I've cloned the actual repositories.</p>\n<p>Here's an example of what I started out with:</p>\n<pre><code>; find ~/gh -type l\n/Users/dja/gh/github.tools.sap/developer-relations/advocates-team-general\n/Users/dja/gh/github.com/SAP-samples/teched2020-developer-keynote\n/Users/dja/gh/github.com/qmacro-org/auto-tweeter\n</code></pre>\n<p>and what I wanted to end up with (you can see the invocation of the script here too):</p>\n<pre><code>; find ~/gh -type l | awk -F/ -vCOLS=5,6,7 -f ~/.dotfiles/scripts/cols.awk\ngithub.tools.sap developer-relations advocates-team-general\ngithub.com       SAP-samples         teched2020-developer-keynote\ngithub.com       qmacro-org          auto-tweeter\n</code></pre>\n<p>In other words, I wanted to select columns from the output and have them printed neatly and aligned. Don't ask me why, I guess it's just some form of OCD.</p>\n<p><a name=\"homage\"></a><strong>Homage</strong></p>\n<p>Anyway, I decided to write this in AWK, partly because I don't know AWK that well, but mostly as a meditation on the early days of Unix and a homage to <a href=\"https://en.wikipedia.org/wiki/Brian_Kernighan\">Brian Kernighan</a>. Talking of homages, I've also decided to share this script by describing it line by line, in homage to <a href=\"https://en.wikipedia.org/wiki/Randal_L._Schwartz\">Randal L Schwartz</a>, that maverick hero that I learned a great deal from in the Perl world.</p>\n<p>Randal <a href=\"http://www.stonehenge.com/merlyn/columns.html\">wrote columns for magazines</a>, each time listing and describing a Perl script he'd written, line by line. I learned so much from Randal and enjoyed the format, so I thought I'd reproduce it here.</p>\n<p>Let's start with the script, in full, courtesy of GitHub's embeddable Gist mechanism, which, incidentally, I created from the command line using <a href=\"https://github.com/cli/cli\">GitHub's CLI <code>gh</code></a>, like this:</p>\n<pre><code>; gh gist create --public scripts/cols.awk\n</code></pre>\n<p>I subsequently edited it too (there are now <a href=\"https://gist.github.com/qmacro/c84f5a17dc4740dc2defa6a913cd3c2c/revisions\">multiple revisions</a>) with:</p>\n<pre><code>; gh gist edit c84f5a17dc4740dc2defa6a913cd3c2c\n</code></pre>\n<p>OK, so here's the entire script.</p>\n<script src=\"https://gist.github.com/qmacro/c84f5a17dc4740dc2defa6a913cd3c2c.js\"></script>\n<p>Remember that an AWK scripts are generally data driven, in that you describe patterns and then what to do when those patterns are matched. This is described nicely in the <a href=\"https://www.gnu.org/software/gawk/manual/html_node/Getting-Started.html#Getting-Started\">Getting Started with <code>awk</code></a> section of the GNU AWK manual. The approach is &lt;pattern&gt; &lt;action&gt;, where the actions are within a <code>{...}</code> block. In this script, there are two special (and common) patterns used: <code>BEGIN</code> and <code>END</code>, i.e. before and after all lines have been processed. There's an &lt;action&gt; block in the middle which has no pattern; that means it's called for each and every line in the input. There's also an &lt;action&gt; block with a specific pattern, which we'll look at shortly.</p>\n<p><strong>The invocation</strong></p>\n<p>Note the invocation earlier looks like this:</p>\n<pre><code>awk -F/ -vCOLS=5,6,7 -f ~/.dotfiles/scripts/cols.awk\n</code></pre>\n<p>Here are what the options do:</p>\n<ul>\n<li><code>-F/</code> says that the input field separator is the <code>/</code> character</li>\n<li><code>-vCOLS=5,6,7</code> sets the value <code>5,6,7</code> for the variable <code>COLS</code></li>\n<li><code>-f &lt;script&gt;</code> tells AWK where to find the script</li>\n</ul>\n<p>OK, let's start digging in.</p>\n<p><strong>The <code>BEGIN</code> pattern</strong></p>\n<p>Lines 7-9 just make sure that the optional <code>GAP</code> variable, if not explicitly set (using a <code>-v</code> option in the invocation) is set to 1. That's how many spaces we want between each column. If we had wanted a value other than the default here, an extra option like this would be required, for example <code>-vGAP=2</code>.</p>\n<p><strong>The <code>NR == 1</code> pattern</strong></p>\n<p>The action in this block is executed only on one occasion - when the value of <code>NR</code> is <code>1</code>.</p>\n<p><code>NR</code> is a special AWK variable that represents the record number, i.e. the value is <code>1</code> for the first record, <code>2</code> for the second, and so on. Note that there's also <code>FNR</code> (file record number) which comes in handy when you're processing multiple input files. So the &lt;action&gt; block related to this <code>NR == 1</code> pattern is only executed once, when processing the first record in the input.</p>\n<p>This &lt;action&gt; block, specifically lines 18-24, deal with the value for the <code>COLS</code> variable. If it's been set (as in our invocation: <code>-vCOLS=5,6,7</code>) it splits out the column numbers (5,6 and 7 here) into an array <code>fieldlist</code>. If it's not been set, then the default should be all columns, which are put into the <code>fieldlist</code> array using the loop in lines 21-23. Note that <code>NF</code> is another special variable, the value of which tells us the number of fields in the current record.</p>\n<p><strong>The default pattern</strong></p>\n<p>Lines 31-36 represent the action for the default pattern, i.e. this is executed for each line in the input. That includes even the first record, although we've done some processing for the first record in the &lt;action&gt; block for the <code>NR == 1</code> pattern already. That's because <em>all</em> patterns are tested, in sequence, unless an action invokes an explicit <code>next</code> to skip to the next input record (see update #2 at the end of this post for the attribution for this info).</p>\n<p>The script has to work out what the longest word in each column is, and for that it needs to read through the entire input. I think perhaps there may be better ways of doing this, but here's what I did.</p>\n<p>Because this script needs two passes over the input, we store the current record in an array called <code>records</code> in line 32. Worthy of note here is that each field in a record is represented by its positional variable i.e. <code>$1</code>, <code>$2</code>, and so on, and <code>$0</code> represents the entire record. In lines 33-35 we build up an array <code>fieldlengths</code> of the longest field by position. Arguably we only really need to remember the longest lengths of the fields in <code>fieldlist</code>, but hey.</p>\n<p><strong>The <code>END</code> pattern</strong></p>\n<p>Lines 40-49 represent the action for the special <code>END</code> pattern, i.e. once the records have been processed (once). At this stage we have the longest lengths for each of the fields (columns), and now we just need to go through the input again, which we have in the <code>records</code> array.</p>\n<p>In line 42 we use the <code>split</code> function to split out the record we're processing into an array called <code>fields</code>:</p>\n<pre><code>split(records[record], fields, FS)\n</code></pre>\n<p>The third argument supplied to this call is <code>FS</code>, which is another special variable representing the field separator for this execution. Remember the <code>-F/</code> option in the invocation, shown earlier? In this case, the value of <code>FS</code> is also therefore <code>/</code>. If the field separator is different (the default is whitespace) then the value of <code>FS</code> will be different too.</p>\n<p>Then in lines 43-46 we start printing out each chosen field (remember, the chosen ones are in <code>fieldlist</code>). The <code>printf</code> call in line 45 is special, let's break that down here:</p>\n<pre><code>printf &quot;%*-s&quot;, fieldlengths[f] + GAP, fields[f]\n</code></pre>\n<p>Like other flavours of <code>printf</code>, this one also takes a pattern and one or more variables to substitute into that pattern. The pattern here is for a single variable, and is <code>%*-s</code>. This means that the variable to print is a string (basic form is <code>%s</code>), which should be padded out, left justified (<code>-</code>) by a value also to be supplied as a variable (<code>*</code>).</p>\n<p>So we need to supply two variables, the width to which the variable value should be padded, and the variable itself. And that's what is supplied. First, we have <code>fieldlengths[f] + GAP</code>, which works out to be the longest length for that field (column), plus zero or more spaces as defined in <code>GAP</code>. Then we have the variable that we want printed, i.e. <code>fields[f]</code>.</p>\n<p>Noting that <code>printf</code> won't print a newline unless it's explicitly given (as <code>\\n</code>), this works well because then the consecutive fields are printed on the same line. Line 47 takes care of printing a newline when all the fields are output for that record.</p>\n<p>And that's it. As the tagline for this blog says, I reserve the right to be wrong. I'm not a proficient AWK scripter, but this works for me.</p>\n<p>Happy scripting!</p>\n<p><em>Update #1, later the same day: Over on Lobsters, the user <a href=\"https://gioele.io/\">gioele</a> <a href=\"https://lobste.rs/s/r5ezxh/columnar_layout_with_awk#c_8cunpb\">contributed a pipeline version</a>, which also helps me in a different area (small pieces loosely joined) of the same Unix meditation: <code>find ~/gh -type | cut -d/ -f5,6,7 | column -s/ -t</code>. Thanks gioele!</em></p>\n<p><em>Update #2, even later the same day: Over on Reddit, the user <a href=\"https://www.reddit.com/user/oh5nxo/\">oh5nxo</a> puts me right; in an earlier version of this script (and this blog post) I'd put the lines of code that are now in the <code>NR == 1</code> &lt;action&gt; block inside the main (default) &lt;action&gt; block, as I'd mistakenly thought that I'd have to otherwise repeat some code. That wasn't the case. Thanks for <a href=\"https://www.reddit.com/r/commandline/comments/l5ivt7/columnar_layout_with_awk/gkuxhx0/?utm_source=reddit&amp;utm_medium=web2x&amp;context=3\">sharing your knowledge</a>, oh5nxo! I've updated the script and this post to reflect that.</em></p>\n",
      "date_published": "2021-01-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/28/12/waiting-for-jobs-and-the-concept-of-the-shell/",
      "url": "https://qmacro.org/blog/2020/28/12/waiting-for-jobs-and-the-concept-of-the-shell/",
      "title": "Waiting for jobs, and the concept of the shell",
      "content_html": "<p><em>Bash's 'wait' builtin helps me understand Bash scripting as a language</em></p>\n<p>I was browsing the source code of the main script in the <a href=\"https://github.com/RaymiiOrg/bash-http-monitoring\">bash-http-monitoring</a> project that had been shared on a social news site recently. The general idea was that it fired off a number of background web requests to run in parallel and eventually produce a report on the availability of various websites. Nice, neat and simple.</p>\n<p>In the main part of the project's <code>srvmon</code> script, I saw this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Do the checks parallel</span><br /><span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">key</span> <span class=\"token keyword\">in</span> <span class=\"token string\">\"<span class=\"token variable\">${<span class=\"token operator\">!</span>urls<span class=\"token punctuation\">[</span>@<span class=\"token punctuation\">]</span>}</span>\"</span><br /><span class=\"token keyword\">do</span><br />  <span class=\"token assign-left variable\">value</span><span class=\"token operator\">=</span><span class=\"token variable\">${urls<span class=\"token punctuation\">[</span>$key<span class=\"token punctuation\">]</span>}</span><br />  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">jobs</span> <span class=\"token operator\">|</span> <span class=\"token function\">wc</span> -l<span class=\"token variable\">)</span></span>\"</span> -ge <span class=\"token variable\">${maxConcurrentCurls}</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span> <span class=\"token comment\"># run 12 curl commands at max parallel</span><br />      <span class=\"token function\">wait</span> -n<br />  <span class=\"token keyword\">fi</span><br />  doRequest <span class=\"token string\">\"<span class=\"token variable\">$key</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$value</span>\"</span> <span class=\"token operator\">&amp;</span><br /><span class=\"token keyword\">done</span><br /><span class=\"token function\">wait</span></code></pre>\n<p>I noticed the use of <code>wait</code> in those two places and was intrigued; although I could guess what it did, I wanted to learn more. On digging in a little, and reflecting on it, it struck me that <code>wait</code> helps me understand better the origins of shell scripting and why it seems to be often misunderstood.</p>\n<p><strong>The <code>wait</code> builtin in action</strong></p>\n<p>First, what is <code>wait</code>? Well, it's (usually a) builtin, i.e. a command that is built in to the shell executable itself, rather than existing as a separate program. The headline description is that <code>wait</code> &quot;waits for job completion and returns the exit status&quot;. The <a href=\"https://en.wikipedia.org/wiki/Wait_(command)\">Wikipedia entry</a> for it notes that it's a builtin because it &quot;<em>needs to be aware of the job table of the current shell execution environment</em>&quot;, which makes sense, given its purpose.</p>\n<p>While the above snippet of code gives a couple of examples, I thought I'd spend a coffee writing a little exploratory script called <code>jobwait</code> to feel how <code>wait</code> can work. Here it is:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/usr/bin/env bash</span><br /><br /><span class=\"token function-name function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">date</span> +%H:%M:%S<span class=\"token variable\">)</span></span> <span class=\"token variable\">$*</span>\"</span><br /><span class=\"token punctuation\">}</span><br /><br /><span class=\"token function-name function\">createjob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token builtin class-name\">local</span> <span class=\"token assign-left variable\">time</span><span class=\"token operator\">=</span><span class=\"token variable\">$1</span><br />  <span class=\"token builtin class-name\">local</span> <span class=\"token assign-left variable\">message</span><span class=\"token operator\">=</span><span class=\"token variable\">$2</span><br />  <span class=\"token punctuation\">(</span>sleep <span class=\"token string\">\"<span class=\"token variable\">$time</span>\"</span> <span class=\"token operator\">&amp;&amp;</span> log <span class=\"token string\">\"<span class=\"token variable\">$message</span>\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span><br />  log <span class=\"token string\">\"created job '<span class=\"token variable\">$message</span>' (<span class=\"token variable\">${time}</span>s) PID=<span class=\"token variable\">$!</span>\"</span><br /><span class=\"token punctuation\">}</span><br /><br /><span class=\"token function-name function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  createjob <span class=\"token number\">10</span> medium<br />  createjob <span class=\"token number\">15</span> long<br />  createjob <span class=\"token number\">5</span> short<br />  log <span class=\"token string\">\"jobs created\"</span><br />  <span class=\"token function\">wait</span> -n <span class=\"token operator\">&amp;&amp;</span> log <span class=\"token string\">\"a job has finished\"</span><br />  <span class=\"token function\">wait</span> <span class=\"token operator\">&amp;&amp;</span> log <span class=\"token string\">\"all jobs have finished\"</span><br /><span class=\"token punctuation\">}</span><br /><br />main <span class=\"token string\">\"<span class=\"token variable\">$@</span>\"</span></code></pre>\n<p>Running this script produced the following output - note the times on each of the log records, which shows when each log record was issued:</p>\n<pre><code>; ./jobwait\n09:03:11 created job 'medium' (10s) PID=72679\n09:03:11 created job 'long' (15s) PID=72682\n09:03:11 created job 'short' (5s) PID=72685\n09:03:11 jobs created\n09:03:16 short\n09:03:16 a job has finished\n09:03:21 medium\n09:03:26 long\n09:03:26 all jobs have finished\n;\n</code></pre>\n<p>Now there's nothing unexpected about this; nevertheless, it was quite satisfying seeing things happen in the order that they did. Note that <code>wait</code> returns the job exit status too, and with the use of <code>&amp;&amp;</code> I'm ignoring that here at my peril, but it's only a test script.</p>\n<p>The <code>-n</code> option makes <code>wait</code> wait for the next job to terminate, whatever that job is. So here we see that the &quot;a job has finished&quot; log entry is issued as soon as one of the jobs terminates - the 'short' one, in this case.</p>\n<p><strong>The shell as a command environment</strong></p>\n<p>Now we know what <code>wait</code> can do, I'd like to think a little bit about what it represents, too.</p>\n<p>Recently my learning radar has been picking up various conversations where it seemed to me that people were <a href=\"https://twitter.com/qmacro/status/1332303180240216066\">misunderstanding what shell scripting is</a>. It also came up this month in a Lobster thread, where the user &quot;pm&quot; really <a href=\"https://lobste.rs/s/yeloyn/minimal_safe_bash_script_template#c_q4gyqw\">helped me put my finger on</a> what is frustrating about the &quot;Bash vs a real programming language&quot; discussion.</p>\n<p>The shell is like a <a href=\"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop\">REPL</a> to your operating system, an interactive environment where you can have a conversation with it - manage resources, execute programs and so on. In that sense, the language of that conversation needs to be simple and have minimal noise. You want to just type something in and have it happen.</p>\n<p>Moreover, you want to specify values with as little fuss as possible. Run a program that operates on a word, or a list of words, or a file or list of files - you don't want to be messing around with having to quote those things in the basic case. And the facilities that the REPL provides to enable you to take full advantage of the resources and programs you're working with, are super important. I'm thinking of the Unix pipeline, and IO redirection as two great examples of that.</p>\n<p>That reference to Unix reminds me of a wonderful paper written in 1976 by one of Unix's fathers, Ken Thompson. It's <a href=\"https://archive.org/details/theunixcommandlanguage\">THE UNIX COMMAND LANGUAGE</a> which is available via the Internet Archive but has also been made more consumable in different formats in <a href=\"https://susam.github.io/tucl/\">this lovely repository</a> too. This paper is purportedly the first ever written about the Unix shell, and is a great read. It has a beautifully simple introduction to subshells, pipelines and IO redirection too.</p>\n<p>Perhaps more subtly, what we know as the source for shell scripting today is referred to in the paper's title as a &quot;command language&quot;, and that's what it is. There is much in the paper that is quoteworthy, but I'll pick just one here that helps me think about what the shell (and, by implication, its language) is:</p>\n<p>&quot;<em>The Shell, and the commands it executes, form an expression language ... [which is] easily extensible</em>&quot;</p>\n<p>So this REPL, our interface to the operating system and its resources, is a command environment and our direct interaction with it is via a command language that has been designed to express our intentions in a straighforward and as consistent a way as possible.</p>\n<p>Here's another quote, from the section &quot;THE SHELL AS A COMMAND&quot;:</p>\n<p>&quot;<em>The Shell is just another command and by redirecting its standard input, it is possible to execute commands from files.</em>&quot;</p>\n<p><strong>A natural progression to scripting</strong></p>\n<p>So it's at this point in this thinking journey that we start to transition from a REPL, where the interaction is direct ... to a collection of commands that can be saved in a file and passed to the shell, which I guess one could see as indirect interaction.</p>\n<p>This of course is a move to scripting, as intentional collections of command language elements. And this is where <code>wait</code> makes a lot of sense; perhaps it would be used interactively, but it seems more useful to me as a way of getting things to pause while other things complete, when in indirect mode ... in unattended command language execution mode. Scripting.</p>\n<p>The transition from using the command language directly (including the syntax that allows us to join programs together in pipelines and manage input and output) to scripting, is in this way very subtle, and feels to me like a natural conclusion. And the features that make the command environment and its language so useful in the context of direct interaction in the REPL, are exactly those features that are available for scripting too.</p>\n<p>To me, this is the essence of shell scripting, and explains why it is how it is. While it makes sense to write individual programs in whatever language one finds suitable -- while of course making sure those programs behave in predictable and useful ways in the context of the command environment, especially in relation to STDIN, STDOUT and STDERR -- it makes absolute no sense to me whatsoever to suggest that shell scripting itself should be replaced by &quot;a modern language&quot; (whatever that means).</p>\n<p>To echo a (deliberately preposterous) concept mentioned in the Lobsters thread earlier, try replacing your shell with a &quot;modern language&quot; REPL such as Node.js's or Python's, and see how your productivity plummets. Try harnessing operating system resources, executing programs and filtering their output, or submitting background jobs (and <code>wait</code>ing for them to complete before proceeding further) - and you'll soon come unstuck.</p>\n<p>The shell is how it is for a reason. I'm happy with that.</p>\n",
      "date_published": "2020-12-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/3/12/implicit-values-in-bash-for-loop-construct/",
      "url": "https://qmacro.org/blog/2020/3/12/implicit-values-in-bash-for-loop-construct/",
      "title": "Implicit values in Bash for loop construct",
      "content_html": "<p><em>Bash's 'for loop' construct can use implicit values - who knew? Not me ...</em></p>\n<p>I was browsing a <a href=\"https://superuser.com/questions/318067/how-to-iterate-over-all-pair-combinations-in-a-list-in-bash/732740\">Superuser question and answer</a> this morning and the code in the <a href=\"https://superuser.com/a/318073/620229\">accepted answer</a> looked like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">set</span> -- value1 value2 <span class=\"token string\">\"value with spaces\"</span><br /><span class=\"token keyword\">for</span> a<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span><br />    <span class=\"token builtin class-name\">shift</span><br />    <span class=\"token keyword\">for</span> b<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span><br />        <span class=\"token builtin class-name\">printf</span> <span class=\"token string\">\"%s - %s<span class=\"token entity\" title=\"\\n\">\\n</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$a</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$b</span>\"</span><br />    <span class=\"token keyword\">done</span><br /><span class=\"token keyword\">done</span></code></pre>\n<p>I was somewhat confused by the rather short <code>for</code> loop constructions here, and ended up looking it up in the <a href=\"https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Looping-Constructs\">looping constructs section of the Bash manual</a>.</p>\n<p>What looked odd to me was that there is no <code>in &lt;values&gt;</code> part to either of the <code>for</code> loops. I am used to seeing (and writing) <code>for var in x y z</code> or similar. So what were these loop constructions iterating over? Well, the Bash manual section says this (emphasis mine):</p>\n<p><em><code>for name [ [in [words …] ] ; ] do commands; done</code></em></p>\n<p><em>Expand words (see Shell Expansions), and execute commands once for each member in the resultant list, with name bound to the current member. <strong>If ‘in words’ is not present, the for command executes the commands once for each positional parameter that is set, as if ‘in &quot;$@&quot;’ had been specified</strong> (see Special Parameters).</em></p>\n<p>So these <code>for</code> loops are processing the positional parameters in <code>$1</code>, <code>$2</code> and <code>$3</code> which were set by the <code>set</code> command on the first line, i.e. the values <code>value1</code>, <code>value2</code>, and <code>value with spaces</code> respectively.</p>\n<p>So there you go - it's sort of obvious now I think about it - what else would the loop constructs be processing? Anyway - onwards and upwards!</p>\n",
      "date_published": "2020-12-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/8/11/the-myriad-meanings-of-pwd-in-unix-systems/",
      "url": "https://qmacro.org/blog/2020/8/11/the-myriad-meanings-of-pwd-in-unix-systems/",
      "title": "The myriad meanings of pwd in Unix systems",
      "content_html": "<p><em>Last week I ran a poll on Twitter to see what people considered with respect to the meaning of 'pwd' in Unix and Linux systems. The results were varied, for perhaps good reason.</em></p>\n<p>At the end of Oct 2020 I ran a <a href=\"https://twitter.com/qmacro/status/1322567992551624705\">brief poll on Twitter</a>, on which 82 people voted. Here's that poll, and the results. They're quite mixed, which at first might seem surprising. But there are reasons for that, as we'll find out.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/11/twitter-poll-pwd.png\" alt=\"Poll on Twitter: &quot;Fun Saturday afternoon shell poll. In Unix (and Linux), what do you think the P in $PWD (or pwd) stand for?&quot;\" /></p>\n<p><strong>Print working directory</strong></p>\n<p>The most popular option was &quot;print working directory&quot;. At first sight it seems logical: &quot;print out the current working directory, i.e. where I am right now&quot;. Moreover, the description in various versions of the manual for <code>pwd</code> help to drive home that notion. Typically we see sentences like &quot;<a href=\"https://linux.die.net/man/1/pwd\">print name of current/working directory</a>&quot; or &quot;<a href=\"https://www.mankier.com/1/pwd\">print the current directory</a>&quot;.</p>\n<p>But there are lots of commands that print stuff, and are described in that way too. Take the <code>id</code> command. Here's what one man page says: &quot;<a href=\"https://man7.org/linux/man-pages/man1/id.1.html\">print real and effective user and group IDs</a>&quot;. There's &quot;print&quot; again. But the command isn't <code>pid</code>, it's <code>id</code>. When you think about it, many, many commands in Unix send information to STDOUT, i.e. to the terminal. That's sort of the point of many of them.</p>\n<p>This time arguably only superficially definitive, it would seem, the Wikipedia entry states, on the <a href=\"https://en.wikipedia.org/wiki/Pwd\">page for <code>pwd</code></a>: &quot;the pwd command (print working directory) writes the full pathname of the current working directory to the standard output&quot;. As if to underline the hopeful authority of this statement, there are five (!) footnotes that supposedly link to resources that back this up.</p>\n<p>Unfortunately, the first footnote points to a Wayback Machine copy of the <a href=\"https://web.archive.org/web/20050520231659/http://cm.bell-labs.com/7thEdMan/v7vol1.pdf\">UNIX PROGRAMMERS MANUAL - Seventh Edition, Volume 1 - January, 1979</a>, wherein there are actually zero references to <code>pwd</code> being short for &quot;print working directory&quot;:</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/11/programmers-manual-pwd.png\" alt=\"excerpt from UNIX PROGRAMMERS MANUAL on pwd\" /></p>\n<p>I don't know about you, but this historic document carries more weight for me than other sources I've come across, and it only serves here to undermine the credibility of the Wikipedia entry.</p>\n<p>The rest of the footnote links seem dubious at best, except for the one pointing to the <a href=\"https://www.gnu.org/software/coreutils/manual/coreutils.html#pwd-invocation\">GNU Coreutils manual on pwd</a> which has it as &quot;print working directory&quot;. But everything else I've seen so far makes me think that this is a misunderstanding that has spread for obvious and innocent reasons. In addition, the one footnote in the Wikipedia page that is not used to back this claim up is a pointer to <a href=\"https://pubs.opengroup.org/onlinepubs/9699919799/utilities/pwd.html\">The Open Group Base Specifications Issue 7, 2018 edition's information on pwd</a>, which almost seems like it's actually avoiding using the word &quot;print&quot; at all: &quot;return working directory name&quot; ... &quot;The pwd utility shall write to standard output an absolute pathname of the current working directory, which does not contain the filenames dot or dot-dot.&quot;. Very specific, very not-print.</p>\n<p>So I'm thinking that &quot;print working directory&quot; isn't what <code>pwd</code> stands for. In fact, &quot;print working directory&quot; may be common to some man pages, but on this macOS machine, with its <a href=\"https://en.wikipedia.org/wiki/Berkeley_Software_Distribution\">BSD</a> heritage, we have, instead: &quot;pwd -- return working directory name&quot;. Moreover, it goes on to say &quot;The pwd utility writes the absolute pathname of the current working directory to the standard output&quot;.</p>\n<p><strong>Pathname of working directory</strong></p>\n<p>So perhaps it really is &quot;pathname of working directory&quot;. That would, at least to me, make more sense. Not only does it eschew the redundancy of &quot;print&quot;, it also is more specific about the output - if I'm in <code>/home/dja/</code> for example, then invoking pwd will tell me that, i.e. where I am, including the whole path, and not just <code>dja</code>:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token builtin class-name\">pwd</span><br />/home/dja</code></pre>\n<p><strong>Process working directory</strong></p>\n<p>As for the other options, I do favour &quot;process working directory&quot;, mostly because it makes a lot of sense to me; every process in Unix has the concept of a current working directory, and that's exactly what I'm asking for when I'm in my shell process and enter <code>pwd</code> - there's a part in the video <a href=\"https://youtu.be/hgFBRZmwpSM?t=165\">Unix terminals and shells</a> that explains this very well.</p>\n<p>I'd love to be able to point to some old Unix sources that definitively explain the answer, but unfortunately that search has come up with very little - the <code>pwd</code> source in both the <a href=\"https://minnie.tuhs.org/cgi-bin/utree.pl?file=V5/usr/source/s2/pwd.c\">5th</a> and <a href=\"https://github.com/yisooan/unix-v6/blob/master/source/s2/pwd.c\">6th</a> Editions of Unix shed no light on this whatsoever.</p>\n<p><strong>Present working directory</strong></p>\n<p>What about &quot;present working directory&quot;? Well, that option seems to have legs, in the form of the Korn shell. While <a href=\"https://northstar-www.dartmouth.edu/doc/solaris-forte/ipe-help/dbx/dbx88cc.html\">one source</a> implies that the answer might well be &quot;pathname of current working directory&quot;, in that <code>pwd</code> just emits the value of the <code>$PWD</code> environment variable (and a variable called &quot;print working directory&quot; makes no sense at all) ... it would seem that in ksh-land, at least, &quot;present working directory&quot; is what <code>pwd</code> represents. Take, for example, the <a href=\"https://osr507doc.xinuos.com/en/man/html.C/ksh.C.html\">ksh man page</a> which states &quot;PWD - The present working directory set by the cd command&quot;.</p>\n<p>There's a ton of discussion, both direct and indirect, on this very question. Take for example these two entries in the Unix &amp; Linux Stack Exchange forum: <a href=\"https://unix.stackexchange.com/questions/399026/etymology-of-pwd\">Etymology of $PWD</a> and <a href=\"https://unix.stackexchange.com/questions/174990/what-is-pwd-vs-current-working-directory\">What is $PWD? (vs current working directory)</a>. Of course, perhaps the definitive answer will never be found, as computing history is nothing if not varied and prone to forking.</p>\n<p><strong>Multics and print_wdir</strong></p>\n<p>Talking of history, we could go further back to pre-Unix roots, in the form of Multics, which indirectly gave rise to Unix (originally &quot;Unics&quot;). In the <a href=\"https://multicians.org/multics-commands.html\">list of Multics Commands</a>, we see, nestled amongst other similarly named commands, something that jumps out at us:</p>\n<pre><code>print_mail (pm)\tdisplay mail in a mailbox\nprint_messages (pm)\tdisplay interactive messages in a mailbox\nprint_motd (pmotd)\tdisplay message of the day (source)\nprint_proc_auth (ppa)\tdisplay process's sensitivity level and compartments\nprint_request_types (prt)\tdisplay list of I/O daemon request types\nprint_search_paths (psp)\tdisplay search paths\nprint_search_rules (psr)\tdisplay ready messages\nprint_wdir (pwd)\tdisplay working directory\n</code></pre>\n<p>There's <code>pwd</code>, and in fact, just like its sibling <code>pmotd</code>, for example, which is short for <code>print_motd</code>, it's short for <code>print_wdir</code>. Now, given the context of the original poll being set to Unix and Linux, perhaps we must discount this information. But as someone who is fascinated with Unix history in general - how can I?</p>\n<p>I guess there are few things to conclude. The history is rich and diverse, and maybe we'll never know for sure. Perhaps, in fact, the answer will depend on whom we ask. In the grand scheme of things, it doesn't really matter ... but to those who delight in minutiae, it's a fun topic worth exploring.</p>\n",
      "date_published": "2020-11-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/3/11/computer-unit-1979/",
      "url": "https://qmacro.org/blog/2020/3/11/computer-unit-1979/",
      "title": "Computer Unit 1979",
      "content_html": "<p><em>I've transcribed an article about the arrival of the &quot;Computer Unit&quot; - a PDP-11/34 - at my school in 1979. The unit became the early focus of a fascination with computing that's never left me.</em></p>\n<p>I went to school in the late 1970s and early 1980s - the dawn of computing for everyone. My very first experience of computing was at a terminal connected to a timesharing minicomputer, rather than at the keyboard of one of the personal computers of the day.</p>\n<p>There was an article in the 1979 edition of my school's magazine &quot;The Hulmeian&quot;, written by our head of Mathematics Morris Loveland. It brings back many happy memories, and provides some insight into computing in the early days.</p>\n<p>Below the article, I've included some pictures accompanied by brief descriptions.</p>\n<p><em>COMPUTER UNIT</em></p>\n<p><em>In 1974 the School purchased a single computer terminal, a TEXAS 733, and established the G.P.O. dial-up link to Salford University. This project, initially between School and the University, made available on-line computer time to us and later to other educational establishments. It proved to be a most useful and successful facility and reports have been given in this magazine of some of the work undertaken in the five years in which the link was used. The School had between ten and fifteen hours of on-line time each week, mainly during lunch hours and after school. Some time was available during teaching time and a large number of boys had experience of using the BASIC language to a large remote processor.</em></p>\n<p><em>Computing was mainly organised for small groups or for individual users, although a certain amount of class teaching was undertaken. The limitations of a single terminal caused delays and frustration. Boys were foreced to wait to use the system and it was found to be extremely difficult to teach a class of thirty boys where the visual display was a single sheet of typed material. Salford University extended the computer facility to several other schools resulting in a considerable reduction in the on-line time available to us.</em></p>\n<p><em>Early in 1978 it was decided to investigate the possibility of installing a complete on-site computer system at School. The searches took nearly a year and in that time a system which would satisfy the requirements of the School was determined. The financial aspects were agreed in November 1978 and the system was delivered in January 1979.</em></p>\n<p><em>The computer which has been installed is a SYSTIME 3000 comprising a PDP11/34 processor with 196Kb of working memory, two 4.8Mb disc drives for data storage, three visual display terminals (one of which is used for system control), a Superterm paper printer and the necessary hardware to include the original Texas terminal into the system. Thus four terminals instead of one are available for use with no restriction on the time when a boy may use the computer.</em></p>\n<p><em>The language used is BASIC PLUS which is a variant of the BASIC language used during the past five years. Very few problems have been experienced with this minor change of language and it is a most suitable language for teaching purposes. BASIC PLUS is interactive, that is, one which enables a two way 'conversation' between user and machine. If an error is made by the user, either in typing or in the logic of what is communicated to the machine, he is informed of that error immediately and can make the required corrections.</em></p>\n<p><em>The processor and system control is housed in the careers room and is linked by cables running across the quadrangle and over the roof of the Science block to room 34. This room has been redesigned and redecorated to be a terminal room, housing at present the four computer terminals.</em></p>\n<p><em>The system is a fairly standard computer package apart from one important modification. The signal from one visual display unit is taken and fed to a television monitor. Normally a single terminal is used by an individual or at most by a small group working on a particular project. The intention of having the signal from one terminal displayed on a large television monitor was to enable full classes of thirty boys to see a particular piece of computing. However, one monitor proved insufficient and by including a signal converter and amplifier the signal from one terminal can now be displayed on three domestic television sets. When a full class is taken into the terminal room teaching can be given to all by linking all four terminals together and displaying the data on them and on the three television sets. As far as is known this particular part of the system is an innovation as regards the teaching of computing in schools, particularly as part of the electronics required to convert the signals to be compatible with domestic television sets was designed and built in School.</em></p>\n<p><em>The system is thus being used in two different ways: for individual and small group activity or with the system linked together for class teaching. So far no examination teaching has been undertaken and at present none is envisaged. The intention is to use the computer in the classroom as a tool to teach a computer language, which will enable boys to undertake projects on their own, and as an aid to enrich and extend the normal teaching of Mathematics. Boys will find that they are taken to the terminal room perhaps for a complete period or for only ten minotes of a Mathematics period during which some particular part of the subject matter being developed will be illustrated using the computer.</em></p>\n<p><em>The system has been planned with future expansion in mind. When the wiring was installed two extra cables were taken into room 34; and therefore two more terminals can be added to the system fairly easily as and when they are required. Further expansion is possible; up to twenty-four terminals can be serviced by the processor! To achieve this additional memory will have to be added to the processor.</em></p>\n<p><em>Following the delivery of the system in January 1979 and after all testing had been carried out by the suppliers the computer was in limited use in early March. Since then the number of users has increased considerably. The computer is available for general use from 8.00 am to 5.00 pm and is heavily used by boys from the first to the sixth form before morning school, during the lunch hour and after school. Considerable use has been made during teaching time for class sessions, and sixth formers are able to use the computer in their private study time. During the final three weeks of the summer term about nine hundred log-ins were recorded! As this period included the preparation for the Open Days when the system was out of general use, there appears to be a growing for the facility the computer now provides.</em></p>\n<p><em>During the summer term three after-school courses were provided to each the BASIC language, two for juniors new to the system and one for those with considerable experience in computing. It is hoped that more of these courses will be provided for boys at all levels in the School in the coming years.</em></p>\n<p><em>Looking back over the period of the installation of the computer and the enthusiasm it has generated with boys of all ages, I anticipate a growing demand for computer time and an enhancement of the teaching of Mathematics in the School.</em></p>\n<p><em>M.L.</em></p>\n<p><img src=\"https://qmacro.org/blog/img/2020/11/computerunit.jpg\" alt=\"A picture of schoolboys using the terminals of the computer unit\" /><br />\n<em>A photo that accompanied the article in the school magazine</em></p>\n<p>Here's a grainy photo that accompanied the article in the school magazine. You can see one of the &quot;VDU&quot; (Visual Display Unit) terminals, and you can see a better picture of one of these in the photo of the Systime unit at the end of this post, but can you also spot the <a href=\"http://vtda.org/docs/computing/IntertecDataSystems/1100500-00_SuperTermMaintenance_1978.pdf\">Superterm</a> paper-based terminal (back right)?</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/11/superterm.png\" alt=\"A grainy photo of the &quot;Superterm Data Communications Terminal&quot;\" /><br />\n<em>A Superterm Data Communications Terminal</em></p>\n<p>Moreover, furthest away from the camera, there's the original Texas 733 terminal, also paper-based. Here's a better picture of one, from the <a href=\"http://www.bitsavers.org/pdf/ti/terminal/brochures/TI-327-A-10M_Silent_700_Model_732_733_Brochure_Sep_1973.pdf\">original brochure</a>.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/11/texas.png\" alt=\"A Texas 733 terminal&quot;\" /><br />\n<em>A Texas 733 terminal</em></p>\n<p>Here's a picture of what the computer unit looked like - it's a photo (courtesy of <a href=\"http://www.chilton-computing.org.uk/\">Computing at Chilton</a>, thank you) of a Systime unit, and the terminal on the desk is the same as those that we had in the computer room.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/11/systime.png\" alt=\"A picture of a very similar Systime unit\" /><br />\n<em>A Systime unit</em></p>\n",
      "date_published": "2020-11-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/1/11/the-subtle-art-of-quoting-newline-characters/",
      "url": "https://qmacro.org/blog/2020/1/11/the-subtle-art-of-quoting-newline-characters/",
      "title": "The subtle art of quoting newline characters",
      "content_html": "<p><em>Putting a backslash at the end of a line in the shell (or in a shell script) means &quot;continued on the next line!&quot;, right? Well yes, but it's more subtle, more simple and more beautifully shell-like than I thought.</em></p>\n<p>I was staring absentmindedly at a helper script that I'd written on last Friday's #HandsOnSAPDev live stream (replay here: <a href=\"https://www.youtube.com/watch?v=E9Ha0tnXGS4\">Generating Enterprise Messaging artifact graphs with shell scripting and Graphviz - Part 1</a>) which looks like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token shebang important\">#!/usr/bin/env bash</span><br /><br /><span class=\"token builtin class-name\">declare</span> <span class=\"token assign-left variable\">fontname</span><span class=\"token operator\">=</span><span class=\"token string\">\"Victor Mono\"</span><br /><span class=\"token builtin class-name\">declare</span> <span class=\"token assign-left variable\">fontsize</span><span class=\"token operator\">=</span><span class=\"token string\">\"16\"</span><br /><br />dot <span class=\"token punctuation\">\\</span><br />  -Tpng <span class=\"token punctuation\">\\</span><br />  -Nfontname<span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">$fontname</span>\"</span> <span class=\"token punctuation\">\\</span><br />  -Nfontsize<span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">$fontsize</span>\"</span> <span class=\"token punctuation\">\\</span><br />  test.dot <span class=\"token operator\">></span> test.png</code></pre>\n<p>(yes, I know we need to talk about the hashbang, but let's leave that for another time).</p>\n<p>I like to make my scripts readable, so I often split commands over separate lines, as I've done here in the invocation of the <code>dot</code> command, with its various switches and arguments.</p>\n<p>I had always vaguely thought that &quot;OK, well if I want to continue on the next line, I have to put a backslash (<code>\\</code>) at the end of the preceding line&quot;, like I've done here. So in that sense, I was considering the backslash as a sort of continuation character.</p>\n<p>Bzzt. Wrong. Or at least not entirely accurate.</p>\n<p>Yesterday the YouTube algorithm, which knows I'm currently geeking out on all things shell, suggested a short series of videos by <a href=\"https://www.youtube.com/channel/UCseUQK4kC3x2x543nHtGpzw\">Brian Will</a>: <a href=\"https://www.youtube.com/playlist?list=PLFAC320731F539902\">Unix Terminals and Shells</a>. In the second video in this playlist, he listed the characters in Bash that had special meaning:</p>\n<pre><code># ' &quot; \\ $ ` * ~ ? &lt; &gt; ( ) ! | &amp; ; space newline\n</code></pre>\n<p>Some may be more obvious or familiar than others. Note the last two in the list - <code>space</code> and <code>newline</code>. In particular, <code>newline</code> normally denotes the end of a command (of course, there are other special characters that denote this too - notably <code>;</code> and <code>&amp;</code>). See <a href=\"https://www.gnu.org/software/bash/manual/bash.html#Lists\">Section 3.2.3 Lists of Commands</a> in the Bash manual for details.</p>\n<p>Brian goes on to explain the function of the backslash character in a quoting or escape capacity - to remove the special meaning of the immediately following character, so that it's treated as-is. So for example if you actually wanted a dollar sign, which normally has a special meaning if you use it, you'd use <code>\\$</code>.</p>\n<p>Likewise, then for the newline character. If you want the meaning of newline to be cancelled, i.e. &quot;please do <em>not</em> treat this point as the end of the command&quot;, then you need to use the backslash to quote it:</p>\n<pre><code>\\newline\n</code></pre>\n<p>(of course, I'm representing an actual newline with <code>newline</code> here).</p>\n<p>I don't know about you, but I've always used &quot;escape&quot; as a verb here, rather than &quot;quote&quot;, i.e. &quot;to remove the special meaning of character x, you have to escape it with a <code>\\</code>&quot;. I think a more accurate way of saying it is &quot;... you have to quote it with a <code>\\</code>&quot;. The cause is probably the fact that <code>\\</code> is known as the &quot;escape character&quot;. The escape character is documented in Section <a href=\"https://www.gnu.org/software/bash/manual/bash.html#Escape-Character\">3.1.2.1 Escape Character</a> of the Bash manual, which is quite short, and worth quoting, thus:</p>\n<p>&quot;<em>A non-quoted backslash ‘\\’ is the Bash escape character. It preserves the literal value of the next character that follows, with the exception of newline. If a \\newline pair appears, and the backslash itself is not quoted, the \\newline is treated as a line continuation (that is, it is removed from the input stream and effectively ignored)</em>&quot;.</p>\n<p>This rounds out this post neatly for me, in that in fact, yes, the special meaning of <code>newline</code> is removed if you quote it with a backslash, so you can continue on the next line; what's more, it's actually removed from the input stream. I mean, it's just whitespace anyway, but that's a curious and interesting detail.</p>\n<p>Anyway, I'm now enlightened - I thought the backslash was doing something &quot;special&quot; here in the context of the script above (and many others like it), but no, in fact, it's just doing its normal job of removing the special meaning of the immediately following character, which to us is invisible.</p>\n",
      "date_published": "2020-11-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/16/10/case-modification-operators-in-parameter-substitution/",
      "url": "https://qmacro.org/blog/2020/16/10/case-modification-operators-in-parameter-substitution/",
      "title": "Case modification operators in parameter substitution",
      "content_html": "<p><em>Today I learned that in addition to the usual ways of uppercasing strings, Bash 4 brought the addition of case modification operators to the parameter substitution family.</em></p>\n<p>Spending a pleasant coffee on my day off today I looked at tackling another challenge in <a href=\"https://exercism.io/tracks/bash\">Exercism's bash track</a> - <a href=\"https://exercism.io/tracks/bash/exercises/acronym/solutions/e70a7282d2fb4856bbeb1c2ae745d3c4\">Acronym</a>. The requirement included ensuring that any generated acronym (I guess these might actually be initialisms, but that's a discussion for another time) was completely in uppercase, regardless of the source.</p>\n<p>In my solution, I resorted to the usual use of <code>tr</code>, like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">tr</span> <span class=\"token string\">'[:lower:]'</span> <span class=\"token string\">'[:upper:]'</span></code></pre>\n<p>All good. I like to peruse others' solutions, to learn from how they might have tackled the same challenge, and I came across something that looked rather odd at first, as I'd never seen it before. It was a solution by TopKech and looks like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">OUTPUT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> -e <span class=\"token string\">'s/$/ /'</span> -e <span class=\"token string\">'s/\\([^ \\-]\\)[^ \\-]*[ \\-]/\\1/g'</span> -e <span class=\"token string\">'s/^ *//'</span><span class=\"token variable\">)</span></span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${OUTPUT<span class=\"token operator\">^^</span>}</span></code></pre>\n<p>What's that <code>^^</code> in the second line?</p>\n<p>Turns out that it's a case modification operator, within a parameter substitution context. What's more, it is &quot;relatively&quot; new, in that it was introduced with <a href=\"https://tldp.org/LDP/abs/html/bashver4.html\">version 4 of Bash</a>. I say &quot;relatively&quot;, as version 4 was introduced way back in 2009; but having been a macOS user for a while, I'd been stuck with version 3 due to Apple's issues with the GPL v3 licence (prompting them not to ship any version beyond 3, and even go so far as to make <code>zsh</code> the default shell on newer versions of the OS).</p>\n<p>Version 4 of Bash came with lots of wonderful stuff, including 4 separate case modification operators, that are illustrated in the <a href=\"https://tldp.org/LDP/abs/html/bashver4.html\">Advanced Bash Scripting Guide - Chapter 37. Bash, versions 2, 3, and 4</a> and can be summarised thus:</p>\n<p>|-|-|<br />\n|<code>${var^}</code>|Make first char of <code>var</code> value uppercase|<br />\n|<code>${var^^}</code>|Make all chars of <code>var</code> value uppercase|<br />\n|<code>${var,}</code>|Make first char of <code>var</code> value lowercase|<br />\n|<code>${var,,}</code>|Make all chars of <code>var</code> value lowercase|</p>\n<p>I didn't know that, but <a href=\"https://twitter.com/qmacro/status/1317046383950659584\">I do now!</a></p>\n",
      "date_published": "2020-10-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/11/10/mid-and-shell-parameter-expansion/",
      "url": "https://qmacro.org/blog/2020/11/10/mid-and-shell-parameter-expansion/",
      "title": "MID$ and shell parameter expansion",
      "content_html": "<p><em>While perhaps misunderstood and potentially confusing due to the different options, the ability to access and manipulate values in variables in Bash is rich and varied.</em></p>\n<p>I've just set up <a href=\"https://exercism.io/\">Exercism</a> on this machine so I could download challenges in the <a href=\"https://exercism.io/tracks/bash\">Bash track</a> and try to improve my Bash scripting fu. I spent a pleasant hour getting to know <a href=\"https://github.com/sstephenson/bats\">bats</a> - the Bash Automated Testing System, which Exercism uses for the Bash track, and looking at one of the easy challenges on Hamming in relation to DNA sequences. My solution, in case you're interested, is <a href=\"https://exercism.io/my/solutions/50ef4a487c3641eda1b1af823ca7d9b2\">here</a>.</p>\n<p>In implementing the solution, I had to compare DNA sequences and determine how many differences between them there were - a count of where letters differed in the same positions. For example, while there are no differences in the pair of sequences GATTACA and GATTACA, there are two differences in the pair GATTACA and GCTTAGA. As much by luck as anything else, I stumbled upon this construct:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token variable\">${parameter<span class=\"token operator\">:</span>offset<span class=\"token operator\">:</span>length}</span></code></pre>\n<p>I'd seen this construct before and it rang a bell, I remember thinking it was like the <a href=\"http://www.bbcbasic.co.uk/bbcbasic/manual/bbckey3.html\"><code>MID$</code> function in many implementations of the BASIC language</a> I'd used in my early days. Basically it's a way of reaching into a string and pulling out a section of it.</p>\n<p>So for example, if we have <code>str=&quot;Hello, World!&quot;</code> then we can use this construct like this (note that all these variations are possible):</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">></span> <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${str}</span><br />Hello, World<span class=\"token operator\">!</span><br /><span class=\"token operator\">></span> <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${str<span class=\"token operator\">:</span>4}</span><br />o, World<span class=\"token operator\">!</span><br /><span class=\"token operator\">></span> <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${str<span class=\"token operator\">:</span>4<span class=\"token operator\">:</span>5}</span><br />o, Wo</code></pre>\n<p><strong>Shell parameter expansion</strong></p>\n<p>There's plenty more information on this in the <a href=\"https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html\">Bash man page</a>; perhaps most importantly we learn there what this is called - in what category this contruct lives. It's in the <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\"><strong>parameter expansion</strong></a> family.</p>\n<p>We've seen parameter expansion before in this blog, specifically in <a href=\"https://qmacro.org/autodidactics/2020/09/27/shell-parameter-expansion-with-+/\">Shell parameter expansion with :+ is useful</a>, which looks at the <code>:-</code> and <code>:+</code> variants. But even if we combine this post with that one, we're only scratching the surface of what's possible; I'm looking forward to grabbing a cup of tea and reading through the entire section of the Bash man page on this topic soon.</p>\n<p><strong>Using <code>expr</code></strong></p>\n<p>What's potentially confusing here is that there's more than one way to extract a portion of a string. Not only do we have this shell parameter expansion construct, but we have the executable <code>expr</code>, which evaluates expressions. There are many expressions that can be evaluated (see the man page), one of which is <code>substr</code>. This explains why, in the <a href=\"https://tldp.org/LDP/abs/html/string-manipulation.html\">Manipulating Strings</a> section of the Linux Documentation project, both approaches are documented.</p>\n<p>So using <code>expr</code>, the equivalent of the above example where the value &quot;o, Wo&quot; is pulled out of &quot;Hello, World!&quot; is this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">></span> <span class=\"token function\">expr</span> substr <span class=\"token string\">\"<span class=\"token variable\">$str</span>\"</span> <span class=\"token number\">5</span> <span class=\"token number\">5</span><br />o, Wo</code></pre>\n<p>There are two things to note here with this <code>expr</code> evaluation of <code>substr</code>, given that the man page describes it as <code>substr STRING POS LEN</code>:</p>\n<ul>\n<li>\n<p>the first number is not the <em>offset</em> but the <em>position</em>, which is why here we need the first value to be 5 (position in the string) whereas with the parameter expansion we needed the value 4 (offset from the start).</p>\n</li>\n<li>\n<p>both numbers (POS and LEN) are required; if your extraction needs to be &quot;from here to the end of the line&quot; you'll either have to work out the length yourself, or use another expression with <code>expr</code>, for example <code>match</code>.</p>\n</li>\n</ul>\n<p><strong>In context</strong></p>\n<p>Right now I'm wondering about the history of both approaches, and what we should be using, but that question is for another day. In the meantime, in case you want to see the use of this parameter expansion approach in my solution, here's the relevant section (noting that the first and second DNA sequence strings are in <code>$1</code> and <code>$2</code> respectively):</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Count the differences</span><br /><span class=\"token builtin class-name\">declare</span> <span class=\"token assign-left variable\">diffcount</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><br /><span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">i</span> <span class=\"token keyword\">in</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">seq</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">$((</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">\\</span>#1<span class=\"token punctuation\">}</span> -1 <span class=\"token punctuation\">)</span><span class=\"token variable\">)</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span><br />  <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token string\">\"<span class=\"token variable\">${1<span class=\"token operator\">:</span>$i<span class=\"token operator\">:</span>1}</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"<span class=\"token variable\">${2<span class=\"token operator\">:</span>$i<span class=\"token operator\">:</span>1}</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token variable\"><span class=\"token punctuation\">((</span> diffcount<span class=\"token operator\">++</span> <span class=\"token punctuation\">))</span></span><br /><span class=\"token keyword\">done</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$diffcount</span>\"</span></code></pre>\n<p>There's plenty to learn in this area, but right now it's time for me to make that cuppa.</p>\n",
      "date_published": "2020-10-11T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/8/10/understanding-declare/",
      "url": "https://qmacro.org/blog/2020/8/10/understanding-declare/",
      "title": "Understanding declare",
      "content_html": "<p><em>I've been looking into declare, and also how it compares to typeset and local. It turns out that there's a lot to know.</em></p>\n<p>After working my way through the small <code>ix</code> script in <a href=\"https://rwx.gg/\">Mr Rob</a>'s <a href=\"https://gitlab.com/rwxrob/dotfiles/-/tree/master\">dotfiles</a>, writing three posts <a href=\"https://qmacro.org/autodidactics/2020/10/03/using-exec-to-jump/\">Using exec to jump</a>, <a href=\"https://qmacro.org/autodidactics/2020/10/04/curl-and-multipart-form-data/\">curl and multipart/form-data</a> and <a href=\"https://qmacro.org/autodidactics/2020/10/04/check-command-available/\">Checking a command is available before use</a> along the way, I've now turned my attention to the <a href=\"https://gitlab.com/rwxrob/dotfiles/-/blob/master/scripts/twitch\"><code>twitch</code></a> script which he uses during his <a href=\"https://qmacro.org/blog/2020/8/10/understanding-declare/twitch.tv/rwxrob\">live streams</a>. I haven't gone very far when I light upon this section:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">declare</span> <span class=\"token assign-left variable\">gold</span><span class=\"token operator\">=</span><span class=\"token string\">$'<span class=\"token entity\" title=\"\\033\">\\033</span>[38;2;184;138;0m'</span><br /><span class=\"token builtin class-name\">declare</span> <span class=\"token assign-left variable\">red</span><span class=\"token operator\">=</span><span class=\"token string\">$'<span class=\"token entity\" title=\"\\033\">\\033</span>[38;2;255;0;0m'</span><br /><span class=\"token punctuation\">..</span>.</code></pre>\n<p>So <code>declare</code> is a keyword that I've seen before but never fully understood or embraced. Seems like this is a good time to fix that.</p>\n<p><strong>Declare is a builtin</strong></p>\n<p>To start off, <code>declare</code> is a <a href=\"https://tldp.org/LDP/abs/html/internal.html#BUILTINREF\">builtin</a>, which means that rather than an external executable (such as <code>echo</code>, or even <code>[</code>), it's part of the Bash runtime itself, as we can see thus:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">></span> strings <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">which</span> <span class=\"token function\">bash</span><span class=\"token variable\">)</span></span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token builtin class-name\">declare</span><br /><span class=\"token builtin class-name\">declare</span> -%s %s<span class=\"token operator\">=</span>%s<br /><span class=\"token builtin class-name\">declare</span><br /><span class=\"token builtin class-name\">declare</span> <span class=\"token punctuation\">[</span>-aAfFgilnrtux<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>-p<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">[</span><span class=\"token operator\">=</span>value<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span><br />    When used <span class=\"token keyword\">in</span> a function, <span class=\"token variable\"><span class=\"token variable\">`</span>declare' makes NAMEs local, as with the <span class=\"token variable\">`</span></span><span class=\"token builtin class-name\">local</span><span class=\"token string\">'<br />    A synonym for `declare'</span><span class=\"token builtin class-name\">.</span>  See <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token builtin class-name\">help</span> declare'.<br />    be any option accepted by <span class=\"token variable\">`</span></span>declare'.<br /><span class=\"token builtin class-name\">declare</span> -%s</code></pre>\n<p>(If you're curious about <code>[</code> being an external executable, you might be interested in another post: <a href=\"https://qmacro.org/autodidactics/2020/08/21/open-square-bracket/\">The open square bracket [ is an executable</a>.)</p>\n<p><strong>The <code>typeset</code> synonym</strong></p>\n<p>First off, let's deal with the <code>declare</code> vs <code>typeset</code> question. Basically, <code>typeset</code> does in the Korn shell (ksh) pretty much what <code>declare</code> does in the Bash shell. And <code>typeset</code> has been added to Bash as a synonym for <code>declare</code>, to make it easier for developers to switch between the flavours. There are other synonyms relating to <code>declare</code>, but we'll come to those in a bit.</p>\n<p><strong>Basics of <code>declare</code></strong></p>\n<p>Next, let's deal with the question: &quot;But why is declare used here at all?&quot;. Well, in <a href=\"https://gitlab.com/rwxrob/dotfiles/-/blob/master/scripts/twitch#L29-36\">this particular case</a> it's not absolutely necessary. Strings and array variables don't actually need to be declared, so this would be fine, too:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token assign-left variable\">gold</span><span class=\"token operator\">=</span><span class=\"token string\">$'<span class=\"token entity\" title=\"\\033\">\\033</span>[38;2;184;138;0m'</span><br /><span class=\"token assign-left variable\">red</span><span class=\"token operator\">=</span><span class=\"token string\">$'<span class=\"token entity\" title=\"\\033\">\\033</span>[38;2;255;0;0m'</span><br /><span class=\"token punctuation\">..</span>.</code></pre>\n<p>This would be a couple of simple assignments of values to (otherwise) previously undeclared variables. On the other hand, with the <code>declare</code> variant, subtly different, we're declaring a couple of variables and also making assignments at the same time, which <code>declare</code> permits us to do.</p>\n<p><strong>The <code>local</code> synonym</strong></p>\n<p>Of course, the main point of <code>declare</code> is to declare variables and state certain attributes that they are to have. We haven't seen an example of that yet, but before we do, there's another subtle difference between <code>declare var=value</code> and simply <code>var=value</code>. This is briefly covered in a paragraph of the help information (run <code>help declare</code> in a Bash shell):</p>\n<p><em>When used in a function, <code>declare</code> makes NAMEs local, as with the <code>local</code> command.  The <code>-g</code> option suppresses this behavior.</em></p>\n<p>So <code>local</code> is our next synonym for <code>declare</code>, in the context a function definition. An example script <code>foo</code> will help:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">func1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token builtin class-name\">local</span> var1<br />  <span class=\"token assign-left variable\">var1</span><span class=\"token operator\">=</span><span class=\"token string\">\"Apple\"</span><br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"func1: <span class=\"token variable\">$var1</span>\"</span><br /><span class=\"token punctuation\">}</span><br /><br /><span class=\"token function-name function\">func2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token builtin class-name\">declare</span> var1<br />  <span class=\"token assign-left variable\">var1</span><span class=\"token operator\">=</span><span class=\"token string\">\"Banana\"</span><br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"func2: <span class=\"token variable\">$var1</span>\"</span><br /><span class=\"token punctuation\">}</span><br /><br /><span class=\"token function-name function\">func3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token assign-left variable\">var1</span><span class=\"token operator\">=</span><span class=\"token string\">\"Carrot\"</span><br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"func3: <span class=\"token variable\">$var1</span>\"</span><br /><span class=\"token punctuation\">}</span><br /><br /><span class=\"token assign-left variable\">var1</span><span class=\"token operator\">=</span><span class=\"token string\">\"Main\"</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"var1 is <span class=\"token variable\">$var1</span>\"</span><br />func1<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"var1 is <span class=\"token variable\">$var1</span>\"</span><br />func2<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"var1 is <span class=\"token variable\">$var1</span>\"</span><br />func3<br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"var1 is <span class=\"token variable\">$var1</span>\"</span></code></pre>\n<p>Let's look at what we get when this script is executed:</p>\n<pre><code>&gt; bash ./foo\nvar1 is Main\nfunc1: Apple\nvar1 is Main\nfunc2: Banana\nvar1 is Main\nfunc3: Carrot\nvar1 is Carrot\n</code></pre>\n<p>The thing to spot here is that because neither <code>local</code> nor <code>declare</code> were used for <code>var1</code> in the definition of the <code>func3</code> function, the assignment of the value <code>Carrot</code> was not restricted to the scope of that function, and when back in the main part of the script, the value of <code>var1</code> has the value that it was assigned within <code>func3</code>, i.e. <code>Carrot</code>, not <code>Main</code> any more.</p>\n<p><strong>Options for <code>declare</code></strong></p>\n<p>Of course, given the main purpose of <code>declare</code>, it's worth briefly looking at more specific uses. There are various options, adequately covered by various sources including <a href=\"https://tldp.org/LDP/abs/html/declareref.html\">Advanced Bash-Scripting Guide - Chapter 9: Another Look at Variables</a>, and so only summarised here:</p>\n<p>|-|-|<br />\n|<code>-r</code>|Read-only|<br />\n|<code>-i</code>|Integer|<br />\n|<code>-a</code>|Array|<br />\n|<code>-A</code>|Associative array (i.e. a dictionary, or object)|<br />\n|<code>-f</code>|Function|<br />\n|<code>-x</code>|Exported|<br />\n|<code>-g</code>|Global|</p>\n<p>There are other options, but these are the most common, at least as far as I've found in my research. Others are covered in the <code>help declare</code> output.</p>\n<p><strong>The <code>readonly</code> synonym</strong></p>\n<p>The <code>-r</code> option for <code>declare</code> has a sort of synonym too, which is <code>readonly</code>. However, there's a difference relating to scope; while <code>declare -r</code> will use function-local scope (similar to how it was used in <code>func1</code> and <code>func2</code> earlier), <code>readonly</code> will not respect that and simply use the global scope, even inside functions.</p>\n<p>In other words, if you were to add another function definition to the above <code>foo</code> script example, like this:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">func4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token builtin class-name\">readonly</span> var1<br />  <span class=\"token assign-left variable\">var1</span><span class=\"token operator\">=</span><span class=\"token string\">\"Damson\"</span><br />  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"func4: <span class=\"token variable\">$var1</span>\"</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>... then when <code>func4</code> had been executed, the value of <code>var1</code> in the main section of the script would then also be <code>Damson</code>.</p>\n<p>Using <code>declare -r</code> here instead is the safer approach, in that the local function scope is respected. Note however that if we add <code>-g</code> (denoting the &quot;global&quot; attribute) to this, i.e. use <code>declare -r -g</code> or <code>declare -rg</code>, then the effect would be the same as using <code>readonly</code>.</p>\n<p><strong>The <code>export</code> synonym and what <code>-x</code> implies</strong></p>\n<p>There's one final synonym I found in this journey of discovery, and that's <code>export</code>, which is the equivalent of <code>declare -x</code>. It took me a few minutes to properly think about what this &quot;available for export&quot; attribute actually implies.</p>\n<p>Like me, you've most probably used <code>export</code> in your <code>.bashrc</code> file, to set &quot;global&quot; variables when your shell session starts, to be available to you in that session and in executables that you invoke there. Usually these variable names will be in upper case by convention, denoting variables that are &quot;environment&quot; wide. In your shell, you can use <code>env</code> to see what these are. Note that the list that <code>env</code> produces includes variables automatically available to you in the shell too, such as <code>HOME</code> and <code>PATH</code>.</p>\n<p>So what does <code>declare -x</code> imply, in the context of a script that you might write and then invoke? It does not mean that once the script finishes, that variable will be available to you in the shell. As an example, consider this script <code>bar</code>:</p>\n<pre><code>declare -x var2=&quot;Raining&quot;\necho &quot;var2 is $var2&quot;\n</code></pre>\n<p>When we run this, look at what we get:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">></span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$var2</span>\"</span> <span class=\"token comment\"># nothing up my sleeve</span><br /><br /><span class=\"token operator\">></span> ./bar<br />var2 is Raining<br /><span class=\"token operator\">></span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$var2</span>\"</span><br /><br /><span class=\"token operator\">></span></code></pre>\n<p>But what if we also had another script <code>baz</code>:</p>\n<pre><code>echo &quot;In baz: var2 is $var2&quot;\n</code></pre>\n<p>and we invoked it from within the <code>bar</code> script:</p>\n<pre><code>declare -x var2=&quot;Raining&quot;\necho &quot;var2 is $var2&quot;\n./baz\n</code></pre>\n<p>You can guess what the output will be:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">></span> ./bar<br />var2 is Raining<br />In baz: var2 is Raining</code></pre>\n<p>And on returning to the shell prompt, we can double check that <code>var2</code> doesn't have a value:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token operator\">></span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$var2</span>\"</span><br /><br /><span class=\"token operator\">></span></code></pre>\n<p>The way I think about this in my mind is like a tree structure:</p>\n<pre><code>shell\n |\n +-- bar        &lt;- var2 declared with -x as 'exported'\n      |\n      +-- baz   &lt;- var2 available here too\n</code></pre>\n<p>Exporting descends, rather than ascends, so there's no way <code>var2</code> could ever be made available like this in the <code>shell</code>.</p>\n<p>That's about it, I think. I hope this is useful; I have found it helpful to try and explain these concepts to you, as it helps me learn. In researching, I came across some content in Stack Overflow and Stack Exchange - so thanks to those folks who took the time to explain things there. You may want to reference them too:</p>\n<ul>\n<li><a href=\"https://unix.stackexchange.com/questions/254367/in-bash-scripting-whats-the-different-between-declare-and-a-normal-variable\">In bash scripting, what's the different between declare and a normal variable?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4419704/differences-between-declare-typeset-and-local-variable-in-bash\">Differences between declare, typeset and local variable in Bash</a></li>\n<li><a href=\"https://stackoverflow.com/questions/30362831/what-is-difference-in-declare-r-and-readonly-in-bash\">what is difference in <code>declare -r</code> and <code>readonly</code> in bash?</a></li>\n</ul>\n",
      "date_published": "2020-10-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/6/10/desnowballification-with-set-o-errexit/",
      "url": "https://qmacro.org/blog/2020/6/10/desnowballification-with-set-o-errexit/",
      "title": "Desnowballification with set -o errexit",
      "content_html": "<p><em>I've started to use <code>set -o errexit</code> at the start of my scripts to make them more robust.</em></p>\n<p>There comes a time when you move from just hacking lines of shell script together into a file, to recognising that the file is now a script and that you want that script to run well, so you give it a little bit of help.</p>\n<p>In a similar way to the <code>-w</code> flag for Perl scripts, or even perhaps the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode\">strict mode</a> turned on in JavaScript files with <code>'use strict'</code>, there are flags that you can use for Bash scripts. A few weeks ago I read <a href=\"https://www.davidpashley.com/articles/writing-robust-shell-scripts/\">Writing Robust Bash Shell Scripts</a> by David Pashley, and it taught me about a couple of flags:</p>\n<p>|-|-|-|<br />\n|<code>set -e</code>|<code>set -o errexit</code>|exit when a command fails|<br />\n|<code>set -u</code>|<code>set -o nounset</code>|exit when an undeclared variable is used|</p>\n<p>There are short and long forms of these flags, as you can see. I would use the short forms on the command line, but prefer the long forms in scripts, because they're more readable (although the language nerd in me sees 'noun set' before 'no unset' in the latter). The <a href=\"https://google.github.io/styleguide/shellguide.html\">Google Shell Style Guide</a>, to which I referred in <a href=\"https://qmacro.org/2020/10/05/improving-my-shell-scripting/\">Improving my shell scripting</a> recently, also has something useful on using flags, in the <a href=\"https://google.github.io/styleguide/shellguide.html#which-shell-to-use\">Which Shell to Use</a> section. It says that flags on the <a href=\"https://en.wikipedia.org/wiki/Shebang_(Unix)\">hashbang</a> line (<code>#!/bin/bash</code>) should be used sparingly - in other words, they should be set with <code>set</code> on their own lines. The reason it gives, which makes sense, is that the script can then be run in the same way like this: <code>bash scriptname</code> (the hashbang is redundant in this case, along with any flags set on that line).</p>\n<p>I honed in on <code>set -o errexit</code> as it seems to be a recommended standard and makes a lot of sense (although interestingly the Google Shell Style Guide makes no mention of it). This flag causes the script to be terminated if any statement returns a non-true value. As David put in his article, this &quot;prevents errors snowballing into serious issues when they could have been caught earlier&quot;.</p>\n<p>As I was looking for further information on <code>set -o errexit</code> I came across another useful article <a href=\"https://kvz.io/bash-best-practices.html\">Best Practices for Writing Bash Scripts</a> by Kev van Zonneveld - definitely worth a read, especially for other flags that are available (<code>xtrace</code> and <code>pipefail</code>).</p>\n<p>So, I'm putting <code>set -o errexit</code> as one of the first lines in my Bash shell scripts. I notice that <a href=\"https://rwx.gg/\">Mr Rob</a> does the same (see his <a href=\"https://gitlab.com/rwxrob/dotfiles/-/blob/master/scripts/twitch#L3\"><code>twitch</code> script</a> as an example). You should, too.</p>\n",
      "date_published": "2020-10-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/5/10/improving-my-shell-scripting/",
      "url": "https://qmacro.org/blog/2020/5/10/improving-my-shell-scripting/",
      "title": "Improving my shell scripting",
      "content_html": "<p><em>I'm using a style guide along with the <code>shellcheck</code> and <code>shfmt</code> tools to help me improve the quality and consistency of my shell scripts.</em></p>\n<p>I'm doubling down on shell scripting, in particular Bash shell scripting. This is for many reasons, not least because I think that in the age of cloud and containers, shell environments are more important than ever. And what better shell than the Unix style shell; the design dates back decades but is still in my eyes one of the most wondrous things in tech even today, with its beautiful simplicity and its <a href=\"https://en.wikipedia.org/wiki/Unix_philosophy#:~:text=The%20Unix%20philosophy%20is%20documented,%2C%20as%20yet%20unknown%2C%20program.\">simple beauty</a>.</p>\n<p><strong>Style Guide</strong></p>\n<p>While watching a live stream replay by <a href=\"https://rwx.gg/\">Mr Rob</a>, specifically <a href=\"https://www.youtube.com/watch?v=UGCw6wXv1Ao\">Google Shell Scripting Guide, Yes, Yes, 1000 Times Yes!</a>, I came across the <a href=\"https://google.github.io/styleguide/shellguide.html\">Google Shell Style Guide</a> and it's succinct enough to digest in a single sitting, and well written enough to comprehend in that time, too.</p>\n<p>I've decided to use this style guide as a general reference for my scripts and plan to implement changes to some of my existing scripts over time.</p>\n<p><strong>Shellcheck</strong></p>\n<p>I discovered the <a href=\"https://github.com/koalaman/shellcheck\"><code>shellcheck</code></a> shell script analysis tool recently and my goodness me has it made a significant impact on not only the quality of what I write, but also on my understanding of Bash shell syntax! It's available as an online tool, but far more importantly as a command line tool that will highlight issues with your shell code. A linter, basically.</p>\n<p>Moreover, it has a rich set of reference material in the <a href=\"https://github.com/koalaman/shellcheck/wiki\">wiki</a>, including definitive pages for each of the errors it will emit. Here's an example: SC1019 is the error code for &quot;Expected this to be an argument to the unary condition&quot; and there's a reference page for it here: <a href=\"https://github.com/koalaman/shellcheck/wiki/SC1019\">SC1019</a>.</p>\n<p>I use Vim as my primary editing environment and use the <a href=\"https://github.com/dense-analysis/ale\">Asynchronous Linting Engine</a> (ALE) as a key plugin. This means, that without me lifting a finger, <code>shellcheck</code> will be used asynchronously, live while I'm editing, to show me issues.</p>\n<p>If you're writing shell scripts, get <code>shellcheck</code> installed and wired up to your editor now.</p>\n<p><strong>shfmt</strong></p>\n<p>My son Joseph used to write a lot of Go, and I was fascinated by the philosophy of what the <a href=\"https://golang.org/cmd/gofmt/\"><code>gofmt</code></a> formatting tool represented. Go programmers all expected code to be formatted the same way via this tool, and it's natural for them to have their code (re)formatted when they save it in the editor. I know that this is anathema to some programmers, which is why it caught my eye.</p>\n<p>There are formatters for other languages that work this way now (and I'm sure there were before, too) such as <code>rustfmt</code> (used by Mr Rob, which is what gave me the idea) and there's a version for shell scripts called <a href=\"https://github.com/mvdan/sh\"><code>shfmt</code></a>, described as &quot;a shell parser, formatter and interpreter&quot;.</p>\n<p>Having experimented with the <code>shfmt</code> options, I ended up choosing a few that would help me stay close to the style guide:</p>\n<p>|-|-|<br />\n|<code>-i 2</code>|indent with two spaces|<br />\n|<code>-bn</code>|binary ops like &amp;&amp; and | may start a line|<br />\n|<code>-ci</code>|switch cases will be indented|<br />\n|<code>-sr</code>|redirect operators will be followed by a space|</p>\n<p>I <a href=\"https://github.com/qmacro/dotfiles/commit/1581496cdc2a51b0bcdda525a7f06dc11129abb1\">added some new configuration</a> to tell Vim to use this <code>shfmt</code> tool with these options, to automatically format any shell source on save.  This means that I can get my script content automatically formatted without thinking about it, in the same way Go programmers enjoy.</p>\n<p>This is what that configuration addition looks like right now:</p>\n<pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">fun</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">FormatBashScripts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br />  <span class=\"token keyword\">if</span> <span class=\"token function\">getline</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=~#</span> <span class=\"token string\">'^#!.*bash'</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">executable</span><span class=\"token punctuation\">(</span><span class=\"token string\">'shfmt'</span><span class=\"token punctuation\">)</span><br />    <span class=\"token operator\">%</span><span class=\"token operator\">!</span>shfmt <span class=\"token operator\">-</span>i <span class=\"token number\">2</span> <span class=\"token operator\">-</span><span class=\"token keyword\">bn</span> <span class=\"token operator\">-</span><span class=\"token builtin\">ci</span> <span class=\"token operator\">-</span><span class=\"token builtin\">sr</span> <span class=\"token operator\">-</span><br />  <span class=\"token keyword\">endif</span><br /><span class=\"token keyword\">endfun</span><br /><span class=\"token builtin\">autocmd</span> BufWritePre <span class=\"token operator\">*</span> <span class=\"token keyword\">call</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">FormatBashScripts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<p>The reference to <code>getline</code> is to check that the <a href=\"https://en.wikipedia.org/wiki/Shebang_(Unix)\">shebang</a> denotes a Bash shell script and the reference to <code>executable</code> prevents errors occurring if I'm on a machine where <code>shfmt</code> is not available. The key part is this: <code>%!shfmt ...</code> which passes the entire buffer contents through the invocation of <code>shfmt</code> as if it were a filter, replacing the contents with whatever <code>shfmt</code> outputs.</p>\n<p>I guess it almost goes without saying that the significance of how this works -- using <code>shfmt</code> as a filter to pass the content through, via STDIN and STDOUT, following one of the key Unix shell philosophies -- is not lost on me.</p>\n<p>And remember folks, <a href=\"https://twitter.com/search?q=%23TheFutureIsTerminal&amp;src=typed_query\">#TheFutureIsTerminal!</a></p>\n",
      "date_published": "2020-10-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/4/10/curl-and-multipart-form-data/",
      "url": "https://qmacro.org/blog/2020/4/10/curl-and-multipart-form-data/",
      "title": "curl and multipart/form-data",
      "content_html": "<p><em>In <a href=\"https://qmacro.org/autodidactics/2020/10/03/using-exec-to-jump.html\">reading through</a> <a href=\"https://rwx.gg/\">Mr Rob</a>'s <a href=\"https://gitlab.com/rwxrob/dotfiles/-/blob/master/scripts/ix\"><code>ix</code></a> script, I discovered something about <code>curl</code> that I hadn't known about.</em></p>\n<p>The script's key line is this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token assign-left variable\">url</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> -s -F <span class=\"token string\">'f:1=&lt;-'</span> http://ix.io<span class=\"token variable\">)</span></span></code></pre>\n<p>My gaze was immediately drawn to this bit: <code>-F 'f:1=&lt;-'</code>. Part of this initially cryptic incantation is actually down to the instructions from the <a href=\"http://ix.io/\">ix.io</a> website itself, in the TL;DR section.</p>\n<p>Checking the <a href=\"https://curl.haxx.se/docs/manpage.html\"><code>curl</code> documentation</a> for the <code>-F</code> option, I discover that this venerable command line HTTP client can send multipart/form-data payloads, with files or file contents. So, breaking this incantation down, we have:</p>\n<table>\n<thead>\n<tr>\n<th>Part</th>\n<th>Meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>-F</code></td>\n<td>send a POST with multipart/form-data content</td>\n</tr>\n<tr>\n<td><code>f:1</code></td>\n<td>the name of the form field that the website is expecting</td>\n</tr>\n<tr>\n<td><code>&lt;</code></td>\n<td>send as file contents (rather than an actual file)</td>\n</tr>\n<tr>\n<td><code>-</code></td>\n<td>read the contents from STDIN</td>\n</tr>\n</tbody>\n</table>\n<p>And in the context of where this is being executed, STDIN is the <code>ix</code> script's STDIN, in other words, whatever is piped into <code>ix</code> when it's invoked.</p>\n<p>In response to the form being POSTed, the <a href=\"http://ix.io/\">ix.io</a> website returns the newly minted unique pastebin URL that was created, and this is saved into the <code>url</code> variable in the script, to be shared in various ways.</p>\n<p>Lovely!</p>\n",
      "date_published": "2020-10-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/4/10/checking-a-command-is-available-before-use/",
      "url": "https://qmacro.org/blog/2020/4/10/checking-a-command-is-available-before-use/",
      "title": "Checking a command is available before use",
      "content_html": "<p><em>There's one final nugget in <a href=\"https://rwx.gg/\">Mr Rob</a>'s <a href=\"https://gitlab.com/rwxrob/dotfiles/-/blob/master/scripts/ix\"><code>ix</code></a> script that I wanted to pick out. It's not earth shattering but still useful to have seen.</em></p>\n<p>At the end of the script, the URL generated from the newly created <a href=\"http://ix.io/\">ix.io</a> pastebin is put into the X buffer (so that it can be pasted into other X applications). This is done via the <a href=\"https://linux.die.net/man/1/xclip\"><code>xclip</code></a> command, but <code>xclip</code> is not installed everywhere, so the <code>ix</code> script checks that it is available before trying to use it:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">which</span> xclip <span class=\"token operator\">></span>/dev/null <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">0</span><br /><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$url</span>\"</span> <span class=\"token operator\">|</span> xclip</code></pre>\n<p>This is a common pattern.</p>\n<p>Because the use of <code>xclip</code> here is right at the end of the script (by design, most likely) it's possible to abort (<code>|| exit 0</code>) if <code>xclip</code> isn't there. I guess an alternative, if it was necessary to run it mid-script, would be something like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">which</span> xclip <span class=\"token operator\">></span>/dev/null <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\">$url</span>\"</span> <span class=\"token operator\">|</span> xclip</code></pre>\n<p>Anyway, worth knowing and having seen it, right?</p>\n",
      "date_published": "2020-10-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/3/10/using-exec-to-jump/",
      "url": "https://qmacro.org/blog/2020/3/10/using-exec-to-jump/",
      "title": "Using exec to jump",
      "content_html": "<p><em>In <a href=\"https://rwx.gg/\">Mr Rob</a>'s <a href=\"https://gitlab.com/rwxrob/dotfiles/\">dotfiles repo</a> (see <a href=\"https://qmacro.org/2020/10/03/a-new-learning-source-for-shell-scripting/\">A new learning source for shell scripting</a>) there's a treasure trove of content that is very pleasant to peruse.</em></p>\n<p>In one of his streams I saw him use <a href=\"https://gitlab.com/rwxrob/dotfiles/-/blob/master/scripts/ix\"><code>ix</code></a> and thereby discovered <a href=\"http://ix.io/\">ix.io</a> - a simple pastebin. He uses his <code>ix</code> script to share code and other content, either from the command line or from within Vim directly. It's only 14 lines including comments, but I've learned stuff from it already.</p>\n<p>If <code>ix</code> is invoked with an argument, it's treated as the unique identifier for a specific pastebin, and that pastebin is retrieved, such as <a href=\"http://ix.io/2pgP\">2pgP</a> (which is another of his scripts with lots to learn from - <code>twitch</code>).</p>\n<p>The part of <code>ix</code> that handles this is simply:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> -n <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span><br />  <span class=\"token builtin class-name\">exec</span> <span class=\"token function\">curl</span> -s <span class=\"token string\">\"ix.io/<span class=\"token variable\">$1</span>\"</span><br /><span class=\"token keyword\">fi</span></code></pre>\n<p>Basically in this mode, there's no point in processing the rest of the script (beyond the small section you see here), so the handling of the input should finish when the pastebin is retrieved.</p>\n<p>Until now, I would have written it like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> -n <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span><br />  <span class=\"token function\">curl</span> -s <span class=\"token string\">\"ix.io/<span class=\"token variable\">$1</span>\"</span><br />  <span class=\"token builtin class-name\">exit</span><br /><span class=\"token keyword\">fi</span></code></pre>\n<p>But that's simply unnecessary, and in fact arguably less efficient too. The Bash man page mentions, for <code>exec</code>, this fact: &quot;<em>If command is specified, it replaces the shell. No new process is created.</em>&quot;. In other words, in this <code>if ... fi</code>, the <code>curl</code> command replaces the script's execution, rather than being executed as a sub process.</p>\n<p>Sometimes there's a beauty in the smallest things.</p>\n",
      "date_published": "2020-10-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/3/10/a-new-learning-source-for-shell-scripting/",
      "url": "https://qmacro.org/blog/2020/3/10/a-new-learning-source-for-shell-scripting/",
      "title": "A new learning source for shell scripting",
      "content_html": "<p>Recently I discovered <a href=\"https://rwx.gg/\">Mr Rob</a> (and yes, I'll admit, it took me a day or so to realise the significance of 'rwx' in his website, and names on <a href=\"https://twitch.tv/rwxrob\">Twitch</a> and <a href=\"https://youtube.com/rwxrob\">YouTube</a>). He has lots of experience and teaches directly and also indirectly, which appeals to me.</p>\n<p>The range of subjects is wide, and breadth of discussions wider, and it's very <a href=\"https://twitter.com/search?q=%23TheFutureIsTerminal&amp;src=typed_query\">terminal</a> centric, which I like.</p>\n<p>I've been inspired to level up my shell scripting game, not least by watching what he does and reading what he's written. To that end I've created a small new blog where I'll add posts as and when I get the chance. The blog is '<a href=\"https://qmacro.org/autodidactics/\">Autodidactics</a>' and is a play on a phrase that Rob used in a <a href=\"https://twitter.com/rwxrob/status/1311403209622204428\">reply to me on Twitter the other day</a>.</p>\n<p>I've made a small start with <a href=\"https://qmacro.org/autodidactics/2020/10/03/using-exec-to-jump/\">Using exec to jump</a>, but that's also the point. The things I see, and that grab my attention and help me improve my knowledge, are small. One of the keys to continuous improvement and learning is adding to one's knowledge base one small gem at a time.</p>\n",
      "date_published": "2020-10-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/27/9/shell-parameter-expansion-with-is-useful/",
      "url": "https://qmacro.org/blog/2020/27/9/shell-parameter-expansion-with-is-useful/",
      "title": "Shell parameter expansion with :+ is useful",
      "content_html": "<p><em>Use the shell parameter expansion form <code>:+</code> for expanding optional values</em></p>\n<p>I've been increasing my Bash scripting activities recently, not least in relation to some <a href=\"https://github.com/SAP-samples/cloud-messaging-handsonsapdev\">live stream episodes relating to Enterprise Messaging</a> and have used some of the shell parameter expansion facilities described in <a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\">section 3.5.3 Shell Parameter Expansion</a> of the GNU Bash manual. In particular, I've been using what I call the &quot;default value&quot; (<code>:-</code>) form:</p>\n<pre><code>${parameter:-word}\n</code></pre>\n<p>This form has this description: &quot;If <em>parameter</em> is unset or null, the expansion of <em>word</em> is substituted. Otherwise, the value of <em>parameter</em> is substituted&quot; and is very useful for setting default value for parameters that are expected at invocation time, for example.</p>\n<p>On a walk yesterday I was listening to an episode of a series of podcasts I'd discovered that very day, on <a href=\"http://hackerpublicradio.org/\">Hacker Public Radio</a>. It's an <a href=\"http://hackerpublicradio.org/series.php?id=42\">in-depth series on Bash scripting</a>, and has quite a few episodes, some very recent, and the early ones dating back to 2010. The episode I listened to was <a href=\"http://hackerpublicradio.org/eps.php?id=1648\">hpr1648 :: Bash parameter manipulation</a> by <a href=\"http://hackerpublicradio.org/correspondents.php?hostid=225\">Dave Morriss</a>, and I enjoyed it very much.</p>\n<p>One of the things Dave mentioned was this form of expansion (<code>:+</code>), related to the one above, but sort of the opposite:</p>\n<pre><code>${parameter:+word}\n</code></pre>\n<p>The form has this description: &quot;If <em>parameter</em> is null or unset, nothing is substituted, otherwise the expansion of <em>word</em> is substituted.&quot; Dave found this slightly odd, and commented that he couldn't quite think of a use case for this form. I couldn't, either.</p>\n<p>Later that same day, I came across a live streamer on Twitch - Rob, aka <a href=\"https://www.twitch.tv/rwxrob\">rwxrob</a> - who has some excellent content, also on <a href=\"https://www.youtube.com/c/rwxrob\">YouTube</a>. Watching the beginning of one of his live stream recordings, <a href=\"https://www.youtube.com/watch?v=UGCw6wXv1Ao\">Google Shell Scripting Guide, Yes, Yes, 1000 Times Yes!</a>, he introduces a Bash shell scripting resource from Google - the <a href=\"https://google.github.io/styleguide/shellguide.html\">Shell Style Guide</a>, which he goes through in detail in the live stream.</p>\n<p>Noting how great that style guide looked, I start to read through it immediately. And what do I see, in the <a href=\"https://google.github.io/styleguide/shellguide.html#quoting\">section on Quoting</a>? An example of the <code>:+</code> shell expansion form (in an illustration of something else entirely), which made complete sense and explained its real purpose! I couldn't believe it - discovering multiple complementary sources of information on Bash shell scripting on the same day? Goodness me.</p>\n<p>Here's the example of that <code>:+</code> shell expansion form taken directly from <a href=\"https://google.github.io/styleguide/shellguide.html#quoting\">that section</a> in the style guide:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> send-email --to <span class=\"token string\">\"<span class=\"token variable\">${reviewers}</span>\"</span> <span class=\"token variable\">${ccs<span class=\"token operator\">:+</span>\"--cc\" \"${ccs}</span>\"<span class=\"token punctuation\">}</span></code></pre>\n<p>Look at that beautiful thing!</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token variable\">${ccs<span class=\"token operator\">:+</span>\"--cc\" \"${ccs}</span>\"<span class=\"token punctuation\">}</span></code></pre>\n<p>If there is a value in the <code>ccs</code> variable, use it, but in the expanded context of it being a value to the <code>--cc</code> switch used with the <code>git</code> command. The value (most likely one or more email addresses) would be of no use on its own, but put with <code>--cc</code> it makes complete sense. And the icing on the cake is that the <code>:+</code> form substitutes nothing if the variable is null or unset, meaning there's no carbon-copying requested if there are no emails listed in the <code>ccs</code> variable.</p>\n<p>Now that made my day. I was originally with Dave on not being able to think of a reason for the <code>:+</code> form, and then whammo, there's a perfect example right there. Thanks Dave, thanks Rob, and thanks to the Googlers who wrote the style guide!</p>\n",
      "date_published": "2020-09-27T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/11/9/reducing-writing-friction/",
      "url": "https://qmacro.org/blog/2020/11/9/reducing-writing-friction/",
      "title": "Reducing writing friction",
      "content_html": "<p><em>I've created a simple script for myself to reduce writing friction.</em></p>\n<p>I saw <a href=\"https://twitter.com/simonw/status/1304117739083059200\">a tweet from Simon Willison</a> earlier this week pointing to Matt Webb's <a href=\"http://interconnected.org/home/2020/09/10/streak\">15 rules for blogging, and my current streak</a>. I decided that I would also like to try to write more, and one of the things getting in my way was the slight friction in starting a new post. I use GitHub Pages and Jekyll behind the scenes, and my posts are in Markdown, one file per post (I like the simplicity of this, it reminds me of Rael Dornfest's <a href=\"https://www.google.com/search?q=site%3Aqmacro.org+blosxom\">Blosxom</a>).</p>\n<p>So running the risk of being accused of a small amount of yak shaving, I wrote a very basic script (with Simon's &quot;perfect is the enemy of shipped&quot; in my head) that I could use to start a new post quickly and <a href=\"https://github.com/qmacro/dotfiles/commit/e609d80ed4c768a5236e976bce9b69a18fd01b04\">pushed it to my dotfiles repo</a>.</p>\n<p>The script is <a href=\"https://github.com/qmacro/dotfiles/blob/master/scripts/newpost\">newpost</a> and is very basic, having taken me less than 10 mins to write.<br />\nThat's sort of the point. I may refine it as I go on, in fact I probably will; not least because the function that generates a filename from a post title is very basic indeed, but also because I would like to perhaps create a new tmux session for editing and running Jekyll locally for test rendering. But it's good enough for now, and in fact I kicked off this post using it, by typing:</p>\n<pre><code>&gt; newpost reducing writing friction\n</code></pre>\n<p>whereupon I landed in Vim with this in the file, all ready:</p>\n<pre><code>---\nlayout: post\ntitle: Reducing writing friction\n---\n</code></pre>\n<p>That'll do for now!</p>\n<p>Incidentally, I'm already on a small path to writing more, having adopted Simon's <a href=\"https://til.simonwillison.net/\">Today I Learned</a> (TIL) mini-post approach. I've written a few TIL posts on this blog recently and I feel very freed by the constraints.</p>\n<p><strong>Update 2020-10-08</strong> I've moved these posts to a new blog <a href=\"https://qmacro.org/autodidactics/\">autodidactics</a> - see <a href=\"https://qmacro.org/2020/10/03/a-new-learning-source-for-shell-scripting/\">A new learning source for shell scripting</a> for the background.</p>\n",
      "date_published": "2020-09-11T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/25/8/you-can-mask-sensitive-hostnames-with-wildcards-and-host-aliases/",
      "url": "https://qmacro.org/blog/2020/25/8/you-can-mask-sensitive-hostnames-with-wildcards-and-host-aliases/",
      "title": "You can mask sensitive hostnames with wildcards and host aliases",
      "content_html": "<p><em>The HOSTALIASES feature works well when combined with wildcard host definitions in SSH config</em></p>\n<p>I run my own DNS locally via Pi-hole, but I also like to have SSH configuration to specify various options depending on the hosts I'm remotely connecting to. Usually it's the username to use, sometimes it's whether I want to do X11 forwarding, and so on.</p>\n<h1 id=\"problem\" tabindex=\"-1\">Problem <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/25/8/you-can-mask-sensitive-hostnames-with-wildcards-and-host-aliases/#problem\" aria-hidden=\"true\">#</a></h1>\n<p>My work machines have very odd and hard to remember hostnames. I could use the SSH configuration feature (via the <code>.ssh/config</code> file) to get around this, like this:</p>\n<pre><code>Host easy\n    HostName hard-to-remember\n    User username-to-use\n</code></pre>\n<p>Then I could just remotely connect to that <code>hard-to-remember</code> host machine like this:</p>\n<pre><code>ssh easy\n</code></pre>\n<p>(As a bonus, having securely shared public key credentials with <code>ssh-copy-id</code> beforehand makes this process even smoother.)</p>\n<p>But I don't want to expose those <code>hard-to-remember</code> work machine hostnames in the configuration.</p>\n<h1 id=\"hello-hostaliases\" tabindex=\"-1\">Hello HOSTALIASES <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/25/8/you-can-mask-sensitive-hostnames-with-wildcards-and-host-aliases/#hello-hostaliases\" aria-hidden=\"true\">#</a></h1>\n<p>I learned today about the <code>HOSTALIASES</code> environment variable which is supported by <code>glibc</code>'s resolver function <code>gethostbyname()</code>. Pointing <code>HOSTALIASES</code> to a file of &quot;aliasname realname&quot; pairs of hostnames means that commands that use <code>gethostbyname()</code> to resolve hostnames can be given alias hostnames instead of real hostnames. The <code>ssh</code> command uses that function.</p>\n<h1 id=\"solution\" tabindex=\"-1\">Solution <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/25/8/you-can-mask-sensitive-hostnames-with-wildcards-and-host-aliases/#solution\" aria-hidden=\"true\">#</a></h1>\n<p>This is what I did:</p>\n<p>First, I created a file <code>host.aliases</code> (making sure not to check this file into a git repo, by adding the file name to <code>.gitignore</code>) with content like this:</p>\n<pre><code>oldmbp realsecrethostname1\nnewmbp anothersecretworkhostname\n</code></pre>\n<p>Then, in my <code>.bashrc</code>, I set the <code>HOSTALIASES</code> environment variable to point to this file:</p>\n<pre><code>export HOSTALIASES=&quot;$HOME/.dotfiles/host.aliases&quot;\n</code></pre>\n<p>Finally, I modified the contents of my <code>.ssh/config</code> file to use wildcards matching the aliases:</p>\n<pre><code>Host *mbp\n    User username-to-use\n</code></pre>\n<p>That way I can use easy and memorable hostnames when connecting to my work machines (e.g. <code>ssh oldmbp</code>) without exposing the hostnames in any public configuration.</p>\n",
      "date_published": "2020-08-25T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/21/8/the-open-square-bracket-is-an-executable/",
      "url": "https://qmacro.org/blog/2020/21/8/the-open-square-bracket-is-an-executable/",
      "title": "The open square bracket [ is an executable",
      "content_html": "<p><em>In a shell script, the <code>[</code> symbol is not syntax, it's an executable</em></p>\n<p>In my <a href=\"https://www.youtube.com/watch?v=Ct-uiu3RRZs\">live stream episode</a> this morning I added to a function so that it looked like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function-name function\">getservicekey</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token builtin class-name\">local</span> <span class=\"token assign-left variable\">instance</span><span class=\"token operator\">=</span><span class=\"token variable\">${1}</span><br />  <span class=\"token builtin class-name\">local</span> <span class=\"token assign-left variable\">servicekey</span><span class=\"token operator\">=</span><span class=\"token variable\">${2}</span><br />  <span class=\"token builtin class-name\">local</span> <span class=\"token function\">file</span><br />  <span class=\"token assign-left variable\">file</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\">${instance}</span>-<span class=\"token variable\">${servicekey}</span>.json\"</span><br />  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> -r <span class=\"token string\">\"<span class=\"token variable\">${file}</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span><br />    <span class=\"token function\">cat</span> <span class=\"token string\">\"<span class=\"token variable\">${file}</span>\"</span><br />  <span class=\"token keyword\">else</span><br />    cf service-key <span class=\"token string\">\"<span class=\"token variable\">${instance}</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">${servicekey}</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> <span class=\"token string\">'1,2d'</span><br />  <span class=\"token keyword\">fi</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>Looking at that condition <code>if [ -r &quot;${file}&quot; ]</code> one would think that the <code>[ ... ]</code> part is just some shell syntax to glue things together (to contain the expression under evaluation), part of the family of symbols including double quotes, semicolons and others.</p>\n<p>But no. In a wonderfully quirky way, <code>[</code> is actually a command, an executable. I remember seeing an odd character in my <code>/bin/</code> directory a while back:</p>\n<pre><code>▶ ls /bin\n[               dash            expr            ln              pwd             sync\nbash            date            hostname        ls              rm              tcsh\ncat             dd              kill            mkdir           rmdir           test\nchmod           df              ksh             mv              sh              unlink\ncp              echo            launchctl       pax             sleep           wait4path\ncsh             ed              link            ps              stty            zsh\n</code></pre>\n<p>Check out that <code>[</code> entry!</p>\n<p>Turns out that <code>[</code> is a synonym for <code>test</code>. You can ask for the manual page for <code>[</code> and you get something that covers <code>[</code> and <code>test</code>:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">▶ <span class=\"token function\">man</span> <span class=\"token punctuation\">[</span><br /><br />NAME<br />     test, <span class=\"token punctuation\">[</span> -- condition evaluation utility<br /><br />SYNOPSIS<br />     <span class=\"token builtin class-name\">test</span> expression<br />     <span class=\"token punctuation\">[</span> expression <span class=\"token punctuation\">]</span><br /><br />DESCRIPTION<br />     The <span class=\"token builtin class-name\">test</span> utility evaluates the expression and, <span class=\"token keyword\">if</span> it evaluates to true, returns a zero<br />     <span class=\"token punctuation\">(</span>true<span class=\"token punctuation\">)</span> <span class=\"token builtin class-name\">exit</span> status<span class=\"token punctuation\">;</span> otherwise it returns <span class=\"token number\">1</span> <span class=\"token punctuation\">(</span>false<span class=\"token punctuation\">)</span>.  If there is no expression, <span class=\"token builtin class-name\">test</span> also<br />     returns <span class=\"token number\">1</span> <span class=\"token punctuation\">(</span>false<span class=\"token punctuation\">)</span>.<br /><br />     <span class=\"token punctuation\">..</span>.</code></pre>\n<p>Indeed, if you compare the two files <code>/bin/[</code> and <code>/bin/test</code>, they're the same.</p>\n<p>The <code>if</code> statement above can be rewritten with the <code>test</code> synonym like this: <code>if test -r &quot;${file}&quot;</code>, but now I know that <code>[</code> is an actual executable, I'll take great delight in using it more.</p>\n<p>Post Script: As well as being an executable, <code>[</code> is also built in to many shells these days, so incurs no performance penalty on use that an external command would otherwise do.</p>\n",
      "date_published": "2020-08-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/16/8/why-we-have-bin-and-usr-bin/",
      "url": "https://qmacro.org/blog/2020/16/8/why-we-have-bin-and-usr-bin/",
      "title": "Why we have /bin/ and /usr/bin/",
      "content_html": "<p><em>There's a simple, historic reason why we have /bin/ and /usr/bin/</em></p>\n<p>I'd half wondered for a while why many of the directories in the root filesystem (<code>/</code>) of a Linux installation are also to be found in <code>/usr</code>. Recent convention implies that 'usr' stands for &quot;User System Resources&quot; but this is really only a sort of <a href=\"https://en.wikipedia.org/wiki/Backronym\">backronym</a>.</p>\n<p>There are executable files and libraries in <code>/bin/</code> and <code>/lib/</code>, for example, but also in <code>/usr/bin/</code> and <code>/usr/lib/</code>. Why? Regardless of what people might tell you today, the answer lies in the history of Unix (upon which Linux is based, of course). Created in the late 1960s / early 1970s on Digital PDP machines with limited disk space, the original Unix operating system binaries were placed on the root filesystem (mounted at <code>/</code>), with e.g. executables, libraries and configuration files split across <code>/bin/</code>, <code>/lib/</code> and <code>/etc/</code> directories respectively.</p>\n<p>Separate from the root filesystem was another filesystem (on a separate disk) for users' home directories. This was <code>/usr/</code> - yes, short for &quot;user(s)&quot;.</p>\n<p>As the Unix system grew, the space on the root filesystem disk eventually ran out, and a decision was made to move some of the executable and library content over to the other disk that was mounted on <code>/usr/</code>. It made sense to replicate the names of the directories on that other disk, names which therefore became <code>/usr/bin/</code> and <code>/usr/lib/</code> because of the relation to where that filesystem was mounted.</p>\n<p>Over time the place for the users' home directories moved from <code>/usr/</code> to <code>/home/</code>, meaning <code>/usr/</code> content eventually lost any semblance of user-specific focus.</p>\n<p>A bonus, related thing I learned fairly recently is that the &quot;s&quot; in <code>sbin</code> (which also can be found in both the filesystems mounted on root (<code>/</code>) and <code>/usr/</code>) stands for &quot;system&quot; denoting that the content is only executable by the root user.</p>\n",
      "date_published": "2020-08-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/4/8/string-prototype-replace-can-take-a-function/",
      "url": "https://qmacro.org/blog/2020/4/8/string-prototype-replace-can-take-a-function/",
      "title": "String.prototype.replace() can take a function",
      "content_html": "<p><em>You can use a function to dynamically provide the replacement value in a <code>replace</code> operation</em></p>\n<p>I was pondering different approaches to solving the Codewars kata <a href=\"https://www.codewars.com/kata/5a71939d373c2e634200008e\">Simple string reversal</a>, and having submitted my own, I started to browse other solutions. One that caught my eye was this, from users <a href=\"https://www.codewars.com/users/Bubbler\">Bubbler</a> and <a href=\"https://www.codewars.com/users/Telllurian\">Tellurian</a>:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">solve</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>str<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">!=</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">)</span><br />  <span class=\"token keyword\">return</span> str<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\S</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">_</span> <span class=\"token operator\">=></span> arr<span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>If you look at the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\">MDN page for String.prototype.replace()</a> the syntax is given thus:</p>\n<pre><code>const newStr = str.replace(regexp|substr, newSubstr|function)\n</code></pre>\n<p>A function! I probably had come across this before but had forgotten. The beauty of the solution above lies in this possibility; while the <code>arr.pop()</code> mutates the <code>arr</code>, it does it in such a beguiling way I don't have any issue enjoying the entire <code>replace</code> call. Given that the regular expression <code>g</code> modifier is used, the function supplied is called N times, each time supplying a (single character) value from the <code>arr</code> array.</p>\n<p>Absolutely lovely.</p>\n",
      "date_published": "2020-08-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/21/7/continue-on-error-can-prevent-a-job-step-failure-causing-an-action-failure/",
      "url": "https://qmacro.org/blog/2020/21/7/continue-on-error-can-prevent-a-job-step-failure-causing-an-action-failure/",
      "title": "continue-on-error can prevent a job step failure causing an action failure",
      "content_html": "<p><em>Use <code>continue-on-error: true</code> in a GitHub Actions job spec to prevent failures from being flagged when a job step fails.</em></p>\n<p>For me, high (non-zero) return codes don't always necessarily denote failure; sometimes I want to use a high return code to control step execution (see <a href=\"https://qmacro.org/2020/07/20/github-actions-step-conditional/\">TIL: git diff can emit different exit codes</a>). But this means that the entire workflow run is marked as failed in a GitHub Action context. To prevent this, you can use <a href=\"https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idcontinue-on-error\"><code>continue-on-error</code></a> at the job level to prevent a workflow from failing when a job fails.</p>\n<p>I <a href=\"https://github.com/qmacro/qmacro/commit/42217c8a53108856dfcc85108f2cca4731bfa1ba\">added this</a> to my build workflow and it works nicely. See for example <a href=\"https://github.com/qmacro/qmacro/actions/runs/178511479\">action execution 178511479</a> - i.e. even when there was a step that ended with a high return code (deliberately, to signify no changes), the entire execution was still marked as a success:</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/07/successfulaction.png\" alt=\"action marked as success\" /></p>\n<p>(Hat tip to <a href=\"https://github.com/jung-thomas\">Tom Jung</a> for this).</p>\n",
      "date_published": "2020-07-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/20/7/git-diff-can-emit-different-exit-codes/",
      "url": "https://qmacro.org/blog/2020/20/7/git-diff-can-emit-different-exit-codes/",
      "title": "git diff can emit different exit codes",
      "content_html": "<p><em>You can combine git diff exit codes and the POSIX <code>!</code> operator to control GitHub Actions job step execution based on git changes.</em></p>\n<p>When defining a job step in GitHub Actions, you can specify a <a href=\"https://docs.github.com/en/actions/reference/context-and-expression-syntax-for-github-actions#job-status-check-functions\">condition</a> that must be met for a job step to run (in a broadly similar way to how things were in Job Control Language). In my <a href=\"https://github.com/qmacro/qmacro/blob/03246248853b563bb6774697e7156bfb183e3f0a/.github/workflows/build.yml\">profile repo's builder workflow</a>, I wanted only to proceed with a git commit step if there were actual changes that had been made in a previous step.</p>\n<p>Supplying the <code>--exit-code</code> option to <a href=\"https://git-scm.com/docs/git-diff\">git diff</a> makes it emit an exit code of 1 if there are differences, and 0 if not. This option is implicit in <code>--quiet</code>, too.</p>\n<p>As exit code 1 represents a fail in job step conditionals, the output of git diff can be reversed with the POSIX <code>!</code> operator. So in this pair of steps, the second one will only run if there are no differences detected in the first one:</p>\n<pre><code>- name: Check for changes (fail if none)\n  run: |\n    ! git diff --quiet\n\n- name: Commit changes if required\n  if: ${{ success() }}\n  run: |\n    git config --global user.email &quot;qmacro-bot@example.com&quot;\n    git config --global user.name &quot;qmacro bot&quot;\n    git add README.md\n    git commit -m 'update README' || exit 0\n    git push\n</code></pre>\n<blockquote>\n<p>I had to write the <code>! git diff --quiet</code> within a YAML multiline expression (introduced with <code>|</code>) as the GitHub Actions runner didn't like it on the same line, i.e. <code>run: ! git diff --quiet</code>.</p>\n</blockquote>\n",
      "date_published": "2020-07-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/20/7/in-an-mta-yaml-file-you-can-use-the-service-name-parameter-to-point-to-an-existing-resource/",
      "url": "https://qmacro.org/blog/2020/20/7/in-an-mta-yaml-file-you-can-use-the-service-name-parameter-to-point-to-an-existing-resource/",
      "title": "In an mta.yaml file you can use the service-name parameter to point to an existing resource",
      "content_html": "<p><em>In <code>mta.yaml</code> files you can use the <code>service-name</code> parameter to point to an existing service instance with a different name than the resource.</em></p>\n<p>When the contents of a <a href=\"https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.03/en-US/33548a721e6548688605049792d55295.html\">multi-target application file</a> file have been created or modified automatically for you, and there are references to generated service instance names, you don't have to globally replace those names to match whatever service instances you may already have, but instead you can add the <code>service-name</code> <a href=\"https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.03/en-US/4050fee4c469498ebc31b10f2ae15ff2.html\">parameter</a> in the resource definition.</p>\n<p>For example, when adding a new Workflow module to an existing (<code>mta.yaml</code>-based) project, the generator will add something like this:</p>\n<pre><code>modules:\n  - name: OrderProcess\n    type: com.sap.application.content\n    path: OrderProcess\n    requires:\n      - name: workflow_mta\n        parameters:\n          content-target: true\nresources:\n  - name: workflow_mta\n    parameters:\n      service-plan: standard\n      service: workflow\n    type: org.cloudfoundry.managed-service\n</code></pre>\n<p>It's often the case that you already have a Workflow service instance, but not with the generated name <code>workflow_mta</code>. So after modifying the resource <code>type</code> to be <code>org.cloudfoundry.existing-service</code>, you can save some time and avoid changing all occurrences of <code>workflow_mta</code> to match your actual instance name (e.g. <code>my-workflow-instance</code>). Instead, use the <code>service-name</code> parameter, like this:</p>\n<pre><code>modules:\n  - name: OrderProcess\n    type: com.sap.application.content\n    path: OrderProcess\n    requires:\n      - name: workflow_mta\n        parameters:\n          content-target: true\nresources:\n  - name: workflow_mta\n    parameters:\n      service-name: my-workflow-instance\n    type: org.cloudfoundry.existing-service\n</code></pre>\n<blockquote>\n<p>I learned this a while ago but promptly forgot about it until now, when I needed it again.</p>\n</blockquote>\n",
      "date_published": "2020-07-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/20/6/removing-the-knob-on-a-la-pavoni-steam-valve/",
      "url": "https://qmacro.org/blog/2020/20/6/removing-the-knob-on-a-la-pavoni-steam-valve/",
      "title": "Removing the knob on a La Pavoni steam valve",
      "content_html": "<p><em>This post documents how I went about removing the knob from the shaft of the steam valve on my La Pavoni lever coffee machine.</em></p>\n<p>I've had my La Pavoni PL lever espresso coffee machine for just over a year, and I'm extremely happy with it. Recently I ordered some wooden replacement handles for it from a vendor on Etsy and when they finally arrived I set about replacing the factory standard bakelite handles with the wooden ones.</p>\n<p>Replacing them was easy except for one item - the knob on the steam valve shaft. The existing one was held in place by a metal split pin and seems to have a reputation of being hard to remove. I couldn't figure out the best way either; while I'd learned how to remove the shaft itself from this video on YouTube: <a href=\"https://www.youtube.com/watch?v=xPj1VSGgyCY\">La Pavoni Lever Machines: How to Remove the Steam Valve Shaft</a> I couldn't quite figure out how to remove the knob itself.</p>\n<p>So I <a href=\"https://www.reddit.com/r/espresso/comments/h868yx/help_please_remove_steam_valve_knob_on_la_pavoni/\">asked on the r/espresso subreddit</a> and the user <a href=\"https://www.reddit.com/user/Dr_Procrastinator/\">Dr_Procrastinator</a> gave some very helpful advice in a reply.</p>\n<p>Having obtained a small and inexpensive set of nail punches from a local hardware / DIY store (B&amp;Q Ashton, £5.25) earlier this week, I set about the task this morning, and thought I'd share some photos as it might help someone else.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/06/nailpunchset.jpg\" alt=\"nail punch set\" /></p>\n<h3 id=\"removing-the-shaft\" tabindex=\"-1\">Removing the shaft <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/20/6/removing-the-knob-on-a-la-pavoni-steam-valve/#removing-the-shaft\" aria-hidden=\"true\">#</a></h3>\n<p>First I removed the shaft, by simultaneously unscrewing it using the knob, and unscrewing the silver threaded nut with a spanner.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/06/shaft.jpg\" alt=\"removing the shaft\" /></p>\n<p>I just kept on unscrewing the shaft until it came completely loose and I could pull it out with the last few turns; there was a bit of resistance (from the gasket, I guess) but not much.</p>\n<p>This is what it looks like once removed:</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/06/shaft-removed.png\" alt=\"the shaft, removed\" /></p>\n<h3 id=\"removing-the-knob\" tabindex=\"-1\">Removing the knob <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/20/6/removing-the-knob-on-a-la-pavoni-steam-valve/#removing-the-knob\" aria-hidden=\"true\">#</a></h3>\n<p>I needed to hammer the split pin out through the hole in the knob, so I used a folded towel to support the shaft, and laid the knob within / on top of the thumb-hole of a heavy-duty chopping board; in this photo you can see the hole marked with the arrow. This gave enough support and stability for the next step, and it also afforded enough gap underneath for the pin to start coming out of the bottom (it wasn't a worry though as the pin came through very slowly with a lot of effort!).</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/06/supported.png\" alt=\"supporting the shaft and knob\" /></p>\n<p>While the shaft and knob were supported, I could then use the appropriately sized punch with a small hammer to gently but firmly tap down on the split pin, driving it out slowly.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/06/punch.jpg\" alt=\"using a punch\" /></p>\n<p>It took a while - I was going gently and it took me a few minutes. Once the pin was sticking out enough through the end, I pulled it out with a pair of pliers (it was quite a struggle).</p>\n<p>While tapping the pin punch into the hole, the rim cracked a little and a bit of bakelite flaked off, but I think that is not unusual in such conditions.</p>\n<p>Here's the final result:</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/06/removed.jpg\" alt=\"knob removed\" /></p>\n<h3 id=\"fitting-the-new-knob\" tabindex=\"-1\">Fitting the new knob <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/20/6/removing-the-knob-on-a-la-pavoni-steam-valve/#fitting-the-new-knob\" aria-hidden=\"true\">#</a></h3>\n<p>Ironically, all this effort has been somewhat in vain, as the new wooden knob has a tiny hex nut that you are supposed to screw round and down into the shaft to hold it firm. But while I had plenty of Allen keys around the house, not one of them fitted snugly and I couldn't get a decent torque to turn the screw into the shaft. This meant that this securing mechanism - that relies on sheer force into the metal shaft - was useless.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/06/woodenknob.png\" alt=\"the wooden knob\" /></p>\n<p>I guess once I find an Allen key that fits, I can try to screw it in tight enough for the knob to hold and not slide around the shaft when I'm using it to open and close the steam valve.</p>\n<p>Until then, I've gone back to the bakelite knob ... with the pin pushed back through, but not all the way so I can get it out more easily next time.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/06/lapavoni.jpg\" alt=\"the espresso machine\" /></p>\n",
      "date_published": "2020-06-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/7/6/remote-mount-setup-on-the-raspberry-pi/",
      "url": "https://qmacro.org/blog/2020/7/6/remote-mount-setup-on-the-raspberry-pi/",
      "title": "Remote mount setup on the Raspberry Pi",
      "content_html": "<p><em>This post documents what I did to set up mount points for, and connect to, an Apple Airport Time Capsule here on my homelab network and also my Google Drive.</em></p>\n<p>My interest in Raspberry Pis has increased over the last few months, and I've taken delivery of a couple of Pi Zero W models and another Pi 4, all from <a href=\"https://thepihut.com/\">The Pi Hut</a>, which I can heartily recommend. Using the Pis more often, I wanted to connect them to some remote storage, specifically my old but still relevant network storage device - an Airport Time Capsule from Apple - and also be able to seamlessly read and write files on my Google Drive. This short post documents what I did, so I can refer back to it if I need to do it again. Perhaps it might be useful for you too.</p>\n<p>Here's the relevant section from a <code>tree -L 2</code> in my home directory:</p>\n<pre><code>.\n└── mnt\n    ├── gdrive\n    └── timecapsule\n</code></pre>\n<h2 id=\"mounting-the-time-capsule\" tabindex=\"-1\">Mounting the Time Capsule <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/7/6/remote-mount-setup-on-the-raspberry-pi/#mounting-the-time-capsule\" aria-hidden=\"true\">#</a></h2>\n<p>This was pretty straightforward and involves adding a new line in <code>/etc/fstab</code> to represent the mount. This is the line:</p>\n<pre><code>//timecapsule/Data /home/pi/mnt/timecapsule cifs vers=1.0,password=sekrit,rw,uid=1000,iocharset=utf8,sec=ntlm 0 0\n</code></pre>\n<p>Broken down bit by bit, we have:</p>\n<ul>\n<li><code>//timecapsule/Data</code>: The mount device, which is the Data share on the Time Capsule itself, which is identified here as the hostname <code>timecapsule</code>. I could have used an IP address but I'm happily running a local DNS setup on this homelab (on one of the Pi Zero W devices) using <a href=\"https://pi-hole.net/\">Pi-hole</a></li>\n<li><code>/home/pi/mnt/timecapsule</code>: The mount point, where I want the Data share to be mounted</li>\n<li><code>cifs</code>: The file system type; Common Internet File System (CIFS) is a dialect of the more Windows specific Server Message Block (SMB) network protocol</li>\n<li><code>vers=1.0,password=sekrit,rw,uid=1000,iocharset=utf8,sec=ntlm</code>: There a few options specified here, such as the protocol version number, that the mount should be read-write, and so on (it seems as though the security mode 'ntlm', which was the default for a while, now must be specified explicitly)</li>\n<li><code>0</code>: Dump (disabled), i.e. no backing up of this partition</li>\n<li><code>0</code>: Boot time fsck (disabled), i.e. no file system check at boot time for this file system</li>\n</ul>\n<p>A short note on the password (which isn't actually 'sekrit', obviously) - via the airport utility on my macOS device, I connected to the Time Capsule and set up the security for the disks with a &quot;disk password&quot;, i.e. there is no user. This seemed simpler and good enough for what I need.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/06/diskconfig.png\" alt=\"Disk configuration on the Time Capsule\" /></p>\n<p>And that's it. After adding the line, a <code>mount -a</code> (as root) did the trick, and of course the mount is performed on (re)boot too.</p>\n<h2 id=\"mounting-google-drive\" tabindex=\"-1\">Mounting Google Drive <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/7/6/remote-mount-setup-on-the-raspberry-pi/#mounting-google-drive\" aria-hidden=\"true\">#</a></h2>\n<p>This was a bit more involved, but still worked first time. It involves the use of <a href=\"https://rclone.org/\">rclone</a>, which is described as &quot;a command line program to manage files on cloud storage&quot;, and support for Google Drive is included.</p>\n<p>Basically, I followed this excellent tutorial from Artur Klauser - <a href=\"https://medium.com/@artur.klauser/mounting-google-drive-on-raspberry-pi-f5002c7095c2\">Mounting Google Drive on Raspberry Pi</a>, so I won't repeat all the details; instead, I'll list the commands and activities I went through here.</p>\n<h3 id=\"installed-rclone\" tabindex=\"-1\">Installed rclone <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/7/6/remote-mount-setup-on-the-raspberry-pi/#installed-rclone\" aria-hidden=\"true\">#</a></h3>\n<p>I installed <code>rclone</code> from the standard repositories, and got version 1.45; in other words, I didn't bother with trying to get the latest through a <code>wget</code> pull of something newer - I think I'm happy with 1.45 (and it's worked well so far for me).</p>\n<pre><code>sudo apt install rclone\n</code></pre>\n<h3 id=\"set-up-a-google-api-project\" tabindex=\"-1\">Set up a Google API project <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/7/6/remote-mount-setup-on-the-raspberry-pi/#set-up-a-google-api-project\" aria-hidden=\"true\">#</a></h3>\n<p>In order to use my own access configuration, I need a client ID and client secret pair for OAuth based authentication to the Google Drive API, and so I needed to get those from Google. I set up a fresh project &quot;homelab-rclone&quot;, enabled the Google Drive API, and generated some OAuth 2.0 client credentials.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/06/googleapiclient.png\" alt=\"The OAuth 2.0 Client ID\" /></p>\n<h3 id=\"configured-rclone\" tabindex=\"-1\">Configured rclone <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/7/6/remote-mount-setup-on-the-raspberry-pi/#configured-rclone\" aria-hidden=\"true\">#</a></h3>\n<p>After generating the credentials, I went back to the command line and fired up <code>rclone config</code>, following the guide in Artur's post mentioned earlier. Next, a simple test (<code>rclone ls --max-depth 1 gdrive:</code>) showed that I could indeed see the contents of my Google Drive. The configuration procedure caused a file <code>rclone.conf</code> to be created in <code>~/.config/rclone/</code> too, this is what the contents look like (I've elided the credential details of course):</p>\n<pre><code>[gdrive]\ntype = drive\nclient_id = 693105092413-sv17[...].apps.googleusercontent.com\nclient_secret = dQwG[...]\nscope = drive\ntoken = {&quot;access_token&quot;:&quot;ya29[...]&quot;,&quot;token_type&quot;:&quot;Bearer&quot;,&quot;refresh_token&quot;:&quot;1ae03[...]&quot;,&quot;expiry&quot;:&quot;2020-06-07T16:58:38.185331858+01:00&quot;}\n</code></pre>\n<p>Note that the permissions for this config file are appropriately set to 0600 (read-write for the owner, i.e. me, only).</p>\n<h3 id=\"set-up-automatic-mounting\" tabindex=\"-1\">Set up automatic mounting <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/7/6/remote-mount-setup-on-the-raspberry-pi/#set-up-automatic-mounting\" aria-hidden=\"true\">#</a></h3>\n<p>Using Artur's instructions, I set up a user mode service to execute <code>rclone</code>, including the use of <a href=\"https://wiki.archlinux.org/index.php/Systemd/User#Automatic_start-up_of_systemd_user_instances\">lingering</a>. Here, briefly, are the commands I used:</p>\n<p>Create a new directory for this new user mode service:</p>\n<pre><code>mkdir -p ~/.config/systemd/user/\n</code></pre>\n<p>Add the <code>[Unit]</code> and <code>[Service]</code> entries as directed in the blog post, with a little modification as some of the options to <code>rclone</code> did't work for me:</p>\n<pre><code>cat &lt;&lt;EOF &gt; ~/.config/systemd/user/rclone@.service\n[Unit]\nDescription=rclone: Remote FUSE filesystem for cloud storage config %i\nDocumentation=man:rclone(1)\n\n[Service]\nType=notify\nExecStartPre=/bin/mkdir -p %h/mnt/%i\nExecStart= \\\n  /usr/bin/rclone mount \\\n    --fast-list \\\n    %i: %h/mnt/%i\n\n[Install]\nWantedBy=default.target\nEOF\n</code></pre>\n<p>Enable &amp; start the service:</p>\n<pre><code>systemctl --user enable rclone@gdrive\nsystemctl --user start rclone@gdrive\n</code></pre>\n<p>Set up lingering:</p>\n<pre><code>loginctl enable-linger $USER\n</code></pre>\n<p>And that's it. After rebooting (to test), I can see the contents of my Google Drive at <code>~/mnt/gdrive/</code>. Success!</p>\n",
      "date_published": "2020-06-07T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/5/4/initial-pi-configuration-via-ansible/",
      "url": "https://qmacro.org/blog/2020/5/4/initial-pi-configuration-via-ansible/",
      "title": "Initial Pi configuration via Ansible",
      "content_html": "<p><em>In the previous post we identified the freshly booted Pis on the network; now it's time to perform some initial configuration, using Ansible.</em></p>\n<p>This is a post in the &quot;<a href=\"https://qmacro.org/2020/03/22/brambleweeny-cluster-experiments/\">Brambleweeny Cluster Experiments</a>&quot; series of blog posts, which accompanies the <a href=\"https://www.youtube.com/playlist?list=PLfctWmgNyOIf9rXaZp9RSM2YVxAPGGthe\">YouTube live stream recording playlist</a> of the same name. The video linked here is the one that accompanies this blog post.</p>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/vooBccHq6_4\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\"></iframe>\n<p>Previous post in this series: <a href=\"https://qmacro.org/2020/03/22/finding-the-pis-on-the-network/\">Finding the Pis on the network</a></p>\n<h2 id=\"ansible-configuration\" tabindex=\"-1\">Ansible configuration <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/5/4/initial-pi-configuration-via-ansible/#ansible-configuration\" aria-hidden=\"true\">#</a></h2>\n<p>At the end of the previous post, we'd identified the MAC and current IP addresses of the Pis on the network. This information found its way into a couple of files used in a process that follows the general flow described in Jeff Geerling's <a href=\"https://github.com/geerlingguy/raspberry-pi-dramble/tree/master/setup/networking\">Raspberry Pi Networking Setup</a>.</p>\n<p>First, we have the <code>inventory</code> file defining the current (&quot;as-is&quot;) IP addresses of the Pis:</p>\n<pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">[</span>brambleweeny<span class=\"token punctuation\">]</span><br />192.168.86.47<br />192.168.86.15<br />192.168.86.158<br />192.168.86.125<br /><br /><span class=\"token punctuation\">[</span>brambleweeny<span class=\"token punctuation\">:</span>vars<span class=\"token punctuation\">]</span><br />ansible_ssh_user=pi</code></pre>\n<p>Note that we've also got the definition of the default user <code>pi</code> also in there.</p>\n<p>Then, we also have the <code>vars.yml</code> file which is used by the <a href=\"https://github.com/geerlingguy/raspberry-pi-dramble/blob/master/setup/networking/main.yml\"><code>main.yml</code></a> Ansible script to set things up. While we saw the contents in the previous post, it's worth looking at them again here:</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span><br /><span class=\"token comment\"># Mapping of what hardware MAC addresses should be configured with specific IPs.</span><br /><span class=\"token key atrule\">mac_address_mapping</span><span class=\"token punctuation\">:</span><br /><br />  <span class=\"token key atrule\">\"dc:a6:32:60:60:95\"</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> brambleweeny1.lan<br />    <span class=\"token key atrule\">ip</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.86.12\"</span><br />  <span class=\"token key atrule\">\"dc:a6:32:60:60:77\"</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> brambleweeny2.lan<br />    <span class=\"token key atrule\">ip</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.86.13\"</span><br />  <span class=\"token key atrule\">\"dc:a6:32:60:60:44\"</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> brambleweeny3.lan<br />    <span class=\"token key atrule\">ip</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.86.14\"</span><br />  <span class=\"token key atrule\">\"dc:a6:32:60:60:e3\"</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> brambleweeny4.lan<br />    <span class=\"token key atrule\">ip</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.86.15\"</span><br /><br /><span class=\"token comment\"># Nameservers to use in resolv.conf.</span><br /><span class=\"token key atrule\">dns_nameservers</span><span class=\"token punctuation\">:</span><br />  <span class=\"token punctuation\">-</span> <span class=\"token string\">\"192.168.86.5\"</span></code></pre>\n<p>This is the &quot;to-be&quot; state of the Pis, via configuration of specific hostnames and IP addresses, as well as what to use for domain name resolution, for each of the Pis that are to be identified by their MAC addresses. More explicitly, I want to move from dynamically allocated IP addresses (which are currently 47, 15, 158 and 125) to statically allocated IP addresses 12, 13, 14 and 15.</p>\n<h2 id=\"strict-host-key-checking\" tabindex=\"-1\">Strict host key checking <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/5/4/initial-pi-configuration-via-ansible/#strict-host-key-checking\" aria-hidden=\"true\">#</a></h2>\n<p>Running the Ansible <code>main.yml</code> playbook as it stands right now presents us with a problem:</p>\n<pre><code>-&gt; ansible-playbook -i inventory main.yml\nPLAY [brambleweeny] ***\n\nTASK [Gathering Facts] ***\nThe authenticity of host '192.168.86.47 (192.168.86.47)' can't be established.\nECDSA key fingerprint is SHA256:AJ5628fGhewiqdu/V2+B1LkR2HKGa+nRcwjYiiTGqWg.\nAre you sure you want to continue connecting (yes/no)?\nThe authenticity of host '192.168.86.15 (192.168.86.15)' can't be established.\nECDSA key fingerprint is SHA256:sn2otbKVAa9Jsj+i3W0poIK731+pBP+ivbUrATJGVQk.\nAre you sure you want to continue connecting (yes/no)?\nThe authenticity of host '192.168.86.158 (192.168.86.158)' can't be established.\nECDSA key fingerprint is SHA256:jFgPSwjEQsCSUx+nJcZ6ub9EhoGC1I1vSX5uSvVc1YE.\nAre you sure you want to continue connecting (yes/no)?\nThe authenticity of host '192.168.86.125 (192.168.86.125)' can't be established.\nECDSA key fingerprint is SHA256:Tl3t427yXmbPIXjgBNBDHtNuw+MQUS132xhX6DCgo9E.\nAre you sure you want to continue connecting (yes/no)?\n</code></pre>\n<p>We've never connected to these Pis before now, so <code>ssh</code>, which is at the heart of Ansible's connection to them, will appropriately complain that it doesn't recognise them. This &quot;complaint&quot; comes about from <code>ssh</code>'s default approach to <a href=\"https://www.ibm.com/support/knowledgecenter/SSLTBW_2.2.0/com.ibm.zos.v2r2.foto100/hostch.htm\">checking the keys of remote hosts</a>, which is what we normally want (i.e. be strict!).</p>\n<p>But for this particular operation we need to relax this approach, and for that we can use the <code>StrictHostKeyChecking</code> option, which can either be set in the <code>ssh</code> config file (<code>~/.ssh/config</code> at a user level) or on the command line.</p>\n<p>Here's the difference between trying to <code>ssh</code> to one of the Pis without and then with the option turned off:</p>\n<pre><code>-&gt; ssh pi@192.168.86.47\nThe authenticity of host '192.168.86.47 (192.168.86.47)' can't be established.\nECDSA key fingerprint is SHA256:AJ5628fGhewiqdu/V2+B1LkR2HKGa+nRcwjYiiTGqWg.\nAre you sure you want to continue connecting (yes/no)?\nHost key verification failed.\n</code></pre>\n<pre><code>-&gt; ssh -o StrictHostKeyChecking=no pi@192.168.86.47\nWarning: Permanently added '192.168.86.47' (ECDSA) to the list of known hosts.\npi@192.168.86.47's password:\n</code></pre>\n<p>Note that in this second example, even before the password has been entered, the key for this remote Pi has now already been added to <code>~/.ssh/known_hosts</code>.</p>\n<p>Ansible makes it easy for us to add <code>ssh</code> options to the <code>inventory</code> file, via the <code>ansible_ssh_common_args</code> variable, which we do, at the end of the file, like this:</p>\n<pre><code>[brambleweeny:vars]\nansible_ssh_user=pi\nansible_ssh_common_args='-o StrictHostKeyChecking=no'\n</code></pre>\n<p>Trying the playbook again, we don't get a problem with the inability of <code>ssh</code> to authenticate the Pi hosts' keys. Great! But this just reveals the next problem, which again we can learn from:</p>\n<pre><code>-&gt; ansible-playbook -i inventory main.yml\n\nPLAY [brambleweeny] ***\n\nTASK [Gathering Facts] ***\nfatal: [192.168.86.47]: UNREACHABLE! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;Failed to connect to the host via ssh:\nWarning: Permanently added '192.168.86.47' (ECDSA) to the list of known hosts.\\r\\n\npi@192.168.86.47: Permission denied (publickey,password).&quot;, &quot;unreachable&quot;: true}\nfatal: [192.168.86.15]: UNREACHABLE! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;Failed to connect to the host via ssh:\nWarning: Permanently added '192.168.86.15' (ECDSA) to the list of known hosts.\\r\\n\npi@192.168.86.15: Permission denied (publickey,password).&quot;, &quot;unreachable&quot;: true}\nfatal: [192.168.86.158]: UNREACHABLE! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;Failed to connect to the host via ssh:\nWarning: Permanently added '192.168.86.158' (ECDSA) to the list of known hosts.\\r\\n\npi@192.168.86.158: Permission denied (publickey,password).&quot;, &quot;unreachable&quot;: true}\nfatal: [192.168.86.125]: UNREACHABLE! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;Failed to connect to the host via ssh:\nWarning: Permanently added '192.168.86.125' (ECDSA) to the list of known hosts.\\r\\n\npi@192.168.86.125: Permission denied (publickey,password).&quot;, &quot;unreachable&quot;: true}\n          to retry, use: --limit @/home/pi/raspberry-pi-dramble/setup/networking/main.retry\nPLAY RECAP ***\n192.168.86.125             : ok=0    changed=0    unreachable=1    failed=0\n192.168.86.15              : ok=0    changed=0    unreachable=1    failed=0\n192.168.86.158             : ok=0    changed=0    unreachable=1    failed=0\n192.168.86.47              : ok=0    changed=0    unreachable=1    failed=0\n</code></pre>\n<p>Notice that the <code>-o StrictHostKeyChecking=no</code> did what we wanted it to do, as we can see the following message for each host in the output: &quot;Warning: Permanently added '192.168.86.n' (ECDSA) to the list of known hosts&quot;.</p>\n<p>So we've got <code>ssh</code> to not refuse to connect because it doesn't initially recognise the hosts, but now we're getting a &quot;permission denied&quot; issue.</p>\n<h2 id=\"uploading-the-ssh-key-and-sshpass\" tabindex=\"-1\">Uploading the ssh key, and sshpass <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/5/4/initial-pi-configuration-via-ansible/#uploading-the-ssh-key-and-sshpass\" aria-hidden=\"true\">#</a></h2>\n<p>Of course, we're getting a &quot;permission denied&quot; issue because the remote Pis don't have the public key of the user of my current host (i.e. <code>~/.ssh/id_rsa.pub</code>) for public key based authentication, and we haven't supplied a password either (which for each of the freshly booted Pis, is 'raspberry' for the 'pi' user).</p>\n<p>A passwordless based remote access flow is ideal, so this is something we should address now. We need somehow to get my public key across to each of the Pis, in the right place i.e. in the remote user's <code>~/.ssh/authorized_keys</code> file. (If you've not used public key based <code>ssh</code> access before, why not?)</p>\n<p>There's a specific Ansible module for this - the <a href=\"https://docs.ansible.com/ansible/latest/modules/authorized_key_module.html\"><code>authorized_key</code> module</a>, and we can use it in a short playbook like this, which we'll call <code>set_ssh_key.yml</code>:</p>\n<pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">---</span><br /><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> brambleweeny<br /><br />  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span><br />    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Set authorized key from file<br />      <span class=\"token key atrule\">authorized_key</span><span class=\"token punctuation\">:</span><br />        <span class=\"token key atrule\">user</span><span class=\"token punctuation\">:</span> pi<br />        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> present<br />        <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ lookup('file', '/home/pi/.ssh/id_rsa.pub') }}\"</span></code></pre>\n<p>But of course we can't just run this, as we're still unable to connect, for the same reason:</p>\n<pre><code>-&gt; ansible-playbook -i inventory set_ssh_key.yml\n\nPLAY [brambleweeny] ***\n\nTASK [Gathering Facts] ***\nfatal: [192.168.86.47]: UNREACHABLE! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;Failed to connect to the host via ssh:\npi@192.168.86.47: Permission denied (publickey,password).&quot;, &quot;unreachable&quot;: true}\nfatal: [192.168.86.15]: UNREACHABLE! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;Failed to connect to the host via ssh:\npi@192.168.86.15: Permission denied (publickey,password).&quot;, &quot;unreachable&quot;: true}\nfatal: [192.168.86.158]: UNREACHABLE! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;Failed to connect to the host via ssh:\npi@192.168.86.158: Permission denied (publickey,password).&quot;, &quot;unreachable&quot;: true}\nfatal: [192.168.86.125]: UNREACHABLE! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;Failed to connect to the host via ssh:\npi@192.168.86.125: Permission denied (publickey,password).&quot;, &quot;unreachable&quot;: true}\n        to retry, use: --limit @/home/pi/raspberry-pi-dramble/setup/networking/set_ssh_key.retry\n\nPLAY RECAP ***\n192.168.86.125             : ok=0    changed=0    unreachable=1    failed=0\n192.168.86.15              : ok=0    changed=0    unreachable=1    failed=0\n192.168.86.158             : ok=0    changed=0    unreachable=1    failed=0\n192.168.86.47              : ok=0    changed=0    unreachable=1    failed=0\n</code></pre>\n<p>So we have to authenticate a different way - with the 'raspberry' password (remember, we're already supplying Ansible with the user via the <code>ansible_ssh_user</code> variable in the <code>inventory</code> file). The <code>-k</code> option for <code>ansible-playbook</code> tells it to ask for a connection password, which it will then use on our behalf when connecting to each host.</p>\n<p>It's worth spending a couple of minutes understanding how this actually operates. It uses the <code>sshpass</code> command, which is therefore required (I didn't have this and had to install it with <code>sudo apt install sshpass</code>). <code>sshpass</code> is described by its <a href=\"https://linux.die.net/man/1/sshpass\">man page</a> as a &quot;noninteractive ssh password provider&quot;. Most of the time when we run <code>ssh</code> it's in &quot;keyboard interactive&quot; mode, which means that it can ask the user for a password if required. The man page states that that <code>ssh</code> &quot;uses direct TTY access to make sure that the password is indeed issued by an interactive keyboard user&quot;, and that, fascinatingly, <code>sshpass</code> runs <code>ssh</code> in a dedicated TTY to trick <code>ssh</code> into thinking it is indeed getting the password from an interactive user, when in fact it's not.</p>\n<p>We can see this in action with a simple test:</p>\n<pre><code>-&gt; sshpass -p 'raspberry' ssh pi@192.168.86.47\nLinux raspberrypi 4.19.97-v7l+ #1294 SMP Thu Jan 30 13:21:14 GMT 2020 armv7l\n[...]\npi@raspberrypi:~ $\n</code></pre>\n<p>Anyway, let's use the <code>-k</code> option with <code>ansible-playbook</code> to make use of this <code>sshpass</code> utility; Ansible will first ask us for the password and then use <code>sshpass</code> to pass it on to each of the <code>ssh</code> connections it makes:</p>\n<pre><code>-&gt; ansible-playbook -k -i inventory set_ssh_key.yml\nSSH password: *********\n\nPLAY [brambleweeny] ***\n\nTASK [Gathering Facts] ***\nok: [192.168.86.15]\nok: [192.168.86.125]\nok: [192.168.86.47]\nok: [192.168.86.158]\n\nTASK [Set authorized key from file] ***\nchanged: [192.168.86.158]\nchanged: [192.168.86.47]\nchanged: [192.168.86.125]\nchanged: [192.168.86.15]\n\nPLAY RECAP ***\n192.168.86.125             : ok=2    changed=1    unreachable=0    failed=0\n192.168.86.15              : ok=2    changed=1    unreachable=0    failed=0\n192.168.86.158             : ok=2    changed=1    unreachable=0    failed=0\n192.168.86.47              : ok=2    changed=1    unreachable=0    failed=0\n</code></pre>\n<p>Success! From this point onwards, we can use <code>ssh</code> to connect to each of the Pis, but via our public key, rather than a password:</p>\n<pre><code>-&gt; ssh pi@192.168.86.47\nLinux raspberrypi 4.19.97-v7l+ #1294 SMP Thu Jan 30 13:21:14 GMT 2020 armv7l\n[...]\npi@raspberrypi:~ $\n</code></pre>\n<h2 id=\"running-the-main-playbook\" tabindex=\"-1\">Running the main playbook <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/5/4/initial-pi-configuration-via-ansible/#running-the-main-playbook\" aria-hidden=\"true\">#</a></h2>\n<p>At this point I can retry <code>main.yml</code> playbook, knowing that Ansible will be able to successfully connect to each of the Pis, using the public key we've transferred, and also using the default user defined in the <code>ansible_ssh_user</code> variable in the <code>inventory</code> file:</p>\n<pre><code>-&gt; ansible-playbook -i inventory main.yml\n\nPLAY [brambleweeny] ***\n\nTASK [Gathering Facts] ***\nok: [192.168.86.47]\nok: [192.168.86.15]\nok: [192.168.86.158]\nok: [192.168.86.125]\n\nTASK [Set the current MAC address for eth0.] ***\nok: [192.168.86.47]\nok: [192.168.86.15]\nok: [192.168.86.158]\nok: [192.168.86.125]\n\nTASK [Set variables based on eth0 MAC address.] ***\nok: [192.168.86.47]\nok: [192.168.86.15]\nok: [192.168.86.158]\nok: [192.168.86.125]\n\nTASK [Set up networking-related files.] ***\nchanged: [192.168.86.47] =&gt; (item={'template': 'hostname.j2', 'dest': '/etc/hostname'})\nchanged: [192.168.86.15] =&gt; (item={'template': 'hostname.j2', 'dest': '/etc/hostname'})\nchanged: [192.168.86.158] =&gt; (item={'template': 'hostname.j2', 'dest': '/etc/hostname'})\nchanged: [192.168.86.125] =&gt; (item={'template': 'hostname.j2', 'dest': '/etc/hostname'})\nchanged: [192.168.86.47] =&gt; (item={'template': 'hosts.j2', 'dest': '/etc/hosts'})\nchanged: [192.168.86.15] =&gt; (item={'template': 'hosts.j2', 'dest': '/etc/hosts'})\nchanged: [192.168.86.158] =&gt; (item={'template': 'hosts.j2', 'dest': '/etc/hosts'})\nchanged: [192.168.86.125] =&gt; (item={'template': 'hosts.j2', 'dest': '/etc/hosts'})\nchanged: [192.168.86.47] =&gt; (item={'template': 'resolv.conf.j2', 'dest': '/etc/resolv.conf'})\nchanged: [192.168.86.15] =&gt; (item={'template': 'resolv.conf.j2', 'dest': '/etc/resolv.conf'})\nchanged: [192.168.86.158] =&gt; (item={'template': 'resolv.conf.j2', 'dest': '/etc/resolv.conf'})\nchanged: [192.168.86.125] =&gt; (item={'template': 'resolv.conf.j2', 'dest': '/etc/resolv.conf'})\nchanged: [192.168.86.47] =&gt; (item={'template': 'dhcpcd.conf.j2', 'dest': '/etc/dhcpcd.conf'})\nchanged: [192.168.86.15] =&gt; (item={'template': 'dhcpcd.conf.j2', 'dest': '/etc/dhcpcd.conf'})\nchanged: [192.168.86.158] =&gt; (item={'template': 'dhcpcd.conf.j2', 'dest': '/etc/dhcpcd.conf'})\nchanged: [192.168.86.125] =&gt; (item={'template': 'dhcpcd.conf.j2', 'dest': '/etc/dhcpcd.conf'})\n\nRUNNING HANDLER [update hostname] ***\nchanged: [192.168.86.47]\nchanged: [192.168.86.15]\nchanged: [192.168.86.158]\nchanged: [192.168.86.125]\n\nRUNNING HANDLER [delete dhcp leases] ***\nok: [192.168.86.47] =&gt; (item=/var/lib/dhcp/dhclient.leases)\nok: [192.168.86.15] =&gt; (item=/var/lib/dhcp/dhclient.leases)\nok: [192.168.86.158] =&gt; (item=/var/lib/dhcp/dhclient.leases)\nok: [192.168.86.125] =&gt; (item=/var/lib/dhcp/dhclient.leases)\nok: [192.168.86.47] =&gt; (item=/var/lib/dhcpcd5/dhcpcd-eth0.lease)\nok: [192.168.86.15] =&gt; (item=/var/lib/dhcpcd5/dhcpcd-eth0.lease)\nok: [192.168.86.158] =&gt; (item=/var/lib/dhcpcd5/dhcpcd-eth0.lease)\nok: [192.168.86.125] =&gt; (item=/var/lib/dhcpcd5/dhcpcd-eth0.lease)\n\nPLAY RECAP ***\n192.168.86.47              : ok=6    changed=2    unreachable=0    failed=0\n192.168.86.15              : ok=6    changed=2    unreachable=0    failed=0\n192.168.86.158             : ok=6    changed=2    unreachable=0    failed=0\n192.168.86.125             : ok=6    changed=2    unreachable=0    failed=0\n</code></pre>\n<p>Very nice indeed!</p>\n<h2 id=\"rebooting-and-updating-the-inventory\" tabindex=\"-1\">Rebooting and updating the inventory <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/5/4/initial-pi-configuration-via-ansible/#rebooting-and-updating-the-inventory\" aria-hidden=\"true\">#</a></h2>\n<p>At this stage, as advised in Jeff's <a href=\"https://github.com/geerlingguy/raspberry-pi-dramble/tree/master/setup/networking\">networking setup README</a>, we can reboot the Pis with the following direct shell module based command:</p>\n<pre><code>-&gt; ansible all \\\n&gt; -i inventory \\\n&gt; -m shell \\\n&gt; -a &quot;sleep 1s; shutdown -r now&quot; \\\n&gt; -b \\\n&gt; -B 60 \\\n&gt; -P 0\n192.168.86.47  | CHANGED | rc=-1 &gt;&gt;\n192.168.86.15  | CHANGED | rc=-1 &gt;&gt;\n192.168.86.158 | CHANGED | rc=-1 &gt;&gt;\n192.168.86.125 | CHANGED | rc=-1 &gt;&gt;\n</code></pre>\n<p>Note that this is the last time we'll be using these &quot;as-is&quot; IP addresses; when the Pis restart they'll have the static IP addresses defined in the <code>vars.yml</code> file we saw earlier. So at this point, the addresses in the inventory need to be updated to reflect that, for future Ansible-based management of these machines.</p>\n<p>This is now what's in the updated <code>inventory</code> file:</p>\n<pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">[</span>brambleweeny<span class=\"token punctuation\">]</span><br />192.168.86.12<br />192.168.86.13<br />192.168.86.14<br />192.168.86.15<br /><br /><span class=\"token punctuation\">[</span>brambleweeny<span class=\"token punctuation\">:</span>vars<span class=\"token punctuation\">]</span><br />ansible_ssh_user=pi<br />ansible_ssh_common_args='<span class=\"token punctuation\">-</span>o StrictHostKeyChecking=no'</code></pre>\n<p>The <code>ansible_ssh_common_args</code> variable is still there, because we need it one more time. When the IP address of a remote host changes, <code>ssh</code> will complain again, because the key isn't in <code>known_hosts</code>. So a simple connection to each of the Pis with this <code>StrictHostKeyChecking=no</code> option set will cause that complaint to be suppressed, and also cause the new keys to be stored:</p>\n<pre><code>-&gt; ansible -m ping all -i inventory\n192.168.86.12 | SUCCESS =&gt; {\n    &quot;changed&quot;: false,\n    &quot;ping&quot;: &quot;pong&quot;\n}\n192.168.86.13 | SUCCESS =&gt; {\n    &quot;changed&quot;: false,\n    &quot;ping&quot;: &quot;pong&quot;\n}\n192.168.86.14 | SUCCESS =&gt; {\n    &quot;changed&quot;: false,\n    &quot;ping&quot;: &quot;pong&quot;\n}\n192.168.86.15 | SUCCESS =&gt; {\n    &quot;changed&quot;: false,\n    &quot;ping&quot;: &quot;pong&quot;\n}\n</code></pre>\n<p>Now we have another four lines in our <code>~/.ssh/known_hosts</code> file, reflecting the four Pis with their new keys, making a total of eight lines (one for each host when we had the DHCP-allocated IP addresses, and then one for each host with the new statically allocated IP addresses). To be thorough, it's probably a good idea to delete the first four lines, but more importantly, it's paramount that we remove the <code>ansible_ssh_common_args</code> line from the inventory file now, to prevent future (and inadvertent) suppression of potentially real key warnings.</p>\n<h2 id=\"wrapping-up\" tabindex=\"-1\">Wrapping up <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/5/4/initial-pi-configuration-via-ansible/#wrapping-up\" aria-hidden=\"true\">#</a></h2>\n<p>And that's it for this post. Ansible is indeed a powerful system, but taking the time to understand what's going on has taught me things about basic networking (and in particular some ins and outs of <code>ssh</code>) that I'm glad I know now.</p>\n<p>Moreover, I now have a nice set of four Pis set up from a basic networking perspective, ready for the next steps.</p>\n",
      "date_published": "2020-04-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/2/4/code-at-home-episodes/",
      "url": "https://qmacro.org/blog/2020/2/4/code-at-home-episodes/",
      "title": "Code at Home episodes",
      "content_html": "<p><em>This post summarises the episodes streamed live (and available as recordings) on YouTube. Find out more about the Code at Home initiative in the main blog post: <a href=\"https://qmacro.org/2020/03/24/code-at-home/\">Let's learn to &quot;Code at Home&quot;</a>.</em></p>\n<p>All the episodes are live streamed <a href=\"https://youtube.com/djadams-qmacro\">on my YouTube channel</a> and are then available on that same channel after the streams finish, as recordings. In this post are links to those recordings with a short description of each. You can easily spot the upcoming live streams and recordings as they always have the &quot;Code at Home&quot; background in the thumbnail, like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/04/cahthumbnails.png\" alt=\"Code at Home video thumbnails\" /></p>\n<h1 id=\"episodes\" tabindex=\"-1\">Episodes <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/2/4/code-at-home-episodes/#episodes\" aria-hidden=\"true\">#</a></h1>\n<p>Here are the recordings of the live stream episodes so far. Click on the episode title link to get to the recording on YouTube.</p>\n<table>\n  <tr>\n    <th width=\"35%\">Episode</th>\n    <th>Description</th>\n  </tr>\n  <tr>\n    <td>\n      Fri 27 Mar 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=X7gtbWiHTBY\">Code at Home Ep.1<br />Setting up for our first challenge</a>\n    </td>\n    <td>\n      <p>In this first episode we set up the tools that we need - the <a href=\"https://projecteuler.net/\">Project Euler</a> and the <a href=\"https://repl.it/\">repl.it</a> websites. We also solve together the very first problem described on Project Euler: <a href=\"https://projecteuler.net/problem=1\">Multiples of 3 and 5</a>.</p>\n      <p>Code resources for this episode: <a href=\"https://repl.it/@qmacro/CodeAtHome1\">CodeAtHome1</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Mon 30 Mar 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=cfGQ-K7dvfg\">Code at Home Ep.2<br />Fizz-Buzz and Fibonacci</a>\n    </td>\n    <td>\n      <p>We start off by looking at the little \"homework\" challenge from last time, with a program to generate the output of a Fizz-Buzz game. Then the main part of this episode sees us take a first look at the Fibonacci sequence, what it is and how to work out the termns in that sequence, coding together a simple program to do that.</p>\n      <p>Code resources for this episode: <a href=\"https://repl.it/@qmacro/CodeAtHome2\">CodeAtHome2</a> and <a href=\"https://repl.it/@qmacro/FizzBuzz\">FizzBuzz</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Wed 01 Apr 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=tYt7SsGbhu4\">Code at Home Ep.3<br />Solving a Fibonacci related challenge</a>\n    </td>\n    <td>\n      <p>Following on from the previous episode we take another look together at what we wrote already to generate the Fibonacci sequence, and rewrite it to make it better, using a generator function and even creating a function that produces other functions. With that, we go and solve Project Euler problem 2: <a href=\"https://projecteuler.net/problem=2\">Even Fibonacci numbers</a>.</p>\n      <p>Code resources for this episode: <a href=\"https://repl.it/@qmacro/CodeAtHome3\">CodeAtHome3</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Fri 03 Apr 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=yOfp681B_tg\">Code at Home Ep.4<br />Figuring out sentence statistics!</a>\n    </td>\n    <td>\n      <p>Taking a break from numbers, we start to look at sentences and words, and how to parse them to grab basic data. In doing this we learn about arrays, and how to create and use them, even discovering functions and properties that are available on them. We also start to introduce the 'const' and 'let' keywords, and end with a gentle introduction to the super 'map' function.</p>\n      <p>Code resources for this episode: <a href=\"https://repl.it/@qmacro/CodeAtHome4\">CodeAtHome4</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Mon 06 Apr 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=7HDJOKtSNUE\">Code at Home Ep.5<br />More on arrays and array functions</a>\n    </td>\n    <td>\n      <p>Continuing on from the previous episode we start off by taking a look at character codes to understand the default sort() behaviour, digging in a little bit to the ASCII table. Then we look at a few more array functions, revisiting split() and map() and finally building a predicate function isPalindrome() that will tell us if the input is palindromic, a useful function that we'll need to solve <a href=\"https://projecteuler.net/problem=4\">Project Euler problem 4</a> in the next episode.</p>\n      <p>Code resources for this episode: <a href=\"https://repl.it/@qmacro/CodeAtHome5\">CodeAtHome5</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Wed 08 Apr 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=vQoZeQW4SbQ\">Code at Home Ep.6<br />Solving the palindromic products puzzle</a>\n    </td>\n    <td>\n      <p>We start off by making slight improvements to our isPalindrome() function so that it will work with numbers as well as strings. Then we generate pairs of numbers in nested for loops, implementing an optimisation that will leave out duplicate calculations. We then check whether our code agrees with the answer to the sample in the problem (the product of two 2-digit numbers) and confident that it's OK, we put the code to work to calculate the main part of <a href=\"https://projecteuler.net/problem=4\">Project Euler problem 4</a>, and it works!</p>\n      <p>Along the way, we define a function that we then use to influence the behaviour of the sort() function. Between now and the next episode, think about how this function works, by looking at the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\">Array.prototype.sort</a> documentation at MDN.</p>\n      <p>Code resources for this episode: <a href=\"https://repl.it/@qmacro/CodeAtHome6\">CodeAtHome6</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Fri 10 Apr 2020<br />\n      <a href=\"https://youtu.be/cIX5ThSpYGI\">Code at Home Ep.7<br />Looking at sort functions</a>\n    </td>\n    <td>\n      <p>In this episode we dig more into why the default sort behaviour for our filtered palindromic products wasn't quite what we wanted, and looked into how the sort() function can use a 'compare function' to tell it how to behave. Then after creating a useful function to generate a nice list of random numbers on demand, we explore our own compare function implementation, passing it to sort() to influence the behaviour. Lots of fun!</p>\n      <p>Code resources for this episode: <a href=\"https://repl.it/@qmacro/CodeAtHome7\">CodeAtHome7</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Mon 13 Apr 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=hizi99N8F5A\">Code at Home Ep.8<br />Finishing off sort, and introducing objects</a>\n    </td>\n    <td>\n      <p>In this episode we expand our horizons with respect to arrays, and learn how you can have arrays with different types of data, and even nest arrays inside each other. We then move on to objects, which are an even more powerful way of representing and manipulating data. As a brief aside, we take an initial look at <a href=\"https://projecteuler.net/problem=4\">Project Euler Problem 4 - Names Scores</a>, which we'll start to solve together next. Finally, we write another compare function to call sort() with, so that we can sort by referring to values of properties inside object structures.</p>\n      <p>Code resources for this episode: <a href=\"https://repl.it/@qmacro/CodeAtHome8\">CodeAtHome8</a></p>\n      <p>Data resources for this episode: <a href=\"https://gist.github.com/qmacro/7dcab532e7029ac1a1042bcf9f29f3af#file-episodes-a-js\">episodes-A.js</a> which we copied into our repl.it workspace.</p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Wed 15 Apr 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=3HrewK3Z114\">Code at Home Ep.9<br />Looking at Project Euler problem Nr.22</a>\n    </td>\n    <td>\n      <p>We take a first proper look at the \"Names Scores\" problem, which is Nr.22 in the Project Euler series. There are a lot of things for us to do to solve the problem, but all of them definitely manageable. We spent a lot of this episode learning about how to open and read file contents, which we need to do to bring in the 5000+ first names that the problem is based upon.</p>\n      <p>Code resources for this episode: <a href=\"https://repl.it/@qmacro/CodeAtHome9\">CodeAtHome9</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Fri 17 Apr 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=MCcOglgeiqE\">Code at Home Ep.10<br />Continuing with Project Euler problem Nr.22</a>\n    </td>\n    <td>\n      <p>Now we're comfortable with reading in the data from the file from the previous episode, we can turn our attention to starting to pick off each task we need to achieve to solve the problem. In this episode we look at stripping off the double-quotes from each name, and how to go about calculating individual letter scores for each name. We also take a brief look at the raw data that is provided to us from the file read process, and work out what it represents, by translating between hexadecimal and decimal and looking up values in an ASCII table.</p>\n      <p>Code resources for this episode (same as the previous episode): <a href=\"https://repl.it/@qmacro/CodeAtHome9\">CodeAtHome9</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Mon 20 Apr 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=bzJ7UQoCqxI\">Code at Home Ep.11<br />An introduction to reduce()</a>\n    </td>\n    <td>\n      <p>In this episode we took our time over getting acquainted with the powerful Array.prototype.reduce() function, the 'big sister' of Array.prototype.map(), Array.prototype.filter() and other similar array functions. Unlike map() and filter(), both of which expect to be passed functions that take a single parameter, and both of which produce an array as a result, the reduce() function expects to be passed a function that takes two parameters, and can produce a result of any shape (e.g. an array, an object or a scalar). We used reduce() to add up an array of numbers.</p>\n      <p>Code resources for this episode (same as the previous episode): <a href=\"https://repl.it/@qmacro/CodeAtHome9\">CodeAtHome9</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Wed 22 Apr 2020<br />\n      <a href=\"https://youtu.be/puzpDLgWebA\">Code at Home Ep.12<br />Finishing off Project Euler Nr.22</a>\n    </td>\n    <td>\n      <p>In this episode we finish off the coding for Project Euler problem 22. In doing so, we look at a feature of the Array.prototype.map() function that we've previously ignored - the fact that not only does it pass the element to the function we provide to it, but also that element's position in the array that's being processed. We use this feature to get the position of the element, to work out the final score for each name. Great!</p>\n      <p>Code resources for this episode (same as the previous episode): <a href=\"https://repl.it/@qmacro/CodeAtHome9\">CodeAtHome9</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Fri 24 Apr 2020<br />\n      <a href=\"https://youtu.be/S_2-cMRd4N8\">Code at Home Ep.13<br />Looking at Base 2 and our next challenge</a>\n    </td>\n    <td>\n      <p>We start off by taking a peek at the next challenge which is <a href=\"https://projecteuler.net/problem=36\">Project Euler Nr.36 - Double-base palindromes</a> where we have to check not only decimal but binary numbers for palindromic properties. So we take an excursion into binary, or Base 2, to understand how that works. Then we grab the isPalindrome() function from a previous CodeAtHome episode to reuse, and quite easily solve the problem together. Great!</p>\n      <p>Code resources for this episode <a href=\"https://repl.it/@qmacro/CodeAtHome13\">CodeAtHome13</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Mon 27 Apr 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=570mDChjATM\">Code at Home Ep.14<br />Refactoring to improve our code</a>\n    </td>\n    <td>\n      <p>There are nearly always opportunities to make improvements to code; whether that is for readability, performance, or other reasons. In this episode we looked at what we wrote for the solution we coded together on the previous episode and made a few improvements, by tweaking some values to make the calculation perform better, and by adding a \"helper\" function that we can use in lots of places and that encapsulates complexity that we can then forget about.</p>\n      <p>Code resources for this episode <a href=\"https://repl.it/@qmacro/CodeAtHome14\">CodeAtHome14</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Wed 29 Apr 2020<br />\n      <a href=\"https://www.youtube.com/watch?v=2gf1lytLR3k\">Code at Home Ep.15<br />Continuing our refactoring journey using 'range'</a>\n    </td>\n    <td>\n      <p>We refactored some of our code in the previous episode and in this one we continued to do so, creating our own utility module and moving functions into that, and then importing what we need to the main index.js file. Then before tackling our range() function we looked at how range() works in Python, so that we could emulate that, for consistency. Then we started to write a new version of our range() function accordingly.</p>\n      <p>Code resources for this episode <a href=\"https://repl.it/@qmacro/CodeAtHome15\">CodeAtHome15</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Fri 01 May 2020<br />\n      <a href=\"https://youtu.be/78Exn27aGXg\">Code at Home Ep.16<br />recursion (noun): for a definition, see 'recursion'</a>\n    </td>\n    <td>\n      <p>After finishing off our reworked range() function so that it behaved more like Python 3's range() function, we moved on to start looking at <a href=\"https://en.wikipedia.org/wiki/Recursion\">recursion</a> - what it is and where it came from. It's a wonderful concept but does take some time to understand, so we started slowly by looking at how we might use a recursive function definition to add some numbers together - with no explicit looping!</p>\n      <p>Code resources for this episode <a href=\"https://repl.it/@qmacro/CodeAtHome16\">CodeAtHome16</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Mon 04 May 2020<br />\n      <a href=\"https://youtu.be/1whk_QC9CPw\">Code at Home Ep.17<br />A little more exploration of recursion</a>\n    </td>\n    <td>\n      <p>In last Friday's episode we got our first taste of recursion, defining a recursive function sum() to add a list of numbers together. In this episode we had another look at that recursive definition to understand the pattern a bit more, with the base case and the main part, and then expanded our knowledge by creating a similar function mul() to multiply a list of numbers together, and making note of the (very few) things that had to change. Then we looked at what factorials were, and defined a recursive function to determine factorials for us. In fact, we defined it three different ways, ending up with a single-expression function that used the ternary operator. The definition was a little terse, but hopefully interesting!</p>\n      <p>Code resources for this episode <a href=\"https://repl.it/@qmacro/CodeAtHome17\">CodeAtHome17</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Mon 11 May 2020<br />\n      <a href=\"https://youtu.be/gFZEDy6ZAxo\">Code at Home Ep.18<br />Looking at our next coding challenge together</a>\n    </td>\n    <td>\n      <p>We embark upon our last challenge for this series, which is Project Euler problem 52 <a href=\"https://projecteuler.net/problem=52\">Permuted Multiples</a>, and take our time exploring the problem space in the REPL together. We build up solid little functions to help us out along the way, and to codify what our thoughts are, starting with digits(), contains() and sameLength(). We get to the stage where we can check through to see if all the digits in one number are in another number ... but we're not done yet, as we saw towards the end where we came across the 'subset' issue. We'll finish this off in the next episode, by looking at solving that (using sameLength()) and improving the comparisons with the array function every().</p>\n      <p>Code resources for this episode <a href=\"https://repl.it/@qmacro/CodeAtHome18\">CodeAtHome18</a></p>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      Fri 15 May 2020<br />\n      <a href=\"https://youtu.be/qw8BY5kvoI8\">Code at Home Ep.19<br />Finishing off our challenge, improving the code</a>\n    </td>\n    <td>\n      <p>We did it! We finished off and solved Project Euler problem 52 together. In finishing off, we completed the isPermutation() function, which we needed to check two things, in sequence - first, whether the length of each number was the same, and then (and only if the lengths were the same) whether the digits in the first number were in the second number. We also created the meetsRequirements() function, and indeed wrote two versions of it, which checked the actual requirements of the problem, for each number we could throw at it - which we did in a simple while loop at the end.</p>\n      <p>Code resources for this episode <a href=\"https://repl.it/@qmacro/CodeAtHome18\">CodeAtHome18</a></p>\n    </td>\n  </tr>\n</table>\n",
      "date_published": "2020-04-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/24/3/let-s-learn-to-code-at-home/",
      "url": "https://qmacro.org/blog/2020/24/3/let-s-learn-to-code-at-home/",
      "title": "Let&#39;s learn to &quot;Code at Home&quot;",
      "content_html": "<p><em>This post provides information on the simple Code at Home initiative - what it is and what you need to join in. The canonical URL for this post is <a href=\"https://bit.ly/code-at-home\">bit.ly/code-at-home</a></em>.</p>\n<ul>\n<li>Episodes on Mondays and Fridays at 15:30 UK time.</li>\n<li>Last episode in this first series will be Ep.20 on Mon 18 May.</li>\n<li>Subscribe on YouTube and find all the upcoming episode links here: <a href=\"https://youtube.com/djadams-qmacro\">youtube.com/djadams-qmacro</a></li>\n<li>Find a summary list of the past episode recordings, with links, here: <a href=\"https://qmacro.org/2020/04/02/code-at-home-episodes/\">Code at Home episodes</a></li>\n<li><strong>New: Please take 30 seconds to let me know what you think, and what I can do to improve, in this <a href=\"https://docs.google.com/forms/d/e/1FAIpQLSfHWIWRTPb5cCO2TfMIntixT5bUEDw7wd4x8SFKC6q6a4RCbA/viewform\">feedback form</a>. Thank you!</strong></li>\n</ul>\n<p>Parents: if you have any questions (during the streams or in between) please don't hesitate to contact me at <a href=\"mailto:qmacro+codeathome@gmail.com\">qmacro+codeathome@gmail.com</a>.</p>\n<p>It's super important for us to stay at home right now, but that doesn't mean that we can't have some fun learning together online. If you have kids at home and want to give them a break from school work at the kitchen table, and they fancy learning a bit of programming for beginners, then this Code at Home idea might be helpful.</p>\n<p><strong>Who I am</strong></p>\n<p>First, a bit about who I am.</p>\n<image src=\"https://qmacro.org/content/images/DJA-head-small.jpg\" align=\"right\">\n<p>My name's DJ Adams and I live in Woodhouses, Failsworth, in Manchester. I am proud to work for SAP as a <a href=\"https://community.sap.com/influencers/?program=devadvocates\">developer advocate</a>, and I feel supported by them in this endeavour. I have a short bio page here: <a href=\"https://qmacro.org/about\">qmacro.org/about</a>. I've been involved with teaching kids to code for a good while now, and you can read more about that <a href=\"https://qmacro.org/blog/2020/24/3/let-s-learn-to-code-at-home/#moreinfo\">down below</a>.</p>\n<p><strong>The idea</strong></p>\n<p>The idea is that school children who are stuck at home can take part in some coding for beginners, by connecting to YouTube and joining a &quot;Code at Home&quot; live stream that I'll broadcast on a regular basis at a fixed time in the day, for an hour. I don't have this all planned out, I'm just going to start it and see how it goes and would welcome input from anyone. What I do know is that I want it to be approachable and for beginners, where the age range is around 11 and up.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/03/codeathome.png\" alt=\"Code at Home\" /></p>\n<p>We'll be learning basic programming together using the most popular language out there (by some measurements) - JavaScript, and we'll be starting off by using some simple problems from the <a href=\"https://projecteuler.net/\">Project Euler</a> website. Here's <a href=\"https://projecteuler.net/problem=1\">problem number 1</a>, titled &quot;Multiples of 3 and 5&quot;, to give you an idea:</p>\n<p><em>If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23. Find the sum of all the multiples of 3 or 5 below 1000.</em></p>\n<p>The plan is that we'll use each hour to solve little problems like this, by writing code in JavaScript.</p>\n<p>Here are some questions and answers that hopefully will tell you what you need to know.</p>\n<p><strong>What's required?</strong></p>\n<p>To connect and join in, you'll need:</p>\n<ul>\n<li>An Internet connection so that you can connect to and watch things on YouTube</li>\n<li>A laptop or desktop, it doesn't matter whether it's a MacBook, a Windows machine or anything else</li>\n<li>On that laptop or desktop you need a web browser, like Chrome. You don't need anything else specific to programming</li>\n</ul>\n<p>If you want to enable your kids join in and type along during the live stream, and want to use the same setup as I'll be showing, sign up to the following two websites:</p>\n<ul>\n<li><a href=\"https://projecteuler.net/\">Project Euler</a> - it's not completely necessary, but if you sign up then you can enter your own answers to the problems and see your progress</li>\n<li><a href=\"https://repl.it/\">repl.it</a> - this is a really nice coding environment online, that you can access and use from your web browser, and it's the one I will be using in the live stream sessions</li>\n</ul>\n<p>Of course, if all you want to do is watch, that's fine and then you don't need anything other than your web browser. But it's fun to type the code in yourself on your own computer too and see the results.</p>\n<p><strong>How do we follow the schedule and get reminders?</strong></p>\n<p>I'll be broadcasting these Code at Home live streams on YouTube, on my channel at <a href=\"https://youtube.com/djadams-qmacro\">youtube.com/djadams-qmacro</a>, so the simplest way is to head over to the channel, subscribe, and there you'll be able to see the upcoming Code at Home live stream episodes.</p>\n<p>If you miss an actual live stream, don't worry, because they're all automatically recorded and made available on YouTube.</p>\n<p><strong>When and how often is this happening?</strong></p>\n<p>I'll start out by doing this regularly from 15:30 to 16:30 (UK time). This is so that any school work at home can be completed and out of the way during the day first.</p>\n<p>I'll do the first one this coming <strong>Friday 27 March</strong> - and have set up the live stream ready on <a href=\"https://youtube.com/djadams-qmacro\">my YouTube channel</a>, so you can set a reminder for it.</p>\n<p><strong>What will it be like?</strong></p>\n<p>On the live streams I'll be sharing my screen, showing the problem we're looking at solving, and showing what I'm typing in the <a href=\"https://repl.it/\">repl.it</a> website. There'll also be a little &quot;picture-in-picture&quot; of me on the camera. To get a rough idea, here's a still from last Friday's episode of another (more technical) live stream series that I run (called &quot;<a href=\"https://bit.ly/handsonsapdev\">Hands-on SAP dev with qmacro</a>&quot;, which is for the SAP development and technical community):</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/03/sapdev.png\" alt=\"still from Hands-on SAP dev\" /></p>\n<p>I definitely encourage you parents to join too if you can, so you can satisfy yourself that this is something that might help. Perhaps you can help with the setup too.</p>\n<p><a name=\"moreinfo\"></a><br />\n<strong>More information on me</strong></p>\n<p>I used to <a href=\"https://qmacro.org/2012/12/05/codeclub-and-becoming-a-stem-ambassador/\">run a CodeClub</a> at the Woodhouses Village School, I have been a volunteer at <a href=\"https://mcrcoderdojo.org.uk/\">Manchester CoderDojo</a> at MadLab and also at the Sharp Project in Newton Heath.</p>\n<p>Here's a pic of me <a href=\"https://mcrcoderdojo.org.uk/underwater-scratch/\">giving a Scratch session</a> at Manchester CoderDojo:</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/03/underwaterscratch.jpg\" alt=\"Underwater Scratch\" /></p>\n<p>I'm a STEM Ambassador who has given sessions at schools including <a href=\"http://www.xaverian.ac.uk/computer-science-with-dj-adams/\">Xaverian Sixth Form College</a>, I've given a session at TEDx Oldham on <a href=\"https://www.youtube.com/watch?v=-gvOCaExeK0\">Our Computational Future</a> (making the argument for teaching our kids to code).</p>\n<p>I've also helped out as a mentor at MadLab in Manchester during the <a href=\"https://getcodingkids.com/young-rewired-state/\">Young Rewired State</a> (YRS) events. Here's a still of me from <a href=\"https://vimeo.com/75229099\">the video about our activities for YRS 2013</a>:</p>\n<p><a href=\"https://qmacro.org/vimeo.com/75229099\"><img src=\"https://qmacro.org/blog/img/2020/03/yrs.png\" alt=\"still from YRS 2013 video\" /></a></p>\n<p><strong>OK, what's the next step?</strong></p>\n<p>Head on over to the channel on YouTube, get set up for the first one and be ready to connect to the live stream this coming Friday 27 March. Here's the YouTube link for that first live stream episode: <a href=\"https://youtu.be/X7gtbWiHTBY\">https://youtu.be/X7gtbWiHTBY</a>.</p>\n<p>If you have any questions, please reach out to me on Twitter (my handle is <a href=\"https://twitter.com/qmacro\">@qmacro</a>) where I'd be more than happy to try and answer them.</p>\n<p>Also, bookmark this blog post (or you can use the short link <a href=\"https://bit.ly/code-at-home\">bit.ly/code-at-home</a>), to be able to come back to it at a later date, in case there are updates I have added, with extra information, a change in schedule, things like that.</p>\n<p>Please also wish me luck - while I've taught kids to code in many contexts, and I've live streamed in my professional life, I've never combined the two. I want this to be helpful in these trying times, and for that I will need your help too.Thanks!</p>\n</image>",
      "date_published": "2020-03-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/22/3/starting-out-with-raspberry-pi-experiments/",
      "url": "https://qmacro.org/blog/2020/22/3/starting-out-with-raspberry-pi-experiments/",
      "title": "Starting out with Raspberry Pi experiments",
      "content_html": "<p><em>This post provides some background to why I've started to experiment with Raspberry Pis, and to list the hardware components that I bought and set up with my son Joseph over the Christmas holidays.</em></p>\n<p>This is a post in the &quot;<a href=\"https://qmacro.org/2020/03/22/brambleweeny-cluster-experiments/\">Brambleweeny Cluster Experiments</a>&quot; series of blog posts, which accompanies the <a href=\"https://www.youtube.com/playlist?list=PLfctWmgNyOIf9rXaZp9RSM2YVxAPGGthe\">YouTube live stream recording playlist</a> of the same name.</p>\n<p>Next post in this series: <a href=\"https://qmacro.org/2020/03/22/preparing-the-os-image/\">Preparing the OS image</a></p>\n<p>I've been skirting around the edges of experimentation with Raspberry Pis, to learn about clustering and containerisation using such technologies as Docker and Kubernetes. The topic area is fascinating in and of itself, but I think it's an important collection of subjects that one should know about in the SAP tech world too, given the cloud direction we're taking and how resources, services and applications are managed there.</p>\n<p>I haven't gone too deep yet, having paused the project over the first couple of months of 2020 - I think one of the things holding me back was that I had stumbled my way through things at the start and wanted to hold off going further before I'd understood things a little more.</p>\n<p>Here's a photo of the cluster that we built.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/03/picluster.png\" alt=\"The cluster of Pis\" /></p>\n<p>I know that writing about my activities helps my understanding, and so I thought I'd set out to write some posts about what I'm doing. As a bonus, they might help you too.</p>\n<p>I've been learning a lot from two folks in particular, both of whom I came across, independently, from recordings of talks I saw them give.</p>\n<img align=\"right\" src=\"https://qmacro.org/content/images/2020/03/jeff.jpeg\" />\n<p><a href=\"https://jeffgeerling.com/\">Jeff Geerling</a> gave a talk at DrupalCon in 2019 called <a href=\"https://www.jeffgeerling.com/blog/2019/everything-i-know-about-kubernetes-i-learned-cluster-raspberry-pis\">Everything I know about Kubernetes I learned from a cluster of Raspberry Pis</a>, which inspired me to put together my own cluster of Raspberry Pis. Clusters of Raspberry Pis are called brambles, which I think is a nice touch. Jeff named his cluster a Dramble, owing to the use of Drupal on it, and has some great resources at <a href=\"https://www.pidramble.com/\">pidramble.com</a>. Moreover, I've been learning about Ansible from Jeff too, generally but also specifically for setting up the Pis. I even bought his book <a href=\"https://www.jeffgeerling.com/project/ansible-kubernetes\">Ansible for Kubernetes</a> which I can definitely recommend.</p>\n<p>Jeff documented his hardware setup over on the PiDramble site, and in particular I went for a version of his <a href=\"https://www.pidramble.com/wiki/hardware/pis\">2019 Edition</a> which was to use power-over-ethernet (PoE) rather than running individual power cables to each Pi.</p>\n<img align=\"right\" src=\"https://qmacro.org/content/images/2020/03/alex.jpeg\" />\n<p><a href=\"https://www.alexellis.io/\">Alex Ellis</a> has been doing some fascinating work in this space and sharing a ton of stuff on Kubernetes, serverless and in particular on <a href=\"https://www.openfaas.com/\">OpenFaaS</a> which he set up and runs as an open project. He's also a prolific writer and sharer, and I recommend you bookmark a few of his <a href=\"https://blog.alexellis.io/\">articles</a> which are rich in content and inspiration. I saw a recording of a talk he gave with <a href=\"https://www.hanselman.com/\">Scott Hanselman</a> at NDC London in 2018: <a href=\"https://www.youtube.com/watch?v=ZyTLMnzehyU\">Building a Raspberry Pi Kubernetes Cluster and running .NET Core</a>, which is definitely worth a watch.</p>\n<p>To set my cluster up, here's what I ended up buying:</p>\n<ul>\n<li><a href=\"https://shop.pimoroni.com/products/raspberry-pi-4?variant=29157087445075\">Raspberry Pi 4 (4GB RAM version)</a> x 4</li>\n<li><a href=\"https://shop.pimoroni.com/products/raspberry-pi-poe-hat\">Raspberry Pi PoE HAT</a> x 4</li>\n<li><a href=\"https://www.amazon.co.uk/gp/product/B06XFSZGCC/\">Samsung EVO Plus 32GB microSDHC memory card with adapter</a> x 4</li>\n<li>Short (25cm) CAT6 Ethernet cables x 4</li>\n<li><a href=\"https://www.amazon.co.uk/gp/product/B07TLSVTQP\">Techson 4 Layers Clear Acrylic Rack Case</a></li>\n<li><a href=\"https://www.amazon.co.uk/gp/product/B072BDGQR8/\">NETGEAR 5-Port Gigabit Ethernet PoE Switch</a></li>\n</ul>\n<p>There are plenty of cases and mounting possibilities; just make sure, if you go for something different, that there's room for the PoE HAT mounted on top of each of the Pis.</p>\n<p>I'm pleased with the result as there's a lot less cabling to deal with - it's just a single ethernet cable from the switch to each Pi, an ethernet cable from the switch to the main network, plus the power supply and cable to the switch, and that's it.</p>\n<p>You can see this in the photo I took yesterday, which also shows an original Raspberry Pi Model B that I used as a console for various things.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/03/picollection.png\" alt=\"Pi collection\" /></p>\n<p>The setup is compact and I can keep it on a shelf behind my main desk. I'm somewhat averse to fan noise, which does mean that I don't run the cluster all the time, as there are fans on the PoE HATs that come on now and again. But the lights are pretty!</p>\n<p>The next post I want to write is about how I set up the Pis ready for the cluster experiments, and what I learned. Until then, you might want to take a look at the recording of a live stream from earlier this month where I just went ahead and followed Alex's blog post <a href=\"https://medium.com/@alexellisuk/walk-through-install-kubernetes-to-your-raspberry-pi-in-15-minutes-84a8492dc95a\">Walk-through — install Kubernetes to your Raspberry Pi in 15 minutes</a>. The key takeaway for me was that it was very easy.</p>\n<p>The live stream was the first in what may turn out to be a series of cluster experiment live streams, so I've put the video into a playlist to help you find them.</p>\n<p>The playlist is called <a href=\"https://www.youtube.com/playlist?list=PLfctWmgNyOIf9rXaZp9RSM2YVxAPGGthe\">Brambleweeny Cluster Experiments</a>, where the name &quot;Brambleweeny&quot; is a conflation of the &quot;Bramble&quot; name for a Pi cluster, and the name of a computer in the Hitch Hiker's Guide To The Galaxy, the &quot;<a href=\"https://hitchhikers.fandom.com/wiki/Bambleweeny_57_Submeson_Brain\">Bambleweeny 57 Submeson Brain</a>&quot;.</p>\n<p><a href=\"https://qmacro.org/www.youtube.com/watch?v=ZiR3QEfBivk&amp;list=PLfctWmgNyOIf9rXaZp9RSM2YVxAPGGthe\"><img src=\"https://qmacro.org/blog/img/2020/03/video.png\" alt=\"screenshot from live stream recording\" /></a></p>\n<p>Until next time, happy clustering!</p>\n<p>Next post in this series: <a href=\"https://qmacro.org/2020/03/22/preparing-the-os-image/\">Preparing the OS image</a></p>\n",
      "date_published": "2020-03-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/22/3/preparing-the-os-image/",
      "url": "https://qmacro.org/blog/2020/22/3/preparing-the-os-image/",
      "title": "Preparing the OS image",
      "content_html": "<p><em>This post describes how I prepared the base OS image for each of the Raspberry Pis in my &quot;Brambleweeny&quot; cluster.</em></p>\n<p>This is a post in the &quot;<a href=\"https://qmacro.org/2020/03/22/brambleweeny-cluster-experiments/\">Brambleweeny Cluster Experiments</a>&quot; series of blog posts, which accompanies the <a href=\"https://www.youtube.com/playlist?list=PLfctWmgNyOIf9rXaZp9RSM2YVxAPGGthe\">YouTube live stream recording playlist</a> of the same name. The video linked here is the one that accompanies this blog post.</p>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/IY5ZNZDI-EQ\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\"></iframe>\n<p>Previous post in this series: <a href=\"https://qmacro.org/2020/03/22/starting-out-with-raspberry-pi-experiments/\">Starting out with Raspberry Pi experiments</a><br /><br />\nNext post in this series: <a href=\"https://qmacro.org/2020/03/22/finding-the-pis-on-the-network/\">Finding the Pis on the network</a></p>\n<blockquote>\n<p>This post has been updated to reflect the new name of the OS -- Raspberry Pi OS -- which changed (from Raspbian) around May 2020.</p>\n</blockquote>\n<p>There are many ways to prepare base OS images for your Raspberry Pi computers. In the past I've used various devices and software to write bootable images to SD cards, but I've settled on using <a href=\"https://www.balena.io/etcher/\">balena Etcher</a> that I read about in Alex Ellis's <a href=\"https://medium.com/@alexellisuk/walk-through-install-kubernetes-to-your-raspberry-pi-in-15-minutes-84a8492dc95a\">Walk-through — install Kubernetes to your Raspberry Pi in 15 minutes</a>.</p>\n<p>The Pis in the cluster will be run headless (the only cable running to each of them will be an Ethernet cable). This has a couple of implications for us at this stage, which are (a) there's no point installing graphical tools or a full desktop, and (b) we'll be using remote access only.</p>\n<h2 id=\"no-gui\" tabindex=\"-1\">No GUI <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/22/3/preparing-the-os-image/#no-gui\" aria-hidden=\"true\">#</a></h2>\n<p>There's no point in installing a graphical user interface (GUI) or windowing system on the Pis. That said, of course, with the power of X Windows we can have remote GUI windows but that's another story and a path we don't want to take for now.</p>\n<p>There are different operating systems available for the Raspberry Pi, and at the time of this edit, <a href=\"https://www.raspberrypi.org/downloads/raspberry-pi-os/\">Raspberry Pi OS</a> (previously called Raspbian), is a Linux OS based on Debian Linux (currently Buster). Here, the &quot;Lite&quot; image, that comes without GUI software or a windowing system, is appropriate. This is convenient as the image is a lot smaller in size, too.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/03/os-image.png\" alt=\"Raspberry Pi OS (32-bit) Lite\" /></p>\n<h2 id=\"remote-access\" tabindex=\"-1\">Remote access <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/22/3/preparing-the-os-image/#remote-access\" aria-hidden=\"true\">#</a></h2>\n<p>To access the headless Pis remotely, we'll be using Secure Shell (SSH). There's a bit of a chicken-and-egg problem though, in that we need to be able to configure the Pis to allow remote access via SSH, before we can make the connection. For that we'd need a keyboard and screen, to be able to log on, install and set up the SSH service.</p>\n<p>However, headless use of Raspberry Pi computers is so common that there's a nice way to solve this dilemma, and it's described in the official documentation, in a section on <a href=\"https://www.raspberrypi.org/documentation/configuration/boot_folder.md\">the boot folder</a>. Basically, the OS image that is to be written to the SD card for installation on the Pis has a partition named <code>boot</code>. If you stick an SD card with a Linux image like Raspian Buster on it into your desktop computer or laptop, and automatic mounting is enabled, you'll see this boot partition mounted, and you can have a look inside.</p>\n<p>If you place a file called <code>ssh</code> in this boot partition, then when the image is inserted into a Pi and the Pi is booted, SSH will be enabled automatically and set up appropriately. Nice!</p>\n<h2 id=\"preparing-the-image\" tabindex=\"-1\">Preparing the image <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/22/3/preparing-the-os-image/#preparing-the-image\" aria-hidden=\"true\">#</a></h2>\n<p>Most of the articles on the preparation of SD cards for Pis involve multiple steps: first, burn the OS image, then eject and re-insert the SD card to have the <code>boot</code> partition from that new image automatically mounted, then create the <code>ssh</code> file in that partition, and finally unmount the partition. This is fine for the occasional SD card preparation, but when preparing SD cards for an entire cluster, this can get tedious.</p>\n<p>So I decided to embrace one of the <a href=\"http://threevirtues.com/\">three virtues</a> of a programmer, namely laziness.</p>\n<p>After downloading the Raspbian Buster Lite image, I unzipped the archive to reveal the actual image file, which I then mounted. In the mounted partition, I added the <code>ssh</code> file, before unmounting it again. I then zipped the now-SSH-enabled image file up again, ready for writing to the SD cards.</p>\n<p>On my macOS machine (which is one of the few devices I have that has an SD card slot), I unzipped the archive like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">-<span class=\"token operator\">></span> <span class=\"token function\">unzip</span> <span class=\"token number\">2020</span>-05-27-raspios-buster-lite-armhf.zip<br />Archive:  <span class=\"token number\">2020</span>-05-27-raspios-buster-lite-armhf.zip<br />  inflating: <span class=\"token number\">2020</span>-05-27-raspios-buster-lite-armhf.img</code></pre>\n<p>Then I used the DiskImageMounter utility <code>hdiutil</code> to mount the <code>.img</code> image file (noting also that the <code>boot</code> partition is only one of two partitions on the image - the other, of type &quot;Linux&quot;, being the eventual root partition):</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">-<span class=\"token operator\">></span> hdiutil <span class=\"token function\">mount</span> <span class=\"token number\">2020</span>-05-27-raspios-buster-lite-armhf.img<br />/dev/disk3              FDisk_partition_scheme<br />/dev/disk3s1            Windows_FAT_32                  /Volumes/boot<br />/dev/disk3s2            Linux</code></pre>\n<p>The <code>boot</code> partition was made available at <code>/Volumes/boot</code>, as we can see from what <code>df</code> tells us:</p>\n<pre><code>-&gt; df | grep disk3\n/dev/disk3s1  516190   104290   411900   21%   0    0  100%  /Volumes/boot\n</code></pre>\n<p>I could then add an empty <code>ssh</code> file to the filesystem on that partition:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">-<span class=\"token operator\">></span> <span class=\"token function\">touch</span> /Volumes/boot/ssh</code></pre>\n<h2 id=\"wifi-connection\" tabindex=\"-1\">WiFi connection <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/22/3/preparing-the-os-image/#wifi-connection\" aria-hidden=\"true\">#</a></h2>\n<p>If you'd also like your Raspberry Pi to connect to your WiFi network when it boots (which will often be the case, even for headless mode), then at this stage you can also add another file, and this time, it's not an empty file like the <code>ssh</code> one, but one with configuration so that the Pi can connect to and authenticate with your WiFi network.</p>\n<p>If you want to do that, create a file in the same boot partition as you created the <code>ssh</code> file, called <code>wpa_supplicant.conf</code>, and add the following configuration to it:</p>\n<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev\nupdate_config=1\ncountry=&lt;Insert 2 letter ISO 3166-1 country code here&gt;\n\nnetwork={\n ssid=&quot;&lt;Name of your wireless LAN&gt;&quot;\n psk=&quot;&lt;Password for your wireless LAN&gt;&quot;\n}\n</code></pre>\n<p>(This example is taken directly from this useful page: <a href=\"https://www.raspberrypi.org/documentation/configuration/wireless/headless.md\">Setting up a Raspberry Pi headless</a>).</p>\n<blockquote>\n<p>If you're in the UK and wondering about the ISO-3166-1 country code that you need, it's &quot;GB&quot;.</p>\n</blockquote>\n<p>After that, I unmounted it:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">-<span class=\"token operator\">></span> <span class=\"token function\">umount</span> /Volumes/boot</code></pre>\n<p>And then created a new zip archive:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">-<span class=\"token operator\">></span> <span class=\"token function\">zip</span> <span class=\"token number\">2020</span>-05-27-raspios-buster-lite-armhf-ssh.zip <span class=\"token number\">2020</span>-05-27-raspios-buster-lite-armhf.img<br />  adding: <span class=\"token number\">2020</span>-05-27-raspios-buster-lite-armhf.img</code></pre>\n<h2 id=\"using-the-image\" tabindex=\"-1\">Using the image <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/22/3/preparing-the-os-image/#using-the-image\" aria-hidden=\"true\">#</a></h2>\n<p>I could then use this new image archive file <code>2020-05-27-raspios-buster-lite-armhf-ssh.zip</code> in my use of balena Etcher, creating all four SD cards ready for the Pis in the cluster. Result!</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/03/etcher.png\" alt=\"balena Etcher\" /></p>\n<p>Balena Etcher is great, but if, like me, you're more of a terminal person, you can also perform this step from the command line.</p>\n<p>Whether or not you use balena Etcher or the command line, it's at this stage of course that you insert the SD card.</p>\n<p>The steps are described well in <a href=\"https://www.raspberrypi.org/documentation/installation/installing-images/mac.md\">Copying an operating system image to an SD card using Mac OS</a> so here's a precis:</p>\n<pre><code>-&gt; diskutil list\n/dev/disk0 (internal, physical):\n   #:                       TYPE NAME                    SIZE       IDENTIFIER\n   0:      GUID_partition_scheme                        *1.0 TB     disk0\n   1:                        EFI EFI                     314.6 MB   disk0s1\n   2:                 Apple_APFS Container disk1         1.0 TB     disk0s2\n\n[...]\n\n/dev/disk4 (external, physical):\n   #:                       TYPE NAME                    SIZE       IDENTIFIER\n   0:     FDisk_partition_scheme                        *31.9 GB    disk4\n   1:             Windows_FAT_32 boot                    268.4 MB   disk4s1\n   2:                      Linux                         31.6 GB    disk4s2\n\n-&gt; sudo diskutil unmountDisk /dev/disk4\nPassword: ...\nUnmount of all volumes on disk4 was successful\n-&gt; sudo dd bs=1m if=./2020-05-27-raspios-buster-lite-armhf.img of=/dev/rdisk4; sync\n1768+0 records in\n1768+0 records out\n1853882368 bytes transferred in 122.702619 secs (15108743 bytes/sec)\n-&gt; sudo diskutil eject /dev/rdisk5\nDisk /dev/rdisk5 ejected\n</code></pre>\n<h2 id=\"a-note-on-security\" tabindex=\"-1\">A note on security <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/22/3/preparing-the-os-image/#a-note-on-security\" aria-hidden=\"true\">#</a></h2>\n<p>You may be wondering why there's no Raspbian image available that already contains the <code>ssh</code> file. That's because it would be a security risk; in other words, you have to explicitly enable SSH through this route if you want it; otherwise, the Pis stay locked down. That's the right approach.</p>\n<h2 id=\"booting-and-connecting\" tabindex=\"-1\">Booting and connecting <a class=\"direct-link\" href=\"https://qmacro.org/blog/2020/22/3/preparing-the-os-image/#booting-and-connecting\" aria-hidden=\"true\">#</a></h2>\n<p>After inserting the SD cards into the Raspberry Pis, and connecting up the Ethernet cables to power them up and have them boot the images for the first time, we can see that this SSH configuration action was successful:</p>\n<pre><code>-&gt; ssh 192.168.86.53\nThe authenticity of host '192.168.86.53 (192.168.86.53)' can't be established.\nECDSA key fingerprint is SHA256:jFgPSwjEQsCSUx+nJcZ6ub9EhoGC1I1vSX5uSvVc1YE.\nAre you sure you want to continue connecting (yes/no)?\n</code></pre>\n<p>In the next post, we'll find out how I discovered the IP address(es) to use to connect, but for now, this is a great start - the SSH service responded to my request to connect (the &quot;authenticity&quot; message is just my machine saying &quot;hey, I don't recognise this remote host - are you sure you want to proceed?&quot;) - we're all ready to start setting up our Pis for some clustering goodness!</p>\n<p>Next post in this series: <a href=\"https://qmacro.org/2020/03/22/finding-the-pis-on-the-network/\">Finding the Pis on the network</a></p>\n",
      "date_published": "2020-03-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/22/3/finding-the-pis-on-the-network/",
      "url": "https://qmacro.org/blog/2020/22/3/finding-the-pis-on-the-network/",
      "title": "Finding the Pis on the network",
      "content_html": "<p><em>Now that we have our Pis booted and up and running on the network, we need to find them to configure them further.</em></p>\n<p>This is a post in the &quot;<a href=\"https://qmacro.org/2020/03/22/brambleweeny-cluster-experiments/\">Brambleweeny Cluster Experiments</a>&quot; series of blog posts, which accompanies the <a href=\"https://www.youtube.com/playlist?list=PLfctWmgNyOIf9rXaZp9RSM2YVxAPGGthe\">YouTube live stream recording playlist</a> of the same name. The video linked here is the one that accompanies this blog post.</p>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/hx7DB7Iqslk\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\"></iframe>\n<p>Previous post in this series: <a href=\"https://qmacro.org/2020/03/22/preparing-the-os-image/\">Preparing the OS image</a><br /><br />\nNext post in this series: <a href=\"https://qmacro.org/2020/04/05/initial-pi-configuration-via-ansible/\">Initial Pi configuration via Ansible</a></p>\n<p>Having booted the Pis in the cluster using the <a href=\"https://qmacro.org/2020/03/22/preparing-the-os-image/\">OS image prepared earlier</a>, we now need to find them so that we can continue with the setup.</p>\n<p>What does that mean? Well, the Pis will have requested IP addresses via DHCP. In my case, I run DHCP via my Google Wifi setup, and have a range set up for DHCP leases. While I can guess what the IP addresses might be, it's not scientific. I could look at the Google Wifi app on my phone, and go through manually searching for the devices that called themselves something that includes the string &quot;raspberrypi&quot;, then looking at the details to reveal the IP addresses. But that sounds too much hard work, and not something I'd learn from.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/03/wifiapp.png\" alt=\"Google Wifi app\" /></p>\n<p><strong>Using nmap</strong></p>\n<p>I could use the <code>nmap</code> command that Alex <a href=\"https://medium.com/@alexellisuk/walk-through-install-kubernetes-to-your-raspberry-pi-in-15-minutes-84a8492dc95a\">uses</a>, which has a wealth of possibilities. If all I wanted to do was to find the IP addresses, this would be what I'd want to use, specifying the <code>-sn</code> option (which means &quot;don't do a port scan&quot;, previously the option was <code>-sP</code>) for my home network (192.168.86.0/24), which would give results that look like this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">-<span class=\"token operator\">></span> nmap -sn <span class=\"token number\">192.168</span>.86.0/24<br />Starting Nmap <span class=\"token number\">7.70</span> <span class=\"token punctuation\">(</span> https://nmap.org <span class=\"token punctuation\">)</span> at <span class=\"token number\">2020</span>-03-22 <span class=\"token number\">17</span>:08 GMT<br /><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span><br />Nmap scan report <span class=\"token keyword\">for</span> chromecast-audio.lan <span class=\"token punctuation\">(</span><span class=\"token number\">192.168</span>.86.43<span class=\"token punctuation\">)</span><br />Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.037s latency<span class=\"token punctuation\">)</span>.<br />Nmap scan report <span class=\"token keyword\">for</span> amazon-517762033.lan <span class=\"token punctuation\">(</span><span class=\"token number\">192.168</span>.86.47<span class=\"token punctuation\">)</span><br />Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.10s latency<span class=\"token punctuation\">)</span>.<br />Nmap scan report <span class=\"token keyword\">for</span> pimodelb.lan <span class=\"token punctuation\">(</span><span class=\"token number\">192.168</span>.86.49<span class=\"token punctuation\">)</span><br />Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.0022s latency<span class=\"token punctuation\">)</span>.<br />Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.86.15<br />Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.026s latency<span class=\"token punctuation\">)</span>.<br />Nmap scan report <span class=\"token keyword\">for</span> raspberrypi.lan <span class=\"token punctuation\">(</span><span class=\"token number\">192.168</span>.86.54<span class=\"token punctuation\">)</span><br />Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.0039s latency<span class=\"token punctuation\">)</span>.<br />Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.86.47<br />Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.0033s latency<span class=\"token punctuation\">)</span>.<br />Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.86.125<br />Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.0023s latency<span class=\"token punctuation\">)</span>.<br /><span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span><br />Nmap done: <span class=\"token number\">256</span> IP addresses <span class=\"token punctuation\">(</span><span class=\"token number\">28</span> hosts up<span class=\"token punctuation\">)</span> scanned <span class=\"token keyword\">in</span> <span class=\"token number\">2.38</span> seconds<br />-<span class=\"token operator\">></span></code></pre>\n<p>If you're wondering about the way the network is written, i.e. 192.168.86.0/24, here's how that works. An IP (v4) address is a dotted quad number, i.e. four single byte values (range 0-255) that specify a combination of network number and host number. The number after the slash (24 in this case) tells you how many bits wide the mask for the network number is, with the remaining bits being the host number. Bearing in mind that the resolution of four bytes gives a total address space of 32 bits (4 x 8), 24 signifies that the first three numbers (192.168.86) represent the network number, and the fourth represents the host number(s).</p>\n<p>This is how I see 192.168.86.0/24 in my mind:</p>\n<pre><code>     192      168       86        0 decimal\n11000000 10101000 01010110 00000000 binary\n11111111 11111111 11111111 00000000 network mask (24 bits)\n|                        | |      |\n+------------------------+ +------+\n            |                 |\n          network            host\n</code></pre>\n<p>Given that I can work out what IP addresses might already be allocated on my network, I could eventually reach the conclusion that the following IP addresses were the four new Pis in the cluster: 192.168.86.53, 192.168.86.54, 192.168.86.55 and 192.168.86.56.</p>\n<p>But that feels a little fuzzy to me.</p>\n<p>Moreover, I'm learning about <a href=\"https://www.ansible.com/\">Ansible</a> from Jeff Geerling, as I mentioned in <a href=\"https://qmacro.org/2020/03/22/starting-out-with-raspberry-pi-experiments/\">Starting out with Raspberry Pi experiments</a>, and want to use some of the Ansible goodness for the setup of the Pis, as explained in his wiki page <a href=\"http://www.pidramble.com/wiki/setup/network\">Network the Raspberry Pis</a>. Jeff has a nice <a href=\"https://github.com/geerlingguy/raspberry-pi-dramble/tree/master/setup/networking\">networking setup</a> section in his GitHub repo <a href=\"https://github.com/geerlingguy/raspberry-pi-dramble\">geerlingguy/raspberry-pi-dramble</a> which I recommend you have a look at. In this networking setup he has a playbook (a series of tasks for Ansible to carry out on a set of remote hosts) <a href=\"https://github.com/geerlingguy/raspberry-pi-dramble/blob/master/setup/networking/main.yml\"><code>main.yml</code></a> that sets up networking, including allocating specific IP addresses to specific hosts.</p>\n<p>How are these hosts identified and defined? In a <code>vars.yml</code> file, an example of which is <a href=\"https://github.com/geerlingguy/raspberry-pi-dramble/blob/master/setup/networking/example.vars.yml\">provided</a> in that networking setup section. It contains a mapping of MAC addresses to hostname and IP address pairs, which is exactly what I want. In other words, I want to give each of the Pis in the cluster a hostname, and a specific IP address that will persist and that I can remember.</p>\n<p>I'm going to jump ahead and show you what's in the <code>vars.yml</code> file for my Pi cluster setup here:</p>\n<pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span><br /><span class=\"token comment\"># Mapping of what hardware MAC addresses should be configured with specific IPs.</span><br /><span class=\"token key atrule\">mac_address_mapping</span><span class=\"token punctuation\">:</span><br /><br />  <span class=\"token key atrule\">\"dc:a6:32:60:60:95\"</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> brambleweeny1.lan<br />    <span class=\"token key atrule\">ip</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.86.12\"</span><br />  <span class=\"token key atrule\">\"dc:a6:32:60:60:77\"</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> brambleweeny2.lan<br />    <span class=\"token key atrule\">ip</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.86.13\"</span><br />  <span class=\"token key atrule\">\"dc:a6:32:60:60:44\"</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> brambleweeny3.lan<br />    <span class=\"token key atrule\">ip</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.86.14\"</span><br />  <span class=\"token key atrule\">\"dc:a6:32:60:60:e3\"</span><span class=\"token punctuation\">:</span><br />    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> brambleweeny4.lan<br />    <span class=\"token key atrule\">ip</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"192.168.86.15\"</span><br /><br /><span class=\"token comment\"># Nameservers to use in resolv.conf.</span><br /><span class=\"token key atrule\">dns_nameservers</span><span class=\"token punctuation\">:</span><br />  <span class=\"token punctuation\">-</span> <span class=\"token string\">\"192.168.86.5\"</span></code></pre>\n<p>I want to give the four Pis host numbers in the range 12-15, and name them after the cluster name &quot;Brambleweeny&quot;. I also want to tell them to use a local DNS server at 192.168.86.5 for domain name resolution. This is a tiny <a href=\"https://thepihut.com/products/raspberry-pi-zero-w\">Raspberry Pi Zero W</a> running the excellent <a href=\"https://pi-hole.net/\">Pi-hole</a>.</p>\n<p>But putting aside the IP addresses for a moment - how did I find out the MAC addresses?</p>\n<p><strong>Using arp-scan</strong></p>\n<p>Well it pleases me to say that I found them out using a bit of technology that dates back to the early 1980s, and relates directly to one of the fundamental and critical parts of the Internet protocol suite - the <a href=\"https://en.wikipedia.org/wiki/Address_Resolution_Protocol\">Address Resolution Protocol</a> (ARP). Essentially, ARP provides a mapping between the link layer address of a network device (i.e. a MAC address in this case) and the internet layer address (i.e. the IP address in this case).</p>\n<p>To work with ARP data there's a venerable program called <code>arp-scan</code> which is standard on real operating systems such as Linux. It's a system binary, which means it lives in <code>/usr/sbin</code> (&quot;sbin&quot; is short for &quot;system binaries&quot;) which means, more or less, that it's for root use only.</p>\n<p>Running <code>arp-scan</code> on this network address 192.168.86.0/24 reveals almost exactly what we're looking for: not only the MAC addresses, but the IP addresses that are associated with them.</p>\n<p>Here's what the output of running <code>arp-scan</code> on my network looks like (I've modified parts of the addresses for security reasons):</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">-<span class=\"token operator\">></span> <span class=\"token function\">sudo</span> arp-scan <span class=\"token number\">192.168</span>.86.0/24<br />Interface: eth0, datalink type: EN10MB <span class=\"token punctuation\">(</span>Ethernet<span class=\"token punctuation\">)</span><br />Starting arp-scan <span class=\"token number\">1.9</span>.5 with <span class=\"token number\">256</span> hosts <span class=\"token punctuation\">(</span>https://github.com/royhills/arp-scan<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.1    <span class=\"token number\">70</span>:3a:cb:2e:c5:fb       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.22   <span class=\"token number\">70</span>:3a:cb:32:0a:38       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.32   00:26:2d:18:d0:12       Wistron Neweb Corporation<br /><span class=\"token number\">192.168</span>.86.31   00:0e:58:68:59:33       Sonos, Inc.<br /><span class=\"token number\">192.168</span>.86.33   f0:72:ea:30:59:e3       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.37   <span class=\"token number\">64</span>:16:66:40:5f:c3       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.36   6c:ad:f8:6c:5a:3d       AzureWave Technology Inc.<br /><span class=\"token number\">192.168</span>.86.39   <span class=\"token number\">18</span>:b4:30:ec:11:2a       Nest Labs Inc.<br /><span class=\"token number\">192.168</span>.86.39   <span class=\"token number\">18</span>:b4:30:ec:51:2a       Nest Labs Inc. <span class=\"token punctuation\">(</span>DUP: <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.28   00:0e:58:8a:c6:92       Sonos, Inc.<br /><span class=\"token number\">192.168</span>.86.15   dc:a6:32:60:60:77       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.47   dc:a6:32:60:60:95       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.48   9c:32:ce:7e:15:a1       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.158  dc:a6:32:60:60:44       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.125  dc:a6:32:60:60:e3       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.20   6c:56:97:64:1d:6f       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.47   fc:65:de:08:1b:69       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.44   f4:f5:d8:ed:13:fa       Google, Inc.<br /><span class=\"token number\">192.168</span>.86.43   <span class=\"token number\">54</span>:60:09:eb:1a:dc       Google, Inc.<br /><span class=\"token number\">192.168</span>.86.21   a4:77:33:25:13:14       Google, Inc.<br /><span class=\"token number\">192.168</span>.86.187  5c:aa:fd:24:11:84       Sonos, Inc.<br /><span class=\"token number\">192.168</span>.86.24   3c:15:c2:b3:10:03       Apple, Inc.<br /><span class=\"token number\">192.168</span>.86.29   <span class=\"token number\">20</span>:16:b9:c2:1d:f1       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.250  5c:aa:fd:02:15:48       Sonos, Inc.<br /><span class=\"token number\">192.168</span>.86.26   <span class=\"token number\">20</span>:df:b9:41:1d:24       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.35   00:0e:58:f3:1e:6c       Sonos, Inc.<br /><span class=\"token number\">192.168</span>.86.40   1c:f2:9a:64:1c:22       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><br /><span class=\"token number\">29</span> packets received by filter, <span class=\"token number\">0</span> packets dropped by kernel<br />Ending arp-scan <span class=\"token number\">1.9</span>.5: <span class=\"token number\">256</span> hosts scanned <span class=\"token keyword\">in</span> <span class=\"token number\">4.639</span> seconds <span class=\"token punctuation\">(</span><span class=\"token number\">55.18</span> hosts/sec<span class=\"token punctuation\">)</span>. <span class=\"token number\">27</span> responded<br />-<span class=\"token operator\">></span></code></pre>\n<p>Gosh that's nice, but how do I tell which are my new Raspberry Pis in the cluster?</p>\n<p>Well, to answer that, we need to understand how MAC addresses are formed. Each address is a series of byte values, in hexadecimal. They're assigned to hardware devices, most commonly to network interfaces. In the case of the Pis, this is the RJ45 Ethernet port you can see in the top right of this picture of a Raspberry Pi 4:</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/03/pi4.png\" alt=\"Raspberry Pi 4\" /></p>\n<p>Significantly, the first three bytes in a MAC address represent the hardware manufacturer, via a so-called Organisationally Unique Identifier (OUI). And if we look at the <a href=\"http://standards-oui.ieee.org/oui.txt\">canonical list of OUIs</a> we see that there's an entry for the Raspberry Pi organisation thus:</p>\n<pre><code>DC-A6-32   (hex)        Raspberry Pi Trading Ltd\nDCA632     (base 16)    Raspberry Pi Trading Ltd\n                        Maurice Wilkes Building, Cowley Road\n                        Cambridge    CB4 0DS\n                        GB\n</code></pre>\n<p>How convenient!</p>\n<blockquote>\n<p>Incidentally, the building in this address is named after one of the fathers of modern computing, <a href=\"https://en.wikipedia.org/wiki/Maurice_Wilkes\">Maurice Wilkes</a>, who worked on one of the earliest stored-program computers EDSAC, and who also invented microprogramming, which was first described in Manchester in 1951.</p>\n</blockquote>\n<p>So all we have to do is reduce the output of <code>arp-scan</code> by filtering the output to only show devices manufactured by the Raspberry Pi organisation, which has the OUI DC-A6-32, or, as it's more commonly written, dc:a6:32:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">-<span class=\"token operator\">></span> <span class=\"token function\">sudo</span> arp-scan <span class=\"token number\">192.168</span>.86.0/24 <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> dc:a6:32<br /><span class=\"token number\">192.168</span>.86.47   dc:a6:32:60:60:95       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.15   dc:a6:32:60:60:77       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.158  dc:a6:32:60:60:44       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br /><span class=\"token number\">192.168</span>.86.125  dc:a6:32:60:60:e3       <span class=\"token punctuation\">(</span>Unknown<span class=\"token punctuation\">)</span><br />-<span class=\"token operator\">></span></code></pre>\n<p>Bingo!</p>\n<p>DHCP leases had indeed been given out for hosts 47, 15, 158 and 125 in the 192.168.86.0/24 network, and there we have each associated MAC address too.</p>\n<p>So in preparing for the networking setup, the MAC addresses went into the <code>vars.yml</code> file as shown earlier, with the <strong>to-be</strong> IP addresses.</p>\n<p>Of course, we need to help Ansible find the Pis to make this configuration, and for that we need to specify a list of the <strong>existing</strong> IP addresses, which we now also have. Those go into the Ansible inventory, effectively a list of hosts in this simple case.</p>\n<p>Based on the <a href=\"https://github.com/geerlingguy/raspberry-pi-dramble/blob/master/setup/networking/example.inventory\"><code>example.inventory</code></a> in Jeff's repository, here's what we need for the setup in the case of our Brambleweeny cluster:</p>\n<pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token punctuation\">[</span>brambleweeny<span class=\"token punctuation\">]</span><br />192.168.86.47<br />192.168.86.15<br />192.168.86.158<br />192.168.86.125<br /><br /><span class=\"token punctuation\">[</span>brambleweeny<span class=\"token punctuation\">:</span>vars<span class=\"token punctuation\">]</span><br />ansible_ssh_user=pi</code></pre>\n<p>I've changed the name of the group from &quot;Dramble&quot; to &quot;Brambleweeny&quot;, and of course adjusted the IP addresses to the as-is ones that exist right now. There's also a variable in this file, <code>ansible_ssh_user</code>, but we'll ignore that for now.</p>\n<p>At this stage, we have found the Pis on the network, and gathered the appropriate information to supply to Ansible so that we can ask it to make the networking setup on each host, on our behalf.</p>\n<p>We'll get to that in the next post. Until then, happy arping!</p>\n<p>Next post in this series: <a href=\"https://qmacro.org/2020/04/05/initial-pi-configuration-via-ansible/\">Initial Pi configuration via Ansible</a></p>\n",
      "date_published": "2020-03-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2020/22/3/brambleweeny-cluster-experiments/",
      "url": "https://qmacro.org/blog/2020/22/3/brambleweeny-cluster-experiments/",
      "title": "Brambleweeny Cluster Experiments",
      "content_html": "<p><em>This is where the individual posts in the &quot;Brambleweeny Cluster Experiments&quot; series of blog posts are listed, in order.</em></p>\n<p>I'm experimenting with a cluster of Raspberry Pi computers, and sharing that experimentation as I make my slow progress towards enlightenment.</p>\n<p><img src=\"https://qmacro.org/blog/img/2020/03/picluster.png\" alt=\"The cluster\" /></p>\n<p>That sharing comes in two forms: blog posts, which you'll find listed here, and live streams, which you can find over on my YouTube channel at <a href=\"https://youtube.com/djadams-qmacro\">https://youtube.com/djadams-qmacro</a>. The channel's home page is where you'll see upcoming live streams, and the recordings are available in a playlist, also called <a href=\"https://www.youtube.com/playlist?list=PLfctWmgNyOIf9rXaZp9RSM2YVxAPGGthe\">Brambleweeny Cluster Experiments</a>.</p>\n<p>Here are the posts:</p>\n<ol>\n<li><a href=\"https://qmacro.org/2020/03/22/brambleweeny-cluster-experiments\">Brambleweeny Cluster Experiments</a> (this post)</li>\n<li><a href=\"https://qmacro.org/2020/03/22/starting-out-with-raspberry-pi-experiments\">Starting out with Raspberry Pi experiments</a></li>\n<li><a href=\"https://qmacro.org/2020/03/22/preparing-the-os-image\">Preparing the OS image</a></li>\n<li><a href=\"https://qmacro.org/2020/03/22/finding-the-pis-on-the-network\">Finding the Pis on the network</a></li>\n<li><a href=\"https://qmacro.org/2020/04/05/initial-pi-configuration-via-ansible\">Initial Pi configuration via Ansible</a></li>\n</ol>\n<p>...</p>\n<p>Share &amp; enjoy!</p>\n",
      "date_published": "2020-03-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2019/23/10/shell-power-and-simplicity/",
      "url": "https://qmacro.org/blog/2019/23/10/shell-power-and-simplicity/",
      "title": "Shell power and simplicity",
      "content_html": "<p>Sometimes we overlook the power of the shell, because the terminal context in which it's used is seen as outdated. That's far from the truth; in fact I think it would be a shame to lose sight of some fundamental and simple shell programming concepts which are as relevant, if not more, today, as they were ten years ago.</p>\n<h2 id=\"the-inspiration-for-this-post\" tabindex=\"-1\">The inspiration for this post <a class=\"direct-link\" href=\"https://qmacro.org/blog/2019/23/10/shell-power-and-simplicity/#the-inspiration-for-this-post\" aria-hidden=\"true\">#</a></h2>\n<p>Earlier this morning, on my travels, a <a href=\"https://twitter.com/david_ruizb/status/1186920793604796416\">tweet</a> from <a href=\"https://twitter.com/david_ruizb\">David Ruiz Badia</a> caught my eye:</p>\n<p>&quot;<em>Artificial intelligence + code repository on git = Autocomplete models when coding by @timoelliott Experience Intelligent Summit Barcelona #Intelligententerprise #experiencemanagement #sapchampions @SAPSpain</em>&quot;</p>\n<p>It wasn't the text or the main subject of the tweet, but the code on the slide that was shown in the accompanying picture:</p>\n<p><img src=\"https://pbs.twimg.com/media/EHjKKl3WoAAtxzl?format=jpg&amp;name=medium\" alt=\"The slide on the tweet, showing Ruby code to work out lines by file extension\" />.</p>\n<p>Luckily the code on the slide is clear enough to read, so I won't reproduce it here.</p>\n<h2 id=\"the-challenge\" tabindex=\"-1\">The challenge <a class=\"direct-link\" href=\"https://qmacro.org/blog/2019/23/10/shell-power-and-simplicity/#the-challenge\" aria-hidden=\"true\">#</a></h2>\n<p>It's Ruby, and fairly simple code to sum up the total number of lines in files, by file type (extension), in a given directory.<br />\nSo for example, assume you have the following files, each containing the indicated amount of lines:</p>\n<pre><code>a.txt (3 lines)\nb.txt (4 lines)\nc.dat (1 line)\nd.txt (2 lines)\ne.dat (5 lines)\n</code></pre>\n<p>What you want this program to produce is something like this:</p>\n<pre><code>dat -&gt; 6\ntxt -&gt; 9\n</code></pre>\n<p>Thinking of files and lines immediately switched my brain to shell mode, where one part of the shell philosophy (do one thing and do it well - also attributable to the Unix philosophy in general) gives us the <a href=\"https://linux.die.net/man/1/wc\">wc</a> program, which produces word, line, character and byte counts for files (and that's about it).</p>\n<p>Another part of the philosophy is &quot;small pieces loosely joined&quot;, which, in conjunction with the <a href=\"https://en.wikipedia.org/wiki/Pipeline_(Unix)\">pipeline</a> concept, and combined with the wonderful simplicity of STDIN (standard input) and STDOUT (standard output), gives us the ridiculously useful ability to send the output of one command into the input of another.</p>\n<p>This ability might seem somewhat familiar, particularly if you've been discovering the <a href=\"https://en.wikipedia.org/wiki/Fluent_interface\">fluent interface</a> style of method chaining in API consumption, as recently shown in how the <a href=\"https://developers.sap.com/topics/cloud-sdk.html\">SAP Cloud SDK</a> is used - here's an example from a tutorial &quot;<a href=\"https://developers.sap.com/tutorials/cap-cloudsdk-2-v2-adapter.html\">Install an OData V2 Adapter</a>&quot; which is part of one of this year's SAP TechEd App Space missions &quot;S/4HANA Extensions with Cloud Application Programming Model&quot;:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">BusinessPartnerAddress<br />        <span class=\"token punctuation\">.</span><span class=\"token function\">requestBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br />        <span class=\"token punctuation\">.</span><span class=\"token function\">getAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br />        <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><br />                BusinessPartnerAddress<span class=\"token punctuation\">.</span><span class=\"token constant\">BUSINESS_PARTNER</span><span class=\"token punctuation\">,</span><br />                BusinessPartnerAddress<span class=\"token punctuation\">.</span><span class=\"token constant\">ADDRESS_ID</span><span class=\"token punctuation\">,</span><br />                BusinessPartnerAddress<span class=\"token punctuation\">.</span><span class=\"token constant\">CITY_NAME</span><span class=\"token punctuation\">,</span><br />        <span class=\"token punctuation\">)</span><br />        <span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span><span class=\"token string\">'http://localhost:3000/v2'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br />        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">xs</span> <span class=\"token operator\">=></span> xs<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span>cityName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br />        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>console<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">)</span></code></pre>\n<p>Anyway, I'm always happy for opportunities to practise my basic shell skills and Unix commands, so I thought I'd have a go at &quot;finishing the sentence&quot; in my mind, the one that had started with <code>wc</code>, and write a pipeline that would do the same thing as that lightly pedestrian Ruby code.</p>\n<blockquote>\n<p>I realise I don't have much context as to why the code is there or why it looks like it does - it relates to machine learning powered autocomplete features in code editors, so was likely something simple enough for the audience to understand but verbose enough to be of use as an example.</p>\n</blockquote>\n<h3 id=\"getting-the-line-counts\" tabindex=\"-1\">Getting the line counts <a class=\"direct-link\" href=\"https://qmacro.org/blog/2019/23/10/shell-power-and-simplicity/#getting-the-line-counts\" aria-hidden=\"true\">#</a></h3>\n<p>Starting with <code>wc</code> on the files, using the <code>-l</code> switch to request lines, we get this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">→ <span class=\"token function\">wc</span> -l *<br /> <span class=\"token number\">3</span> a.txt<br /> <span class=\"token number\">4</span> b.txt<br /> <span class=\"token number\">1</span> c.dat<br /> <span class=\"token number\">2</span> d.txt<br /> <span class=\"token number\">5</span> e.dat<br /><span class=\"token number\">15</span> total<br />→</code></pre>\n<blockquote>\n<p>There's nothing other than these 5 files in this directory, as you might have guessed.</p>\n</blockquote>\n<p>That's something we can definitely work with - we need to sum the numbers by file extension (<code>txt</code> or <code>dat</code> in this example).</p>\n<h3 id=\"stripping-the-extraneous-info\" tabindex=\"-1\">Stripping the extraneous info <a class=\"direct-link\" href=\"https://qmacro.org/blog/2019/23/10/shell-power-and-simplicity/#stripping-the-extraneous-info\" aria-hidden=\"true\">#</a></h3>\n<p>If we're to pass the output of <code>wc</code> directly into another program to do the summing, we may trip ourselves up because of this line at the end of the <code>wc</code> output:</p>\n<pre><code>15 total\n</code></pre>\n<p>We don't want the value 15 from that total summary line to be included. So we use another program to strip that line out, and pipe <code>wc</code>'s output into that.</p>\n<p>On <a href=\"https://en.wikipedia.org/wiki/GNU\">GNU</a>-based Unix or Linux systems, we can use the <a href=\"https://en.wikipedia.org/wiki/Head_(Unix)\">head</a> program to do that for us. <code>head</code> will display the first N lines of a file. The GNU version of <code>head</code> contains a flag <code>-n</code> that can take a negative number, to work backwards from the end of the file, so that we can do this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">→ <span class=\"token function\">wc</span> -l * <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -n -1<br /> <span class=\"token number\">3</span> a.txt<br /> <span class=\"token number\">4</span> b.txt<br /> <span class=\"token number\">1</span> c.dat<br /> <span class=\"token number\">2</span> d.txt<br /> <span class=\"token number\">5</span> e.dat<br />→</code></pre>\n<p>The nice thing about this approach is that we will always strip off just the last line.</p>\n<p>Observe how the output of <code>wc</code> has been piped into the input of <code>head</code>. If you wanted to do this in a very inefficient but more or less equivalent way, using an intermediate file, you'd have to do this:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">→ <span class=\"token function\">wc</span> -l * <span class=\"token operator\">></span> intermediatefile<br />→ <span class=\"token function\">head</span> -n -1 intermediatefile<br /> <span class=\"token number\">3</span> a.txt<br /> <span class=\"token number\">4</span> b.txt<br /> <span class=\"token number\">1</span> c.dat<br /> <span class=\"token number\">2</span> d.txt<br /> <span class=\"token number\">5</span> e.dat<br />→</code></pre>\n<p>Here, the <code>&gt;</code> symbol is redirecting the STDOUT from <code>wc</code> to a file called <code>intermediatefile</code>, and the <code>head</code> program reads from STDIN, or, if a filename is specified as it is here, will read from that file.</p>\n<p>On macOS, a decendant of BSD Unix, the GNU version of <code>head</code> isn't available, and so we cannot avail ourselves of the <code>-n -1</code> approach. Instead, we'd use the <a href=\"https://linux.die.net/man/1/grep\">grep</a> command which in its basic form prints lines that match (or don't match) a pattern. We can use <code>grep</code>'s <code>-v</code> switch to negate it, i.e. to get it to print lines <em>not</em> matching the pattern, and specify &quot; total$&quot; as the pattern to match (the dollar sign at the end of the match string is a regular expression symbol that anchors the text &quot; total&quot; to the end of the line from a match perspective). While we do have to be careful not to have a file called <code>total</code>, it will do the job for us here:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">→ <span class=\"token function\">wc</span> -l * <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> -v <span class=\"token string\">' total$'</span><br /> <span class=\"token number\">3</span> a.txt<br /> <span class=\"token number\">4</span> b.txt<br /> <span class=\"token number\">1</span> c.dat<br /> <span class=\"token number\">2</span> d.txt<br /> <span class=\"token number\">5</span> e.dat<br />→</code></pre>\n<p>Same result. Nice.</p>\n<h3 id=\"summing-by-extension\" tabindex=\"-1\">Summing by extension <a class=\"direct-link\" href=\"https://qmacro.org/blog/2019/23/10/shell-power-and-simplicity/#summing-by-extension\" aria-hidden=\"true\">#</a></h3>\n<p>Now we have some clean and predictable input to pass to another program. We'll use <code>awk</code> which is a very useful and powerful text processing tool, along with its sibling <code>sed</code>. The wonderful programming language Perl took inspiration from both <code>awk</code> and <code>sed</code> and other text processing tools, as it happens.</p>\n<blockquote>\n<p>It may be interesting to you to know that <code>awk</code>'s initials are from the authors, Aho, Weinberger and Kernighan, three luminaries from Bell Labs, the birthplace of C and Unix. On the <a href=\"https://qmacro.org/2019/09/17/new-podcast-tech-aloud/\">Tech Aloud</a> podcast, you'll find an episode entitled &quot;<a href=\"https://anchor.fm/tech-aloud/episodes/C--the-Enduring-Legacy-of-Dennis-Ritchie---Alfred-V--Aho---07-Sep-2012-e7mp8r\">C, the Enduring Legacy of Dennis Ritchie - Alfred V. Aho - 07 Sep 2012</a>&quot; to which you may enjoy listening.</p>\n</blockquote>\n<p><code>awk</code> reads lines from STDIN (standard input) and is used often to rearrange fields in those lines, or otherwise process them. In this case we're going to read in the output from our pipeline so far, and get <code>awk</code> to start out by splitting each one up into separate pieces, so that we go from this:</p>\n<pre><code> 3 a.txt\n 4 b.txt\n 1 c.dat\n 2 d.txt\n 5 e.dat\n</code></pre>\n<p>to this:</p>\n<pre><code> 3 a txt\n 4 b txt\n 1 c dat\n 2 d txt\n 5 e dat\n</code></pre>\n<p>In this new state we can now distinguish the file extensions, and thereby have a chance to sum the line counts by them.</p>\n<p>To do this, we use the <code>-F</code> switch which allows us to define what we want the &quot;field separator&quot; to be, what character (or which characters) we want <code>awk</code> to split each line on. In our case we want to split on space, and also period. So we do the following, specifying a simple in-line <code>awk</code> script as the main parameter:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">→ <span class=\"token function\">wc</span> -l * <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -n -1 <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F <span class=\"token string\">'[\\ .]'</span> <span class=\"token string\">'{print $2, $NF}'</span><br /><span class=\"token number\">3</span> txt<br /><span class=\"token number\">4</span> txt<br /><span class=\"token number\">1</span> dat<br /><span class=\"token number\">2</span> txt<br /><span class=\"token number\">5</span> dat</code></pre>\n<blockquote>\n<p>We have to escape the space in the list of delimiters, hence the <code>\\</code> escape character.</p>\n</blockquote>\n<p>What the script (<code>{ print $2, $NF }</code>) is doing is simply printing out field number 2 and the last field. We specify field number 2 (<code>$2</code>) because there's an empty field number one, because we've split on space. We get the last field by specifying <code>$NF</code>, which represents &quot;the number of fields&quot;.</p>\n<p>Note that for every line of input, we get a line of output. This is deliberate - <code>awk</code> executes the bit in curly brackets for each line it processes. But we can also get <code>awk</code> to do something at the beginning, or at the end, of processing. Consider a change from the simple script that we have now:</p>\n<pre><code>{ print $2, $NF }\n</code></pre>\n<p>to this:</p>\n<pre><code>{ counts[$NF]+=$2 }\nEND { for (ext in counts) print ext, &quot;-&gt;&quot;, counts[ext] }\n</code></pre>\n<p>This will accumulate the individual line counts for each file into an associative array <code>counts</code> keyed by the extension (e.g. <code>txt</code>). The <code>{ counts[$NF]+=$2 }</code> part runs for each line coming in on STDIN. Then at the end of processing, the block with the <code>for</code> loop is executed, printing out the totals by extension.</p>\n<p>Let's see this in action:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">→ <span class=\"token function\">wc</span> -l * <span class=\"token operator\">|</span> <span class=\"token function\">head</span> -n -1 <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> -F<span class=\"token string\">'[\\ .]'</span> <span class=\"token string\">'{counts[$NF]+=$2}<br />> END {for (ext in counts) print ext, \"->\", counts[ext]}'</span><br />dat -<span class=\"token operator\">></span> <span class=\"token number\">6</span><br />txt -<span class=\"token operator\">></span> <span class=\"token number\">9</span></code></pre>\n<blockquote>\n<p>The <code>&gt;</code> symbol at the start of the second line is the &quot;continuation&quot; character, put there by the shell to tell me it was expecting more input, after I'd hit enter at the end of the first line (because I hadn't yet closed the opening single quote).</p>\n</blockquote>\n<h2 id=\"wrapping-up\" tabindex=\"-1\">Wrapping up <a class=\"direct-link\" href=\"https://qmacro.org/blog/2019/23/10/shell-power-and-simplicity/#wrapping-up\" aria-hidden=\"true\">#</a></h2>\n<p>And there we have it. We only used a few features of <code>awk</code> but they are certainly powerful enough for this task, when combined into a pipeline with <code>wc</code> and <code>head</code> (or <code>grep</code>).</p>\n<p>I'd encourage you to spend some time in a text-based Unix or Unix-like environment. All the major PC operating systems today have such environments available, either directly (with Linux and macOS) or indirectly via VMs (with ChromeOS and Windows 10).</p>\n<p>The future is terminal. Happy pipelining!</p>\n",
      "date_published": "2019-10-23T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2019/17/9/new-podcast-tech-aloud/",
      "url": "https://qmacro.org/blog/2019/17/9/new-podcast-tech-aloud/",
      "title": "New podcast - Tech Aloud",
      "content_html": "<p><em>I've created a new podcast called &quot;Tech Aloud&quot;, where I read out loud tech articles and blog posts, so you can consume them while on the go.</em></p>\n<p><a href=\"https://qmacro.org/anchor.fm/tech-aloud\"><img src=\"https://qmacro.org/blog/img/2019/09/tech-aloud.jpeg\" alt=\"Tech Aloud logo\" /></a></p>\n<p>There's such a rich seam of material out there to read and learn from that it's more or less impossible to keep up. Technical articles and blog posts are published day in day out, and I can only find time to read so many. I'd been thinking that if I could find a podcast where articles and blog posts are simply read out, aloud, I could digest a little more via audio while on the move, when travelling or even just going for a walk.</p>\n<p>I couldn't find such a podcast, so I decided to start one myself. It's called &quot;<a href=\"https://anchor.fm/tech-aloud\">Tech Aloud</a>&quot; and is hosted on Anchor FM. It's already available in many of the podcast systems:</p>\n<ul>\n<li>\n<p><a href=\"https://player.fm/series/tech-aloud\">Player FM</a></p>\n</li>\n<li>\n<p><a href=\"https://podcasts.google.com/?feed=aHR0cHM6Ly9hbmNob3IuZm0vcy9lNWRjMzZjL3BvZGNhc3QvcnNz\">Google Podcasts</a></p>\n</li>\n<li>\n<p><a href=\"https://open.spotify.com/show/5l4AR3Q3HKZEpE7x9j0tdJ\">Spotify</a></p>\n</li>\n<li>\n<p><a href=\"https://www.breaker.audio/tech-aloud\">Breaker</a></p>\n</li>\n<li>\n<p><a href=\"https://overcast.fm/itunes1480329467/tech-aloud\">Overcast</a></p>\n</li>\n<li>\n<p><a href=\"https://pca.st/kyepz7uy\">Pocket Casts</a></p>\n</li>\n<li>\n<p><a href=\"https://radiopublic.com/tech-aloud-6N3Nrw\">Radio Public</a></p>\n</li>\n<li>\n<p><a href=\"https://podcasts.apple.com/gb/podcast/tech-aloud/id1480329467\">Apple Podcasts</a></p>\n</li>\n</ul>\n<p>If you want to add it to your own podcast listening workflow, the RSS feed URL is: <a href=\"https://anchor.fm/s/e5dc36c/podcast/rss\">https://anchor.fm/s/e5dc36c/podcast/rss</a>.</p>\n<p>You can learn more about this new podcast by listening to the first episode &quot;<a href=\"https://anchor.fm/tech-aloud/episodes/Welcome-to-Tech-Aloud-e5ddsh\">Welcome to Tech Aloud</a>&quot;. I've also written a post on the SAP Community about this podcast, which provides a bit more context: &quot;<a href=\"https://blogs.sap.com/2019/09/18/tech-aloud-podcast-an-introduction/\">Tech Aloud podcast - an introduction</a>&quot;. Moreover, I'm encouraging folks to submit content suggestions during the SAP TechEd Barcelona week in this post: &quot;<a href=\"https://blogs.sap.com/2019/10/04/submit-suggestions-for-tech-aloud-during-sap-teched-barcelona/\">Submit suggestions for Tech Aloud during SAP TechEd Barcelona</a>&quot;.</p>\n<p>I have a system for bookmarking articles and posts that I want to read, and this podcast is me basically dipping into that list, picking entries out that seem suitable for audio, and recording them as episodes in this new podcast. How do I pick which articles or posts to read aloud? Well, there are a few rules of thumb:</p>\n<ul>\n<li>\n<p>each audio episode should be fairly short (say, up to 10 minutes), so super long essays are not going to make the cut, no matter how interesting they are (I reserve the right to make exceptions, though!)</p>\n</li>\n<li>\n<p>the content must be mostly text; in other words, if it's code or diagram heavy, it's not going to translate well into a pure audio format</p>\n</li>\n<li>\n<p>the range of topics is wide, and basically whatever takes my fancy</p>\n</li>\n</ul>\n<p>On that last point, I might even think about letting you submit requests (for certain articles or posts of your choosing to be included). More on that another time, perhaps.</p>\n<p>Anyway, I've also created a <a href=\"https://github.com/qmacro/tech-aloud\">GitHub repo</a> to manage my activities relating to the production of this podcast - mainly listing the articles or posts that I want to read out loud, and which ones I've done in a project (&quot;<a href=\"https://github.com/qmacro/tech-aloud/projects/1\">Episodes</a>&quot;) in that repo.</p>\n<p>Ok, one final note - my reading aloud of any given article or blog post does not represent any sort of endorsement from me - it's just that I find it interesting.</p>\n<p>Oh yes, and don't forget to subscribe, and if you're subscribing to this one and interested in SAP tech, you should also subscribe to the <a href=\"https://anchor.fm/sap-community-podcast\">Coffee Corner Radio podcast</a> which has a whole host of great stuff on subjects within the SAP tech ecosphere.</p>\n",
      "date_published": "2019-09-17T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2019/28/8/hitch-hiker-s-style-in-sea-of-sorrows/",
      "url": "https://qmacro.org/blog/2019/28/8/hitch-hiker-s-style-in-sea-of-sorrows/",
      "title": "Hitch Hiker&#39;s style in Sea of Sorrows",
      "content_html": "<p><em>Is there a link between a scene in &quot;Alien: Sea of Sorrows&quot; and a scene in part 2 of The Hitch Hiker's Guide To The Galaxy? I think so, or perhaps I hope so.</em></p>\n<p>I'm listening to and rather enjoying the Audible Original &quot;<a href=\"https://www.amazon.co.uk/Alien-Sorrows-Audible-Original-Drama/dp/B07B3MZHTQ\">Alien: Sea Of Sorrows</a>&quot;. Beyond being a good story (along with its related titles such as &quot;Out Of The Shadows&quot; and &quot;River Of Pain&quot;), the audio genre is new to me - rather than just being a narration, it's a full-on audio action experience. Definitely recommended.</p>\n<p>Anyway, in Chapter 2, Rawlins, Morris and someone else is inspecting the <a href=\"https://avp.fandom.com/wiki/DSMO_Marion\">Deep Space Mining Orbital spaceship &quot;Marion&quot;</a>, destroyed in unusual circumstances (in &quot;Out Of The Shadows&quot;, actually).</p>\n<p>Closely examining a fragment of the ship, the dialogue between the characters goes something like this:</p>\n<p><em>... &quot;OK, looks like a section from a docking arm.&quot;<br /><br />\nMorris: &quot;Bay three docking arm from the DSMO Marion, to be exact.&quot;<br /><br />\nRawlins: &quot;You can tell which docking bay this came from? Is it that obvious?!&quot;<br /><br />\nMorris: &quot;No, there's a serial number on the end plate.&quot;</em></p>\n<p>There's a lovely contrast between how impressed Rawlins is, and how Morris's response is honest and matter-of-fact, and how it conveys an almost but not quite imperceptible playfulness on the part of the author, <a href=\"https://en.wikipedia.org/wiki/Dirk_Maggs\">Dirk Maggs</a>. Because it reminded me of another passage, from my favourite series of all time, Douglas Adams's Hitch Hiker's Guide To The Galaxy, in particular the <a href=\"https://en.wikipedia.org/wiki/The_Hitchhiker%27s_Guide_to_the_Galaxy#Original_radio_series\">original radio series</a> from the late 1970s. In Part 2, or rather &quot;<a href=\"https://www.clivebanks.co.uk/THHGTTG/THHGTTGradio2.htm\">Fit the Second</a>&quot;, there's this exchange between Arthur and Ford, who have just been picked up from open space and found themselves inside the Heart of Gold spaceship:</p>\n<p><em>Ford: &quot;I think this ship is brand new, Arthur.&quot;<br /><br />\nArthur: &quot;How can you tell? Have you got some exotic device for measuring the age of metal?&quot;<br /><br />\nFord: &quot;No, I just found this sales brochure lying on the floor.&quot;</em></p>\n<p>Again, there's the banality of the answer which wonderfully contrasts with alternative and potentially amazing explanations.</p>\n<p>I can't help but think that the conversation on DSMO Marion is somewhat of a small homage to this classic exchange.</p>\n",
      "date_published": "2019-08-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2019/29/7/we-can-do-better-than-polynimbus/",
      "url": "https://qmacro.org/blog/2019/29/7/we-can-do-better-than-polynimbus/",
      "title": "We can do better than &#39;polynimbus&#39;",
      "content_html": "<p>My attention was drawn to an interesting blog post over on the <a href=\"https://community.sap.com/\">SAP Community</a>: &quot;<a href=\"https://blogs.sap.com/2019/07/29/are-you-polynimbus/\">Are you polynimbus</a>&quot;. The word &quot;polynimbus&quot; jumped out at me, and not particularly in a good way. Here's why.</p>\n<p>First, before reading the first paragraph of the post which explains where the word comes from, I was able to get a general idea of what the word was supposed to mean. I looked into where the word came from, and it seems to have started appearing in a few sources, including:</p>\n<ul>\n<li><a href=\"https://buildazure.com/the-polynimbus-cloud-enterprise\">The Polynimbus Cloud Enterprise</a></li>\n<li><a href=\"http://www.mplsvpn.info/2019/02/what-is-polynimbus-strategy.html\">What is Polynimbus Strategy?</a></li>\n<li><a href=\"https://polynimbus.it/\">Polynimbus.it</a></li>\n</ul>\n<p>There's even a <a href=\"https://github.com/polynimbus/polynimbus\">GitHub organisation and repo</a> with this name too.</p>\n<p>The thing is, to me (and I guess I should declare myself a pedant and proud of it) this neologism is ugly and not really thought through, for these reasons:</p>\n<ol>\n<li>\n<p>It's a hybrid of Greek (poly) and Latin (nimbus). There are of course other words that are hybrid, but if we're going to create new compound words, surely we want to avoid hybrids? After all, the original meaning of the word &quot;hybrid&quot; has <a href=\"https://en.wiktionary.org/wiki/%E1%BD%95%CE%B2%CF%81%CE%B9%CF%82\">rather negative connotations</a>.</p>\n</li>\n<li>\n<p>If we're going to go for tacking a Latin word onto the end of a Greek one, let's at least make sure it's the <em>right</em> Latin word. &quot;Nimbus&quot; doesn't mean simply &quot;cloud&quot; <a href=\"https://en.wiktionary.org/wiki/nimbus#Latin\">in Latin</a>, it means &quot;dark cloud&quot;, like a thunder or storm cloud. Perhaps not exactly the meaning we want to convey when talking about something positive.</p>\n</li>\n<li>\n<p>The word seems to be employed mostly as an adjective right now. Using the raw nominative singular form of the noun &quot;nimbus&quot; is hardly appropriate, then. At least change the ending to a more traditionally adjectival suffix &quot;-ic&quot;, in other words &quot;polynimbic&quot;.</p>\n</li>\n</ol>\n<p>I can't see this word without my face contorting into a grimace, especially when it would have been easy to come up with something a lot less unpleasant.</p>\n<p>My suggestion? <strong>Polynephic</strong>. Nephic from the Greek for cloud: <a href=\"https://en.wiktionary.org/wiki/%CE%BD%CE%AD%CF%86%CE%BF%CF%82\">νέφος</a>.</p>\n<p>Thanks for your attention :-)</p>\n",
      "date_published": "2019-07-29T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2019/18/7/the-observer-s-book-of-js-style/",
      "url": "https://qmacro.org/blog/2019/18/7/the-observer-s-book-of-js-style/",
      "title": "The Observer&#39;s Book of JS Style",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2019/07/observersbook.png\" alt=\"Observer's Book of Commercial Vehicles - cover\" /></p>\n<p>In the 1970's I had a book which I cherished: <a href=\"https://www.goodreads.com/book/show/46652855-observer-s-book-of-commercial-vehicles\">The Observer's Book of Commercial Vehicles</a>. It was pocket-sized &amp; well thumbed, and listed various vans and trucks. I could identify a Volvo F88 tractor unit from 500 paces.</p>\n<p>I guess the interest in spotting and identifying things of interest has never left me, and so I find myself delighting in various examples of style with respect to expressing oneself in code. These days it's mostly in the context of JavaScript; unlike other languages, JavaScript is not only multi-paradigm but extremely malleable, making it possible to leave behind a trace of one's character, often by accident.</p>\n<p>This post is to record some of those characterful or otherwise interesting expressions in code, taken predominantly from the Node.js codebase for the SAP Cloud Application Programming (CAP) Model.</p>\n<h1 id=\"file:-@sapcdsserver.js\" tabindex=\"-1\"><strong>File: @sap/cds/server.js</strong> <a class=\"direct-link\" href=\"https://qmacro.org/blog/2019/18/7/the-observer-s-book-of-js-style/#file:-@sapcdsserver.js\" aria-hidden=\"true\">#</a></h1>\n<p>Who knew there could be so much richness to write about in a single file of fewer than 100 lines? This is the main server mechanism, in the form of a <code>server.js</code> file in <code>@sap/cds</code>, that uses the <a href=\"https://expressjs.com/\">Express</a> web framework to serve resources both static and dynamic.</p>\n<p>If you want to see this code in context, or even get it running in your favourite debugging setup to examine things step by step, pull the <code>@sap/cds</code> package from <a href=\"https://npm.sap.com/\">SAP's NPM registry</a>, dig in to the sources, and have a look.</p>\n<h3 id=\"object-destructuring-with-default-value\" tabindex=\"-1\">Object destructuring with default value <a class=\"direct-link\" href=\"https://qmacro.org/blog/2019/18/7/the-observer-s-book-of-js-style/#object-destructuring-with-default-value\" aria-hidden=\"true\">#</a></h3>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">PORT</span><span class=\"token operator\">=</span><span class=\"token number\">4004</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<br /><span class=\"token keyword\">return</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">PORT</span><span class=\"token punctuation\">)</span></code></pre>\n<p>This is a lovely example of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Object_destructuring\">object destructuring</a> in action, with a bonus application of the default values option. Plus of course the appropriate use of a constant. This takes whatever value the PORT environmental variable might have, falling back to a default of 4004 if a value wasn't set.</p>\n<p>The other thing that stands out to me is a particular affectation that I'm still not sure about - the use of whitespace before the brackets in the <code>app.listen</code> call. It does make the code feel more like a spoken language, somehow; here's another example of that use of whitespace from the same file:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">await</span> cds<span class=\"token punctuation\">.</span><span class=\"token function\">serve</span> <span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">,</span>o<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span><span class=\"token function\">in</span> <span class=\"token punctuation\">(</span>app<span class=\"token punctuation\">)</span></code></pre>\n<p>I think I like it.</p>\n<h3 id=\"ignored-parameters\" tabindex=\"-1\">Ignored parameters <a class=\"direct-link\" href=\"https://qmacro.org/blog/2019/18/7/the-observer-s-book-of-js-style/#ignored-parameters\" aria-hidden=\"true\">#</a></h3>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">app<span class=\"token punctuation\">.</span><span class=\"token function\">get</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span>res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span> <span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">.</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">//> if none in ./app</span></code></pre>\n<p>The use of the undercore (<code>_</code>) here is not particular to JavaScript nor uncommon, but it's nice to see it in use here. As a sort of placeholder for a parameter that we're not interested in using in the function that is passed to <code>app.get</code>, the underscore is for me the perfect character to use.</p>\n<p>If you're familiar with HTTP server libraries, you'll be able to guess what that parameter is that is being ignored. An HTTP handler function is usually passed the incoming HTTP request object, and the fledgling HTTP response object. The response object is the only thing that is important here, so the signature is</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span>res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">...</span></code></pre>\n<p>rather than</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span>res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">...</span></code></pre>\n<h3 id=\"getter-and-fake-filename\" tabindex=\"-1\">Getter and fake filename <a class=\"direct-link\" href=\"https://qmacro.org/blog/2019/18/7/the-observer-s-book-of-js-style/#getter-and-fake-filename\" aria-hidden=\"true\">#</a></h3>\n<p>Did you notice something odd in that previous example? There was a call to <code>res.send</code> like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">res<span class=\"token punctuation\">.</span><span class=\"token function\">send</span> <span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">.</span>html<span class=\"token punctuation\">)</span></code></pre>\n<p>At first I was only semi-aware of something not quite right about the way that appeared. But then looking further down in the code, I suddenly realised. <code>index.html</code> is not a filename ... it's a property (<code>html</code>) on an object (<code>index</code>)! Further down, we come across this, where it's defined:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> index <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span> <span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token operator\">...</span><br />  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_html <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"><br />    &lt;html><br />      &lt;head><br />        ...<br />  </span><span class=\"token template-punctuation string\">`</span></span><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre>\n<p>I've not seen the use of a <code>getter</code> in the wild that often. According to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get\">the MDN web docu on 'getter'</a>:</p>\n<p>&quot;The <code>get</code> syntax binds an object property to a function that will be called when that property is looked up&quot;.</p>\n<p>Put simply, you can define properties on an object whose values are dynamic, resolved by a call to a function. Of course, you can also define functions as property values, but that would mean that you'd have to use the call syntax, i.e. <code>index.html()</code> in this case. But given the emphasis on something that's more readable than normal, I can see why a getter was used here. Although I think it might take a bit of getting used to.</p>\n<h3 id=\"more-destructuring\" tabindex=\"-1\">More destructuring <a class=\"direct-link\" href=\"https://qmacro.org/blog/2019/18/7/the-observer-s-book-of-js-style/#more-destructuring\" aria-hidden=\"true\">#</a></h3>\n<p>Now the cat is out of the bag, it gets everywhere! I wanted to include this example of destructuring because at first I was scratching my head over the line, but then after staring at it for a few seconds I realised what I was looking at.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> isfile <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> cds<span class=\"token punctuation\">.</span>utils<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>app<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> cds<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>folders<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>join<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><br /><span class=\"token keyword\">const</span> _has_fiori_html <span class=\"token operator\">=</span> <span class=\"token function\">isfile</span> <span class=\"token punctuation\">(</span><span class=\"token function\">join</span> <span class=\"token punctuation\">(</span>app<span class=\"token punctuation\">,</span><span class=\"token string\">'fiori.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>(I'm including the second line only to give a bit of usage context).</p>\n<p>Part of the reason this had me wondering was simply due to the whitespace - I guess the author was in a hurry as the spacing is not consistent. I thought there was something special about the first pair of braces around <code>isfile</code>, but in fact it's just three separate constant declarations, all on the same line: <code>isfile</code>, <code>app</code> and then <code>join</code>.</p>\n<p>The value for each is resolved through destructuring. For example, the <code>app</code> constant comes from the <code>cds.env.folders</code> property which itself has a number of child properties, one of which is <code>app</code>. <code>cds.env</code> is part of CAP's Node.js API, and provides access to an effective environment computed from different layers of configuration.</p>\n<p>Going one example further, the <code>join</code> constant ends up having the value of <code>join</code> in the Node.js builtin <code>path</code> package (the value is a function), as you can see in this snippet from a Node.js REPL session:</p>\n<pre><code>=&gt; node\n&gt; require('path')\n{ resolve: [Function: resolve],\n  normalize: [Function: normalize],\n  isAbsolute: [Function: isAbsolute],\n  join: [Function: join],\n  relative: [Function: relative],\n  ...\n</code></pre>\n<p>Anyway, while there's more to explore and pore over, I'll leave it here for now. Who knows, I may write another one of these covering more finds in the source code. If you're interested, <a href=\"https://twitter.com/qmacro\">let me know</a>.</p>\n",
      "date_published": "2019-07-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2019/11/7/david-edward-adams/",
      "url": "https://qmacro.org/blog/2019/11/7/david-edward-adams/",
      "title": "David Edward Adams",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2019/07/dad.jpg\" alt=\"A picture of dad with Louise, Katie and me\" /></p>\n<center>02 Sep 1944 - 11 Jul 2019</center>\n<p>On the evening of Thursday 11 July 2019, after a long and latterly very painful struggle, dad passed away in his sleep. We were in the room at Park Hills Nursing Home with him, sitting by the window, and didn't even notice, it was that peaceful.</p>\n<p>He was loved by many people, from many walks of life, and he has close friends from so many of his ventures, from farming, haulage, skip hire, chauffeuring, dealings in antiques (&quot;clutter&quot;), running the door at Cruz 101, and most recently from his volunteer work at the charity shop where he enjoyed his time pointing to things with his stick, trying his best to tolerate cheeky customers, and messing up till transactions.</p>\n<p>We could write so much here, but whatever we put would not be a match for the memories you undoubtedly have of him. So we'll keep it brief.</p>\n<p><em>Dad, we love you and miss you terribly. Life won't be the same without your sharp wit, your eye for a bargain, and your swearing. And your love.</em></p>\n<p><strong>Donations</strong></p>\n<p>In his last weeks, dad was cared for by some amazing people, initially at <a href=\"https://www.drkershawshospice.org.uk/\">Dr Kershaw's Hospice</a> and then at Park Hills Nursing Home. We cannot thank the staff at these two places enough - it takes a special kind of person to look after folks like they do.</p>\n<p>Instead of flowers, we would please ask you to consider donating to the Dr Kershaw's Hospice charity - you can do this via the Just Giving page we have set up:</p>\n<p><a href=\"https://www.justgiving.com/fundraising/davidedwardadams\">https://www.justgiving.com/fundraising/davidedwardadams</a></p>\n",
      "date_published": "2019-07-11T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2019/18/4/first-thoughts-on-the-2019-stack-overflow-developer-survey-results/",
      "url": "https://qmacro.org/blog/2019/18/4/first-thoughts-on-the-2019-stack-overflow-developer-survey-results/",
      "title": "First thoughts on the 2019 Stack Overflow Developer Survey results",
      "content_html": "<p>I've just finished perusing <a href=\"https://insights.stackoverflow.com/survey/2019\">this year's Stack Overflow Developer Survey results</a> and have some initial observations. Nothing earth shattering, and of course you will likely have other observations. Moreover, with anything like this, my thoughts are probably not neutral, as I'm looking for patterns to back up how I see the world.</p>\n<p>These survey results are of particular interest to me in my developer outreach &amp; advocacy role within the <a href=\"https://developers.sap.com/\">SAP Developer Relations</a> team, especially now that I've had just over a year to settle in and find my feet. Another document I'm looking forward to reading is <a href=\"http://hoopy.io/\">hoopy.io</a>'s <a href=\"https://stateofdevrel.hoopy.io/\">State of Developer Relations 2019</a> report, which I hope to get to next week.</p>\n<p>Ok, so here goes. I'm picking out particular results as and when they pique my interest, in particular from the <a href=\"https://insights.stackoverflow.com/survey/2019#developer-profile\">Developer Profile</a> and <a href=\"https://insights.stackoverflow.com/survey/2019#technology\">Technology</a> sections. By the way - kudos to the producers of this report in making every section and subsection linkable and referenceable - this is a well put together hypertext document!</p>\n<p><strong><a href=\"https://insights.stackoverflow.com/survey/2019#developer-profile-_-developer-type\">Developer Type</a></strong></p>\n<p>I didn't see the survey itself (otherwise I would have probably completed it as well) but I'm curious about how they asked the question that differentiated developer types listed here. I'm guessing it wasn't just a &quot;pick one&quot;, partly from the accompanying text for this section, and partly because what jumps out is that &quot;enterprise developer&quot; is separate from other types such as full-stack, back-end, front-end and so on.</p>\n<p>I'm an enterprise developer <em>and</em> a back-end developer (and sometimes a front-end developer of course too). I don't see how this distinction adds value, unless it's to show &quot;of the respondents, X% identified as working in the enterprise software context,  <em>as well as expressing their actual developer type</em>&quot;.</p>\n<p><strong><a href=\"https://insights.stackoverflow.com/survey/2019#developer-profile-_-years-coding-professionally\">Years Coding Professionally</a></strong></p>\n<p>What struck me here was the comment in the accompanying text: &quot;Developers who work with languages such as VBA, F# and Clojure&quot; have the most years of professional coding experience&quot;.</p>\n<p>This came as quite a surprise - I would have expected to see perhaps Java in this list (some say Java is the new COBOL). I can understand seeing VBA there but certainly not the two functional languages F# and Clojure, which no-one is going to claim are mainstream. That said, they are both wonderful ... I've been exploring them both over the last couple of years - see my other blog <a href=\"https://langram.org/\">Language Ramblings</a> for some posts on that subject.</p>\n<p>Note that later on we see also that Clojure and F# are number one and number two in the list of <a href=\"https://insights.stackoverflow.com/survey/2019#top-paying-technologies\">Top Paying Technologies</a>!</p>\n<p><strong><a href=\"https://insights.stackoverflow.com/survey/2019#developer-profile-_-undergraduate-major\">Undergraduate Major</a></strong></p>\n<p>I'm not surprised at what these results tell us here, but I am a little disappointed. Being a Classics (Ancient Greek, Latin, Sanskrit, Philology) graduate I guess I must put myself into the &quot;humanities discipline&quot; category which makes up a mere 2.1% of the respondents.</p>\n<p>I know I'm in the minority with my degree, but didn't expect the minority to be that small!</p>\n<p><strong><a href=\"https://insights.stackoverflow.com/survey/2019#developer-profile-_-other-types-of-education\">Other Types of Education</a></strong></p>\n<p>The text that accompanies the results in this section starts with &quot;Developers are lifelong learners&quot;. That resonates very much with me; when people ask what I do, I often say &quot;I learn&quot;. See the section <a href=\"https://blogs.sap.com/2018/10/01/monday-morning-thoughts-impostor-syndrome/#tryingtokeepup\">Trying to keep up</a> in my <a href=\"https://blogs.sap.com/tag/mondaymorningthoughts/\">Monday Morning Thoughts</a> post on <a href=\"https://blogs.sap.com/2018/10/01/monday-morning-thoughts-impostor-syndrome/\">impostor syndrome</a> for more background on this.</p>\n<p>If I were feeling bold, perhaps I'd go so far as to say that if you're not learning, you're not a developer.</p>\n<p><strong><a href=\"https://insights.stackoverflow.com/survey/2019#developer-profile-_-social-media-use\">Social Media Use</a></strong></p>\n<p>The accompanying text here suggests that in the non-developer world, Reddit doesn't even appear in the top ten list. In this list, it's at number one. Why? I'd say because it's the new <a href=\"https://en.wikipedia.org/wiki/Usenet\">Usenet</a> which is where a lot of developers discussed low level detail and esoterica about development topics with like-minded individuals. Usenet (and NNTP) isn't really a thing these days, and Reddit has taken over where it left off.</p>\n<p>As a developer, <a href=\"https://www.reddit.com/user/qmacro\">I use Reddit</a> to follow nerdy discussions for some of my areas of interest including Mechanical Keyboards, Twitch, Vim, i3wm, ChromeOS and Crostini.</p>\n<p><a name=\"languages\"></a><strong><a href=\"https://insights.stackoverflow.com/survey/2019#technology-_-programming-scripting-and-markup-languages\">Programming, Scripting, and Markup Languages</a></strong></p>\n<p>(That ugly second comma in the section title is from the original results page, not me!)</p>\n<p>It's not a secret that I am a fan of JavaScript as a language, for many reasons - it's available for use in both front-end and back-end development contexts, it's a flexible multi-paradigm language that is evolving nicely, it is accessible and easy to get started with, and (warning, controversial!) the lack of a type system helps rather than hinders. Not in every context, but in many.</p>\n<p>So I'm happy (but not surprised) to see JavaScript in first place in the &quot;most popular / most commonly used&quot; list here. It's also held this top spot for seven years in a row.</p>\n<p>This gives me confidence to continue on my trajectories (with live streaming, blogging, CodeJams and so on) with JavaScript as a backbone language.</p>\n<p>Further results in this section show that JavaScript is also the second most wanted language, just behind Python.</p>\n<p>Talking of JavaScript on the back-end, it's also not surprising to see Node.js (backend JavaScript, essentially) at the number one spot on the list of most popular <a href=\"https://insights.stackoverflow.com/survey/2019#technology-_-other-frameworks-libraries-and-tools\">other frameworks, libraries and tools</a>. Not only that, but Node.js is  it's certainlalso top of the list of most wanted other frameworks, libraries and tools.</p>\n<p>Go JavaScript!</p>\n<p><strong><a href=\"https://insights.stackoverflow.com/survey/2019#technology-_-most-loved-dreaded-and-wanted-platforms\">Most Loved, Dreaded, and Wanted Platforms</a></strong></p>\n<p>Talking of most loved and wanted, it tickles me to see that Windows doesn't even make the top ten list of most loved platforms. But it's certainly up there (along with WordPress, Watson, Heroku and Arduino) in the top five most dreaded. I wonder why that is?</p>\n<p><strong><a href=\"https://insights.stackoverflow.com/survey/2019#technology-_-most-popular-development-environments\">Most Popular Development Environments</a></strong></p>\n<p>Top of the list here, from all respondents, is Microsoft's <a href=\"https://code.visualstudio.com/\">Visual Studio Code</a>. And for good reason, it's a great piece of software that works really well for me and many developers.</p>\n<p>I think it's fair to say that over the years, some editors have come in and either stayed or gone out of fashion. Restricting myself to &quot;local&quot; editors and IDEs, ones that come to mind in this context are TextMate, Sublime Text and Atom. Of course, many developers still use those, but the IDE du jour, without a doubt, is Visual Studio Code.</p>\n<p>I'm happy to say that SAP have an extension for it, to help developers build apps with the <a href=\"https://blogs.sap.com/2018/10/10/application-programming-model-start-here/\">SAP Cloud Application Programming Model</a>. Go to the <a href=\"https://tools.hana.ondemand.com/#cloud\">SAP Development Tools - Cloud</a> page and look for the CDS Language Support for Visual Studio Code extension.</p>\n<p>Some of you may know that my long-term love is for Vim, that masterpiece of philosophy, design and implementation that has been around for a very long time. And it's heartening to see Vim at fifth place in this particular list, above Sublime Text, Atom, TextMate, Eclipse and of course above Emacs :-)</p>\n<p>One notable entry in the list, even though it's in last place (but it's <em>on the list</em>) is <a href=\"http://lighttable.com/\">Light Table</a>, a fabulous reimagining of an editor by Chris Grainger, which I learned about in my Clojure adventures. You can see Light Table in action in some of the videos from <a href=\"https://www.youtube.com/user/Misophistful\">Misophistful</a> from whom I learnt stuff about Clojure.</p>\n<hr />\n<p>That's it for now - perhaps I'll write down some more thoughts about the results in the other sections of the survey. But for now, it's time for a beer (and another look at my Clojure books). Cheerio!</p>\n",
      "date_published": "2019-04-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2019/8/4/es6-reduce-and-pipe/",
      "url": "https://qmacro.org/blog/2019/8/4/es6-reduce-and-pipe/",
      "title": "ES6, reduce and pipe",
      "content_html": "<p>In learning about functional programming, one thing that's worked for me is to take my time, and not rush over fundamental concepts. In fact, like a good beer or whisky, a fundamental concept is something to savour, to enjoy at a leisurely pace.</p>\n<p>This weekend I turned to a post that was highlighted originally by <a href=\"https://twitter.com/fredverheul\">Fred Verheul</a>: <a href=\"https://medium.com/javascript-scene/transducers-efficient-data-processing-pipelines-in-javascript-7985330fe73d\">Transducers: Efficient Data Processing Pipelines in JavaScript</a> by <a href=\"https://twitter.com/_ericelliott\">Eric Elliott</a>. It turns out that this post is part of a series on &quot;Composing Software&quot;, so I turned to the first post - <a href=\"https://medium.com/javascript-scene/composing-software-an-introduction-27b72500d6ea\">Composing Software: An Introduction</a> as I didn't want to miss anything.</p>\n<p>Reading at my leisurely pace, mindful of what <a href=\"https://en.wikipedia.org/wiki/Erik_Meijer_(computer_scientist)\">Erik Meijer</a> seems to say a lot, which is &quot;... if you stare at this long enough&quot;, I didn't get very far into the post before I found something of wonder, and thought I'd share it.</p>\n<p><strong>pipe</strong></p>\n<p>In talking about the basics of composition, specifically of functions, Eric Elliott talks about utilities that make function composition easier. He mentions <code>pipe</code> which is <a href=\"https://ramdajs.com/docs/#pipe\">available</a> in my favourite functional programming library for JavaScript - <a href=\"https://ramdajs.com/\">Ramda</a>.</p>\n<p>He also provides a simple implementation, that looks like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">pipe</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>fns</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> fns<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">y<span class=\"token punctuation\">,</span> f</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Let's use the rest of the time on this post to stare at this for a few minutes, as there's some goodness to unpack. First though, let's see how <code>pipe</code> is used.</p>\n<p>Here's a simple example, where we use a predefined function <code>dbl</code> that doubles a number, and a lambda (anonymous) function that adds 42 to a number. We use these two functions inside of <code>pipe</code>, which transforms the input (5) in a sort of &quot;pipeline process&quot;:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dbl</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">*</span> <span class=\"token number\">2</span><br />console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><br />  <span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><br />    dbl<span class=\"token punctuation\">,</span><br />    <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">42</span><br />  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><br /><span class=\"token punctuation\">)</span><br /><br /><span class=\"token comment\">//=> 52</span></code></pre>\n<p>In a recent talk I gave at <a href=\"https://wiki.scn.sap.com/wiki/display/events/SAP+Inside+Track+Frankfurt+2019%2C+March+30th%2C+%23sitFRA\">SAP Inside Track Frankfurt</a> - &quot;<a href=\"http://sitfra2019.cbasis.com/#3\">ES6 JavaScript in the wild</a>&quot; - I took the audience through a number of language features introduced with ES6, a version of ECMAScript (JavaScript) introduced in 2015.</p>\n<p><img src=\"https://qmacro.org/blog/img/2019/03/sitfra-talk.jpg\" alt=\"DJ Adams presenting at SAP Inside Track Frankfurt\" /><br />\n<em>(Photo <a href=\"https://twitter.com/wsnoep/status/1111921184088772608\">courtesy of Wim Snoep</a>)</em></p>\n<p>In the definition of <code>pipe</code> here we can see a few of them in action. Also, in a couple of the episodes of our &quot;<a href=\"https://bit.ly/handsonsapdev\">Hands-on SAP dev with qmacro</a>&quot; series, we've seen that the <code>reduce</code> function is a fundamental building block, sort of like the hydrogen of the functional universe. For example <code>map</code> and <code>filter</code> can be built with <code>reduce</code>.</p>\n<p>So let's have a closer look at the definition, and see what we can see:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">pipe</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>fns</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> fns<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">y<span class=\"token punctuation\">,</span> f</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>const</strong></p>\n<p>First, we have the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const\"><code>const</code></a> declaration, which introduces a constant. My early journey towards functional programming involved starting to think of things that didn't mutate, and declaring values as constants helped me remember that by forcing me to write using values that don't change. In this case it's a function definition, but I use <code>const</code> equally to define other types of values.</p>\n<p><strong>rest parameters</strong></p>\n<p>Next, we see the use of the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters\">rest parameter</a> syntax (<code>...</code>), which is a great way of saying, either in a <a href=\"https://hacks.mozilla.org/2015/05/es6-in-depth-destructuring/\">destructuring</a> context or in the context of function parameter declarations, &quot;whatever values haven't been assigned to parameters already, capture them all (the rest, essentially) in an array&quot;. So in this case, all the function definitions specified as arguments to a call to <code>pipe</code> (in this case <code>dbl</code> and <code>x =&gt; x + 42</code>) are captured into the <code>fns</code> array.</p>\n<p><strong>fat arrows</strong></p>\n<p>Then we see our friend the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\">fat arrow</a> (<code>=&gt;</code>), used to concisely define functions. The conciseness is underlined here in particular, because here, <code>pipe</code> is being declared as a function that takes some parameters (<code>(...fns)</code>) <strong>and produces a function</strong> that takes a single parameter (<code>x</code>) which produces whatever the <code>fn.reduce</code> expression evaluates to (we'll look at that next).</p>\n<p>Stare at this definition for a minute, perhaps with a sip of nice coffee, and marvel not only at the concise nature, but also at the power that JavaScript puts in your hands as a programmer, in giving you the ability to treat functions as first class citizens: to <em>receive</em> functions as arguments in function calls, and to <em>produce</em> functions as results of function calls.</p>\n<p>Functions that receive and / or produce other functions are called <a href=\"https://eloquentjavascript.net/05_higher_order.html\">higher order functions</a>. This concept is not specific to ES6 nor to JavaScript, but the prevalence of the use of higher order functions has increased in JavaScript with ES6 because the language improvements have made the concept very easy to express.</p>\n<p><strong>reduce</strong></p>\n<p>Let's finish by looking now at the <code>fns.reduce</code> expression, noting in passing that another small thing of beauty is the fact that this function that is being produced by the <code>pipe</code> function has, as its body, a single expression.</p>\n<p>The <code>reduce</code> function is called on the array of functions provided in the call to <code>pipe</code> (<code>dbl</code> and <code>x =&gt; x + 42</code> in the example shown). The <code>reduce</code> function itself takes two parameters - a &quot;reducer&quot; function that is executed for each of the items in the array being reduced over (i.e. for each of the functions), and a starting value.</p>\n<p>Here are those two parameters:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">pipe</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>fns</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> fns<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">y<span class=\"token punctuation\">,</span> f</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><span class=\"token comment\">//                                       --------------  -</span><br /><span class=\"token comment\">//                                              ^        ^</span><br /><span class=\"token comment\">//                                              |        |</span><br /><span class=\"token comment\">//                    reducer function ---------+        |</span><br /><span class=\"token comment\">//                      starting value ------------------+</span></code></pre>\n<p>The reducer function itself is defined with two parameters: the &quot;accumulator&quot;, i.e. the value that has been built up (starting out as the starting value) so far with each reduce iteration, and the &quot;next&quot; item being reduced over (the functions in <code>fns</code> in this case) one by one.</p>\n<p>The body of the reducer function here is again, a single expression, which calls the function in question (as they are iterated through) on the current value of the accumulator.</p>\n<p>Focusing only at the reducer function, here are those two parameters and the single expression:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">pipe</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>fns</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> fns<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">y<span class=\"token punctuation\">,</span> f</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><span class=\"token comment\">//                                        -  -     ----</span><br /><span class=\"token comment\">//                                        ^  ^      ^</span><br /><span class=\"token comment\">//                                        |  |      |</span><br /><span class=\"token comment\">//                   accumulator ---------+  |      |</span><br /><span class=\"token comment\">//                     next item ------------+      |</span><br /><span class=\"token comment\">//         reducer function body -------------------+</span></code></pre>\n<p>So with all this in mind, can we imagine how the whole thing works, with the invocation example we saw earlier?</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dbl</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">*</span> <span class=\"token number\">2</span><br />console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><br />  <span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><br />    dbl<span class=\"token punctuation\">,</span><br />    <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">42</span><br />  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><br /><span class=\"token punctuation\">)</span></code></pre>\n<p>Let's try.</p>\n<p>The call to <code>pipe</code> is made specifying two function definitions <code>dbl</code> and <code>x =&gt; x + 42</code>. This produces a function that has captured (closed over - forming a closure) those two function definitions, and is expecting a single value to be received in <code>x</code>. Once that value is received (the value is 5 in this case), the function <code>x =&gt; fns.reduce((y, f) =&gt; f(y), x)</code> can be evaluated, which we can visualise like this:</p>\n<pre><code>Function invocation (y, f) =&gt; f(y)        Value\n\n(starting value)                          5\n(5, dbl) =&gt; dbl(5)                        10\n(10, x =&gt; x + 42) =&gt; (x =&gt; x + 42)(10)    52\n</code></pre>\n<p>Given that <code>reduce</code> sensibly returns the final value (i.e. the result of the final expression in the iteration loop) which is 52, we're good.</p>\n<p>I do find it's useful to take one's time staring at stuff until the mist clears. I hope this post helps you when staring at things like this. Happy functional adventuring!</p>\n",
      "date_published": "2019-04-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/24/12/vim-markdown-and-writing/",
      "url": "https://qmacro.org/blog/2018/24/12/vim-markdown-and-writing/",
      "title": "Vim, Markdown and writing",
      "content_html": "<p>Having got my personal space on the Web in order with some <a href=\"https://qmacro.org/2018/12/24/housekeeping\">housekeeping</a> this weekend, I can now turn my attention to my workflow and tools, where I intend to rebuild some skills in core technologies. To that end, I'm writing more in Markdown, and have re-embraced Vim as my editor of choice for many things.</p>\n<p>The availability of Linux on my OS of choice (Chrome OS), in the form of <a href=\"https://www.reddit.com/r/Crostini/\">Crostini</a>, and the immediacy of the Linux terminal, where I feel most at home, has given me the chance I've been looking for to properly learn stuff I've only scraped by with in the past, and to mix old &amp; new techniques. I'm blogging using <a href=\"https://pages.github.com/\">GitHub Pages</a> which means Markdown and Jekyll, synchronising content between my local machine(s) and the cloud using git repositories. I'm using Vim to write, and am especially enjoying some of the plugins I'm trying out, in particular this zen-like writing mode that the lovely combination of <a href=\"https://github.com/junegunn/goyo.vim\">Goyo</a> and <a href=\"https://github.com/junegunn/limelight.vim\">Limelight</a> offers.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/12/goyo-limelight.png\" alt=\"Goyo and Limelight in action\" /></p>\n<p>I've started rebuilding my Vim setup from scratch, based on the work of some great folks out there, including the author of many Vim plugins <a href=\"https://tpo.pe/\">Tim Pope</a> and someone with a great setup and approach, <a href=\"https://lukesmith.xyz/\">Luke Smith</a>. I've started to share my Vim setup in my <a href=\"https://github.com/qmacro/dotvim\">dotvim</a> repository on Github.</p>\n<p>I'll talk about the contents of that repository in another post sometime ... for now, I wanted to mention a script I wrote to help me quickly start writing posts. It's called <code>newpost.js</code> and lives in a <code>scripts</code> folder in my <code>$PATH</code>. I can invoke it like this:</p>\n<pre><code>&gt; newpost.js Vim, Markdown and writing\n</code></pre>\n<p>and it will create a new file with the right name:</p>\n<pre><code>2018-12-24-vim-markdown-and-writing.markdown\n</code></pre>\n<p>in the right place (the <code>_posts/</code> directory of the local version of my <a href=\"https://github.com/qmacro/qmacro.github.io\">blog repository</a>), containing basic frontmatter that looks like this:</p>\n<pre><code>---\nlayout: post\ntitle: Vim, Markdown and writing\n---\n</code></pre>\n<p>It will then open up the file in Vim so that I can start writing immediately.</p>\n<p>I can imagine further refinements to this script, but I realised I wouldn't be able to get to any refinements until I created a first version and started using it. So I did. I've shared the <a href=\"https://github.com/qmacro/scripts/blob/master/newpost.js\">script</a> in a new <a href=\"https://github.com/qmacro/scripts\">scripts repository</a>.</p>\n<p>It's working well for me so far, but I want to explore further the relationship between a Node.js based script and the underlying shell environment. I'm already <a href=\"https://github.com/qmacro/scripts/blob/d72a7df54a9bfbb65984b766dac19aa12b5da11c/newpost.js#L81-L90\">spawning a Vim process</a> to edit the file, directly from the Node.js process:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">cp<span class=\"token punctuation\">.</span><span class=\"token function\">spawn</span><span class=\"token punctuation\">(</span><span class=\"token string\">'vim'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><br />\t<span class=\"token string\">'-c'</span><span class=\"token punctuation\">,</span><br />\t<span class=\"token string\">'+normal G'</span><span class=\"token punctuation\">,</span><br />\tfullname<br /><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><br />\t<span class=\"token literal-property property\">stdio</span><span class=\"token operator\">:</span> <span class=\"token string\">'inherit'</span><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Perhaps next will be some interaction via environmental variables. We'll see!</p>\n",
      "date_published": "2018-12-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/24/12/housekeeping/",
      "url": "https://qmacro.org/blog/2018/24/12/housekeeping/",
      "title": "Housekeeping",
      "content_html": "<p>Over the years since I've been blogging, I've used various systems (Blosxom, Moveable Type, WordPress, and latterly Ghost) which have all had their great features. In addition, I've been using a domain '<a href=\"http://pipetree.com/\">pipetree.com</a>' that I've had since <a href=\"https://twitter.com/piers\">Piers</a> and I came up with the name during a Perl conference in London (it was YAPC - Yet Another Perl Conference) in 2000.</p>\n<p>We needed a name for our <a href=\"https://qmacro.org/2005/02/18/a-fresh-start/\">shared co-located host gnu.pipetree.com</a> and decided, literally, to think of two random words and put them together. And the name has stuck ever since. Unfortunately I've had all sorts of issues with Network Solutions, where the domain name is managed ... so much so that I've pretty much given up getting them to allow me to update my records. Piers had moved on to his own domain names a good while ago, so it has been just me using <a href=\"http://pipetree.com/\">pipetree.com</a> for a long while now.</p>\n<p>I've been thinking a lot about 2019 and decided to clear the decks a little, to be somewhat more organised and to make a clean break. So I'm planning to retire <a href=\"http://pipetree.com/\">pipetree.com</a> over the next few months, and have moved to a new domain <a href=\"https://qmacro.org/\">qmacro.org</a> where you're reading this now. I've embraced the <a href=\"https://pages.github.com/\">GitHub Pages</a> approach to blogging, continuing on with using <a href=\"https://en.wikipedia.org/wiki/Markdown\">Markdown</a>, something I started with Ghost (it was one of the main attractions of the platform).</p>\n<p>My existing <a href=\"http://pipetree.com/\">pipetree.com</a> platform is served from a Linode-based virtual private server; I've been very happy indeed with <a href=\"https://linode.com/\">Linode</a>, but my own management of the server has lagged a little, and while I used to run various services on it, including the Ghost installation for my blog at <code>pipetree.com/qmacro/blog</code>, there's not much need for it any more, and it's become a little bit disorganised.</p>\n<p>So I have migrated all my old posts to this new place, using Jekyll (as the basis for GitHub Pages) and I've made my first steps with the <a href=\"https://jekyllrb.com/docs/liquid/\">Liquid</a> templating language to build my <a href=\"https://qmacro.org/\">new homepage</a>. I know that I'm breaking all my old URLs, but I feel it's the right move to make at this stage. I'm now managing my domains with Google Domains which is super simple, and a far better experience than Network Solutions. And I have a domain name that more reflects me and my identity on the Web.</p>\n<p>I am of course still blogging over on the <a href=\"https://people.sap.com/dj.adams.sap\">SAP Community</a> and will continue to do but my personal space here will continue to serve in the wider context, as it always has done.</p>\n<p>So there you are. A new start and new domain name ready for 2019, even running over HTTPS, through the power of <a href=\"https://letsencrypt.org/\">Let's Encrypt</a>. In the meantime, happy holidays!</p>\n",
      "date_published": "2018-12-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/6/9/my-take-on-wired-s-google-and-urls-article/",
      "url": "https://qmacro.org/blog/2018/6/9/my-take-on-wired-s-google-and-urls-article/",
      "title": "My take on Wired&#39;s Google &amp; URLs article",
      "content_html": "<p>Something is surfacing that makes me rather uncomfortable.</p>\n<p><strong>Google is rethinking the idea of the URL</strong></p>\n<p>I saw a few tweets this week, including <a href=\"https://twitter.com/judell/status/1037537440263618560\">this one</a> from Jon Udell which pointed me to a tweet and article on Wired that talked about Google rethinking the idea of the URL. On the one hand, the concept of URLs doesn't belong exclusively for Google to do with as it pleases ... on the other hand, it's not for me to say what they can and can't think about.</p>\n<p>Anyway, I read the article -- &quot;<a href=\"https://www.wired.com/story/google-wants-to-kill-the-url/\">Google want to kill the URL</a>&quot;, by Emily Waite -- on Wired. At least, I <em>think</em> it was on Wired, I wasn't sure because Chrome was <a href=\"https://twitter.com/qmacro/status/1037684084066136064\">deliberately obscuring the URL in the address bar</a>.</p>\n<p>I thought it was worth sharing the thoughts that occurred to me as I read through it, so here they are, in context. I'd encourage you to read the article too, so you can come to your own conclusions. My thoughts are just that - thoughts, opinions, based upon nothing much except what I've read, mind you. Note also that some sections that I quote are directly from the article's author, others are quotes from other people interviewed for the article.</p>\n<p><strong>Quotes and comments</strong></p>\n<p><em>&quot;...as Chrome looks ahead to its next 10 years, the team is mulling its most controversial initiative yet: fundamentally rethinking URLs across the web.&quot;</em> --- There's definitely a very good chance it will be controversial - look at the &quot;<a href=\"https://www.google.co.uk/search?q=google+origin+chip&amp;oq=google+origin+chip&amp;aqs=chrome..69i57j69i64.1962j0j7&amp;sourceid=chrome&amp;ie=UTF-8\">origin chip</a>&quot; idea that surfaced a few years ago; from what I surmise, the &quot;origin chip&quot; idea is nothing compared to the size of the rethink I'm getting a feel for.</p>\n<p><em>&quot;...Uniform Resource Locators are the familiar web addresses you use every day. They are listed in the web's DNS address book and direct browsers to the right Internet Protocol addresses that identify and differentiate web servers.&quot;</em> --- Nope, not quite. The hostname part of the URL is what that is, not the URL itself. I'm not sure whether I should be relieved or worried at this inaccuracy. Relieved because it suggests the article isn't entirely based on solid research, or worried because of the dangerous conflation of two distinct things: fully qualified hostnames (&quot;<a href=\"http://wired.com/\">wired.com</a>&quot; is the example given in the article) and URLs. Dangerous, because it only serves to add fuel to the &quot;rethink&quot; fire.</p>\n<p><em>&quot;In short, you navigate to <a href=\"http://wired.com/\">WIRED.com</a> to read WIRED so you don't have to manage complicated routing protocols and strings of numbers.&quot;</em> --- Again with this conflation. Stop it, please.</p>\n<p><em>&quot;As web functionality has expanded, URLs have increasingly become unintelligible strings of gibberish&quot;</em> --- On what basis is this statement made? I've been around the Web from the beginning, and use it daily. This statement is nonsense.</p>\n<p><em>&quot;[URLs] combining components from third-parties&quot;</em> ---  What? This makes no sense whatsoever. Is it just a misunderstanding, or a deliberate attempt to inject a vague notion of unease in the reader?</p>\n<p><em>&quot;And on mobile devices there isn't room to display much of a URL at all.&quot;</em> --- This is being presented as a problem, even though earlier in the same paragraph the problem was that they were too hard to read anyway. How does that logic work?</p>\n<p><em>&quot;it's difficult for web users to keep track of who they're dealing with&quot;</em> --- This is not related to the length or complexity of URLs, it's mainly related to the establishment of the server origin.</p>\n<p><em>&quot;it’s hard to know which part of [URLs] is supposed to be trusted&quot;</em> --- Most people I know don't find it hard, and isn't this what the various secure symbols are for?</p>\n<p><em>&quot;in general I don’t think URLs are working as a good way to convey site identity.&quot;</em> --- Of course, that's an opinion, so we must read that as &quot;I don't think URLs are working as a good way ... for <em>me</em>&quot; (the quotee, Adrienne Porter Felt). It's not my opinion - I think the opposite.</p>\n<p><em>&quot;So we want to move toward a place where web identity is understandable by everyone—they know who they’re talking to when they’re using a website and they can reason about whether they can trust them. But this will mean big changes in how and when Chrome displays URLs.&quot;</em> --- If that how and when is different to the current state (i.e. &quot;always&quot;, right now), then the situation will be worse, not better.</p>\n<p><em>&quot;the problem doesn't have an easy answer&quot;</em> --- Could it be because it's not actually a problem, and therefore an answer doesn't make any sense here?</p>\n<p><em>&quot;even the Chrome team itself is still divided on the best solution to propose&quot;</em> --- This tells us a lot about what's going on here, perhaps.</p>\n<p><em>&quot;I don’t know what this will look like, because it’s an active discussion in the team right now&quot;</em> --- That's good, and I hope that discussion is open and remains open.</p>\n<p><em>&quot;That’s one of the challenges with a really old and open and sprawling platform.&quot;</em> --- Ah! There we go. I was wondering when it would appear. <a href=\"https://en.wikipedia.org/wiki/Fear,_uncertainty_and_doubt\">FUD</a> in all its glory.</p>\n<p><em>&quot;everyone is unsatisfied by URLs&quot;</em> --- Nope. Wrong.</p>\n<p><em>&quot;They kind of suck&quot;</em> --- Nope, they don't.</p>\n<p><em>&quot;Google paused the origin chip rollout&quot;</em> --- I wonder why? Could it be because there was strong feedback that it was a bad idea?</p>\n<p><em>&quot;the team faced a lot of pushback for its HTTPS web encryption initiative&quot;</em> --- Too right! I don't always agree with Dave Winer, but <a href=\"http://this.how/googleAndHttp/\">on this topic</a>, he makes a lot of sense.</p>\n<p><em>&quot;But you make a change and people freak out. &quot;</em> --- Err, yep - of course they do, if it's not a change that's fully thought through.</p>\n<p><em>&quot;community scrutiny of any proposal Google puts forth will be crucial&quot;</em> --- This is super important. I know this is just the beginning, and the engineers are talking about ideas, which is more than fine. I hope for everyone's voice to be heard, and that everyone concerned expresses their opinion.</p>\n<p>On that point, I've tried to make a start here.</p>\n",
      "date_published": "2018-09-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/30/7/sap-codetalk-sessions/",
      "url": "https://qmacro.org/blog/2018/30/7/sap-codetalk-sessions/",
      "title": "SAP CodeTalk sessions",
      "content_html": "<p>My friend and colleague <a href=\"https://people.sap.com/ian.thain\">Ian Thain</a> organises and hosts the excellent <a href=\"https://www.sap.com/uk/developer/resources.html\">SAP CodeTalk</a> series, that's been going for over five years now, with more than 240 episodes. Nice work, Ian!</p>\n<p>I've been very honoured to be a guest on SAP CodeTalk a few times, and I thought it would be worth listing those sessions here.</p>\n<p>March 2014</p>\n<p><a href=\"https://www.youtube.com/watch?v=o0CvsQxI6Nw\">Paying IT Forward ... IT Does Compute</a></p>\n<p>November 2014</p>\n<p><a href=\"https://www.youtube.com/watch?v=r-QszpA-HiI\">SAPUI5 &amp; Fiori - Part #1</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=r-QszpA-HiI\">SAPUI5 &amp; Fiori - Part #2</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=IEXNLHn9Yus\">OpenUI5</a></p>\n<p>April 2016</p>\n<p><a href=\"https://www.youtube.com/watch?v=BMz-VQGk9kU\">Developer Hero - DJ Adams</a></p>\n<p>April 2018</p>\n<p><a href=\"https://www.youtube.com/watch?v=t5V0WRle1xc\">SAP Cloud Platform Workflow Service</a></p>\n<p>May 2018</p>\n<p><a href=\"https://www.youtube.com/watch?v=3pLz7xCXPHM\">Business Rules Service</a></p>\n<p>Aug 2018</p>\n<p><a href=\"https://www.youtube.com/watch?v=mm7spFuE5eM\">Functional Programming</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=GhEpcB7x4UA\">Application Programming Model</a></p>\n<p>Oct 2018</p>\n<p><a href=\"https://www.youtube.com/watch?v=IY-amlZuPrs\">SAP CodeTalk on Tour</a></p>\n<p>Jan 2019</p>\n<p><a href=\"https://www.youtube.com/watch?v=SvmNaTRrTvI\">Hands-on SAP dev with qmacro</a></p>\n<p>Mar 2019</p>\n<p><a href=\"https://www.youtube.com/watch?v=5RrfPz-Ep8o\">Update on 'Hands-on SAP dev with qmacro'</a></p>\n",
      "date_published": "2018-07-30T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/23/5/collaboration-tools/",
      "url": "https://qmacro.org/blog/2018/23/5/collaboration-tools/",
      "title": "Collaboration tools",
      "content_html": "<p>If you're wanting to collaborate with me, on a document or other content, please understand I'll only be able to participate if appropriate tools are used.</p>\n<p>There are some amazing online tools that allow online multi-user realtime editing, commenting, suggestions, revision management, and so on, and these work very well indeed.</p>\n<p>Unfortunately, Office 365, Sharepoint and Teams are not tools that fit into this category and are detrimental to productivity and collaboration.</p>\n<p>Thanks.</p>\n",
      "date_published": "2018-05-23T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/13/5/balancing-features-with-simplicity/",
      "url": "https://qmacro.org/blog/2018/13/5/balancing-features-with-simplicity/",
      "title": "Balancing features with simplicity",
      "content_html": "<p>I was browsing forum-based conversations on ChromeOS this evening and came across yet another thread that started along these lines:</p>\n<p><em>&quot;I've just bought a Chromebook. How do I use Word on it?&quot;</em></p>\n<p>After my initial, and usual <a href=\"https://www.youtube.com/watch?v=a4GHDKOaN1A\">phone-biting</a> reaction, I read a reply that went along these lines:</p>\n<p><em>&quot;Soon you'll be able to run Linux apps, so perhaps you could run Libre Office&quot;</em></p>\n<p>Apart from that reply instilling a similar &quot;good grief&quot; response, it got me thinking. I have for a while felt slightly disappointed in the explosion of 3-in-1 Chromebook devices, with touchscreens, 180 degree hinge flip capabilities, and the ability to run Android apps. Now there's the prospect of running native Linux apps too.</p>\n<p>Now I don't want to appear as a stick in the mud, but this is a little sad. I love the simplicity of ChromeOS as it is, a great browser on a fast device with little else: a secure shell facility for connecting to remote systems, and a simple file manager for when you absolutely need to give the cloud a leg-up by downloading and uploading files from one service to another. I grew up with the keyboard + screen combination; the keyboard shortcuts in ChromeOS are great, which means I use the trackpad on my Pixelbook less than I otherwise would. And I found a <a href=\"https://www.groovypost.com/howto/disable-the-touchpad-on-a-google-chromebook/\">software switch</a> that allows me to turn the touchscreen off. I hardly ever want or need a touchscreen. I just want my web terminal.</p>\n<p>I don't want another Linux style OS - if I do, I'd use Linux. And those that know me know that I certainly don't want any Windows type OS - in fact, I don't allow any form of Windows operating system in the house, my son runs macOS and my two nephews' machines have Ubuntu Linux running on them.</p>\n<p>I know I'm probably in the minority, but with the prospect of Linux apps coming to ChromeOS, I hope the project team manages to keep that sense of simplicity - and speed - that made ChromeOS so appealing in the first place.</p>\n",
      "date_published": "2018-05-13T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/21/3/becoming-an-sap-mentor-alumnus/",
      "url": "https://qmacro.org/blog/2018/21/3/becoming-an-sap-mentor-alumnus/",
      "title": "Becoming an SAP Mentor Alumnus",
      "content_html": "<p>It was in 2009 that I was honoured to be recognised as an SAP Mentor for my contributions to the SAP community at large, co-creating the original SAP Developer Network back in 2003 (which, via the SAP Community Network, is now the <a href=\"https://www.sap.com/community.html\">SAP Community</a>). Since then I've tried to act as an SAP Mentor should act; there aren't any written rules of course, it's just something that one should know.</p>\n<p>In the years since becoming an <a href=\"https://www.sap.com/uk/community/about/mentors-program.html\">SAP Mentor</a> lots of things have happened, and I'm grateful for the opportunities that have presented themselves to me ... as well as the Mentor shirts that take up a decent space in my wardrobe and that I proudly wear at events inside and outside the SAP developer ecosphere.</p>\n<p><a href=\"http://mcrcoderdojo.org.uk/underwater-scratch/\"><img src=\"https://qmacro.org/blog/img/2018/03/scratch.jpg\" alt=\"Explaining some facet of our Underwater Scratch project at Manchester CoderDojo\" /></a></p>\n<p>There's an end to pretty much everything though, and I've been planning to retire to SAP Mentor Alumnus status for a while. There are many reasons for this, but the main one is to make way for new blood. I can and will continue to be active in the community - becoming an SAP Mentor Alumnus doesn't mean that changes.</p>\n<p>My move to SAP Mentor Alumnus status also coincides with a couple of other events; of course, there's my recent move to <a href=\"https://qmacro.org/2018/01/17/coming-home/\">join the SAP family</a>, but there's also the end of the term of membership of the <a href=\"https://blogs.sap.com/2016/03/08/introducing-the-new-sap-mentors-advisory-board-2016-2018/\">SAP Mentors Advisory Board</a> (MAB). So I think the timing is right.</p>\n<p>Thank you to my fellow SAP Mentors and the programme team, and also to my esteemed co-members of the MAB. I don't see this as a big change - I'm just moving from one group of folks I respect to another.</p>\n",
      "date_published": "2018-03-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/2/2/thoughts-on-what-s-next-for-the-sap-community/",
      "url": "https://qmacro.org/blog/2018/2/2/thoughts-on-what-s-next-for-the-sap-community/",
      "title": "Thoughts on what&#39;s next for the SAP Community",
      "content_html": "<p>This evening I watched a short video, <a href=\"https://www.youtube.com/watch?v=iZVoCV8ryF8\">What's Next for SAP Community?</a>, with Björn Goerke, Chief Technology Officer and President of SAP Cloud Platform, and Thomas Grassl, Head of Developer Relations, laying out the vision for the SAP Community. Here are some brief Friday night thoughts.</p>\n<p>I have been involved in building and helping the SAP community (small 'c') grow for a long time, from mailing lists in the 1990's, through co-creating the original SAP Developer Network and seeing the changes through the SAP Community Network to become simply the SAP Community (see <a href=\"https://blogs.sap.com/2005/07/04/the-sap-developer-community-10-years-ago/\">The SAP developer community 10 years ago</a>, a post from 2005).</p>\n<p>It's been great to see Developer Relations and the SAP Community moving under the wing of the office of the CTO, and with <a href=\"https://blogs.sap.com/2018/01/16/the-future-of-sap-community/\">the backing of CEO Bill McDermott</a>, there's certainly more than enough torque and momentum upon which to build.</p>\n<p>The chassis has undergone some significant welding in recent years, but the current remodelling, while still needing some love and attention, is <a href=\"https://twitter.com/qmacro/status/950628022842994688\">so much better for content creators</a>. And without content, there is no community. I'm hopeful that the chassis and bodywork will go from strength to strength, especially with the recently announced <a href=\"https://blogs.sap.com/2018/01/26/sneak-peak-2018-sap-community-redesign/\">2018 redesigns</a>, and we see the rebirth of interconnectivity.</p>\n<p>What struck me most about listening to Björn and Thomas on the video just now was my perception of the sense of community being the strong, implicit anchor for the message and the vision. So I decided to transcribe the video, to perform a simple text analysis.</p>\n<p>The transcription is <a href=\"https://docs.google.com/document/d/1xYTh0EYSDNNCfHTcBDG3kpI_4-byPMA6Wfv_rtGz2Yk/edit?usp=sharing\">here</a>, and we can see from some simple <a href=\"http://textalyser.net/\">textalyser</a> analysis that the perception wasn't too far off - the top five places for word frequencies in the entire piece are (with occurrences in brackets):</p>\n<p>1: &quot;our&quot; (12)<br />\n2: &quot;community&quot; (10)<br />\n3: &quot;sap&quot; (6)<br />\n4: &quot;how&quot;, &quot;new&quot;, &quot;customers&quot; (5)<br />\n5: &quot;need&quot;, &quot;think&quot;, &quot;help&quot;, &quot;content&quot; (4)</p>\n<p>Now it's a short dialogue so perhaps this analysis needs to be taken with a pinch of salt, but it certainly occurs to me that the core message, and the core task, is getting people and knowledge connected.</p>\n<p><a href=\"https://people.sap.com/dj.adams\">We can do that</a>, can't we?</p>\n<p>Update: I've since been encouraged to re-post this on the SAP Community site itself. So I've done so, here: <a href=\"https://blogs.sap.com/2018/02/04/thoughts-on-whats-next-for-the-sap-community/\">Thoughts on what's next for the SAP Community</a>.</p>\n",
      "date_published": "2018-02-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/1/2/apps-script-privacy-policy/",
      "url": "https://qmacro.org/blog/2018/1/2/apps-script-privacy-policy/",
      "title": "Apps Script - Privacy Policy",
      "content_html": "<p>This is the Privacy Policy for the Apps Scripts made available for use. For example, one such script is SheetAsJSON, described in this blog post: <a href=\"https://qmacro.org/2013/10/04/sheetasjson-google-spreadsheet-data-as-json/\">SheetAsJSON - Google Spreadsheet Data as JSON</a>.</p>\n<p>This privacy policy sets out how the scripts use and protects any information that you supply when using them.</p>\n<p>We are committed to ensuring that your privacy is protected. We ask for no information, nor is private information required to operate the scripts. This policy is effective from 01 Feb 2018.</p>\n<p><strong>What we collect</strong></p>\n<p>Nothing.</p>\n<p><strong>What we do with the information we gather</strong></p>\n<p>We do not gather or keep any information.</p>\n<p><strong>Security</strong></p>\n<p>We are committed to ensuring that your information is secure. To this end, the scripts runs on the secure Google platform, specifically via the Apps Script services, and data is transferred via secure HTTP.</p>\n",
      "date_published": "2018-02-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/17/1/coming-home/",
      "url": "https://qmacro.org/blog/2018/17/1/coming-home/",
      "title": "Coming Home",
      "content_html": "<p>I first encountered SAP in 1987, where, fresh out of university and following an induction course for new graduates at Esso Petroleum in London, I started work in the Database Support Group, which looked after everything related to the database management system that Esso ran on their IBM big iron mainframes. This system was IMS, and my first task was to create a backup and recovery suite for the project that was starting out on the floor above, a project that had  over 100 individual IMS databases. That was a lot of data, and a complex backup and recovery suite!</p>\n<p>It turned out that the project was Esso's first implementation of SAP, in the form of R/2 release 4.1D. A short time later I joined the project and entered the (early) universe of SAP technology. This was before ABAP came along, which was actually fortunate, as I got to learn and use IBM's 370 assembler, in which R/2 was written. The design of the architecture, and the codebase underlying the application modules in R/2 was both fascinating and beautiful. (Incidentally it was from within the R/2 assembler framework that I took my online nickname &quot;qmacro&quot;). Combining that with the wonders of all things IBM mainframe (the MVS operating system with tools such as TSO, ISPF and JES2, IMS DB/DC, and of course JCL) and I was hooked.</p>\n<p>Fast forward just over three decades. In that time, I've stayed with SAP technologies in roles as diverse as Basis Technician, Application Developer, Integration Expert, Trainer, Backend Programmer, Frontend Programmer, Consultant, Mentor, Troublecauser and Tea Maker, at end customers large and small, partners large and small, sometimes as a contractor and sometimes as a permanent employee. I've also spent a couple of periods at SAP as an external colleague, first in the 1990's on the IS-Oil project, and more recently on the UI5 team.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/3278.png\" alt=\"\" /></p>\n<p>My interest and passion for SAP technologies has only grown since those early days where my workstation was an IBM 3278 terminal.</p>\n<p>SAP technology has changed, some technical directions have come and gone, others have stayed and gotten stronger. One lovely development which continues to grow is SAP's embrace of open source and open protocols, something that's close to my heart.</p>\n<p>But what's remained most prominent across the years is the human aspect - the people at SAP are what have made a difference. I remember back in the late 1980's talking directly to the developers of the R/2 batch programs (most memorably in the RA - asset management - module) and exchanging ideas. I also remember site visits from heroes of mine such as Dr Alfred Klar who was at the heart of everything that SAP relied on in IMS terms.</p>\n<p>Today is actually no different, which is wonderful. Just yesterday I was corresponding with core developers from the SAP Cloud Platform Workflow service team on nuances of the implications of an HTTP 302 response on POST requests. And last week I was enjoying a couple of craft beers with some of my all-time heroes from the UI5 team in Mannheim.</p>\n<p>So with all that in mind, the next and best logical step for me in my career is to become part of the family.</p>\n<p>I'm really happy and very proud to say that I'll be joining SAP's Developer Relations team next month, reporting to Thomas Grassl and working alongside some fabulous people. What's more, the recent announcement of the move of Thomas's team, along with the SAP Community, which I helped give birth to all those years ago, to the CTO organisation under Björn Goerke, makes things extra special.</p>\n<p>Finally, it seems fitting to title this post &quot;Coming Home&quot;, as I think that's a good description of what I'm doing.</p>\n",
      "date_published": "2018-01-17T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/16/1/discovering-scp-workflow/",
      "url": "https://qmacro.org/blog/2018/16/1/discovering-scp-workflow/",
      "title": "Discovering SCP Workflow",
      "content_html": "<p>The SAP Cloud Platform Workflow service is a key component in the next generation of enterprise solutions - allowing us to coordinate processes and activities across cloud and on-premise systems. It's a relatively young service, and I thought it would be worth digging into it a little bit to learn more.</p>\n<p>I've written a series of blog posts in <a href=\"https://people.sap.com/dj.adams\">my space on the SAP Community</a>; here's a quick list of them for reference. While they're hopefully digestible individually, they sort of follow a logical sequence, so if you have the time and inclination, you might want to read them in order.</p>\n<p><strong>Available posts</strong></p>\n<ol>\n<li>\n<p><a href=\"https://blogs.sap.com/2018/01/08/discovering-scp-workflow-the-monitor/\">The Monitor</a> - notes on the workflow monitor app that is part of the SAP Cloud Platform Workflow service.</p>\n</li>\n<li>\n<p><a href=\"https://blogs.sap.com/2018/01/14/discovering-scp-workflow-instance-initiation/\">Instance Initiation</a> - an exploration of the part of the SCP Workflow API that deals with workflow instances, looking at how we initiate a new workflow instance, and paying particular attention to how we request, and then use, a cross site request forgery (XSRF) token.</p>\n</li>\n<li>\n<p><a href=\"https://blogs.sap.com/2018/01/16/discovering-scp-workflow-using-postman/\">Using Postman</a> - an explanation of how I use Postman to explore the Workflow API, making the most of some of Postman’s great features.</p>\n</li>\n<li>\n<p><a href=\"https://blogs.sap.com/2018/01/17/discovering-scp-workflow-service-proxy/\">Service Proxy</a> - the presentation of a small proxy service I wrote to handle the minutiae of initiating a new workflow instance.</p>\n</li>\n<li>\n<p><a href=\"https://blogs.sap.com/2018/01/18/discovering-scp-workflow-workflow-definition/\">Workflow Definition</a> - a look at the simple (beer recommendation) scenario I came up with to trial a workflow definition, and that workflow definition itself.</p>\n</li>\n<li>\n<p><a href=\"https://blogs.sap.com/2018/01/20/discovering-scp-workflow-user-tasks/\">User Tasks</a> - an examination of user tasks within the wider context of workflow definitions, along with task UIs and how they fit into the context of the My Inbox app.</p>\n</li>\n<li>\n<p><a href=\"https://blogs.sap.com/2018/01/22/discovering-scp-workflow-component-startup/\">Component Startup</a> - an investigation into how a task UI starts up, where it gets the right data to display, and how it interacts with the My Inbox &quot;host&quot; app.</p>\n</li>\n<li>\n<p><a href=\"https://blogs.sap.com/2018/01/24/discovering-scp-workflow-recommendation-ui/\">Recommendation UI</a> - a look at the specific task UI I wrote for the beer recommendation workflow.</p>\n</li>\n<li>\n<p><a href=\"https://blogs.sap.com/2018/01/26/discovering-scp-workflow-script-tasks/\">Script Tasks</a> - a look at what they are, and how you can use them to manipulate the context of a workflow from within a running instance.</p>\n</li>\n<li>\n<p><a href=\"https://blogs.sap.com/2018/01/29/discovering-scp-workflow-service-tasks/\">Service Tasks</a> - a brief excursion into calling other services from within a workflow, using the beer recommendation workflow scenario as an example.</p>\n</li>\n</ol>\n",
      "date_published": "2018-01-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2018/10/1/consumption-based-scp-pricing-initial-thoughts/",
      "url": "https://qmacro.org/blog/2018/10/1/consumption-based-scp-pricing-initial-thoughts/",
      "title": "Consumption-based SCP Pricing - Initial Thoughts",
      "content_html": "<p>Back in August 2017 I <a href=\"https://qmacro.org/2017/08/08/sap-cloud-platform-pricing/\">made some observations on SAP Cloud Platform Pricing</a>. I had been somewhat underwhelmed by the clarity and flexibility, particularly for smaller projects and businesses.</p>\n<p>This week saw the <a href=\"https://twitter.com/steinermatt/status/950297124461101056\">announcement</a> of a brand new pricing approach and website for the SAP Cloud Platform (SCP), which, judging by the reaction, was a very welcome piece of news. To many, the key change is the introduction of a consumption-based pricing model, as an alternative to the existing subscription-based model. Not only that, but the website offers a pricing estimation calculator which, if I've done things right, shows that consumption-based costs for the small project I described in my earlier post are not unreasonable.</p>\n<p>It's still early days but the situation looks much better. As well as the cost, which I'll get to shortly, there are improvements in the two areas that were causing concern last time I looked - clarity and flexibility.</p>\n<p>The very fact that the consumption-based model allows you to pick what services you want, without having to perform mental gymnastics while looking at a complex PDF document (which still exists for the subscription-based model), is a big plus. There's also a guided section which shows which services are additionally required, if any, and lets you add those to the estimate. For example, the use of the Workflow service requires the Portal and Web IDE services. The fact that you can turn the dial up and down on units (number of users, site visits, etc) and see the estimate change accordingly, is great.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/Screenshot-2018-01-10-at-06.33.12.png\" alt=\"estimate\" /></p>\n<p>Moreover, as you can see from the estimate I quickly put together just now, to reflect Workflow and Business Rules services, the monthly cost is not scary. Of course, it could always be lower, but in the context of a real project and subsequent productive use, the fee is minor.</p>\n<p>I've just scratched the surface here, and will be digging to this a little more over the coming weeks. There are few things I'd like to see already. For example, the estimate calculator itself is a little slow to load (I've just gone back to it and only have a busy spinner right now). And I saw somewhere that Business Rules is included when you choose the Workflow service, but I don't see this confirmed in the estimate summary.</p>\n<p>Overall, I think this is a very good step in the right direction and gives SCP more than a fighting chance to compete. It's hard to consider a service if the usage costs are opaque and / or prohibitive. This new pricing announcement heralds changes that can only be seen as positive.</p>\n",
      "date_published": "2018-01-10T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2017/30/8/things-i-do-to-make-my-work-life-better/",
      "url": "https://qmacro.org/blog/2017/30/8/things-i-do-to-make-my-work-life-better/",
      "title": "Things I do to make my work life better",
      "content_html": "<p>IT and consulting. Two words that can conjur up thoughts of magic, awe and wonder. But like any other business, it has its challenges and you need to have your wits about you to survive and grow. Here are five things that I strive to do in this context.</p>\n<p><a name=\"learn\"></a><strong>Make time to learn</strong></p>\n<p>If there's one thing that's constant in IT and consulting, it's change. Yes, that's a cliché, but it's definitely true here. And unless you're happy becoming eventually obsolete, you need to keep learning. It doesn't come easy - days are busy, coffee breaks are a welcome relief where you can let your brain coast and process thoughts in the background, and in the evenings you're tired.</p>\n<p>So plan in time for yourself to read. Have a focus on a certain topic or area, and make it your plan to work through all the material you can find. Set aside some &quot;time for me&quot; - it's not indulgent, it's a key aspect of being a good consultant. I'm an early riser, so after a run, I give myself 30 mins each morning to catch up on articles I've bookmarked.</p>\n<p>Learning isn't just about reading of course, there's putting knowledge into practice too, and you have to make time for that as well. That might be at weekends if you find yourself with a bit of time on your hands, but it might just be as well while commuting, or an hour before the &quot;main&quot; day starts, say 0800-0900. Don't feel guilty - go for it. Nobody else is going to carve out the time for you.</p>\n<p>(You may be interested to read this post I wrote about reading and learning: <a href=\"https://blogs.sap.com/2009/11/05/tech-skills-chat-with-jonerp-a-follow-on-story/\">Tech Skills Chat with JonERP – A Follow-on Story</a>).</p>\n<p><a name=\"email\"></a><strong>Don't be a slave to email</strong></p>\n<p>There are so many articles on this subject I don't need to go into detail here. But I wanted to share a few of things I do in this regard that work well for me.</p>\n<p>First, though - let's talk about attitude. Resist the temptation to be influenced by people who expect you to respond to an email minutes after they've sent it. Email is not work. Work is work. Email is communication - and asynchronous communication at that. Don't let them dictate your activities, and don't treat your email like a to-do list, because it won't be <em>your</em> to-do items on there!</p>\n<p>So, here are the things I do that I recommend you do too. First, turn off all email notifications and alerts on all your devices. They only serve to distract you from what you're trying to do.</p>\n<p>Second, discipline yourself to process email a few times a day. Don't have the email client running at any other time. This may be hard to do at first, especially if you're relying on your email client to remind you of meetings and events. But if you turn off notifications and minimise the client, that may be good enough. A side effect of applying this discipline is that it will eventually teach your colleagues that discipline too, at least in terms of expectations. And you can always send them (a link to) a polite note like this one: <a href=\"https://qmacro.org/2015/07/03/email-discipline/\">Email Discipline</a>.</p>\n<p>Finally, build a rule to handle your incoming email, splitting it on whether you've been directly addressed (in the &quot;To:&quot; list) or not (in the &quot;Cc:&quot; list). Divert to a &quot;CC-Inbox&quot; folder those emails where you've only been CC'd,  and only check this folder once every two days or so.</p>\n<p>If folks ask you do to something and they've not directly addressed you, that's bordering on rude. Resist the temptation to do it, and if they chase you on something, you can send them (a link to) a polite explanation like this one: <a href=\"https://qmacro.org/2014/11/14/addressing-emails/\">Addressing Emails</a>.</p>\n<p>Managing email is not only about managing yourself, but about managing others.</p>\n<p><a name=\"meetings\"></a><strong>Set reasonable meeting expectations</strong></p>\n<p>There are as many articles on meetings as there are on emails, so I can be brief here too. Time is the most precious commodity. Some meetings are necessary, but they're the minority, especially if you're technical and have work to do. Here's what I do. Not everything all of the time, but when it feels appropriate.</p>\n<p>If a meeting is longer than half an hour, ask if it can be shorter. Resist accepting meeting requests that are over an hour, or reply tentatively saying you can make the first hour. Meetings that have the &quot;luxury&quot; of more than 60 minutes tend to squander those minutes and be almost naturally more inefficient.</p>\n<p>Don't accept meeting requests that lack information (such as dial in details, or an agenda). You can send the requester (a link to) a polite note like this one: <a href=\"https://qmacro.org/2017/05/10/meeting-request-details/\">Meeting Request Details</a>.</p>\n<p>If I'm working at a client, I allow myself up to a maximum of two 30 minute calls. I can absorb this time into an earlier start, a later finish, or some of my lunch, depending on how generous or hungry I'm feeling. If I'm working at a client and they're being billed for it, it's not appropriate to use that time for other work. You shouldn't do it, and your colleagues shouldn't expect you to either.</p>\n<p>Finally, don't waste your time if a meeting doesn't start on time. I usually wait for up to 5 minutes into the call (sometimes 10 minutes if I'm feeling generous and can work on stuff while I wait) and if it hasn't started, I'll leave the call.</p>\n<p><a name=\"lunch\"></a><strong>Make time for lunch</strong></p>\n<p>I try to step away from the keyboard at lunch. It doesn't work all the time, and sometimes it's because I am putting some of my learning into practice. But your brain needs time to process what it's been working on during the morning, and it's not going to be able to to if you're still in front of the screen.</p>\n<p>Stepping away is a discipline I learned from practising the Pomodoro technique (see the post <a href=\"https://qmacro.org/2015/03/15/the-makers-schedule-restraint-and-flow/\">The Maker's Schedule, Restraint and Flow</a>), and I do find it helps to re-find focus, even if you're not thinking about it explicitly.</p>\n<p>Also, lunch time isn't fixed. My day starts early, which means lunch for me is around 1130. That's great, because when I get back from my lunch, others are just going, which means a little more peace than the rest of the day :-)</p>\n<p><a name=\"people\"></a><strong>Remember it's the people that matter</strong></p>\n<p>If I'm honest, it's taken me a while to come to this conclusion. I've been fortunate recently to move into a position where I can look after a team of folks who are all amazing, technically and otherwise. And through my career hacking on SAP technology, it's been the <a href=\"https://twitter.com/qmacro/status/902434375010275328\">people that matter</a>.</p>\n<p>I try to think what I can do to help them. Not all the time, I'm not that saintly. But when I can, when I'm mindful of what's important, I try to make time. I've been in this business for three decades now, and it stands to reason that I probably have some wisdom to share, even if it's &quot;don't do that, I did, and it's not good&quot;.</p>\n<p>There's this idea of being a 10x developer. I'm not sure if this is just mythical or metaphorical, but there's a simple truth in there which is that a good way for one person to scale is by making other folks better. And that's what I'm trying to learn to do now.</p>\n",
      "date_published": "2017-08-30T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2017/26/8/scp-business-rules-roadmap-5-observations/",
      "url": "https://qmacro.org/blog/2017/26/8/scp-business-rules-roadmap-5-observations/",
      "title": "SCP Business Rules Roadmap - 5 Observations",
      "content_html": "<p>I discovered the relatively new <a href=\"https://cloudplatform.sap.com/capabilities/integration/business-rules.html\">Business Rules service</a> on the SAP Cloud Platform (SCP) through recent SAP Community posts from Christian Loos, and from Murali Shanmugham. If you haven't read Murali's series &quot;<a href=\"https://blogs.sap.com/2017/07/31/implementing-a-user-self-registration-scenario-using-workflow-and-business-rules-in-sap-cloud-platform-part-1/\">Implementing a user self-registration scenario using Workflow and Business rules in SAP Cloud Platform</a>&quot;, introducing and combining the Workflow and Business Rules services, you should do.</p>\n<p><strong>Roadmap available</strong></p>\n<p>I started to dig in to the Business Rules services this month, and liked what I saw. But there were things that were missing, in my opinion, so I've been eagerly awaiting an update to the roadmap. And this week we got one - Business Rules has its own roadmap:</p>\n<p><a href=\"https://www.sap.com/documents/2017/08/2a8094b1-ce7c-0010-82c7-eda71af511fa.html\">SAP Product Roadmap - SAP Cloud Platform Business Rules</a> (dated 22 Aug 2017)</p>\n<p><strong>Observations</strong></p>\n<p>It's been updated to reflect the next few quarters. I read through it this morning, and have some observations on what I read, which I wanted to share:</p>\n<ol>\n<li>While it may be early days (Business Rules only <a href=\"https://twitter.com/qmacro/status/895623419403939840\">went GA</a> recently), this diagram shows how important the service is in the grand scheme of things:</li>\n</ol>\n<p><img src=\"https://qmacro.org/blog/img/2017/08/Screen-Shot-2017-08-26-at-07.38.55.png\" alt=\"\" /></p>\n<p>SAP intends to establish a common Enterprise Rule Model, an abstraction for design time and runtime across the different platforms today (their SaaS offerings as well as classic ABAP stack based systems and S/4HANA). And the focus for this model is clearly on SCP.</p>\n<ol start=\"2\">\n<li>Extracting business rules out of codebases seems like a novel idea, but it's what's been happening since even I started with SAP R/2 back in the 1980's. But then, and even over the last few decades, the rule sets - in this case table-based configuration - have still been coupled with the codebase in that the lifecycle has been governed by the IT processes that are designed (rightly so) to protect the core and are not particularly agile.</li>\n</ol>\n<p>The Business Rules service is the next step in that not only are rule sets extracted, but also the execution, in the form of the runtime(s), and access to that execution, is available as a set of API-based services in the cloud. This does indeed lead to agility, business empowerment, legacy preservation and cost savings, as well as readability and reasonability.</p>\n<ol start=\"3\">\n<li>\n<p>SAP Leonardo needs a posse. Machine Learning and Internet of Things is all very well, but without a set of core services to <em>do something</em> with the intelligence and the data, we're not going to get very far. The Business Rules service seems an ideal candidate for mixing into the strategy here.</p>\n</li>\n<li>\n<p>Deprecation is a fact of software life, and we see it here with the HANA based decision tables and rules framework (HRF), in favour of the (to-be) all-encompassing Business Rules service. It's a bold move, but the right one if we're to reach any sort of standardised business rule authoring, storage and processing across the wider SAP ecosystem.</p>\n</li>\n<li>\n<p>Still missing right now is some sort of transport mechanism. Right now, even though the product is GA, there's no way I can see to manage the design time artifacts and transport them through DEV/TST/PRD tiers. There's the ability to manage rules from an active/inactive perspective in the repository, but that's still only within one subaccount. I even looked at the network calls behind the scenes to see what would be needed to build a DIY rule set extractor. But it was pretty complex and I wanted to go out for a run, so I shelved that idea :-)</p>\n</li>\n</ol>\n<p>So in Q3/2017 there are plans for a &quot;REST API for SAP Enterprise Rule Model&quot;. I am interpreting that as what I'm looking for: to be able to manage the lifecycle and transport of artifacts across the landscape. Here's hoping!</p>\n<p><strong>Final thoughts</strong></p>\n<p>When I first came across the Business Rules service, I did wonder in some respects what purpose an extracted form of logic processing would serve. But on reflection, it's clear. Along with managing workflow (lowercase &quot;w&quot;), managing decisions which belong in the business is a key cornerstone of any successful organisation. It's early days for the service, and along with the missing transport mechanisms the UI is still a work in progress, I think, but it's definitely good enough for now, and I'm keeping an eye on things for sure.</p>\n",
      "date_published": "2017-08-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2017/8/8/sap-cloud-platform-pricing/",
      "url": "https://qmacro.org/blog/2017/8/8/sap-cloud-platform-pricing/",
      "title": "SAP Cloud Platform Pricing",
      "content_html": "<p>I'm looking into the <a href=\"https://cloudplatform.sap.com/pricing.html\">pricing for SAP Cloud Platform services</a> and, well to be honest, not particularly liking what I see.</p>\n<p>Recently I've been pleasantly encouraged by new services such as Workflow and Business Rules becoming available on the (free) trial cloud platform, which is great. I get to learn about the features and try things out. Encouraged by what I find, even in these services' early days, I decide to inform myself of how much an organisation would have to pay for these services.</p>\n<p>So I follow the links and end up in the <a href=\"https://cloudplatform.sap.com/pricing.html\">SAP Cloud Platform Pricing &amp; Packaging</a> area, which is a little bit too high level for what I'm looking for. Fortunately, I think, there's a link to a (PDF) <a href=\"https://cloudplatform.sap.com/content/dam/website/skywalker/en_us/PDFs/SAP_Cloud_Platform_Pricing_May2017.pdf\">pricing document</a> (the URL for this particular resource suggests a date of May 2017).</p>\n<p>(Update 11 Aug: SAP has removed that May 2017 PDF and replaced it with a new one with a resource name containing something that looks almost but not quite like a date, so I can't tell what it is: <a href=\"https://cloudplatform.sap.com/content/dam/website/skywalker/en_us/PDFs/SAP_Cloud_Platform_Pricing_82017.pdf\">SAP-Cloud-Platform-Pricing-82017</a>)</p>\n<p>(Update 31 Aug: Seems this new pricing PDF has disappeared, and also the link from the overview pricing page has been removed)</p>\n<p>(Update 01 Sep: Another new pricing PDF appeared today! <a href=\"https://cloudplatform.sap.com/content/dam/website/skywalker/en_us/PDFs/SAP_CP_Pricing_September_2017.pdf\">SAP-CP-Pricing-September-2017</a>)</p>\n<p>Let's say I'm interested in putting together a small project using the Workflow service and also the Business Rules service, for a small department - about 25 users. I'm going to leave out any thoughts of storage and DB processing for now, and focus on the business services, but will want to deploy some integration scenarios to interface with my existing systems.</p>\n<p>Here are my observations when trying to figure out what it will cost.</p>\n<p>The main pricing page is not much use, because it doesn't tell me whether the Workflow service and the Business Rules service are included in any of the packages. I do note, however, that the &quot;for medium business&quot; package versions are perhaps what I'm looking for, as they're &quot;perfect for midsized businesses or departments&quot;. While looking at the costs for these medium business packages, I see that the &quot;multiple application edition&quot; is &quot;now&quot; €59 / user / month, not much more than the &quot;single application edition&quot; at €39 / user / month. Has there been a price drop? Let's see.</p>\n<p>I start reading the pricing document PDF and see that instead of €59 / user / month, the &quot;multiple application edition&quot; is twice the price, at €118 / user / month. I guess (that's all I can do) that the &quot;now&quot; on the website does denote a price drop. Good. A 100% jump to go from one application to two is a little steep.</p>\n<p>So what about the specifics? The high level info is OK, but I need detail. I jump to the &quot;Table 1&quot; which gives me some more info. The &quot;Enterprise Package&quot; (sic) pricing looks much more than I'd like to consider shelling out for my department (starting at €1,500/month, through to €15,000/month), so I stay with the &quot;Medium Business Packages&quot; and see that there's a minimum number of users (10). That's OK, I have 25.</p>\n<p><img src=\"https://qmacro.org/blog/img/2017/08/Screen-Shot-2017-08-08-at-07.50.14.png\" alt=\"\" /></p>\n<p>In examining the first part of Table 1, I notice that it's only the &quot;multiple application edition&quot; that will allow me to partake of the Integration services. So I'm already forced to go down that route (even for a single application). Hmm. Even if I jump back into the Enterprise Package options, I can't take the €1,500/month route, I have to start with €4,000/month &quot;professional edition&quot; to get Integration.</p>\n<p>As an aside, I had been very interested in the API Management service, but as it stands with pricing right now, the only option I have to use that service is to go for broke and shell out €15,000/month for the Enterprise Package &quot;premium edition&quot;. No thanks.</p>\n<p>Time to turn my attention to the Workflow and Business Rules services, in which I'm mostly interested. I scroll down Table 1 and don't find them anywhere. All I see is &quot;Add a-la-carte-Resources&quot;, so I jump further down the document to &quot;A-la-carte Services&quot; (sic) and find the Workflow service, thus: &quot;Monthly Tiered Fee, Min. 100 users, €1.75-€3/user/month&quot;. Ouch. I have to pay monthly for 100 users, even though I have only 25? And what's the difference between €1.75 and €3? It doesn't say.</p>\n<p>Let's look for the Business Rules service. It's pretty new on the scene, and ... yes, as I thought - pricing is lagging behind. No mention of this service at all in either the pricing overview page or in this detailed pricing document. Oh dear.</p>\n<p>To put the final nail in the coffin for this coffee time endeavour, I scroll back up, trying (in vain) to see if I've missed anything on the Business Rules service. No, I haven't (tho it's not GA yet). But what I do notice is that the a-la-carte options ... aren't even a possibility for customers going for per-user pricing: Neither of the Medium Business Packages offer the possibility of adding a-la-carte services. So I have to abandon my plans to go for a Medium Business Package route and consider the Enterprise Package route instead. That's crazy.</p>\n<p>The SAP Cloud Platform is growing, going from strength to strength. And we're growing with it, businesses and consultants alike. But SAP isn't doing themselves any favours, by not making it easy to commit to championing these platform services and including them in demos and proof of concept solutions. Without clear, transparent, simple and reasonable pricing, it seems as though SAP are leaning against the door that we're trying to lever open.</p>\n",
      "date_published": "2017-08-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2017/18/7/fix-blink/",
      "url": "https://qmacro.org/blog/2017/18/7/fix-blink/",
      "title": "Fix Blink",
      "content_html": "<p>If you want to get rid of the rather distracting blinking text (&quot;Supported browser versions&quot;) in the timesheet system, use this bookmarklet. Assuming you're using the Chrome browser (if you care about standards, security and performance why would you not be?), do this:</p>\n<p><strong>Step 1: Make sure your bookmark bar is visible</strong></p>\n<p>See the help article <a href=\"https://support.google.com/chrome/answer/95745?hl=en-GB\">How to use the bookmarks bar</a> for more details on this.</p>\n<p><strong>Step 2: Drag this link to the bookmark bar</strong></p>\n<p><a href=\"javascript:(function(){ blinkeffect = function() {};})();\">Fix Timesheet Blink</a></p>\n<p>It's called a &quot;bookmarklet&quot; and is a bit of JavaScript code.</p>\n<p><strong>Step 3: Click the bookmarklet when you're in the Timesheet</strong></p>\n<p>Whenever you start up the timesheet system, click the bookmarklet once you're in ... and breath a sigh of relief.</p>\n",
      "date_published": "2017-07-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2017/10/5/meeting-request-details/",
      "url": "https://qmacro.org/blog/2017/10/5/meeting-request-details/",
      "title": "Meeting Request Details",
      "content_html": "<p>Meetings are a fact of business life. Some are necessary, some less so. But in all cases, meetings can be improved by having a clear understanding of the intended discussion topics and the desired outcome up front.</p>\n<p>This can easily be described in the meeting request itself, allowing the invited participants to prepare properly and share a common purpose with the others.</p>\n<p>A meeting request with nothing in the description is not a meeting request, it's just a request for time, which is the most precious commodity. We can fix this by ensuring there's something in the body covering the topic and those outcomes.</p>\n<p>Let's do that.</p>\n",
      "date_published": "2017-05-10T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2017/30/4/google-cloud-functions-sheets-apps-script-actions-on-google-win/",
      "url": "https://qmacro.org/blog/2017/30/4/google-cloud-functions-sheets-apps-script-actions-on-google-win/",
      "title": "Google Cloud Functions + Sheets + Apps Script + Actions On Google = WIN",
      "content_html": "<p>Sometimes, a perfect storm of technology comes along. I'd recently been teaching myself about <a href=\"https://cloud.google.com/functions/\">Google Cloud Functions</a>, and had created a function to service our <a href=\"https://untappd.com/user/qmacro\">Untappd</a> beer searches in the #craftbeer channel for our organisation's Slack community. It replaced an ageing PHP script that I'd sellotaped together and had been hosting on my website. I now don't have to worry about hosting it, and it's a lot faster too.</p>\n<p>Roll on a few weeks and I start to hear about <a href=\"https://developers.google.com/actions/\">Actions on Google</a>, <a href=\"https://api.ai/\">API.AI</a> and the <a href=\"https://assistant.google.com/\">Google Assistant</a> infrastructure. Cut to today, and I'm so enamoured with how the platform is panning out that I've already bought a Google Home device and I'm trying out my own test actions already[^n].</p>\n<p>I'm a big fan of the Google Apps platform, <a href=\"https://qmacro.org/tag/appsscript/\">in particular Apps Script</a>. The combination of server-side JavaScript with the rich access to the Apps platform and data makes it very easy to build and deliver very useful services. I put together the <a href=\"https://qmacro.org/2013/10/04/sheetasjson-google-spreadsheet-data-as-json/\">SheetAsJSON</a> service back in 2013 and I, along with others, still use it today.</p>\n<p>So it wasn't unusual for me to think of Apps and Apps Script as a natural set of tools in building out some Actions on Google functionality. I had watched the recording of the excellent session <a href=\"https://www.youtube.com/watch?v=7e0RGIul8Kk\">Extending the Google Assistant with Actions on Google (Google Cloud Next '17)</a> with Guillaume Laforge and Brad Abrams and thought that their example action - a conference helper to assist with discovering topics and sessions - was not only useful, but also ideal for taking my learning to the next level. I studied the content carefully and came up with my own version. Theirs was using an API endpoint that looked like this: <code>http://cloudnext.withgoogle.com/api/v1/...</code>, and is represented by the &quot;Next&quot; box in this slide (from the session):</p>\n<p><img src=\"https://qmacro.org/blog/img/2017/04/Screen-Shot-2017-04-30-at-09.09.26.png\" alt=\"\" /></p>\n<p>If I was to build my own version, I'd have to come up with a service of my own. This is where the Apps platform and Apps Script came in. First, conference session data lends itself to being marshalled into rows and columns, and at least for me, seeing data in front of me in a structured form really helps. So grabbing the data for a conference and putting it into a spreadsheet was the logical first step. But it only got better from there.</p>\n<p>Spreadsheets are about storing and managing data, but that data and management is dynamic. Having calculated values is a completely natural thing, and the spreadsheet model of values dependent on other values is powerful, especially when you want to manipulate the data, say, for testing and discovery purposes. Moreover, for developing the natural language that you want for your action's persona, it's a good way of setting up data circumstances that warrant a particular figure of speech or turn of phrase in the response you're building.</p>\n<p>So I stored the conference data for my version of the helper in a Google spreadsheet, enhanced it with some calculated values, and then wrote some simple Apps Script to provide an API to that data set. So that combination became the equivalent to the &quot;Next&quot; box in the slide shown earlier.</p>\n<p>Here's a demo of my helper in action, including a look at the spreadsheet and how the data is surfaced in speech:</p>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/98SNObLdZH8\" frameborder=\"0\" allowfullscreen=\"\"></iframe>\n<p>If you're curious to see what the Apps Script based API produces, here's an example from the call to retrieve the topics (ie the one called to be able to fulfil the 'list-topics' intent):</p>\n<p><img src=\"https://qmacro.org/blog/img/2017/04/Screen-Shot-2017-04-30-at-16.49.44.png\" alt=\"\" /></p>\n<p>Note that the topics (Data Science, Security, Chrome OS and so on) are returned in a map, where the properties are the topics and the values are the lists of sessions for each of those topics. The data thus retrieved is stored in the relevant context, so that once the user has heard about the topics available and wants to explore the related sessions, the data is available immediately without a further call needed to the service API.</p>\n<p>Anyway, I'll leave it there for now. The writing of this post was spurred on by <a href=\"https://twitter.com/erickoleda\">Eric Koleda</a> who <a href=\"https://twitter.com/qmacro/status/857992647763517441\">asked me to share a demo</a> - thanks for the prompting, Eric!</p>\n<p>If there's interest, there's a lot to talk about in future posts. Some topics that come to mind are:</p>\n<ul>\n<li>using speech adjunct functions for a more human and random approach to responses</li>\n<li>using other helper functions to properly enunciate lists and single / multiple values</li>\n<li>generating entity data in the spreadsheet and uploading to <a href=\"http://api.ai/\">API.AI</a></li>\n<li>using meta entities (!)</li>\n<li>managing contexts</li>\n<li>dealing with the fact that &quot;in conversation, there are no errors&quot;</li>\n<li>the structure of a typical fulfillment service</li>\n<li>balancing API calls and where things are computed</li>\n<li>the need (or not) to cause recalculations in the &quot;unattended&quot; spreadsheet</li>\n<li>testing approaches</li>\n<li>the development, testing and deployment workflow that I've put together, that works well for me</li>\n</ul>\n<p>[^n]: One particularly irksome issue right now is that to get actions to work, I have to switch the Home device to US English, which just doesn't feel right ... and the locale-related changes that come with that switch mean that temperatures that are consequently given in Farenheit don't mean anything to me ;-)</p>\n",
      "date_published": "2017-04-30T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2017/29/4/yabp-yet-another-blogging-platform/",
      "url": "https://qmacro.org/blog/2017/29/4/yabp-yet-another-blogging-platform/",
      "title": "YABP - Yet Another Blogging Platform",
      "content_html": "<p>I've been blogging <a href=\"http://qmacro.blogspot.co.uk/2000_12_24_archive.html#1780991#1780991\">since the end of 2000</a>. In that time, I've moved platform a few times. I've gone from Blogger/Pyra back in the beginning, through Moveable Type, the wonderful <a href=\"https://qmacro.org/2002/04/21/hello-blosxom/\">Blosxom</a>, and more, ending up most recently with WordPress.</p>\n<p>I discovered Ghost a while back, and am using it to host another blog of mine - <a href=\"http://langram.org/\">Language Ramblings</a>. Its simplicity reminds me a lot of Blosxom, plus there's my composition language of choice built in - Markdown. So before embarking on some new blogging, I thought I'd change over from WordPress to Ghost, which, as you can see, I've done.</p>\n<p>I've exported the content from my old platform and imported it here. I'm currently running the instance on a different port, locally on my server, and reverse-proxying the <code>/</code> path from my Apache install to it. There will be a few rough edges over the next few weeks, where I need to sort out relative paths for a lot of the URLs, so please bear with me. But I feel the effort will be worthwhile. The lack of friction I feel with the Ghost platform is definitely something I'm embracing.</p>\n",
      "date_published": "2017-04-29T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/",
      "url": "https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/",
      "title": "The beauty of recursion and list machinery",
      "content_html": "<p>There are beautiful patterns inherent in the use of recursion that I've seen in my attempts to reboot my brain with a new, more functionally focused way of thinking about programming.</p>\n<p>This post explores one particular pattern that is inherent in how recursion is often expressed in some functional languages, and finishes with the alternative based on what I'm going to call &quot;list machinery&quot; - mechanisms within a language that provide powerful processing abstractions over structures such as lists.</p>\n<h1 id=\"initial-recognition\" tabindex=\"-1\"><a name=\"initialrecognition\"></a>Initial recognition <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#initial-recognition\" aria-hidden=\"true\">#</a></h1>\n<p>Erik Meijer, whom I'll mention properly in a moment, uses a phrase &quot;if you stare long enough at it ...&quot;. This really appeals to me, because it expresses the act of focus and concentration in a wonderfully casual way. I've stared at this stuff long enough for it to become something tangible, something recognisable, and hopefully there's useful content here for you to stare at too.</p>\n<h2 id=\"introduction-via-haskell\" tabindex=\"-1\">Introduction via Haskell <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#introduction-via-haskell\" aria-hidden=\"true\">#</a></h2>\n<p>It was my son <a href=\"http://jcla1.com/\">Joseph</a> that introduced me to the concept that has intrigued me since the first day I saw it. Proficient in many different languages, he was showing me some solutions to <a href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/(https://www.youtube.com/watch?v=UIUlFQH4Cvo&amp;list=PLTA0Ta9Qyspa5Nayx0VCHj5AHQJqp1clD)\">Project Euler</a> challenges that he'd written in Haskell. They involved a fascinating approach using pattern matching. Determining the resulting value of something based upon a list of possible matches on the data being processed. It involved expressions involving the symbols <code>x</code> and <code>xs</code>. This is very abstract, but it will become more concrete shortly.</p>\n<h2 id=\"c9-lectures\" tabindex=\"-1\">C9 Lectures <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#c9-lectures\" aria-hidden=\"true\">#</a></h2>\n<p>The next time I encountered this pattern matching technique was in a series of lectures by the inimitable Erik Meijer. These lectures are on functional programming techniques, and the series is called &quot;<a href=\"https://www.youtube.com/watch?v=UIUlFQH4Cvo&amp;list=PLTA0Ta9Qyspa5Nayx0VCHj5AHQJqp1clD\">Programming in Haskell</a>&quot;, although the concepts themselves are explained in terms of other languages (C#, LINQ) too. I thoroughly recommend you spend some time enjoying them. One thing that Erik said a lot was &quot;x over xs&quot;, which is expressed as <code>x::xs</code>.</p>\n<p>Being somewhat intimidated by the M-word (monad), I have avoided Haskell so far, although my interest in functional programming in other languages (such as in Clojure, and with Ramda in JavaScript) has grown considerably ... I presented at <a href=\"https://sessioncatalog.sapevents.com/go/agendabuilder.sessions/?l=133&amp;sid=37706_0&amp;locale=en_US\">SAP TechEd EMEA</a> and also at <a href=\"https://twitter.com/qmacro/status/802108634255806465\">UI5con</a>, both in 2016, on functional programming techniques in JavaScript.</p>\n<h2 id=\"elm\" tabindex=\"-1\">Elm <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#elm\" aria-hidden=\"true\">#</a></h2>\n<p>And now, learning <a href=\"http://elm-lang.org/\">elm</a>, I re-encounter these pattern-matching patterns again. I think it's because, at least to my naive mind, elm seems to reflect a lot of concepts from Haskell (and from Clojure, for that matter). The patterns are expressed nicely in an online book &quot;<a href=\"https://learnyouanelm.github.io/\">Learn You an Elm</a>&quot;; the book is very much a work-in-progress but definitely worth a read even at this early stage.</p>\n<p>The examples in this post will be in elm.</p>\n<h1 id=\"subsequent-understanding\" tabindex=\"-1\">Subsequent understanding <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#subsequent-understanding\" aria-hidden=\"true\">#</a></h1>\n<p>It turns out that the wonderfully succinct expression <code>x::xs</code> represents one of the core concepts in functional programming. A list can be seen in two parts - the head, and the tail. The first element, and the rest of the elements. So <code>x</code> represents the head of a list, and <code>xs</code> represents the tail. And the <code>::</code>? That represents the concept of &quot;cons&quot;, which has <a href=\"https://en.wikipedia.org/wiki/Cons\">its own page on Wikipedia</a> but I'm going to call &quot;prepend&quot; for brevity.</p>\n<h2 id=\"no-loops\" tabindex=\"-1\">No loops <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#no-loops\" aria-hidden=\"true\">#</a></h2>\n<p>One thing to bear in mind from the outset is that in functional programming, there are no loops. Not as you or I might understand them, at least. But if you think of a list of items that you want to process &quot;in a loop&quot;, the concept of &quot;x over xs&quot; is what you need.</p>\n<p>If you want to transform a list, by applying some function to [each element in] that list, here's how it goes, using that concept. Remembering that functional programming is less about describing the 'how', and more about stating the 'what', we can say that the new list is the result of the function applied to the head of the list (an individual element), combined with the result of the function applied to the tail of the list (a smaller list).</p>\n<p>And the function applied to the tail of the list is the result of the function applied to the head of that list, combined with the function applied to the tail of that same list.</p>\n<p>And so it goes on, until there are no more elements in the (ever decreasing) tail to which the function must be applied.</p>\n<p>The function is called recursively in this fashion.</p>\n<p>Here's an example. If we have a list <code>[1,2,3,4,5]</code> and want to compute the sum of all the elements in that list (15), this is what the pattern matching approach looks like.</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">sum</span> <span class=\"token operator\">:</span> <span class=\"token constant\">List</span> <span class=\"token hvariable\">number</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">number</span><br /><span class=\"token hvariable\">sum</span> <span class=\"token hvariable\">list</span> <span class=\"token operator\">=</span><br />  <span class=\"token keyword\">case</span> <span class=\"token hvariable\">list</span> <span class=\"token keyword\">of</span><br />    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-></span> <span class=\"token number\">0</span><br />    <span class=\"token punctuation\">(</span><span class=\"token hvariable\">x</span><span class=\"token operator\">::</span><span class=\"token hvariable\">xs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">x</span> <span class=\"token operator\">+</span> <span class=\"token hvariable\">sum</span> <span class=\"token hvariable\">xs</span></code></pre>\n<p>Calling the function on the list gives us what we're looking for:</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">sum</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><br /><span class=\"token comment\">--> 15</span></code></pre>\n<p>Let's extract the core pattern matching approach here, in the <code>case</code> expression:</p>\n<ul>\n<li>\n<p><code>[]</code> matches an empty list. To be useful (ie not go on forever), recursion needs a base case. This is the base case.</p>\n</li>\n<li>\n<p><code>(x::xs)</code> is a pattern that matches two parts - the head and the tail of the list. If the earlier <code>[]</code> didn't match, then we're going to have at least one element, matched into <code>x</code>, and any further elements, if they exist, are matched into <code>xs</code>.</p>\n</li>\n</ul>\n<p>(For those of you who, like me, are not steeped in strongly typed languages, the question &quot;what happens if we don't pass a list at all, just, say, a string?&quot; doesn't even come up, as the elm compiler won't allow that to happen.)</p>\n<p>The sum of an empty list of numbers - the base case - is zero, clearly. The sum of a non empty list of numbers is where we see the recursive nature of the definition: it's the first number added to the sum of the rest of the numbers. And while contemplating this beautiful simplicity, consider also that this is an example of how a functional approach to programming is declarative, rather than imperative. Rather than explaining <em>how</em> to compute the sum (which we'd traditionally do with a loop and some variable to accumulate the final value), we're just saying <em>what</em> it is.</p>\n<h2 id=\"further-pattern-examples\" tabindex=\"-1\">Further pattern examples <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#further-pattern-examples\" aria-hidden=\"true\">#</a></h2>\n<p>Let's examine a few more instances of this pattern matching. I'm going for quite a few examples, so you can stare at them all for a while.</p>\n<h3 id=\"factorial\" tabindex=\"-1\">Factorial <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#factorial\" aria-hidden=\"true\">#</a></h3>\n<p>First, how about calculating factorials:</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">factorial</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Int</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Int</span><br /><span class=\"token hvariable\">factorial</span> <span class=\"token hvariable\">n</span> <span class=\"token operator\">=</span><br />  <span class=\"token keyword\">case</span> <span class=\"token hvariable\">n</span> <span class=\"token keyword\">of</span><br />    <span class=\"token number\">0</span> <span class=\"token operator\">-></span> <span class=\"token number\">1</span><br />    _ <span class=\"token operator\">-></span> <span class=\"token hvariable\">n</span> <span class=\"token operator\">*</span> <span class=\"token hvariable\">factorial</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">n</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><br /><br /><span class=\"token hvariable\">factorial</span> <span class=\"token number\">5</span><br /><span class=\"token comment\">--> 120</span></code></pre>\n<p>We have the same approach here: matching the base case, where n is zero, and then declaring that the factorial of n is just n multiplied by the factorial of n - 1. In this particular example of pattern matching, we're not interested in capturing the matched number (as we already have it in n), hence the <code>_</code> in the pattern.</p>\n<h3 id=\"length\" tabindex=\"-1\">Length <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#length\" aria-hidden=\"true\">#</a></h3>\n<p>How about calculating the length of a list? That's simple:</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">length</span> <span class=\"token operator\">:</span> <span class=\"token constant\">List</span> <span class=\"token hvariable\">a</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Int</span><br /><span class=\"token hvariable\">length</span> <span class=\"token hvariable\">list</span> <span class=\"token operator\">=</span><br />  <span class=\"token keyword\">case</span> <span class=\"token hvariable\">list</span> <span class=\"token keyword\">of</span><br />    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-></span> <span class=\"token number\">0</span><br />    <span class=\"token punctuation\">(</span>_<span class=\"token operator\">::</span><span class=\"token hvariable\">xs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token hvariable\">length</span> <span class=\"token hvariable\">xs</span><br /><br /><span class=\"token hvariable\">length</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><br /><span class=\"token comment\">--> 5</span></code></pre>\n<p>Again, we see the same pattern.</p>\n<h3 id=\"reverse\" tabindex=\"-1\">Reverse <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#reverse\" aria-hidden=\"true\">#</a></h3>\n<p>This time we'll use the pattern matching approach to produce the reverse of a list.</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">reverse</span> <span class=\"token operator\">:</span> <span class=\"token constant\">List</span> <span class=\"token hvariable\">a</span> <span class=\"token operator\">-></span> <span class=\"token constant\">List</span> <span class=\"token hvariable\">a</span><br /><span class=\"token hvariable\">reverse</span> <span class=\"token hvariable\">list</span> <span class=\"token operator\">=</span><br />  <span class=\"token keyword\">case</span> <span class=\"token hvariable\">list</span> <span class=\"token keyword\">of</span><br />    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><br />    <span class=\"token punctuation\">(</span><span class=\"token hvariable\">x</span><span class=\"token operator\">::</span><span class=\"token hvariable\">xs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">reverse</span> <span class=\"token hvariable\">xs</span> <span class=\"token operator\">++</span> <span class=\"token punctuation\">[</span><span class=\"token hvariable\">x</span><span class=\"token punctuation\">]</span><br /><br /><span class=\"token hvariable\">reverse</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><br /><span class=\"token comment\">--> [5,4,3,2,1]</span></code></pre>\n<p>This time, the base case - an empty list - results in an empty list. Otherwise we take the head and prepend the reverse of the tail to it, recursively.</p>\n<h3 id=\"take\" tabindex=\"-1\">Take <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#take\" aria-hidden=\"true\">#</a></h3>\n<p>Now let's define our own <code>take</code> function, a common facility found in functional languages that are (naturally) list-oriented. The function returns the first n elements of a list.</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">take</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Int</span> <span class=\"token operator\">-></span> <span class=\"token constant\">List</span> <span class=\"token hvariable\">a</span> <span class=\"token operator\">-></span> <span class=\"token constant\">List</span> <span class=\"token hvariable\">a</span><br /><span class=\"token hvariable\">take</span> <span class=\"token hvariable\">n</span> <span class=\"token hvariable\">list</span> <span class=\"token operator\">=</span><br />  <span class=\"token keyword\">if</span> <span class=\"token hvariable\">n</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span> <span class=\"token keyword\">then</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><br />  <span class=\"token keyword\">else</span> <span class=\"token keyword\">case</span> <span class=\"token hvariable\">list</span> <span class=\"token keyword\">of</span><br />    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><br />    <span class=\"token punctuation\">(</span><span class=\"token hvariable\">x</span><span class=\"token operator\">::</span><span class=\"token hvariable\">xs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">x</span> <span class=\"token operator\">::</span> <span class=\"token hvariable\">take</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">n</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">xs</span><br /><br /><span class=\"token hvariable\">take</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><br /><span class=\"token comment\">--> [1,2,3]</span></code></pre>\n<p>Here we have something extra. There are two base cases - where the list is empty, but also where the number of elements to take is zero or less. But otherwise the pattern is the same.</p>\n<h3 id=\"member\" tabindex=\"-1\">Member <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#member\" aria-hidden=\"true\">#</a></h3>\n<p>This time, we're going to need the <code>if then else</code> expression to declare the recursive definition for a function that returns whether an element is a member of a list.</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><br /><span class=\"token hvariable\">member</span> <span class=\"token operator\">:</span> <span class=\"token hvariable\">a</span> <span class=\"token operator\">-></span> <span class=\"token constant\">List</span> <span class=\"token hvariable\">a</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span><br /><span class=\"token hvariable\">member</span> <span class=\"token hvariable\">a</span> <span class=\"token hvariable\">list</span> <span class=\"token operator\">=</span><br />  <span class=\"token keyword\">case</span> <span class=\"token hvariable\">list</span> <span class=\"token keyword\">of</span><br />    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-></span> <span class=\"token constant\">False</span><br />    <span class=\"token punctuation\">(</span><span class=\"token hvariable\">x</span><span class=\"token operator\">::</span><span class=\"token hvariable\">xs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">if</span> <span class=\"token hvariable\">a</span> <span class=\"token operator\">==</span> <span class=\"token hvariable\">x</span> <span class=\"token keyword\">then</span> <span class=\"token constant\">True</span> <span class=\"token keyword\">else</span> <span class=\"token hvariable\">member</span> <span class=\"token hvariable\">a</span> <span class=\"token hvariable\">xs</span><br /><br /><span class=\"token hvariable\">member</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><br /><span class=\"token comment\">--> True</span><br /><br /><span class=\"token hvariable\">member</span> <span class=\"token number\">6</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><br /><span class=\"token comment\">--> False</span></code></pre>\n<p>If the list is empty - the base case - then the answer is clearly going to be False. Otherwise we check to see if the head of the list is the same as the element to find, and if it is, then the answer is True; otherwise we recurse with the tail of the list.</p>\n<h3 id=\"maximum\" tabindex=\"-1\">Maximum <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#maximum\" aria-hidden=\"true\">#</a></h3>\n<p>Finally, here's a definition of a function that will return the maximum value in a list. Note here that the function's type signature uses the <code>comparable</code> type.</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">maximum</span> <span class=\"token operator\">:</span> <span class=\"token constant\">List</span> <span class=\"token hvariable\">comparable</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">comparable</span><br /><span class=\"token hvariable\">maximum</span> <span class=\"token hvariable\">list</span> <span class=\"token operator\">=</span><br />  <span class=\"token keyword\">case</span> <span class=\"token hvariable\">list</span> <span class=\"token keyword\">of</span><br />    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">Debug.crash</span> <span class=\"token string\">\"Maximum of empty list?!\"</span><br />    <span class=\"token punctuation\">[</span><span class=\"token hvariable\">x</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">x</span><br />    <span class=\"token punctuation\">(</span><span class=\"token hvariable\">x</span><span class=\"token operator\">::</span><span class=\"token hvariable\">xs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">let</span> <span class=\"token hvariable\">m</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">maximum</span> <span class=\"token hvariable\">xs</span><br />      <span class=\"token keyword\">in</span> <span class=\"token keyword\">if</span> <span class=\"token hvariable\">x</span> <span class=\"token operator\">></span> <span class=\"token hvariable\">m</span> <span class=\"token keyword\">then</span> <span class=\"token hvariable\">x</span> <span class=\"token keyword\">else</span> <span class=\"token hvariable\">m</span><br /><br /><span class=\"token hvariable\">maximum</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><br /><span class=\"token comment\">--> 5</span></code></pre>\n<p>Here we see another construct - the 'let expression', similar to how 'let' is used in Clojure for bindings. It allows the creation of short-lived values, similar to scope-limited variables in other languages. What we're saying for this last pattern case <code>(x::xs)</code> is that we want to calculate the maximum of the tail of the list and assign that to <code>m</code>, and then in the context of that, check whether the head of the list is greater than that or not.</p>\n<p>Elm has a builtin function <code>max</code> that will return the maximum of two comparables. The &quot;Learn You an Elm&quot; book points out that this can allow us to be even more succinct in our maximum function, like this:</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">maximum_</span> <span class=\"token operator\">:</span> <span class=\"token constant\">List</span> <span class=\"token hvariable\">comparable</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">comparable</span><br /><span class=\"token hvariable\">maximum_</span> <span class=\"token hvariable\">list</span> <span class=\"token operator\">=</span><br />  <span class=\"token keyword\">case</span> <span class=\"token hvariable\">list</span> <span class=\"token keyword\">of</span><br />    <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">Debug.crash</span> <span class=\"token string\">\"Maximum of empty list?!\"</span><br />    <span class=\"token punctuation\">[</span><span class=\"token hvariable\">x</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">x</span><br />    <span class=\"token punctuation\">(</span><span class=\"token hvariable\">x</span><span class=\"token operator\">::</span><span class=\"token hvariable\">xs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token builtin\">max</span> <span class=\"token hvariable\">x</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">maximum_</span> <span class=\"token hvariable\">xs</span><span class=\"token punctuation\">)</span><br /><br /><span class=\"token hvariable\">maximum_</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><br /><span class=\"token comment\">--> 5</span></code></pre>\n<p>Wonderful.</p>\n<h1 id=\"list-machinery\" tabindex=\"-1\">List machinery <a class=\"direct-link\" href=\"https://qmacro.org/blog/2017/19/2/the-beauty-of-recursion-and-list-machinery/#list-machinery\" aria-hidden=\"true\">#</a></h1>\n<p>I've talked at length about recursion, and perhaps you too can see the beauty therein.</p>\n<p>So what about list machinery? Again, following the 'what not how' philosophy, let's look at a little bit of list machinery in the form of the swiss army chainsaw function <code>reduce</code>, which in elm (and other languages) is known as <code>foldl</code> - for &quot;fold-left&quot;.</p>\n<p>We'll re-implement the <code>maximum</code> function with <code>foldl</code> and the <code>max</code> builtin function:</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">maximum_</span> <span class=\"token operator\">:</span> <span class=\"token constant\">List</span> <span class=\"token hvariable\">comparable</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">comparable</span><br /><span class=\"token hvariable\">maximum_</span> <span class=\"token hvariable\">list</span> <span class=\"token operator\">=</span><br />  <span class=\"token hvariable\">List.foldl</span> <span class=\"token builtin\">max</span> <span class=\"token number\">0</span> <span class=\"token hvariable\">list</span><br /><br /><span class=\"token hvariable\">maximum_</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><br /><span class=\"token comment\">--> 5</span></code></pre>\n<p>The <code>foldl</code> function reduces a list by applying a function in turn to each of the elements. The function to apply should have two parameters - the first to accept the accumulated value and the second to accept the list element being folded over. So here, the function to apply is <code>max</code>, which takes two arguments, and the initial value for any maximum comparison (of positive numbers, at least) should be zero.</p>\n<p>Perhaps more wonderful even than the recursive version? Remember that we're processing each element of a list, without any concern as to how that processing happens - we leave that to the language's list machinery to deal with for us.</p>\n<p>And to finish, how about using <code>foldl</code> to reverse a list, so we can contrast it with the recursive definition earlier?</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">List.foldl</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">::</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><br /><span class=\"token comment\">--> [5,4,3,2,1]</span></code></pre>\n<p>(The cons function <code>::</code> can be used in function position by surrounding it in brackets.)</p>\n<p>Gosh. Worthy of a long stare. Don't you think?</p>\n<p><strong>Postscript:</strong></p>\n<p>A day after publishing this post, I find myself at <a href=\"http://www.lambdalounge.org.uk/\">Lambda Lounge</a> in Manchester this evening, hosted at <a href=\"https://madlab.org.uk/\">MadLab</a>, where we're learning about <a href=\"http://elixir-lang.org/\">Elixir</a>, a dynamic functional language on the Erlang OTP platform, and a short way into the session, this sample is presented to us:</p>\n<pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token keyword\">defmodule</span> <span class=\"token module class-name\">Factorial</span> <span class=\"token keyword\">do</span><br />  <span class=\"token keyword\">def</span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> <span class=\"token number\">1</span><br />  <span class=\"token keyword\">def</span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> n <span class=\"token operator\">*</span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span>n<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><br /><span class=\"token keyword\">end</span><br /><br /><span class=\"token module class-name\">Factorial</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><br /><span class=\"token operator\">/</span><span class=\"token operator\">/</span>> <span class=\"token number\">120</span></code></pre>\n<p>While the Elixir syntax may be less familiar to us right now, I'm guessing that the approach here, that we've examined in this post, jumps off the page in a rush of familiarity. Within the <code>Factorial</code> module, we have a couple of definitions of the <code>of</code> function, which are used in the same pattern matching way. And we can see the base case defined thus:</p>\n<pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token keyword\">def</span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> <span class=\"token number\">1</span></code></pre>\n<p>and the recursive call:</p>\n<pre class=\"language-elixir\"><code class=\"language-elixir\"><span class=\"token keyword\">def</span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">do:</span> n <span class=\"token operator\">*</span> <span class=\"token function\">of</span><span class=\"token punctuation\">(</span>n<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Lovely.</p>\n",
      "date_published": "2017-02-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/27/12/excluding-with-vim-s-wildignore/",
      "url": "https://qmacro.org/blog/2016/27/12/excluding-with-vim-s-wildignore/",
      "title": "Excluding with vim&#39;s wildignore",
      "content_html": "<p>I found it more difficult than usual to get the <code>wildignore</code> setting working properly in vim, so I thought I'd document it here.</p>\n<p>The <code>wildignore</code> setting is used in conjunction with the <code>path</code> and other settings such as <code>wildmenu</code>, and supposedly can be used to specify filename patterns that should be ignored when searching for files, for example using the <code>find</code> command.</p>\n<p>I'm running a fairly modern version of vim (7.4) compiled with the <code>+wildignore</code> option:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">dj@pipetree ~ $ <span class=\"token function\">vim</span> --version <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> wildignore<br />+cscope          +lispindent      +python3         +wildignore<br />dj@pipetree ~ $</code></pre>\n<p>but specifying a pattern such as this:</p>\n<pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">set</span> <span class=\"token builtin\">wildignore</span><span class=\"token operator\">=</span>node_modules<span class=\"token operator\">/</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span></code></pre>\n<p>or variations thereof, such as</p>\n<pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">set</span> <span class=\"token builtin\">wildignore</span><span class=\"token operator\">=</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">/</span>node_modules<span class=\"token operator\">/</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span></code></pre>\n<p>or even</p>\n<pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">set</span> <span class=\"token builtin\">wildignore</span><span class=\"token operator\">=</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>node_modules<span class=\"token operator\">*</span><span class=\"token operator\">*</span></code></pre>\n<p>didn't have the desired effect. I'm wanting to exclude content from that folder (and the subfolders contained there) as they don't form part of the codebase I'm working on in my JavaScript projects.</p>\n<p>What works for me is</p>\n<pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">set</span> <span class=\"token builtin\">wildignore</span><span class=\"token operator\">=</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span><span class=\"token keyword\">dj</span><span class=\"token operator\">/</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token operator\">/</span>node_modules<span class=\"token operator\">/</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span></code></pre>\n<p>In other words, an absolute path (I've tried using the tilde too, to no avail).</p>\n<p>This is good enough for me, but it does irk me that something that should be so simple ... isn't.</p>\n",
      "date_published": "2016-12-27T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/19/10/f3c-parts-9-and-10-functors/",
      "url": "https://qmacro.org/blog/2016/19/10/f3c-parts-9-and-10-functors/",
      "title": "F3C Parts 9 and 10 - Functors",
      "content_html": "<p>FunFunFunction Videos: <a href=\"https://www.youtube.com/watch?v=YLIH8TKbAh4&amp;index=9&amp;list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84\">Functors - FunFunFunction #10</a> and <a href=\"https://www.youtube.com/watch?v=DisD9ftUyCk&amp;list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&amp;index=10\">Functors: I was WRONG! - FunFunFunction #11</a> (yes, the sequence numbers are a bit mixed up, don't worry though)</p>\n<p>(This post is part of the <a href=\"https://qmacro.org/f3c/\">F3C</a> series)</p>\n<p>There are two videos in the series. In the first, MPJ explores what functors are, and based on material in the blogosphere, makes some statements that aren't quite accurate. So he follows up with a second video correcting those statements, which I think was an excellent way to fix things. There's a lot to be said for learning by watching other people learn.</p>\n<p>There's quite a bit to take in from these two videos on functors, so here's my summary of functor essentials:</p>\n<ul>\n<li>\n<p>a functor is a type -- for us, an object or container -- that has a <code>map</code> method[^n]</p>\n</li>\n<li>\n<p>this container can contain elements of any type</p>\n</li>\n<li>\n<p>the <code>map</code> method tranforms the elements, by applying the supplied function to each of them[^n]</p>\n</li>\n<li>\n<p>while the elements are transformed, the structure of the container remains intact</p>\n</li>\n<li>\n<p>the result is a new functor</p>\n</li>\n</ul>\n<p>As MPJ points out, the most common functor in our context is JavaScript's <code>Array</code>. Here it is in action[^n]:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">[</span><span class=\"token string\">\"the\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"quick\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"brown\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"fox\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"jumps\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"over\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"the\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"lazy\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dog\"</span><span class=\"token punctuation\">]</span><br />  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><br />  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><br /><span class=\"token comment\">// [false, false, false, false, false, true, false, true, false]</span></code></pre>\n<p>The point of the second <code>map</code> in the example is to show that what is returned by the first <code>map</code> is indeed a functor -- another <code>Array</code>, in fact -- over which we can call <code>map</code> again.</p>\n<p>While <code>Array</code> is the most obvious functor, MPJ points out that some implementations of Promises are functors, as are Streams (the latter is the subject of the next episode in this series). There's a Promise example, but it's not quite right - there are a couple of bracket-related typos. Here's what I think it should look like instead:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> Promise <span class=\"token keyword\">from</span> <span class=\"token string\">'bluebird'</span><br /><br /><span class=\"token keyword\">const</span> whenDragonLoaded <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><br />  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><br />      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> ‘Fluffykins’<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">health</span><span class=\"token operator\">:</span> <span class=\"token number\">70</span>  <span class=\"token punctuation\">}</span><br />  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br /><span class=\"token keyword\">const</span> names <span class=\"token operator\">=</span> <br />    whenDragonLoaded<br />        <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">dragon</span> <span class=\"token operator\">=></span> dragon<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><br />        <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>One thing I was slightly unsure of in correcting the brackets was replacing the curly braces (the ones that wrapped the object literal in the <code>resolve</code> call) with square brackets. At one level it is fine - the curly braces were simply not syntactically correct. But I felt as though adding the &quot;container&quot; syntax I was &quot;helping&quot; the Promise be a functor. Moreover, in one of the articles on JavaScript Promises that I read, I picked up the sentiment that doing exactly this was deemed bad practice. Anyway, I'm sure things will become clearer here as I explore further.</p>\n<p>[^n]: (although it doesn't have to be called that, I guess - the method name could be different, but have the same effect)<br />\n[^n]: &quot;lifting&quot; the function into the container<br />\n[^n]: I'm deliberately using small, generic variable names, as that's what functional programming suggests to me - making things simple and generic means I don't want to inadvertently attach &quot;contextual baggage&quot; with variable names that mean something only in one context</p>\n",
      "date_published": "2016-10-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/16/10/f3c-part-8-promises/",
      "url": "https://qmacro.org/blog/2016/16/10/f3c-part-8-promises/",
      "title": "F3C Part 8 - Promises",
      "content_html": "<p>FunFunFunction Video: <a href=\"https://www.youtube.com/watch?v=2d7s3spWAzo&amp;index=8&amp;list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84\">Promises - Part 8 of Functional Programming in JavaScript</a></p>\n<p>(This post is part of the <a href=\"https://qmacro.org/f3c/\">F3C</a> series)</p>\n<p>This video episode was recorded over a year ago. Since that time, a native implementation of Promises is available in my scratchpad of choice, (the developer tools console of) Google Chrome. So there's no requirement for us to use <code>babelify/polyfill</code> or other similar techniques, we can just go ahead and say:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>and get</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">Promise <span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>PromiseStatus<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token string\">\"pending\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>PromiseValue<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">}</span></code></pre>\n<p>Because of this, it would seem that many of the implementation related <a href=\"https://github.com/mattdesl/promise-cookbook#pitfalls\">pitfalls detailed in the Promise Cookbook</a>, to which MPJ refers in his video description, are no longer relevant. Which is a good thing.</p>\n<p>Like recursion, asynchronous programming in general and promises in particular make me stop and think. There's an uphill element to thinking about asynchronous tasks, and chaining them together. So I reflected a little longer than normal on what I'd learned from this video. Moreover, I'd been intrigued by what MPJ had mentioned in the video, multiple times, about <strong>composability</strong>.</p>\n<p>I have a general understanding about function composition from my relationship with Clojure. But following the video, I explored some other material, including a talk from Full Stack Toronto: <a href=\"https://www.youtube.com/watch?v=v6oFo_Uajwk\">Reduce Complexity with Functional JS by @frontvu</a>. This talk gives a very brief introduction to some of the key concepts of functional programming, and includes this implementation of a <code>compose</code> function:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">compose</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">var</span> funcList <span class=\"token operator\">=</span> arguments<span class=\"token punctuation\">;</span><br />  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">var</span> args <span class=\"token operator\">=</span> arguments<span class=\"token punctuation\">;</span><br />      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> funcList<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">--</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />        args <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>funcList<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br />      <span class=\"token punctuation\">}</span><br />      <span class=\"token keyword\">return</span> args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br />  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>This allows us then to do something like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">compose</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span> <span class=\"token operator\">=></span> n <span class=\"token operator\">*</span> n<span class=\"token punctuation\">,</span> <span class=\"token parameter\">n</span> <span class=\"token operator\">=></span> <span class=\"token operator\">++</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><br /><span class=\"token comment\">// 36</span></code></pre>\n<p>In other words, we're composing a couple of functions (the anonymous increment and square functions here) to form a new function.</p>\n<p>This is similar to <a href=\"https://clojuredocs.org/clojure.core/comp\">Clojure's native composition function</a> <code>comp</code>. There are many examples of how <code>comp</code> can be used, but my favourite one, beautifully simple, is this:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">filter</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">comp</span> not zero?<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span> <span class=\"token number\">1</span> <span class=\"token number\">0</span> <span class=\"token number\">2</span> <span class=\"token number\">0</span> <span class=\"token number\">3</span> <span class=\"token number\">0</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br /><span class=\"token comment\">;;=> (1 2 3 4)</span></code></pre>\n<p>Anyway, back to promises in JavaScript. In the light of this reflection on <code>comp</code> and <code>compose</code>, the point that MPJ was making about promises being composable makes sense. We can think of function composition as chaining functions together, in a similar way to the Unix pipeline idea - the output of one function gets fed into the input of the next. It's almost so simple as to be too hard to understand.</p>\n<p>I had found myself on a journey to the centre of the earth just to understand function composition, whereas it had been sitting there innocently in front of me all this time. The ability to string promises together, passing promises and values through the <code>then</code> chain, is pretty damn powerful. Add to that the ability to treat a list of functions the way that <code>Promises.all</code> gives us, and there's a compelling argument for getting to know more about promises right there.</p>\n",
      "date_published": "2016-10-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/4/10/f3c-part-7-recursion/",
      "url": "https://qmacro.org/blog/2016/4/10/f3c-part-7-recursion/",
      "title": "F3C Part 7 - Recursion",
      "content_html": "<p>FunFunFunction Video: <a href=\"https://www.youtube.com/watch?v=k7-N8R0-KY4&amp;list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&amp;index=7\">Recursion - Part 7 of Functional Programming in JavaScript</a></p>\n<p>(This post is part of the <a href=\"https://qmacro.org/f3c/\">F3C</a> series)</p>\n<p>&quot;Recursion is when a function calls itself, until it doesn't&quot; -- MPJ</p>\n<p>While superficially flippant, this definition is rather accurate and succinct. It's what I'm going to adopt when explaining it at a high level to someone new.</p>\n<p>I think there are two levels to understanding recursion. The first is at the theory level. There has to be a way for the repeat calling to end, either a base case, as was shown in the countdown example, or a situation where the function runs out of data to process, as was shown in the animals hierarchy example.</p>\n<p>The second is at the practice level. I've sometimes found it cognitively difficult to &quot;see&quot; the recursive pattern and how it might apply in a solution. It helps to visualise what's happening, and so that's what we'll do here with the animals hierarchy example.</p>\n<p>The following is the same code that was shown in the video, but with some extra counting and logging:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><br /><span class=\"token keyword\">let</span> calls <span class=\"token operator\">=</span> <span class=\"token number\">0</span><br /><span class=\"token keyword\">let</span> <span class=\"token function-variable function\">makeTree</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">categories<span class=\"token punctuation\">,</span> parent<span class=\"token punctuation\">,</span> level</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><br /><br />  calls<span class=\"token operator\">++</span><br />  level<span class=\"token operator\">++</span><br /><br />  <span class=\"token keyword\">let</span> node <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><br />  <span class=\"token keyword\">let</span> children <span class=\"token operator\">=</span> categories<br />    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">c</span> <span class=\"token operator\">=></span> c<span class=\"token punctuation\">.</span>parent <span class=\"token operator\">===</span> parent<span class=\"token punctuation\">)</span><br /><br />  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><br />    level<span class=\"token punctuation\">,</span><br />    parent<span class=\"token punctuation\">,</span> <span class=\"token string\">'->'</span><span class=\"token punctuation\">,</span><br />    children<span class=\"token punctuation\">.</span>length<br />    <span class=\"token operator\">?</span> children<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">c</span> <span class=\"token operator\">=></span> c<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\", \"</span><span class=\"token punctuation\">)</span><br />    <span class=\"token operator\">:</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">)</span><br /><br />  children<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">c</span> <span class=\"token operator\">=></span> node<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">makeTree</span><span class=\"token punctuation\">(</span>categories<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> level<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br /><br />  <span class=\"token keyword\">return</span> node<br /><span class=\"token punctuation\">}</span><br /><br />console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token function\">makeTree</span><span class=\"token punctuation\">(</span>categories<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br />console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>calls<span class=\"token punctuation\">,</span> <span class=\"token string\">'calls'</span><span class=\"token punctuation\">)</span></code></pre>\n<p>The variable <code>calls</code> is used simply to count how many times the <code>makeTree</code> function is called. There's now a 3rd parameter <code>level</code> in the <code>makeTree</code> function signature which we seed with the value '0'; it's incremented each time the function calls itself, so we can count how deep the rabbit hole goes.</p>\n<p>This is what the output looks like:</p>\n<pre><code>1 null '-&gt;' 'animals'\n2 'animals' '-&gt;' 'mammals'\n3 'mammals' '-&gt;' 'cats, dogs'\n4 'cats' '-&gt;' 'persian, siamese'\n5 'persian' '-&gt;' 'none'\n5 'siamese' '-&gt;' 'none'\n4 'dogs' '-&gt;' 'chihuahua, labrador'\n5 'chihuahua' '-&gt;' 'none'\n5 'labrador' '-&gt;' 'none'\n{\n  &quot;animals&quot;: {\n    &quot;mammals&quot;: {\n      &quot;cats&quot;: {\n        &quot;persian&quot;: {},\n        &quot;siamese&quot;: {}\n      },\n      &quot;dogs&quot;: {\n        &quot;chihuahua&quot;: {},\n        &quot;labrador&quot;: {}\n      }\n    }\n  }\n}\n9 'calls'\n</code></pre>\n<p>The main structure is the same. And clearly there are 9 calls. That makes sense, because there are 9 candidate parents (including <code>null</code>, from the initial call).</p>\n<p>We can also see how many levels the recursion descends (5), and how it ascends too, from the last feline parent candidate 'siamese' at level 5, back up to the 'dogs' parent candidate at level 4.</p>\n<p>This is what it looks like visually:</p>\n<pre><code>1                   null\n                     |\n2                  animals\n                     |\n3                  mammals\n                     |\n            +--------+--------+\n            |                 |\n4         cats               dogs\n            |                 |\n       +---------+       +---------+\n       |         |       |         |\n5   persian  siamese  chihuahua labrador\n       |         |       |         |\n     (none)    (none)  (none)    (none)\n</code></pre>\n<p>(The fact that there are no children belonging to any of the candidate parent nodes at level 5 is represented by <code>(none)</code>).</p>\n<p>And there you have it. Practice thinking about recursion, and how it applies to problems like this.</p>\n<p>Oh yes, and there's also something I wanted to say about tail call optimisation, but there isn't space here to do any justice to it. Perhaps a subject for a later post. In the meantime, remember the immortal and recursive suggestion from <a href=\"http://scarfolk.blogspot.co.uk/\">Scarfolk Council</a>: &quot;For more information, please reread&quot;.</p>\n",
      "date_published": "2016-10-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/3/10/f3c-part-6-currying/",
      "url": "https://qmacro.org/blog/2016/3/10/f3c-part-6-currying/",
      "title": "F3C Part 6 - Currying",
      "content_html": "<p>FunFunFunction Video: <a href=\"https://www.youtube.com/watch?v=iZLP4qOwY8I&amp;index=6&amp;list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84\">Currying - Part 6 of Functional Programming in JavaScript</a></p>\n<p>(This post is part of the <a href=\"https://qmacro.org/f3c/\">F3C</a> series)</p>\n<p>The &quot;what&quot; part of currying is quite straightforward. The &quot;why&quot; takes a little more time to understand, but once you do, it's a big &quot;aha&quot; moment.</p>\n<p>Currying is the process of taking a function that expects multiple arguments, and turning that into a sequence of functions, each of which takes only a single argument and produces a function that is expecting the next argument. This sequence ends with a function that takes the final argument and produces the value that the original function was designed to emit.</p>\n<p>It's not immediately apparent why you'd want to do this. This particular aspect of functional programming has probably remained more of a mystery in the JavaScript world mostly because the facility is simply not available in the core language implementation, and therefore folks aren't as readily versed in its usage.</p>\n<p>But if you've started to embrace functional programming in JavaScript and have already enjoyed creating &quot;helper&quot; functions that you can then use (in a composition sense) in other higher-order functions, the reason why currying is useful is clearer.</p>\n<p>Useful is a plain word. In MPJ's example, using the <code>curry</code> facility provided by the <a href=\"https://lodash.com/\">Lodash</a> library to enhance the way <code>filter</code> is employed, is actually quite beautiful. His exclamation &quot;wow&quot; (I heard it in lower case) should perhaps have been more &quot;WOW&quot;.</p>\n<p>Here's the relevant section of the example code:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> hasElement <span class=\"token operator\">=</span><br />  _<span class=\"token punctuation\">.</span><span class=\"token function\">curry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">element<span class=\"token punctuation\">,</span> obj</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> obj<span class=\"token punctuation\">.</span>element <span class=\"token operator\">===</span> element<span class=\"token punctuation\">)</span><br /><br /><span class=\"token keyword\">let</span> lightningDragons <span class=\"token operator\">=</span><br />  dragons<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token function\">hasElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'lightning'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p><code>hasElement</code> is the helper function that is used to dynamically filter the data we're looking for. It has a common pattern (&quot;does a particular property have a particular value?&quot;). But the original (pre-currying) invocation was a little cumbersome:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">dragons<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token function\">hasElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'lightning'</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>With the new ES6 syntax we're already reducing the amount of code using the fat arrow syntax. But with currying, we can reduce it even further, not with syntax, but by embracing currying and <a href=\"https://en.wikipedia.org/wiki/Partial_application\">partial application</a>. Moreover, we get even closer to saying what we want, rather than how to get it.</p>\n<p>One thing that occurred to me, that MPJ didn't mention explicitly (perhaps it was too obvious), is the order of the parameters in the <code>hasElement</code> function. They're deliberately set that way round, so that currying will work well for us. If you stare long enough at the example code, you'll realise that this is because of what's going on:</p>\n<ul>\n<li>calling <code>hasElement('lightning')</code>, with only a value for the <code>element</code> parameter, returns a function</li>\n<li>this intermediate function expects a further single argument - an object, for the <code>obj</code> parameter</li>\n<li>what serendipity! the <code>filter</code> function is going to do exactly this - call the intermediate function, passing each object in the <code>dragons</code> array</li>\n</ul>\n<p>For more on the order of parameters, and a generally very entertaining talk, I recommend Brian Lonsdorf's &quot;<a href=\"https://www.youtube.com/watch?v=m3svKOdZijA\">Hey Underscore, You're Doing It Wrong!</a>&quot;.</p>\n",
      "date_published": "2016-10-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/2/10/f3c-a-funfunfunction-companion-series/",
      "url": "https://qmacro.org/blog/2016/2/10/f3c-a-funfunfunction-companion-series/",
      "title": "F3C - A FunFunFunction Companion Series",
      "content_html": "<p>I came across a great YouTube video series on functional programming. It's by <a href=\"http://twitter.com/mpjme\">Mattias P Johansson</a> (&quot;MPJ&quot; for short), whose YouTube channel is <a href=\"https://www.youtube.com/channel/UCO1cgjhGzsSYb1rsB4bFe4Q\">funfunfunction</a>. Before you do anything else, including reading on, go over there and subscribe to his channel, the videos are excellent.</p>\n<p>Back? Good. The series on functional programming is a playlist on MPJ's channel, called &quot;<a href=\"https://www.youtube.com/playlist?list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84\">Functional programming in JavaScript</a>&quot;. I thought it might be a nice exercise to summarise each of the videos in a series of posts here, sort of like a companion guide (hence the name &quot;F3C&quot; - &quot;FunFunFunction Companion&quot;).</p>\n<p>I don't want to take away from the absolutely great videos themselves, you should watch them again and again. Rather, I wanted to try to present the key messages from each video in the series in posts over here. My intention is to keep the posts short (up to 500 words) and to the point, and perhaps include some code of my own.</p>\n<p>This sounds to me like a good idea right now, perhaps it might not be such a good idea later on, we'll see.</p>\n<p>(Warning: I interchange the words &quot;array&quot; and &quot;list&quot; in a reckless fashion throughout this series, as well as &quot;object&quot; and &quot;map&quot; (the type of data structure); don't worry though, treat them as the same things).</p>\n<p>Oh, and if you're in the SAP developer ecosphere and attending SAP TechEd EMEA in Barcelona this year (08-10 Nov) - you might want to come along to my session DEV219: &quot;<a href=\"https://sessioncatalog.sapevents.com/go/agendabuilder.sessions/?l=133&amp;sid=37706_0&amp;locale=en_US\">Building More Stable Business Apps with Functional Techniques in JavaScript</a>&quot;.</p>\n<p><a href=\"https://qmacro.org/2016/10/02/f3c-part-1-higher-order-functions/\">Part 1 - Higher-order functions</a></p>\n<p><a href=\"https://qmacro.org/2016/10/02/f3c-part-2-map/\">Part 2 - Map</a></p>\n<p><a href=\"https://qmacro.org/2016/10/02/f3c-part-3-reduce-basics/\">Part 3 - Reduce basics</a></p>\n<p><a href=\"https://qmacro.org/2016/10/02/f3c-part-4-reduce-advanced/\">Part 4 - Reduce advanced</a></p>\n<p><a href=\"https://qmacro.org/2016/10/02/f3c-part-5-closures/\">Part 5 - Closures</a></p>\n<p><a href=\"https://qmacro.org/2016/10/03/f3c-part-6-currying/\">Part 6 - Currying</a></p>\n<p><a href=\"https://qmacro.org/2016/10/04/f3c-part-7-recursion/\">Part 7 - Recursion</a></p>\n<p><a href=\"https://qmacro.org/2016/10/16/f3c-part-8-promises/\">Part 8 - Promises</a></p>\n<p><a href=\"https://qmacro.org/2016/10/19/f3c-parts-9-and-10-functors/\">Parts 9 &amp; 10 - Functors</a></p>\n",
      "date_published": "2016-10-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/2/10/f3c-part-5-closures/",
      "url": "https://qmacro.org/blog/2016/2/10/f3c-part-5-closures/",
      "title": "F3C Part 5 - Closures",
      "content_html": "<p>FunFunFunction Video: <a href=\"https://www.youtube.com/watch?v=CQqwU2Ixu-U&amp;list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&amp;index=5\">Closures - Part 5 of Functional Programming in JavaScript</a></p>\n<p>(This post is part of the <a href=\"https://qmacro.org/f3c/\">F3C</a> series)</p>\n<p>Functions have a signature (the parameters) and the body. The body is defined in a block, traditionally in curly braces[^n]. This block defines a scope, directly relating to the body of the function. In other words, it's function scope.</p>\n<p>JavaScript has support for closures. This is a powerful feature, which gives function bodies dynamic access to data in the surrounding scope. Or scopes. I had been wondering about whether this access extended to the next outer level only, but in fact, it's access all the way down (or up?). Consider this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token string\">\"Something\"</span><br /><span class=\"token keyword\">function</span> <span class=\"token function\">deep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> <span class=\"token string\">\"The Universe\"</span><br />  <span class=\"token keyword\">function</span> <span class=\"token function\">deeper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">var</span> c <span class=\"token operator\">=</span> <span class=\"token string\">\"Everything\"</span><br />    <span class=\"token keyword\">function</span> <span class=\"token function\">deepest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> <span class=\"token string\">\", \"</span> <span class=\"token operator\">+</span> b <span class=\"token operator\">+</span> <span class=\"token string\">\" and \"</span> <span class=\"token operator\">+</span> c<span class=\"token punctuation\">)</span><br />    <span class=\"token punctuation\">}</span><br />    <span class=\"token function\">deepest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br />  <span class=\"token punctuation\">}</span><br />  <span class=\"token function\">deeper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br /><span class=\"token punctuation\">}</span><br />a <span class=\"token operator\">=</span> <span class=\"token string\">\"Life\"</span><br /><span class=\"token function\">deep</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br /><span class=\"token comment\">// => Life, The Universe and Everything</span></code></pre>\n<p>The <code>deepest</code> function has access to not only <code>c</code>, but <code>b</code> and <code>a</code> also.</p>\n<p>Using closures is such a natural part of JavaScript, if you're not too familiar, you just have to practice and get them under your skin. In languages that don't support closures, you can end up with a lot of explicit signatures and passing of data to callbacks, which can get messy and over-busy. So closures are also good for reducing the footprint of your code, which we know already means fewer chances for bugs.</p>\n<p>[^n]: Although with single-expression bodies introduced with the ES6 fat arrow, we don't need the curly braces.</p>\n",
      "date_published": "2016-10-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/2/10/f3c-part-4-reduce-advanced/",
      "url": "https://qmacro.org/blog/2016/2/10/f3c-part-4-reduce-advanced/",
      "title": "F3C Part 4 - Reduce advanced",
      "content_html": "<p>FunFunFunction Video: <a href=\"https://www.youtube.com/watch?v=1DMolJ2FrNY&amp;index=4&amp;list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84\">Reduce advanced - Part 4 of Functional Programming in JavaScript</a></p>\n<p>(This post is part of the <a href=\"https://qmacro.org/f3c/\">F3C</a> series)</p>\n<p>Reduce is powerful, much more than its siblings. You can use it not only to sum values (the classic &quot;hello world&quot; example for <code>reduce</code>), but also to build up a complex end result that may look nothing like what you started with, i.e. the list you are calling <code>reduce</code> upon. It's a mistake to think of <code>reduce</code> in terms of what that word means in English; you're not necessarily making something smaller than what you started with, you can make pretty much anything, of any size[^n].</p>\n<p>As well as function composition (slotting functions into each other), another common style in functional programming is function chaining. The binding together of small functions that operate on data one after the other[^n].</p>\n<p>The example that MPJ uses in this video is a good illustration of chaining. Aside from the call to <code>console.log</code>, the entire program is a single statement - an assignment of a value to the <code>output</code> variable:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> output <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span><br />  <span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br />  <span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span><br />  <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">line</span> <span class=\"token operator\">=></span> line<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\t'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br />  <span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">customers<span class=\"token punctuation\">,</span> line</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><br />    <span class=\"token operator\">...</span><br />  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>What MPJ doesn't say explicitly, but is one of the reasons why this approach is so powerful and simple, is that each of these functions take input, and produce <em>new</em> output. There's no mutation of state. This means that there is less to go wrong. Further, apart from <code>trim</code>, all functions produce or operate on lists:</p>\n<p><code>split</code> operates on a string and produces a list<br />\n<code>map</code> operates on a list and produces another list<br />\n<code>reduce</code> operates on a list and produces ... well, whatever you want</p>\n<p>Notice that this part: <code>map(line =&gt; line.split('\\t'))</code> actually produces a list ... of lists.</p>\n<p>[^n]: It may help to think of reduce by its other common name, in other languages: &quot;fold&quot;, a name which signifies the action of executing the callback function on each element in turn.</p>\n<p>[^n]: This reminds me of the Unix philosophy of small programs doing one thing well, connected and passing data via a series of pipes.</p>\n",
      "date_published": "2016-10-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/2/10/f3c-part-3-reduce-basics/",
      "url": "https://qmacro.org/blog/2016/2/10/f3c-part-3-reduce-basics/",
      "title": "F3C Part 3 - Reduce basics",
      "content_html": "<p>FunFunFunction Video: <a href=\"https://www.youtube.com/watch?v=Wl98eZpkp-c&amp;list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&amp;index=3\">Reduce basics - Part 4 of Functional Programming in JavaScript</a></p>\n<p>(This post is part of the <a href=\"https://qmacro.org/f3c/\">F3C</a> series)</p>\n<p>Higher-order functions <code>map</code>, <code>filter</code> and <code>reject</code> perform list transformations, where each time, the end result is still a list. <code>find</code> is a related function which is designed to return just a single element.</p>\n<p><code>reduce</code> is a related higher order function, but the shape of the end result is whatever you want it to be. It's like the swiss army chainsaw of list transformations. Unlike the functions above, <code>reduce</code> takes <em>two</em> parameters. As well as the callback function, it takes a starting value, which - after the accumulation that takes place when processing each of the list's elements - becomes the end result.</p>\n<p>The starting value can be any &quot;shape&quot; - a scalar, an array, or an object.</p>\n<p>This means that if <code>map</code>, <code>filter</code>, <code>reject</code> or similar functions don't do what you need, you can write your own using <code>reduce</code>. A common fun exercise is implementing those functions with <code>reduce</code>, too.</p>\n<p>Let's reimplement <code>reject</code>, this time using <code>reduce</code>:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">reject</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">pred</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">l<span class=\"token punctuation\">,</span> x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span> <span class=\"token function\">pred</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> l<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />    <span class=\"token keyword\">return</span> l<span class=\"token punctuation\">;</span><br />  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>The function implementation transforms the given array (in <code>this</code>) with <code>reduce</code>. Here the starting value is <code>[]</code>, an empty array, and we use similar logic with the passed-in predicate function to determine whether each element should be accumulated into the starting value or not.</p>\n",
      "date_published": "2016-10-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/2/10/f3c-part-2-map/",
      "url": "https://qmacro.org/blog/2016/2/10/f3c-part-2-map/",
      "title": "F3C Part 2 - Map",
      "content_html": "<p>FunFunFunction Video: <a href=\"https://www.youtube.com/watch?v=bCqtb-Z5YGQ&amp;list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&amp;index=2\">Map - Part 2 of Functional Programming in JavaScript</a></p>\n<p>(This post is part of the <a href=\"https://qmacro.org/f3c/\">F3C</a> series)</p>\n<p>Moving on from the higher-order function <code>filter</code> in the previous video, another higher-order function is introduced: <code>map</code>. <code>map</code> is <em>similar</em> to <code>filter</code> in that it also works on an array, producing another array. It is <em>different</em> to <code>filter</code> in that the function passed in should output elements for the array being produced, rather than boolean values that dictates the presence of elements in the new array.</p>\n<p>So <code>map</code> &quot;transforms&quot; arrays. Compared to the imperative version of producing a list of animal names, the functional version with <code>map</code> is an awful lot shorter. It gets even shorter with the introduction of ES6 <a href=\"https://hacks.mozilla.org/2015/06/es6-in-depth-arrow-functions/\">arrow functions</a>. Shorter code means less surface area for bugs, but it also improves the readability, and arrow functions help with this too.</p>\n<p>Further, as the functions are so short, embellishing them with &quot;meaningful names&quot; for the parameters actually detracts from that readability, so as is often the style with functional programming elsewhere, short parameter names can be used to good effect.</p>\n<p>The shortest version that MPJ comes up with is 39 characters, but there are extraneous brackets around the parameter that we can remove, reducing it even further:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> names <span class=\"token operator\">=</span> animals<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span></code></pre>\n<p>Lovely.</p>\n",
      "date_published": "2016-10-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/2/10/f3c-part-1-higher-order-functions/",
      "url": "https://qmacro.org/blog/2016/2/10/f3c-part-1-higher-order-functions/",
      "title": "F3C Part 1 - Higher-order functions",
      "content_html": "<p>FunFunFunction Video: <a href=\"https://www.youtube.com/watch?v=BMUiFMZr7vk&amp;list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&amp;index=1\">Higher Order Functions - Part 1 of Functional Programming in JavaScript</a></p>\n<p>(This post is part of the <a href=\"https://qmacro.org/f3c/\">F3C</a> series)</p>\n<p>Functional programming makes you a better programmer because you're going to be writing less code. Less code because you're able to reuse more, and also because you're not having to write 'mechanics'. You're writing more <em>what</em> you want, rather than <em>how</em> to get it. There are fewer bugs too, not only simply because there's less code, but that code is easier to reason about.</p>\n<p>Functions are values. They can be passed around in variables and &quot;slotted into each other&quot;. Functions that take functions as arguments are called higher-order functions. Functions that produce other functions as results are also higher-order functions. Composability is an aspect of functional programming, in that small, simple functions can be combined. A small enough function with no cognitive or contextual baggage is more likely to be reusable, too.</p>\n<p>The filter function (<code>Array.prototype.filter</code>) is shown as an example of a higher order function. Its use, to filter an array of animals, is compared to the imperative approach to do the same thing. This latter approach is more difficult to reason about, because there's more code, and more going on. What's not said explicitly is that in the imperative version, there are more variables whose values change. This mutable state in general brings about risks of bugs, and makes code harder to reason about and also to debug.</p>\n<p>MPJ mentions the function <code>reject</code> which he mistakenly attributes as a standard function on <code>Array</code>s. There isn't one (you can employ a functional programming library such as lodash or underscore to get it), but I thought I'd have a go at writing one.</p>\n<p>Given the <code>animals</code> array in the video, here's how one might go about adding a <code>reject</code> function, and using it:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">reject</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">pred</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">return</span> <span class=\"token operator\">!</span> <span class=\"token function\">pred</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><br />  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p><code>reject</code> is a (higher-order) function that take a function as its argument. I'm using the parameter <code>pred</code> here for this; the word &quot;predicate&quot; is often used to describe this sort of function (one that returns a boolean, often used in this sort of context). The array upon which <code>reject</code> is made to operate (represented by <code>this</code>) is filtered, and the predicate function is used to determine whether each array element remains or not. Note the negation (<code>!</code>) as here we want to throw away, rather than keep elements that pass the predicate test.</p>\n",
      "date_published": "2016-10-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/4/5/fofp-2-1-a-look-at-filter/",
      "url": "https://qmacro.org/blog/2016/4/5/fofp-2-1-a-look-at-filter/",
      "title": "FOFP 2.1 A look at filter",
      "content_html": "<p>Part of the <a href=\"https://qmacro.org/2016/05/03/fofp\">Fundamentals of Functional Programming</a> document.</p>\n<p>Prev: <a href=\"https://qmacro.org/2016/05/03/fofp-1-5-creating-functions\">FOFP 1.5 Creating functions</a></p>\n<p>We've already seen our first higher-order function, <code>map</code>, in action. A close sibling is <code>filter</code>.</p>\n<p><code>filter</code> has the same pattern as <code>map</code>, in that it works on an Array, and applies the supplied function to each element of that Array in turn. In this case though, the function acts as a predicate, and only those elements for which the predicate evaluates to true are kept. The others are discarded, leaving you with a shorter collection.</p>\n<h2 id=\"taking-the-odd-ones\" tabindex=\"-1\">Taking the odd ones <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/4/5/fofp-2-1-a-look-at-filter/#taking-the-odd-ones\" aria-hidden=\"true\">#</a></h2>\n<p>Let's explore with a simple example based on our short list of numbers:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> nums <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre>\n<p>If we were only interested in the odd numbers, we could do this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">nums<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br /><span class=\"token comment\">// [1, 3, 5]</span></code></pre>\n<p>Pretty simple. Like we did with <code>map</code>, we could use a pre-defined (i.e. named) function instead:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">is_odd</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> x <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><br /><br />nums<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>is_odd<span class=\"token punctuation\">)</span><br /><span class=\"token comment\">// [1, 3, 5]</span></code></pre>\n<h2 id=\"declarative-style\" tabindex=\"-1\">Declarative style <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/4/5/fofp-2-1-a-look-at-filter/#declarative-style\" aria-hidden=\"true\">#</a></h2>\n<p>Notice that the program is starting to become easier to read, the more we move away from the mechanical nature of the imperative style of programming towards a more declarative style.</p>\n<p>And it doesn't end there. If we wanted to take the numbers we'd filtered our list down to (1, 3 and 5) and transform them, all we'd need to do is chain calls together ... remember that <code>map</code> and <code>filter</code> both consume and produce lists. Remembering our <code>times</code> function from <a href=\"https://qmacro.org/2016/05/03/fofp-1-5-creating-functions/\">FOFP 1.5</a>, we could form a chain like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">nums<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>is_odd<span class=\"token punctuation\">)</span><br />    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token function\">times</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br /><span class=\"token comment\">// [4, 12, 20]</span></code></pre>\n<p>Now that we've seen <code>map</code> and <code>filter</code>, it's time to have a look at their somewhat more powerful sibling, <code>fold</code>.</p>\n",
      "date_published": "2016-05-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/3/5/fofp-fundamentals-of-functional-programming/",
      "url": "https://qmacro.org/blog/2016/3/5/fofp-fundamentals-of-functional-programming/",
      "title": "FOFP Fundamentals of functional programming",
      "content_html": "<p><em>This document is for me to use during, and to distribute after, a lecture at Manchester's Xaverian College, where I'm very honoured to be able to help introduce some core concepts in functional programming, in my role as STEM Ambassador.</em></p>\n<p><em>I'm writing it in draft mode in public, as a sort of experiment. <a href=\"mailto:qmacro@gmail.com?Subject=FOFP%20Feedback\">Feedback</a> gratefully accepted!</em></p>\n<p><strong>Part 1 - First-class functions, list processing and higher-order functions</strong></p>\n<p><a href=\"https://qmacro.org/2016/05/03/fofp-1-1-introduction\">Introduction</a></p>\n<p><a href=\"https://qmacro.org/2016/05/03/fofp-1-2-trying-things-out\">Trying things out</a></p>\n<p><a href=\"https://qmacro.org/2016/05/03/fofp-1-3-some-basic-list-processing\">Some basic list processing</a></p>\n<p><a href=\"https://qmacro.org/2016/05/03/fofp-1-4-a-different-approach-with-map/\">A different approach with map</a></p>\n<p><a href=\"https://qmacro.org/2016/05/03/fofp-1-5-creating-functions\">Creating functions</a></p>\n<p><strong>Part 2 - More higher order functions</strong></p>\n<p><a href=\"https://qmacro.org/2016/05/04/fofp-2-1-a-look-at-filter\">A look at filter</a></p>\n<p>Transforming with fold (aka reduce)</p>\n<p><strong>Part 3 - Different syntaxes and languages</strong></p>\n<p>JavaScript and ES6</p>\n<p>Fat arrows and more concise function definitions</p>\n<p>Our examples in Clojure</p>\n<p><strong>Part 4 - Classic list processing</strong></p>\n<p>(To cover lists, head+tail / first+rest and recursion)</p>\n",
      "date_published": "2016-05-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/3/5/fofp-1-5-creating-functions/",
      "url": "https://qmacro.org/blog/2016/3/5/fofp-1-5-creating-functions/",
      "title": "FOFP 1.5 Creating functions",
      "content_html": "<p>Part of the <a href=\"https://qmacro.org/2016/05/03/fofp\">Fundamentals of Functional Programming</a> document.</p>\n<p>Prev: <a href=\"https://qmacro.org/2016/05/03/fofp-1-4-a-different-approach-with-map\">FOFP 1.4 A different approach with map</a></p>\n<p>In our previous example, we defined a helper function <code>square</code> and used it like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">square</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">return</span> x <span class=\"token operator\">*</span> x<span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span><br /><br />nums<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>square<span class=\"token punctuation\">)</span><br /><span class=\"token comment\">// [1, 4, 9, 16, 25]</span></code></pre>\n<h2 id=\"helper-functions\" tabindex=\"-1\">Helper functions <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-5-creating-functions/#helper-functions\" aria-hidden=\"true\">#</a></h2>\n<p>Let's go one step further and write something that will produce helper functions for us. We'll move away from squaring numbers, but stay on the simple theme of increasing integers.</p>\n<p>Consider this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">times</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">return</span> x <span class=\"token operator\">*</span> n<span class=\"token punctuation\">;</span><br />  <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>What's going on? We have a function, which is returning a function. Yes, it's that higher-order nature again. Here we're defining a function that takes a multiple <code>n</code>. The scope defined by that function's block (the outermost <code>{...}</code>) closes over the value passed for <code>n</code>, creating a so-called &quot;closure&quot;, with the value forged into the inner function that's returned.</p>\n<p>The inner function also expects a value <code>x</code> that will be multiplied by that value of <code>n</code>.</p>\n<p>Let's have a look at how we might use that:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> double <span class=\"token operator\">=</span> <span class=\"token function\">times</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">var</span> triple <span class=\"token operator\">=</span> <span class=\"token function\">times</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>So take <code>triple</code>. What is it that we have, as a result of calling <code>times(3)</code>? Well, we have a function expecting an argument:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">triple</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><br /><span class=\"token comment\">// 18</span></code></pre>\n<p>So really, with <code>times</code>, we have a function, that takes a value, and produces a function, that takes a value, that produces a value. If you're familiar with type signatures at all, for example from Haskell, you'd represent this like so:</p>\n<pre><code>f :: a -&gt; (a -&gt; a)\n</code></pre>\n<p>or simply:</p>\n<pre><code>f :: a -&gt; a -&gt; a\n</code></pre>\n<h2 id=\"partial-application\" tabindex=\"-1\">Partial application <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-5-creating-functions/#partial-application\" aria-hidden=\"true\">#</a></h2>\n<p>You could even use <code>times</code> like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">times</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><br /><span class=\"token comment\">// 12</span></code></pre>\n<p>In some ways, our simple <code>times</code> function embodies some of the essence of partial application [4.12.1.4]. Calling <code>times</code> with a single argument:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">times</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></code></pre>\n<p>is a partial application, and results in a function which is waiting for the second argument:</p>\n<pre><code>&lt;function-produced-by-times(3)&gt;(4)\n</code></pre>\n<h2 id=\"using-helpers\" tabindex=\"-1\">Using helpers <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-5-creating-functions/#using-helpers\" aria-hidden=\"true\">#</a></h2>\n<p>Now we have everything we need to use <code>map</code> to process our list, with a helper function:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">nums<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token function\">times</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br /><span class=\"token comment\">// [2, 4, 8, 8, 10]</span></code></pre>\n<p>Neat!</p>\n<p>Next: <a href=\"https://qmacro.org/2016/05/04/fofp-2-1-a-look-at-filter\">FOFP 2.1 A look at filter</a></p>\n",
      "date_published": "2016-05-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/3/5/fofp-1-4-a-different-approach-with-map/",
      "url": "https://qmacro.org/blog/2016/3/5/fofp-1-4-a-different-approach-with-map/",
      "title": "FOFP 1.4 A different approach with map",
      "content_html": "<p>Part of the <a href=\"https://qmacro.org/2016/05/03/fofp\">Fundamentals of Functional Programming</a> document.</p>\n<p>Prev: <a href=\"https://qmacro.org/2016/05/03/fofp-1-3-some-basic-list-processing\">FOFP 1.3 Some basic list processing</a></p>\n<p>In our second attempt at basic list processing, we used the Array object's <code>push</code> function. There are other functions that operate on Array objects like our <code>nums</code> list. JavaScript has a set of functions that are often talked about together, and which take us into the realms of functional programming.</p>\n<h2 id=\"higher-order-functions\" tabindex=\"-1\">Higher-order functions <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-4-a-different-approach-with-map/#higher-order-functions\" aria-hidden=\"true\">#</a></h2>\n<p>These functions are <code>map</code>, <code>filter</code> and <code>reduce</code>.</p>\n<p>They're known as &quot;higher-order functions&quot;, because they take functions as arguments - elevating functions to being first-class, as we discussed earlier.</p>\n<p>Let's start with <code>map</code>, and see how we might improve upon our earlier attempts. The <code>map</code> function operates on an Array, and takes a function. It iterates over the elements of the Array, and for each of those elements, it calls the supplied function, passing the element. It builds a new Array, with the results of these calls, leaving the original Array unchanged.</p>\n<p>Think of it as &quot;mapping&quot; the function over the elements of the list.</p>\n<h2 id=\"using-map\" tabindex=\"-1\">Using map <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-4-a-different-approach-with-map/#using-map\" aria-hidden=\"true\">#</a></h2>\n<p>Here's an example:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">squares <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">return</span> x <span class=\"token operator\">*</span> x<span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><span class=\"token comment\">// [1, 4, 9, 16, 25]</span></code></pre>\n<p>That's rather neat! Much less mechanical, and no helper variables in sight. And we can re-run this as many times as we like, with no fear of <code>nums</code> being mutated, or data &quot;growing&quot; inside <code>squares</code>.</p>\n<p>Let's have a look at the argument passed to <code>map</code>, inside this bit:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">nums<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>It's a function. An anonymous function, created in-line within that call:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">return</span> x <span class=\"token operator\">*</span> x<span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>This is a common pattern. You could also define a named function, and then use that named function, like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">square</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">return</span> x <span class=\"token operator\">*</span> x<span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span><br /><br />nums<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>square<span class=\"token punctuation\">)</span><br /><span class=\"token comment\">// [1, 4, 9, 16, 25]</span></code></pre>\n<p>So we have <code>map</code>, a higher-order function, treating functions like our anonymous one (and its equivalent named function <code>square</code>) as first-class objects[^1].</p>\n<h2 id=\"function-chaining\" tabindex=\"-1\">Function chaining <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-4-a-different-approach-with-map/#function-chaining\" aria-hidden=\"true\">#</a></h2>\n<p>You may be familiar with the Unix approach of small programs each focusing on doing one task, and being joined together in a data processing pipeline. If you are, you might see the beginnings of a similar possibility here.</p>\n<p>Notice that <code>map</code> just produces a new Array, for you to look at, catch and store in a variable, or even allow to fall to the floor and disappear. So we could just as easily feed the output of that <code>map</code> into the input of another function that worked on Arrays - perhaps one of <code>map</code>'s siblings <code>filter</code> or <code>reduce</code>. We'll take a look at that later.</p>\n<p>Next: <a href=\"https://qmacro.org/2016/05/03/fofp-1-5-creating-functions\">FOFP 1.5 Creating functions</a></p>\n<p>[^1]: This is &quot;objects&quot; with no object-oriented nuances. Simply &quot;things&quot;.</p>\n",
      "date_published": "2016-05-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/3/5/fofp-1-3-some-basic-list-processing/",
      "url": "https://qmacro.org/blog/2016/3/5/fofp-1-3-some-basic-list-processing/",
      "title": "FOFP 1.3 Some basic list processing",
      "content_html": "<p>Part of the <a href=\"https://qmacro.org/2016/05/03/fofp\">Fundamentals of Functional Programming</a> document.</p>\n<p>Prev: <a href=\"https://qmacro.org/2016/05/03/fofp-1-2-trying-things-out\">FOFP 1.2 Trying things out</a></p>\n<p>Let's explore the difference between imperative and functional programming approaches with the simple processing of a list of integers 1, 2, 3, 4, 5. We want to turn them into their &quot;squared&quot; equivalents 1, 4, 9, 16, 25.</p>\n<p>Create a list of integers, using the array literal syntax, like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> nums <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre>\n<h2 id=\"first-attempt\" tabindex=\"-1\">First attempt <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-3-some-basic-list-processing/#first-attempt\" aria-hidden=\"true\">#</a></h2>\n<p>A typical imperative approach to creating the squares might look like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> i<span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span><br /><span class=\"token comment\">// 25</span></code></pre>\n<p>This pattern is very familiar. And it's very mechanical. We're giving very precise instructions on how to achieve the goal.</p>\n<p>There's nothing wrong with that per se. It's just a little, well, <em>mechanical</em>. And even in this trivial example, there are a number of things that will tax us:</p>\n<ul>\n<li>\n<p>we are iterating through the list of integers in <code>nums</code> using an array index lookup. For that we need to declare and maintain a variable <code>i</code>, initialising it to zero at the outset (<code>i = 0</code>), and incrementing it by one each time around the loop (<code>i++</code>). So we have to keep that state in our head as we read, or (worse) want to modify that code.</p>\n</li>\n<li>\n<p>we have to address the number of items in the list (<code>nums.length</code>) explicitly, so as to be able to finish the looping when we reach the end of the list.</p>\n</li>\n<li>\n<p>inside the loop, we have to use the array index explicitly (<code>[i]</code>) each time we want to refer to the value of the list item currently being processed. This just adds to the cognitive noise that we have to deal with, on top of remembering that <code>i</code> is changing each time.</p>\n</li>\n<li>\n<p>The <code>for</code> statement actually evaluates to something, which we see here is 25 - the last value computed inside the block. Sort of makes sense, but only a little.</p>\n</li>\n</ul>\n<p>So after executing this, we have what (we think) we wanted:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">nums<br /><span class=\"token comment\">// [1, 4, 9, 16, 25]</span></code></pre>\n<p>But perhaps the biggest problem is that if we run this a second time, we don't get the same result:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> i<span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span><br /><span class=\"token comment\">// 625</span></code></pre>\n<p>625? What's going on? Well notice that we're mutating values inside the <code>nums</code> list. So after the first time, the values inside <code>nums</code> are the squares, i.e. 1, 4, 9, 16 and 25. So when we run it again, we're squaring those values, with these results:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">nums<br /><span class=\"token comment\">// [1, 16, 81, 256, 625]</span></code></pre>\n<p>Ouch.</p>\n<p>Because state is being mutated, the program becomes harder to follow, harder to reason about.</p>\n<h2 id=\"second-attempt\" tabindex=\"-1\">Second attempt <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-3-some-basic-list-processing/#second-attempt\" aria-hidden=\"true\">#</a></h2>\n<p>So let's have another crack at this. Instead of mutating the values inside <code>num</code>, we'll produce the output in another list, and keep the original list untouched. Before we start, let's put our input back to what it was:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> nums <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Now we'll create a new empty array <code>squares</code>, and push each square value into that inside the loop:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> i<span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">var</span> squares <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  squares<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span><br /><span class=\"token comment\">// 5</span></code></pre>\n<p><em>Those eagle-eyed readers among you will perhaps be wondering about the value <code>5</code> here. It's not the same as what we had earlier. But it's consistent, in that it's the value of the last-executed statement inside the loop. Before, that was the result of a multiplication. Here, it's the result of a call to <code>push</code>, which returns the new length of the array being operated upon.</em></p>\n<p>Anyway, after execution, <code>nums</code> is still what it was, and the output values are now to be found in <code>squares</code>:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">squares<br /><span class=\"token comment\">// [1, 4, 9, 16, 25]</span></code></pre>\n<p>That's an improvement. We have to be a bit careful if we want to re-run the code, because we need to make sure we include the initialising of the <code>squares</code> array before the loop, so as not to end up with this situation:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">squares<br /><span class=\"token comment\">// [1, 4, 9, 16, 25, 1, 4, 9, 16, 25]</span></code></pre>\n<p>But the improvement comes at a cost - yet more stuff to hold in your head, this time about the <code>squares</code> array.</p>\n<p>Next: <a href=\"https://qmacro.org/2016/05/03/fofp-1-4-a-different-approach-with-map\">FOFP 1.4 A different approach with map</a></p>\n",
      "date_published": "2016-05-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/3/5/fofp-1-2-trying-things-out/",
      "url": "https://qmacro.org/blog/2016/3/5/fofp-1-2-trying-things-out/",
      "title": "FOFP 1.2 Trying things out",
      "content_html": "<p>Part of the <a href=\"https://qmacro.org/2016/05/03/fofp\">Fundamentals of Functional Programming</a> document.</p>\n<p>Prev: <a href=\"https://qmacro.org/2016/05/03/fofp-1-1-introduction\">FOFP 1.1 Introduction</a></p>\n<p>To start exploring some of the fundamental concepts of functional programming, you don't need anything more than you've probably already got. Of course, there are &quot;more&quot; functional languages such as Haskell, Standard ML, and various dialects of Lisp, such as Scheme, Common Lisp and Clojure. But there's a language that's pretty ubiquitous and that has some very good support for core functional programming concepts.</p>\n<h2 id=\"javascript-in-chrome\" tabindex=\"-1\">JavaScript in Chrome <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-2-trying-things-out/#javascript-in-chrome\" aria-hidden=\"true\">#</a></h2>\n<p>That language is JavaScript, and it's everywhere because it's available in all the major browsers. It's likely that you have a browser on your PC or laptop, so let's see how you can get started immediately with a simple interactive environment in which we can experiment. We'll choose the Chrome browser, not because it's fast or standards compliant, or even because it's from Google, but because it has a super set of developer tools that is worth getting to know.</p>\n<p>One of those developer tools is the console - where you can enter JavaScript and have it executed immediately. This concept of a feedback loop made out of an interactive prompt with immediate execution is commonly known as a REPL, which stands for Read, Evaluate, Print, Loop: It reads your input, evaluates it, prints the result of the evaluation and then loops around to read your next input.</p>\n<h2 id=\"getting-ready-to-explore\" tabindex=\"-1\">Getting ready to explore <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-2-trying-things-out/#getting-ready-to-explore\" aria-hidden=\"true\">#</a></h2>\n<p>Open up Google Chrome, and in a new tab, open up the Developer Tools using either the menu as shown, or using Ctrl-Shift-I (or Cmd-Shift-I on a Mac), or F12.</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/05/developertools.png\" alt=\"\" /></p>\n<p>You'll see something like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/05/elements.png\" alt=\"\" /></p>\n<p>The developer tools have opened up next to the tab you're on. Choose the &quot;Console&quot; entry in the menu at the top, to switch to the console, or REPL. You may see some error messages relating to the tab that's open (even a simple &quot;new&quot; tab), but you can ignore them[^2]. You might also want to detach the developer tools using the &quot;Dock side&quot; option (press the three vertical dots to get this menu) - choose the double-pane icon &quot;undock into separate window&quot;.</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/05/menu.png\" alt=\"\" /></p>\n<p>At this stage, you're ready to explore.</p>\n<p>Next: <a href=\"https://qmacro.org/2016/05/03/fofp-1-3-some-basic-list-processing\">FOFP 1.3 Some basic list processing</a></p>\n<p>[^2]: You can clear the console, and therefore remove the errors, with Ctrl-L (or Cmd-L on a Mac).</p>\n",
      "date_published": "2016-05-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/3/5/fofp-1-1-introduction/",
      "url": "https://qmacro.org/blog/2016/3/5/fofp-1-1-introduction/",
      "title": "FOFP 1.1 Introduction",
      "content_html": "<p>Part of the <a href=\"https://qmacro.org/2016/05/03/fofp\">Fundamentals of Functional Programming</a> document.</p>\n<p>This document introduces some fundamental building blocks in the functional programming world.</p>\n<h2 id=\"a-definition\" tabindex=\"-1\">A definition <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-1-introduction/#a-definition\" aria-hidden=\"true\">#</a></h2>\n<p>Just so we start out on the same page, let's come up with a working definition of what functional programming is. It's a style of programming - a programming paradigm, where computation is brought about by the evaluation of functions. There's also an emphasis on immutability which means that changing state is positively discouraged. While some programming languages are imperative (&quot;do this, do that&quot;), functional programming can be seen as declarative, with expressions, rather than statements, being key building blocks in the programs you write.</p>\n<p>There are languages that are designed to be entirely functional, such as Haskell, and languages that are &quot;multi-paradigm&quot;, such as Python. Many of these multi-paradigm languages support functional programming concepts. Even languages that are traditionally and strongly object-oriented (another programming paradigm) are exploring the functional space, such as Java, with the advent of lambda expressions in Java 8.</p>\n<h2 id=\"functions\" tabindex=\"-1\">Functions <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-1-introduction/#functions\" aria-hidden=\"true\">#</a></h2>\n<p>As you might guess, functions are a key component of a language that supports functional programming. For now, let's think of a function as simply a mechanism that takes an input value and produces an output value. If we had a function that doubled a number, we'd describe it generally like this:</p>\n<pre><code>f : a -&gt; b\n</code></pre>\n<p>where you would pass a value represented by <code>a</code> to a function <code>f</code>, which would produce value <code>b</code> as a result. In other words, when <code>f</code> is applied to <code>a</code>, it produces <code>b</code>. This is known as function application [4.12.1.3].</p>\n<p>We'll come back to functions in a second. Let's look at other key components that make up the fundamental building blocks of a language.</p>\n<h2 id=\"building-blocks\" tabindex=\"-1\">Building blocks <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-1-introduction/#building-blocks\" aria-hidden=\"true\">#</a></h2>\n<p>In many languages you'll find integers, floating point numbers, characters and strings[^1], that we use to hold values in our programs. These simple, single types are sometimes known as scalar values - single units of data. But there are also structures that contain multiple values. Typical structures here are lists, also known as arrays or vectors, and maps, also known as hashes, or associative arrays, containing pairs of names and values.</p>\n<p>All these types are known as being first-class, meaning that they can be used as input to, and be produced as output from, functions.</p>\n<h2 id=\"functions-are-first-class\" tabindex=\"-1\">Functions are first-class <a class=\"direct-link\" href=\"https://qmacro.org/blog/2016/3/5/fofp-1-1-introduction/#functions-are-first-class\" aria-hidden=\"true\">#</a></h2>\n<p>In functional programming, functions are first-class too. This means that functions can also be passed as input to other functions, and that functions can produce other functions as output [4.12.1.2].</p>\n<p>Next: <a href=\"https://qmacro.org/2016/05/03/fofp-1-2-trying-things-out\">Trying things out</a></p>\n<p>[^1]: Some might argue that strings are not scalar, but complex structures. But that's for another time.</p>\n",
      "date_published": "2016-05-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/14/4/language-minutiae-and-learning-to-swim/",
      "url": "https://qmacro.org/blog/2016/14/4/language-minutiae-and-learning-to-swim/",
      "title": "Language minutiae and learning to SWIM",
      "content_html": "<p>Further to <a href=\"http://langram.org/2016/04/12/enlightenment-in-action/\">Enlightenment in action</a>, here's a tiny bit more light that I discovered on my journey up to Newcastle this morning.</p>\n<p>I solved 4Clojure puzzle 100 (<a href=\"https://www.4clojure.com/problem/100\">Least Common Multiple</a>) with this code:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">fn</span> <span class=\"token punctuation\">[</span>&amp; args<span class=\"token punctuation\">]</span><br />  <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>x &amp; xs<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">reverse</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">sort</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br />        are-divisors? <span class=\"token punctuation\">(</span><span class=\"token keyword\">fn</span> <span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">zero?</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">reduce</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">+</span> %<span class=\"token number\">1</span> <span class=\"token punctuation\">(</span><span class=\"token function\">mod</span> n %<span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token number\">0</span> xs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><br />    <span class=\"token punctuation\">(</span><span class=\"token keyword\">->></span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">iterate</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">partial</span> + x<span class=\"token punctuation\">)</span> x<span class=\"token punctuation\">)</span><br />         <span class=\"token punctuation\">(</span><span class=\"token keyword\">filter</span> are-divisors?<span class=\"token punctuation\">)</span><br />         first<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>I'm not a mathematician, so forgive me, but my approach to the solution was to take the largest of the numbers supplied, and build a lazy sequence of its multiples, (e.g. starting with 7 it would be 7, 14, 21, 28 etc). The first number in that sequence that had the rest of the numbers as factors was the answer.</p>\n<p>Expressing that in Clojure, I first marshalled the input and prepared a function that I could use in the main part of the resolution. In the <code>let</code> binding, I split the input numbers into a single scalar - the greatest of them - and a sequence of the rest of them. Then I defined a function on the fly to close over that &quot;rest&quot; sequence (represented by the <code>xs</code> var) and determined whether those numbers were divisors of a given number <code>n</code>.</p>\n<p>Looking in detail at this function, here's what I was expressing:</p>\n<ul>\n<li>fold over the list of numbers: <code>(reduce ... 0 xs)</code></li>\n<li>in each case, calculate the modulo of <code>n</code> divided by that number</li>\n<li>by wrapping this in a <code>reduce</code>, add up the total of the modulo results: <code>#(+ %1 (mod n %2))</code></li>\n<li>look to see if the total was zero, which would represent the fact that all the numbers were indeed divisors: <code>(zero? ...)</code></li>\n</ul>\n<p>Neat enough, I thought.</p>\n<p>But the nature of this is <em>slightly</em> mechanical ... I wanted to know whether every number was a divisor, and did that with maths (deriving a modulo total and checking for zero). So while I was doing well, I didn't entirely Say What I Mean (SWIM).</p>\n<p>Looking at someone else's solution, I discovered the predicate function <code>every?</code> that was perfect, and would allow me to SWIM better.</p>\n<p>Here's my definition:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">fn</span> <span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">zero?</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">reduce</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">+</span> %<span class=\"token number\">1</span> <span class=\"token punctuation\">(</span><span class=\"token function\">mod</span> n %<span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token number\">0</span> xs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>and here's a version using <code>every?</code>:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">fn</span> <span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">every?</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">zero?</span> <span class=\"token punctuation\">(</span><span class=\"token function\">mod</span> n %<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> xs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Yes, it's shorter, which is nice, but the difference is striking. With this version, I'm now saying: &quot;<em>is every modulo of <code>n</code>, and the numbers under test, zero?</em>&quot;</p>\n<p>One small step closer to a more natural ability to Say What I Mean.</p>\n",
      "date_published": "2016-04-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/13/4/finding-a-wonderland-number/",
      "url": "https://qmacro.org/blog/2016/13/4/finding-a-wonderland-number/",
      "title": "Finding a wonderland number",
      "content_html": "<p>I came across a simple puzzle this evening, on <a href=\"https://github.com/gigasquid/wonderland-clojure-katas\">Wonderland Clojure Katas</a>. My brain is half dead from starting work extra early and slogging through the day, but I wanted to include a tiny bit of Clojure recreation this evening, before the day was out.</p>\n<p>Pretty much at random, I picked the <a href=\"https://github.com/gigasquid/wonderland-clojure-katas/tree/master/wonderland-number\">wonderland-number</a> puzzle where you have to find number with particular properties. In a way, the puzzle is similar to the ones you can find on <a href=\"https://projecteuler.net/\">Project Euler</a>.</p>\n<p>The problem statement is simple. It's about finding a <a href=\"https://en.wikipedia.org/wiki/Cyclic_number\">Cyclic number</a>, thus:</p>\n<ul>\n<li>it has six digits</li>\n<li>if you multiply it by 2,3,4,5, or 6, the resulting number has all the same digits in at as the original number. The only difference is the position that they are in</li>\n</ul>\n<p>As I'm tired, it was quite nice to be able to apply the philosophy of building up from small blocks to reach the solution. So, here goes.</p>\n<p><strong>Step 1 - Getting the digits of a number</strong></p>\n<p>We're going to be comparing digits of a number, so let's have a function that will return a sequence of digits for a given number:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">defn</span> digits <span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">map</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">-</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> %<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> <span class=\"token char\">\\0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">str</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>The <code>str</code> function calls <code>.toString</code> on its argument, here turning a number into a string, and therefore, more importantly, a sequence that we can <code>map</code> over.</p>\n<p>The anonymous function we're using in the map simply converts the char value of each of the string characters to their numeric equivalents. (I do find converting a string representing a digit to its numeric value equivalent a little clunky in Clojure, having a background in scripting languages that make that more seamless. Perhaps I'm missing something. But I digress.)</p>\n<p>Let's try it out:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\">scratchpad.core=> <span class=\"token punctuation\">(</span><span class=\"token function\">digits</span> <span class=\"token number\">12401</span><span class=\"token punctuation\">)</span><br /><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">4</span> <span class=\"token number\">0</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre>\n<p><strong>Step 2 - A unique set of digits</strong></p>\n<p>We actually want a unique set of digits, so we can better compare them:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">def</span> digit-set <span class=\"token punctuation\">(</span><span class=\"token keyword\">comp</span> set digits<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Simply <a href=\"https://clojuredocs.org/clojure.core/comp\">composing</a> the function <code>set</code> with our new <code>digits</code> function does the trick.</p>\n<p>Let's try it out:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\">scratchpad.core=> <span class=\"token punctuation\">(</span><span class=\"token function\">digit-set</span> <span class=\"token number\">12401</span><span class=\"token punctuation\">)</span><br /><span class=\"token operator\">#</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">4</span><span class=\"token punctuation\">}</span></code></pre>\n<p><strong>Step 3 - Multiple results</strong></p>\n<p>So now we want to generate the list of results of multiplying the number under test with 2, 3, 4, 5 and 6. We want those results as digit sets. Here goes:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">defn</span> mult-result <span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">map</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">(</span><span class=\"token function\">digit-set</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">*</span> n %<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">range</span> <span class=\"token number\">2</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>All we're doing is folding (with <code>map</code>) an anonymous function over the <code>range</code> of &quot;multiplier&quot; numbers 2 through 6 inclusive. And this anonymous function multiplies the number under test with the particular multiplier being folded over, and produces a digit set from the result.</p>\n<p>Let's try it out:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\">scratchpad.core=> <span class=\"token punctuation\">(</span><span class=\"token function\">mult-result</span> <span class=\"token number\">123456</span><span class=\"token punctuation\">)</span><br /><span class=\"token punctuation\">(</span><span class=\"token operator\">#</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">4</span> <span class=\"token number\">6</span> <span class=\"token number\">9</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span> <span class=\"token number\">3</span> <span class=\"token number\">6</span> <span class=\"token number\">7</span> <span class=\"token number\">8</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">{</span><span class=\"token number\">2</span> <span class=\"token number\">3</span> <span class=\"token number\">4</span> <span class=\"token number\">8</span> <span class=\"token number\">9</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span> <span class=\"token number\">1</span> <span class=\"token number\">2</span> <span class=\"token number\">6</span> <span class=\"token number\">7</span> <span class=\"token number\">8</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">{</span><span class=\"token number\">0</span> <span class=\"token number\">3</span> <span class=\"token number\">4</span> <span class=\"token number\">6</span> <span class=\"token number\">7</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p><strong>Step 4 - Checking the digits are the same</strong></p>\n<p>The last thing we have to do is check whether the digits are the same in each of the multiplier cases.</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">defn</span> same-digits? <span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">apply</span> = <span class=\"token punctuation\">(</span><span class=\"token function\">mult-result</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Using <code>apply</code> with a function allows that function to be used with the contents of the sequence supplied, rather than with the sequence itself. So the <code>=</code> function operates on the multiple arguments that are the elements of the sequence produced by <code>(mult-result n)</code>. The function name ends with a question mark in the tradition for Clojure predicate functions that return true or false.</p>\n<p>Let's try it out:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\">scratchpad.core=> <span class=\"token punctuation\">(</span><span class=\"token function\">same-digits?</span> <span class=\"token number\">123456</span><span class=\"token punctuation\">)</span><br /><span class=\"token boolean\">false</span></code></pre>\n<p><strong>Step 5 - Profit</strong></p>\n<p>Now we have all we need, and can use the <code>same-digits?</code> function as a predicate in calling <code>filter</code> on the six digit numbers:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\">scratchpad.core=> <span class=\"token punctuation\">(</span><span class=\"token keyword\">first</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">filter</span> same-digits? <span class=\"token punctuation\">(</span><span class=\"token keyword\">range</span> <span class=\"token number\">100000</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br /><span class=\"token number\">142857</span></code></pre>\n<p>Result!</p>\n<p>So there are undoubtedly better ways of approaching this puzzle, but I wanted to illustrate the bottom-up approach of computing that Clojure, and functional programming in general lends itself rather well to. And on the occasions when you're tired and can only think in small chunks, it's ideal :-)</p>\n",
      "date_published": "2016-04-13T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/12/4/enlightenment-in-action/",
      "url": "https://qmacro.org/blog/2016/12/4/enlightenment-in-action/",
      "title": "Enlightenment in action",
      "content_html": "<p>One of the ideas that Clojure embraces is this <a href=\"http://www.cs.yale.edu/homes/perlis-alan/quotes.html\">Perlism</a>:</p>\n<blockquote>\n<p>It is better to have 100 functions operate on one data structure than 10 functions on 10 data structure</p>\n</blockquote>\n<p>This makes a lot of sense. But it also is clear that the language, as a set of functions and features, is large. Of course, at a low level, the language is very small; but the layers that have been built to operate on data structures have a depth that I haven't yet mastered.</p>\n<p>It's not a case of the layers or functions being too complicated ... rather, I just haven't discovered everything that's possible yet. And when I haven't, I am resorting to mechanical solutions. I suppose this is simply a part of the journey, and while building a mechanical solution to a problem is irksome, it's educational, especially when you are shown something so much more succinct.</p>\n<p><strong>An example</strong></p>\n<p>Here's one example, a solution to 4Clojure problem 63 &quot;<a href=\"https://www.4clojure.com/problem/63\">Group a Sequence</a>&quot;. A fairly straightforward challenge, but one that I couldn't see an obviously neat way of solving. (Note that the rules prevented the use of the <code>group-by</code> function, with which it would have been a cinch to solve, of course!).</p>\n<p><em>A clean but mechanical approach</em></p>\n<p>Here's what I ended up with:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">fn</span> p63 <span class=\"token punctuation\">[</span>f xs<span class=\"token punctuation\">]</span><br />  <span class=\"token punctuation\">(</span><span class=\"token keyword\">loop</span> <span class=\"token punctuation\">[</span>elements xs<br />         result <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><br />    <span class=\"token punctuation\">(</span><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">empty?</span> elements<span class=\"token punctuation\">)</span><br />      result<br />      <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> <span class=\"token punctuation\">[</span>element <span class=\"token punctuation\">(</span><span class=\"token keyword\">first</span> elements<span class=\"token punctuation\">)</span><br />            value <span class=\"token punctuation\">(</span><span class=\"token function\">f</span> element<span class=\"token punctuation\">)</span><br />            values <span class=\"token punctuation\">(</span><span class=\"token keyword\">or</span> <span class=\"token punctuation\">(</span><span class=\"token function\">result</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><br />        <span class=\"token punctuation\">(</span><span class=\"token keyword\">recur</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">rest</span> elements<span class=\"token punctuation\">)</span><br />               <span class=\"token punctuation\">(</span><span class=\"token keyword\">assoc</span> result value <span class=\"token punctuation\">(</span><span class=\"token keyword\">conj</span> values element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>In one way, I'm happy, because it's using the <code>loop/recur</code> construction (tail recursion idiom), with the &quot;<a href=\"http://langram.org/tag/firstrest/\">first/rest</a>&quot; pattern, and it's not mutating any state. And I typed this in directly and it solved the puzzle first time :-)</p>\n<p>But there's a mechanical nature to it. Here's what it does, generally:</p>\n<ul>\n<li>starts a <code>loop</code> with the elements given, and an empty result map</li>\n<li>if there are no elements, it just returns whatever's in the result map at that time</li>\n<li>otherwise it takes the first element, calculates the result of applying the function to that element, and retrieves the current values for that result key (defaulting to an empty vector if there aren't any yet)</li>\n<li>then in the body of the <code>let</code> binding it simply <code>recur</code>s with the <code>rest</code> of the elements (all but the <code>first</code>), setting the value for the <code>result</code> var to be that plus the addition of the calculated value in the right place in the map</li>\n</ul>\n<p><em>A neater approach</em></p>\n<p>Here's the solution from another 4Clojure user that I'm following (and I am learning a great deal from them, whoever they are!):</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">fn</span> <span class=\"token punctuation\">[</span>f s<span class=\"token punctuation\">]</span><br />  <span class=\"token punctuation\">(</span><span class=\"token keyword\">apply</span> merge-with concat <span class=\"token punctuation\">(</span><span class=\"token keyword\">map</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">hash-map</span> <span class=\"token punctuation\">(</span><span class=\"token function\">f</span> %<span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>%<span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Wow. The power of this solution, and the secret of its brevity, is the <code>merge-with</code> function, which is documented thus:</p>\n<p><em>Returns a map that consists of the rest of the maps conj-ed onto the first.  If a key occurs in more than one map, the mapping(s) from the latter (left-to-right) will be combined with the mapping in the result by calling (f val-in-result val-in-latter).</em></p>\n<p>This was exactly the right thing. The <code>(map #(hash-map (f %1) [%1]) s)</code> form simply returned a flat list of hash-maps with the keys being the result of applying the given function to the element, and the values being the elements themselves. Beautifully simple, in the philosophy of focusing on performing just one task.</p>\n<p>And then the myriad hash-maps were gathered together with <code>merge-with</code> using the <code>concat</code> function to resolve same-key clashes (in other words, &quot;just group them together&quot;).</p>\n<p>Taking the first of the puzzle's unit tests as an example, here's what stage one (pre <code>merge-with</code>) looks like. This:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">fn</span> <span class=\"token punctuation\">[</span>f s<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">map</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">hash-map</span> <span class=\"token punctuation\">(</span><span class=\"token function\">f</span> %<span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>%<span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">></span> % <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span> <span class=\"token number\">3</span> <span class=\"token number\">6</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre>\n<p>produces this:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span> <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span> <span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Then applying the <code>merge-with concat</code> we get the result:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">(</span><span class=\"token number\">6</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></code></pre>\n<p>Lovely. I'm still on my journey to enlightenment, and am enjoying learning about functions such as <code>merge-with</code> on the way.</p>\n",
      "date_published": "2016-04-12T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/10/4/fiux2-week-7-build-your-own-sap-fiori-app/",
      "url": "https://qmacro.org/blog/2016/10/4/fiux2-week-7-build-your-own-sap-fiori-app/",
      "title": "&quot;fiux2&quot; Week 7 - Build Your Own SAP Fiori App",
      "content_html": "<p>(See first post in this series — <a href=\"https://qmacro.org/2016/03/04/fiux2-the-opensap-fiori-course-2016-edition/\">“fiux2″ – The openSAP Fiori Course – 2016 Edition</a> — for links to the other posts).</p>\n<p>We’re into week 7, the final week of this openSAP course “Build Your Own SAP Fiori App in the Cloud – 2016 Edition”. As we’re in the midst of building our app for the Develop Challenge, this final week is deliberately short, with only two units.</p>\n<p><strong>Unit 1 “End-to-End Development Scenario”.</strong> If you’ve seen a demo of the SAP Web IDE before, in particular for generating and subsequently editing an app from a template, you’ll be already familiar with a lot of the content of this unit. I’m all for repeating information and demos for learning and for strengthening the neurons, but I honestly didn’t find anything significantly new here. I think perhaps the intention is to show a final end-to-end scenario, where each course participant should now be comfortable with the details and nuances for each part along the way.</p>\n<p>There was one part which touched on some of the features of the git functionality in the Web IDE, along with a brief view of how that then is exposed in the SAP HANA Cloud Platform, but I’d like to have seen this in the context of a non-master branch.</p>\n<p><strong>Unit 2 “End-to-End Administration Scenario”.</strong> In many ways, this is the other side of the coin to the development of UI5-powered apps for Fiori scenarios. While Unit 1 covers this development, this unit briefly covers what’s possible in the context of the setting for these apps – the SAP Fiori Launchpad. Specifically, this is for the cloud-based Launchpad, as provided by the SAP HANA Cloud Portal services of the HANA Cloud Platform .</p>\n<p>It’s a shame that the content of this unit is out of date, at least visually.</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/04/Screen-Shot-2016-04-10-at-13.28.42.png\" alt=\"image\" /></p>\n<p>The SAP Fiori configuration cockpit changed a while ago, and looks nothing like what’s shown in this unit. There was a brief disclaimer message during the video, but that doesn’t really help that much. That said, the actual functionality has not changed much, and with the availability of the cloud-based Launchpad in the HCP trial accounts, it’s quite easy for you to explore it yourself.</p>\n<p>In fact, because there are some complex relationships possible between the building blocks such as tiles, groups, catalogues and role, it’s better anyway to have a play around and try to get something working that makes sense to you. This is a great example of where theory is not everything – getting the mechanisms under your fingernails and the ideas embedded into your understanding is key here.</p>\n<p>One feature that was highlighted was the “dynamic” tile type. This is close to my heart, especially in the light of our upcoming lunchtime webinar on 26 Apr:</p>\n<p><a href=\"http://www.bluefinsolutions.com/events/the-sap-fiori-launchpad-as-a-human-centric-dashboa\">The SAP Fiori Launchpad as a Human-Centric Dashboard</a></p>\n<p>where we explore the possibilities that are presented to us by the SAP Fiori Launchpad and its features such as the different tile types.</p>\n<p>Finally, there was a nice touch after the instructor added the details for the dynamic tile – specifically the Number Unit value “Notebooks”:</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/04/Screen-Shot-2016-04-10-at-14.23.34.png\" alt=\"image\" /></p>\n<p>“Wait!” I hear you say. “That’s static text – what about consuming this in different languages?”.</p>\n<p>And the openSAP course folks must have pre-empted that thought. Directly following this was a short section on the Translations service within the configuration cockpit. In a similar way to how you handle internationalisation (i18n) resources for a Fiori app using the UI5 detection and resourcing mechanisms, so you also can manage property files of name/value pairs for text elements.</p>\n<p>Here’s a screenshot of what this looks like, slightly beyond where this unit’s video ended:</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/04/Screen-Shot-2016-04-10-at-14.25.15.png\" alt=\"image\" /></p>\n<p>Here, I’ve added and activated a German locale for my Launchpad, which means I’d see the translated texts when consuming the Launchpad site in German, say, by adding the sap-language=de parameter in the URL.</p>\n<p>Anyway, as I mentioned earlier – the best way for you to learn more is to get going on your trial account and play around. Have fun!</p>\n<div class=\"entry-content\"> \n</div> \n",
      "date_published": "2016-04-10T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/8/4/4clojure-puzzle-66/",
      "url": "https://qmacro.org/blog/2016/8/4/4clojure-puzzle-66/",
      "title": "4Clojure Puzzle 66",
      "content_html": "<p>In my quest to teach myself more Clojure, I'm solving puzzles. Puzzles from websites such as <a href=\"http://projecteuler.net/\">Project Euler</a> and <a href=\"http://www.adventofcode.com/\">Advent of Code</a>. More recently I've been plugging away at puzzles on <a href=\"https://www.4clojure.com/\">4Clojure</a>.</p>\n<p>One of the nice things about 4Clojure is that you can &quot;follow&quot; other users, the practical upshot of which is that when you provide a correct solution for a given puzzle, you can look at the solutions from your followers too. I'm following five users, and often their solutions are delightfully different to mine - sometimes simpler, sometimes more elegant, sometimes using an approach I'd never thought of, and sometimes all of the above.</p>\n<p><strong>Learning by Doing</strong></p>\n<p>I gave a talk last month at the <a href=\"http://www.lambdalounge.org.uk/\">Manchester Lambda Lounge</a>. It was titled &quot;<a href=\"https://docs.google.com/presentation/d/176SJNJEjkri4u18pxMg5hT72xFQturmMG4CoNoKBxb0/edit#slide=id.p\">Learning by Doing - Beginning Clojure by Solving Puzzles</a>&quot;. I talked through my approaches to solving a few puzzles, sharing my thought processes with the other members of the group. It was fun, and educational - certainly for me!</p>\n<p>The theme running through the talk turned out to be &quot;everything is a list&quot;. There's a lot to say on this, but I'll limit it here to suggest that in building solutions, it's possible to think in terms of lists, of sequences, and functions that operate thereon. Intertwined with this was my attempt to not mutate any state, and not to approach problems mechanically ... avoiding the <em>how</em>, and focusing on the <em>what</em>.</p>\n<p><strong>4Clojure 66</strong></p>\n<p>So here's my approach to solving the 4Clojure problem number 66 &quot;<a href=\"https://www.4clojure.com/problem/66\">Greatest Common Divisor</a>&quot;. Please bear in mind it's not the most efficient or elegant. I just wanted to share my thinking. It's the sort of thing I'd like to read if I was exploring a new language, to see different possible ways of thinking computationally.</p>\n<p>You can read the <a href=\"https://www.4clojure.com/problem/66\">puzzle statement</a> over on the 4Clojure site. One of the test cases looks like this:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">__</span> <span class=\"token number\">1023</span> <span class=\"token number\">858</span><span class=\"token punctuation\">)</span> <span class=\"token number\">33</span><span class=\"token punctuation\">)</span></code></pre>\n<p>We'll use this as a basis for our direction. In this test case, as in all of them, we need to define a function that will sit where the <code>__</code> placeholder is, so that the whole expression, or form, is true. So we need a function that takes two arguments (1023 and 858) and returns 33 as the greatest common divisor.</p>\n<p><strong>Where we'll get to</strong></p>\n<p>Here's the complete solution which we'll be working our way towards:</p>\n<pre class=\"language-clojure\"><code class=\"language-clojure\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">fn</span> <span class=\"token punctuation\">[</span>&amp; args<span class=\"token punctuation\">]</span><br />  <span class=\"token punctuation\">(</span><span class=\"token function\">letfn</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token function\">common-div</span> <span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">zero?</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">reduce</span> + <span class=\"token punctuation\">(</span><span class=\"token keyword\">map</span> <span class=\"token operator\">#</span><span class=\"token punctuation\">(</span><span class=\"token function\">mod</span> % i<span class=\"token punctuation\">)</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><br />    <span class=\"token punctuation\">(</span><span class=\"token keyword\">->></span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">range</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">apply</span> min args<span class=\"token punctuation\">)</span> <span class=\"token number\">0</span> -<span class=\"token number\">1</span><span class=\"token punctuation\">)</span><br />         <span class=\"token punctuation\">(</span><span class=\"token keyword\">filter</span> common-div<span class=\"token punctuation\">)</span><br />         first<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p><strong>A helper function</strong></p>\n<p>Breaking the problem down, it would be good to have a function that told me whether a given number was a divisor of some other numbers. So in a <code>letfn</code> binding I defined a function <code>common-div</code> which did exactly that. The function was defined to close over the <code>args</code> to the main (outer) function, i.e. in this particular test case, 1023 and 858.</p>\n<p>This <code>common-div</code> function works out whether the number supplied, <code>i</code>, divides evenly into the numbers in <code>args</code>. It does this by mapping an anonymous function <code>#(mod % i)</code> over the <code>args</code>. This anonymous function returns the modulo, or remainder, of dividing the number(s) by <code>i</code>. If the numbers are all evenly divisible, then this should produce a list of zeros, like this:</p>\n<pre><code>scratchpad.core=&gt; (def args [1023 858])\n#'scratchpad.core/args\nscratchpad.core=&gt; (def i 3)\n#'scratchpad.core/i\nscratchpad.core=&gt; (map #(mod % i) args)\n(0 0)\n</code></pre>\n<p>And folding over this list of remainders, using <code>reduce</code>, with the addition function, should produce zero, if <code>i</code> is a common divisor:</p>\n<pre><code>scratchpad.core=&gt; (reduce + (map #(mod % i) args))\n0\n</code></pre>\n<p><strong>Finding the answer</strong></p>\n<p>Now we have such a helper function, we can rattle through the puzzle. Inside our <code>letfn</code> binding we start with a threading macro (<code>-&gt;&gt;</code>) which simply allows us to write a sequence of functions in a way that's arguably more readable. What we want to 'thread' is a list of numbers, ranging from the lower of the two <code>args</code> down to 1 inclusive. So in this case we want a range from 858 to 1.</p>\n<pre><code>scratchpad.core=&gt; (range (apply min args) 0 -1)\n(858 857 856 ... 1)\n</code></pre>\n<p>The <code>apply</code> here is doing a similar thing to what it does in JavaScript. If we called <code>min</code> with the <code>args</code> directly, we'd get this:</p>\n<pre><code>scratchpad.core=&gt; (min args)\n[1023 858]\n</code></pre>\n<p>because min treats <code>args</code> as a single entity (the list of two numbers ... actually a vector in this case). The function <code>apply</code> applies the given function to the content of the list, breaking them out of that list:</p>\n<pre><code>scratchpad.core=&gt; (apply min args)\n858\n</code></pre>\n<p>This list produced by <code>range</code> is passed into the <code>filter</code> function which is using our <code>common-div</code> function we defined earlier, which should result in a much shorter list of those numbers that divide evenly into the two <code>args</code>, i.e. <code>(33 11 3 1)</code>.</p>\n<p>And because we're working backwards down to 1, the first number in this filtered list we come across is the one we want: 33. Bingo!</p>\n<p><strong>Final thoughts</strong></p>\n<p>As I mentioned at the outset, this is not necessarily the most efficient solution. But it shows that you can think in terms of lists, with logic that doesn't require any mutation of state. It becomes simply an expression that evaluates to an answer. It's a different way of thinking, but I like it very much.</p>\n",
      "date_published": "2016-04-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/5/4/fiux2-week-6-extend-sap-fiori-apps/",
      "url": "https://qmacro.org/blog/2016/5/4/fiux2-week-6-extend-sap-fiori-apps/",
      "title": "&quot;fiux2&quot; Week 6 - Extend SAP Fiori Apps",
      "content_html": "<p>(See first post in this series — <a href=\"https://qmacro.org/2016/03/04/fiux2-the-opensap-fiori-course-2016-edition/\">“fiux2″ – The openSAP Fiori Course – 2016 Edition</a> — for links to the other posts).</p>\n<p>Well we’re on to the penultimate week of learnings, in the midst of the Design Challenge Peer Review due in at the end of this week, and at the start of the Develop Challenge. Phew! Let’s take a look at the units this week.</p>\n<p><strong>Unit 1 “Introduction to SAP Fiori Extensibility with SAPUI5″.</strong> This was quite a good overview of the different extension capabilities with SAP Fiori. It’s an introduction, so I didn’t expect to get a deep dive, but in fact the presentation of the extension concept, within the time and slide contents constraints, was a good one. It explained the way that an extension project starts out lean, a “delta” with the parent (or “original”) application, and then builds, as extensions are added. The slideware was good too – a clear and meaningful build up of the Component.js file.</p>\n<p>While the <a href=\"https://sapui5.hana.ondemand.com/#docs/guide/a264a9abf98d4caabbf9b027bc1005d8.html\">extension concept of the SAPUI5 toolkit</a> supports the core extension capabilities at the developer level, it was also interesting to see the <a href=\"https://sapui5.hana.ondemand.com/test-resources/sap/ui/rta/RuntimeAdaptationDemoApp.html?sap-rta-mock-lrep=true\">Runtime Adaptation</a> classed, along with general user-level customising possibilities, within the general extension umbrella. And rightly so. The Runtime Adaptation is quite an achievement; while still a relatively young concept and section of the SAPUI5 toolkit, it’s definitely worth having a look. You could almost see it as “Personas for Fiori”. Now how does <em>that</em> mess with your current pigeon-holing of tactical and strategic UX technologies? :-)</p>\n<p>There were a couple of things that I wanted to draw your attention to with the extension concept, lest misunderstanding were to take hold:</p>\n<ul>\n<li>You can extend views with replacements (if there were no appropriate extension points for you to use), extensions (using the available extension points) and modifications. In this latter category, the slides say you can “modify certain properties like visibility”. Actually, right now, <a href=\"https://sapui5.hana.ondemand.com/#docs/guide/aa93e1c6953a41b48cd912a7331eadee.html\">you can modify <em>only</em> the visible property</a>, no others.</li>\n<li>You can also extend controllers, where the slide says that you can “override standard controller functions such as lifecycle methods”. There’s an important distinction between the word “override” (replace) and “merge” – a word that the instructor actually used but wasn’t on the slide. With the lifecycle methods, your custom “replacement” method doesn’t actually override the equivalent lifecycle method, it is merged, and either runs before or runs after, depending on the method. This is actually what you want, but it’s not “override”.</li>\n</ul>\n<p>Caveat developer!</p>\n<p><strong>Unit 2 “Extensibility with SAP Web IDE – SAP Fiori Cloud Example”.</strong> This unit is definitely worthwhile and a very quick walkthrough of what you can do yourself too. Last year at SAP TechEd EMEA, I was lucky enough to co-present a number of SAP Fiori related workshops (see “<a href=\"https://qmacro.org/2015/11/03/speaking-at-sap-teched-emea-2015/\">Speaking at SAP TechEd EMEA 2015</a>“). One of them was to have the participants walk through extending an app in the Fiori Cloud Edition, just like the instructor did in this unit. You can do it yourself too now – just visit the <a href=\"https://www.sapfioritrial.com/\">SAP Fiori Demo Cloud Edition</a> home and follow your nose. There’s also an exercise following this unit which will take you through something similar.</p>\n<p>With extensions, we have many questions to answer. Why, how, what and where, for starters. The “why” is simple – because you want to have the app meet your specific business needs and nuances. The “how” is what this unit covers at a high level: the extension concept in general, along with the great support in the SAP Web IDE.</p>\n<p>But it’s the “what” and “where” that will most likely cause the new SAP Fiori developer to scratch their head. What can I extend, and where do I find it? Well this is partially answered in the details section of each SAP Fiori app in the <a href=\"https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/\">Fiori Apps Library</a>. But knowing how an app is generally structured, and knowing specifically how your particular app is structured, is a level of detail and understanding much deeper than that.</p>\n<p>And what, I hear you say, is the meaning of the S2, S3 and S4 view names? These are artifacts of the original SAP Fiori development approach within SAP, with S2 being the master view of a Master-Detail application, S3 being the detail, and so on. Getting inside the mind and the development context of the developer(s) that wrote the code you’re trying to modify (whether that’s SAP Fiori or something completely different) is something you should try to do as it will make a big difference.</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/04/Screen-Shot-2016-04-04-at-07.57.57.png\" alt=\"image\" />Oh yes, one more thing – the instructor added an event for the camera button he added to the S4 view. The event he chose from the list was “tap”, which was right next to “press” in the list. Unfortunately <a href=\"https://qmacro.org/sapui5.hana.ondemand.com/#docs/api/symbols/sap.m.Button.html#event:tap\">the Button control’s “tap” event has been deprecated</a> since 1.20 (in favour of the “press” event), but as (a) the SAP Web IDE didn’t highlight this (yet!) and (b) the clock on the instructor’s screen showed just after 5 o’clock in the morning, we can overlook this ;-)</p>\n<p><strong>Unit 3 “Introduction to Enabling SAP Fiori for Mobile”.</strong> There’s a ton of stuff that SAP (and Sybase) have developed in the area of mobile app creation, deployment and management. I’m sure I’m not the only one somewhat dazzled by the oncoming headlights of so much traffic in this area. So if for no other reason than to summarise where SAP stands today with respect to their direction and strategy in this area, this unit serves us well.</p>\n<p>In a conversation last month, I was rather surprised to hear that there were some people who had not heard of the term “hybrid” in the context of mobile apps. This unit clears that up for folks, and explains what hybrid means. This word for me will forever have one of its original meanings from its Greek roots (ὕβρις) – where it was used to describe the mythical <a href=\"https://en.wikipedia.org/wiki/Chimera_(mythology)\">Chimaera</a>, made up of three different species of animal – and was an insult (think “hubris”) to each one. I wonder if SAP considered this in the Hybris context?</p>\n<p>Anyway, the unit actually covers a lot of ground, at a high level, contextualising SAP Mobile Services (SAPms), Apache Cordova (nee PhoneGap), Kapsel, the SAP Fiori Client and much more besides. This is the sort of unit where you’ll want to review the slides again later to make sure you’ve built the right set of pigeonholes in your brain to store the flood of information that you know is going to come your way.</p>\n<p>One concept that was mentioned but never really expanded upon was the offline OData feature. That alone perhaps could have taken up a whole unit, a whole week, or (in depth) a whole course, but it would have been good for the participants to learn, even at a high level, what was possible.</p>\n<p><strong>Unit 4 “Extending an SAP Fiori App for Mobile – Use Case”.</strong> Enough theory, how about some practical demonstration? And this unit delivers that. It continues the app from Unit 2 earlier in the week, and adds code to the event handler created then. It’s sometimes difficult to keep up with dry material, so to see something in action is a nice diversion. It also shows that not everything is always perfect – even the happy path that the demonstration was following was marred slightly by some network issues (it looked like the mobile device momentarily dropped off the wifi network).</p>\n<p>It would have been nice to dig a little deeper into the background behind the Hybrid Application Toolkit (HAT) settings, especially the connection between the workstation-local resources and the configuration in these settings (see screenshot).</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/04/Screen-Shot-2016-04-05-at-07.09.29.png\" alt=\"image\" /></p>\n<p>I’m thinking, however, that this is covered in the companion course “Developing Mobile Apps with SAP HANA Cloud Platform”.</p>\n<p><strong>Unit 5 “Cloud Extensions with SAP SuccessFactors”.</strong> If there ever was a unit that was full to bursting with a demo that makes you want to know more about absolutely everything, this unit comes close. Even at the longer length of 25 mins, this unit’s video only managed to scratch the surface of extending SAP SuccessFactors with an embedded UI5 app.</p>\n<p>Looking past the clear signs of multiple SAP teams working on different parts of SAP’s cloud strategy as a whole, I can’t help but marvel at where they’ve got to. Yes, a pedant like me can spot some inconsistencies and things that don’t look right to the eye. There are also many questions relating to how things really connect and are authenticated, but on the whole, it was a good illustration of some of the core building blocks of the PaaS that HCP is.</p>\n<p>I’m really glad that the example the instructor chose was consuming an OData service, via the Destinations facility of HCP. The backend exposing this OData service was marked as “odata_gen” – just like you’d mark any non-SAP (AS ABAP stack) OData service like Northwind.</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/04/Screen-Shot-2016-04-05-at-17.36.12.png\" alt=\"image\" /></p>\n<p>I did wonder somewhat about the use of the URL in the Widget specification – it was supposed to be the URL of the app on HCP, but instead was another one with “demo2″ in the first part. Ah well, let’s put that down to slightly disjointed end-to-end demos.</p>\n<p>Of course, like before, this packed unit was really just a taster for a full blown openSAP course. This time it’s “<a href=\"https://open.sap.com/courses/hanacloud3-1/\">Extending SAP Products with SAP HANA Cloud Platform</a>“.</p>\n<p>Finally, did you notice the use of <a href=\"https://en.wikipedia.org/wiki/OpenSocial\">OpenSocial</a>? Here’s another example of SAP adopting open protocols and standards, like HTTP and OData. OpenSocial defines a component hosting environment and a set of APIs, and SAP use it to enable the mashup of different components (such as extensions) to run within the same document object model (web page). This continues to give me confidence and encourages me to invest time and effort learning about the technologies and uses thereof in this space, as I know I’m less likely to be going down a path that leads nowhere.</p>\n<p>Well, that’s the last main unit of this week. There was, as usual, the video blog update for this week, which I enjoyed. What struck me was the necessity to lead the course participants through architectural structures such as the one described in this diagram:</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/04/Screen-Shot-2016-04-05-at-17.58.27.png\" alt=\"image\" /></p>\n<p>The cloud, with SaaS, PaaS and more, does mean that the on-premise landscape is simplified, but doesn’t mean that the architectures in general are simplified. Far from it. With tenants, accounts, trial and production platforms in the cloud, and connections to on-premise systems and even other cloud systems, it’s only going to get more complex.</p>\n<p>And the final word goes to Bob, in the video update: “<em>make sure you continue using Google Chrome</em>“. What a refreshing change to SAP’s requirement from the bad old days, when it explicitly required you to use that disaster of a “web browser”, Internet Explorer. Onwards and upwards!</p>\n<p></p>\n",
      "date_published": "2016-04-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/31/3/fiux2-week-5-enhance-an-sap-fiori-master-detail-app/",
      "url": "https://qmacro.org/blog/2016/31/3/fiux2-week-5-enhance-an-sap-fiori-master-detail-app/",
      "title": "&quot;fiux2&quot; Week 5 - Enhance an SAP Fiori Master Detail App",
      "content_html": "<p>(See first post in this series — <a href=\"https://qmacro.org/2016/03/04/fiux2-the-opensap-fiori-course-2016-edition/\">“fiux2″ – The openSAP Fiori Course – 2016 Edition</a> — for links to the other posts).</p>\n<p>So week 5 came and went rather quickly – perhaps it was the Bank Holiday weekend! This week sees the introduction of the Develop Challenge, as well as the main content of this week – looking at more advanced features of the SAP Web IDE. Let’s review the units.</p>\n<p><strong>Unit 1 “Enhancing Your SAP Fiori App with the Layout Editor”.</strong> This was a good introduction to the Layout Editor – an alternative way to edit Fiori app views. The Layout Editor is an accomplished piece of software, especially when you consider it’s running in the browser. I wouldn’t say it is my first choice for editing view definitions, but for the occasional user, it might be just the right thing. (There’s an argument that says occasional users shouldn’t be messing around with the innards of Fiori apps, but I’ll leave that for another day).</p>\n<p>It’s interesting to remember that one of the reasons why such a thing as the Layout Editor is possible (and indeed the view part of the extension concept). Views in UI5 can be defined imperatively, in JavaScript, or they can be defined declaratively in JSON, HTML or XML. All three of these declarative formats are much easier to parse and manipulate programmatically – which is what the Layout Editor is doing.</p>\n<p>The format of choice for Fiori apps is XML – I wrote an introduction to XML views, contrasting them to their (then-more-popular) JavaScript equivalents, in a post as part of a series (<a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2013/10/16/mobile-dev-course-w3u3-rewrite--intro\">Mobile Dev Course W3U3 Rewrite</a>) on the SAP Community Network back in 2013: <a href=\"http://scn.sap.com/docs/DOC-49095\">Mobile Dev Course W3U3 Rewrite – XML Views – An Intro</a>. If you’re still trying to decide what format to use, XML should be where you start – simple as that.</p>\n<p>Anyway, take a look at this unit to find out more about the Layout Editor. Moreover, if you haven’t used it yourself, there’s a related exercise which goes into great detail – including data binding. The 34-page exercise document is called “Enhance Your SAP Fiori App with the Layout Editor” and it sits between this unit and the next.</p>\n<p><strong>Unit 2 “Develop Challenge: Build Your Own App with Peer Review”.</strong> Can you say “meta-course”? This unit merely covered the details of the Design Challenge. That said, “merely” doesn’t really do justice to this unit, or the information imparted.</p>\n<p>There’s a lot packed into this course, including two major hands-on activities – the Design Challenge and the Develop Challenge, with their respective peer review activities to boot. I’m struggling a little to keep up with what’s required, especially as I’m dipping in and out of the course material when I have time.</p>\n<p>So while this unit helps, I’m still a bit confused – particularly about when the peer review for the Design Challenge is to start. That confusion was increased by the deadline extension given for this challenge (<a href=\"https://qmacro.org/undefined/\">that I mentioned last week</a>). But perhaps I’m just getting old. I checked my Study submitted via Build / Splash, but have had no peer feedback yet. Nor have I had any prompting to start the peer review (we all get 5 submissions to review).</p>\n<p>Update – I did some digging around, and you can now get to the peer review section within the Design Challenge section, as shown here:</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-31-at-08.43.06.png\" alt=\"image\" /></p>\n<p>So don’t wait for any prompts or emails – just go there and start!</p>\n<p><strong>Unit 3 “Other Considerations in Building an SAP Fiori App”.</strong> Well this was certainly a challenging unit! Challenging for the audience (it was a sudden slip off the relaxing poolside into the deep water), for the presenter (squeezing that much content into a 15 minute video was clearly a struggle) and challenging for the course as a whole, because while extremely important, it didn’t really fit into the flow of where this course has come from.</p>\n<p>As a small example, one of the slides showed a snippet of a key artifact in any Fiori app – the Component.js file (unfortunately written on the slide as Component<strong>s</strong>.js). To understand the context, the audience would have to have some non-trivial knowledge of UI5 development. This is coming (in a course starting in April, hurray!) but we’re not there yet.</p>\n<p>It was like a whirlwind tour of lots of small performance and security related topics, which if done properly, could be expanded into a 3 or 4 day course :-) So in that sense, it was useful to impart. But I wonder how much of that information was really understood?</p>\n<p>This unit talked about OData Choreography – a phrase I like – but it also had a couple of questionable pieces of advice, at least in my view. If you want only three properties of an entity rather than the three hundred it normally sports, you were advised to create another OData service. That’s not what I’d do – rather, I’d use the power of the OData protocol and use the query string option “<a href=\"http://www.odata.org/documentation/odata-version-2-0/uri-conventions/\">$select</a>” to return just the properties I needed.</p>\n<p>I also do baulk somewhat at the recommendation to use <a href=\"http://www.odata.org/documentation/odata-version-2-0/batch-processing/\">$batch</a>. In a TLS (ie HTTPS) context, URI security is fine, and while increasing performance (by batching up multiple requests), batching makes the application mechanics more opaque and difficult to support and debug. The approach also flies in the face of the architectural style that has informed the OData protocol as a whole – REpresentational State Transfer (REST). Don’t mask resource identifiers (URIs) and hide them where they don’t belong!</p>\n<p>Finally, it would have been nice to hear a more compelling explanation of the reasonings behind the “one app / one service” rule. But perhaps that’s coming later.</p>\n<p>All in all this unit was a useful, if slightly inconguent, poke in the ribs for the attendees to let them know it’s not just point-and-click in the Web IDE Layout Editor. I guess my comment about occasional users earlier in this post is relevant here too :-)</p>\n<p><strong>Unit 4 “Creating an SAP Fiori App with a Smart Template”.</strong> The combination of OData, annotations, and Smart Templates is a powerful one. We had a brief introduction to Smart Templates in <a href=\"https://qmacro.org/2016/03/17/fiux2-week-3-get-ready-to-create-your-first-app/\">week 3</a> so I need not dwell on them too much again here.</p>\n<p>Suffice it to say that this unit showed a pretty impressive demo – a happy path demo, but a good one nevertheless. One of the things that stood out from the slide notes, and brought up by the presenter, was that with Smart Templates, there are “NO modifications”. I’ve yet to find out what that really implies; read-only code sometimes goes hand-in hand with auto-generation, but I’m pretty certain that what we’re going to end up with is something workable. The UI5 toolkit itself does a lot of the heavy lifting here, so it’s not as if there’s a ton of code that’s being emitted.</p>\n<p>It’s definitely an extremely interesting area, and one to watch and learn more about.</p>\n<p><strong>Unit 5 “Introduction to SAP Fiori Overview Page”.</strong> Pretty much a continuation of the previous unit, here we move on to another concrete artifact from the “smart” stable – the Overview Page, or OVP.</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-30-at-18.02.54.png\" alt=\"image\" /></p>\n<p>You can’t help but be impressed by and attracted to this lovely combination of practical and visually appealing functionality. It’s a cross between the Fiori Launchpad and functions and features of Fiori apps, all on a single page.</p>\n<p>But perhaps what’s most impressive is the way that the OVP plugin works and embeds itself seamlessly into the Web IDE. The generation of the core OVP example was impressive, but what really took my fancy was the addition, in the demo, of actual cards, via further wizards. When you consider the different teams that have been involved, it’s a great example of the tip of a complex iceberg, both technically and organisationally at SAP. Nice work, teams!</p>\n<p>By the way – if this sort of UI presentation appeals to you, you may be interested in a free 1-hour webinar I’m involved in on 26 Apr. For more information, see the event’s homepage:</p>\n<p><a href=\"http://www.bluefinsolutions.com/events/the-sap-fiori-launchpad-as-a-human-centric-dashboa\">The SAP Fiori Launchpad as a Human-Centric Dashboard</a></p>\n<p>and maybe I’ll see you there!</p>\n<p><strong>Unit 6 “Deploying Your App”.</strong> This was the last main unit of this week’s course content, and covered, at a high level, what you do next after building your Fiori app. Basically there are a couple of main options – a deployment to a Fiori Launchpad site on the HCP cloud portal, or a deployment to an ABAP stack backend SAP system. There was another option shown in the slide and in the demo, to “clone <em>to</em> a git repository”. I can only think there was a little bit of confusion here – git clone goes the other way – creating (pulling) a copy of an existing repository, not instantiating (pushing) a new repository.</p>\n<p>But we’ll gloss over that for now, especially as the key git parts of the workflow – when deploying to HCP – were actually shown. There are some gotchas with the git workflow when it comes to using different branches (which you should be doing during development). You may be interesting in this screencast I recorded showing you the challenge, and the solution: “<a href=\"https://www.youtube.com/watch?v=OtCt8lQAttA\">SAP HCP, git, and Feature Branches</a>“.</p>\n<p>It was good to see the relationship between the app itself, the portal FLP site, HCP along with the roles, even though it was a very quick high level overview. Almost directly after the video was recorded (mid Dec 2015) some improvements have been made to this area, notably, with SAP Web IDE release 1.19, the ability to specify <em>which</em> FLP site you want to deploy the app to. You can have multiple FLP sites in your HCP portal account, and the ability to specify the right target site is key. See “<a href=\"https://help.hana.ondemand.com/webide/frameset.htm?b075d767e91f422b8b4be4e8c6fd5ab7.html\">Registering Applications to SAP Fiori Launchpad</a>” documentation for more details.</p>\n<p>One thing that struck me as a little odd was the tile definition demo. After the Tile Configuration part of the wizard was complete, we looked at the tile in the FLP, but it had different text (title and subtitle) to what had been defined. I can only think that this might have been the product of a video splice … and serves as a reminder of how hard it is to create even one tutorial video, let alone multiple series! (I speak from first hand here). So my hat goes off to the teams that turn out such great content for all these openSAP courses.</p>\n<p>For some of the audience, it might have been worth just spending a bit of time explaining the BSP Application connection, when the deployment to an ABAP repository was shown. Of course, there isn’t a connection – you’re not travelling back in time to the Business Server Pages technology arena; rather, it’s just that the storage container for a BSP Application was deemed “good enough” to contain all the artifacts of a Fiori app – it being a web app after all.</p>\n<p>On the subject of deployment, this time to the FLP, it would have also been nice to mention the difference between the “webapp” folder and the “dist” folder created in such circumstances. But perhaps that will come up in another course.</p>\n<p>Despite these gaps, it was a good overview unit that completed the picture.</p>\n<p>Post Script: one of the self-test questions for this unit rather unfortunately suffered from perhaps being set by someone other than the person who wrote or presented the unit video content; there isn’t a single “correct process for deploying an SAP Fiori app to the cloud Launchpad”, and the officially correct answer doesn’t reflect the procedure that was shown in the video. Ah well, it’s only a self-test :-)</p>\n<p>That’s about it for this week – see you next time!</p>\n<p></p>\n",
      "date_published": "2016-03-31T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/28/3/quick-hcp-title-hack-with-the-navigation-manager/",
      "url": "https://qmacro.org/blog/2016/28/3/quick-hcp-title-hack-with-the-navigation-manager/",
      "title": "Quick HCP title hack with the Navigation Manager",
      "content_html": "<p>One of the great things about the new SAP is that it has embraced open standards and protocols, and is building the UX and UI present and future on HTML5. A by-product of that is the ability to see how they’re building things and make, or suggest, changes.</p>\n<p>At SAP Inside Track Sheffield last year, one of the sessions I gave was “Fixing up a nicer HCP Destinations table”, where I showed the power of UI5 introspection and the Chrome Developer Tools that enabled us to modify the surface upon which we were standing, to improve things. I re-recorded my session as a video here, in case you’re interested:</p>\n<iframe allowfullscreen=\"allowfullscreen\" frameborder=\"0\" height=\"315\" src=\"https://www.youtube.com/embed/d8P2bV6clXI\" width=\"560\"></iframe>\n<p><strong>Fixing the HCP cockpit titles</strong></p>\n<p>Anyway, there’s something else that’s been niggling me a bit while using the HANA Cloud Platform (HCP) cockpit. And that’s the inability to see which tabs in my Chrome browser are open at what particular areas of the cockpit. Due to the way each location’s title text is structured, all the tabs look the same – at least at the start. It’s only when you hover over them you see what a given tab contains.</p>\n<p>Here’s an example:</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-28-at-11.42.06.png\" alt=\"image\" /></p>\n<p>It’s only when hovering over the first tab that I see that it’s showing the HTML5 Applications part of the cockpit. If I’m looking to switch to that tab, the search for the correct one is painful.</p>\n<p>So I wanted to take a quick look to see where this title was being set, and when. I used the Chrome Developer Tools’ DOM breakpoints feature to halt when the <code>title</code> element was changed:</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-28-at-11.46.08.png\" alt=\"image\" /></p>\n<p>This led me to a section of the HCP cockpit code that inside the Navigation Manager (cockpit.core.navigation.NavigationManager), in a function called “navigate”. This is what the code that sets the title looks like (I took the liberty of formatting it a little bit better for readability):</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-28-at-11.49.41.png\" alt=\"image\" /></p>\n<p>You can see how the title string is constructed – with the most significant part (<code>current.navigationEntry.getTitle()</code>) buried deep within it.</p>\n<p>A small change to this code, so it looks like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-28-at-11.49.54.png\" alt=\"image\" /></p>\n<p>brings the most significant part to the front, meaning that now I can see what tab contains what HCP cockpit feature – at a glance:</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-28-at-11.30.28.png\" alt=\"image\" /></p>\n<p>I think that’s a nice improvement. Personally, I’d love to see this make it into a future release. What do you think?</p>\n<p></p>\n<p></p>\n",
      "date_published": "2016-03-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/24/3/fiux2-week-4-create-your-first-sap-fiori-app/",
      "url": "https://qmacro.org/blog/2016/24/3/fiux2-week-4-create-your-first-sap-fiori-app/",
      "title": "&quot;fiux2&quot; Week 4 - Create Your First SAP Fiori App",
      "content_html": "<p>(See first post in this series — <a href=\"https://qmacro.org/2016/03/04/fiux2-the-opensap-fiori-course-2016-edition/\">“fiux2″ – The openSAP Fiori Course – 2016 Edition</a> — for links to the other posts).</p>\n<p>Well we’re pretty much at the half-way point in this course, and it’s going well. This week sees the end of the deadline extension for the Design Challenge that I <a href=\"https://qmacro.org/2016/03/17/fiux2-week-3-get-ready-to-create-your-first-app/\">wrote about in Week 3</a>, but mainly is about introducing the course attendee to some basic hands on with the SAP Web IDE. Let’s have a look at how this unit went.</p>\n<p><strong>Unit 1 “Introduction to SAP Web IDE”.</strong> I’m guessing that the majority of this course’s attendees may well have some familiarity with SAP’s now-flagship interactive development environment (IDE). It had an interesting genesis, growing from an initial offering called App Designer, which, remained a young product but seemed like it might be aiming to become, for UI5, what the Microsoft tools were for Visual Basic. There was also App Builder, which one might say was a competing product, from the Sybase stable. And how can we forget the tools and accelerators for various workstation versions of Eclipse.</p>\n<p>What came out of that cloud of dust is what is becoming a very fine product indeed – the SAP Web IDE. Technically based upon Eclipse, but Orion – meaning the offering can be cloud-based, which it is. That said, there are the occasional releases of personal versions to run on one’s workstation, but of course these are still web-based – you’re just running Orion locally.</p>\n<p>This is not a new concept. While today no-one bats an eyelid when we talk of running web servers locally on our laptops, it was a big “aha” moment for me and many others back in the 1990’s when one of my all time heroes Jon Udell wrote about the concept in Byte magazine a long long time ago now. There’s an online version of the article here: <a href=\"http://jonudell.net/dhttp/dhttp.html\">Distributed HTTP</a>.</p>\n<p>Anyway, I won’t go into all the features of the Web IDE here – find out for yourself in this unit. You’re not attending the course? Get that sorted now!</p>\n<p><strong>Unit 2 “SAP Web IDE App Development Basics”.</strong> This unit covered the basics in terms of what features the Web IDE has to support the end-to-end process described in Unit 1 – Prototype – Develop – Test – Package &amp; Deploy – Extend.</p>\n<p>One of the challenges when developing UI5 and Fiori apps is the data. Where is it, what does the structure look like, and is it actually available at all yet? The mock data services within the Web IDE go a long way towards smoothing over the answers to these questions. Often you’ll be developing an app before a backend OData service is even available. Perhaps that’s your modus operandi anyway. And even if the OData service is built, there may be no actual data to test with. With the mock data services you can mock your backend very nicely. See the last unit of this week (towards the end of this post) for more content on mock data services.</p>\n<p>And with the Web IDE you have many of the facilities you’d expect in other IDEs – code completion, the ability to lint and beautify, integration with source code control (in the form of git, of course) and more.</p>\n<p>As a (very) long time <a href=\"https://en.wikipedia.org/wiki/Vim_(text_editor)\">vim</a> user, I have to say that an IDE (rather than “just” an editor), and one in the cloud, is a concept that doesn’t come naturally to me. But what the Web IDE offers is too good to ignore, so it’s become my companion working environment of choice. And I recommend it to clients and colleagues alike if they’re wanting to start on their Fiori journey.</p>\n<p>**Unit 3 “Creating Your First SAP Fiori App with SAP Web IDE Templates”. **One of the reasons why the Web IDE is my companion working environment is covered in this unit: App starter templates and reference apps. I built my own starter templates a good while ago for my own development workflow, but I don’t maintain them, and there’s only a couple of them. With the templates available in the Web IDE, you can hit the ground running and have a working basic app in a matter of minutes.</p>\n<p>And the templates are maintained too; this means that as the best practices improve, and the maturing of UI5 continues, there are differences in approach that you want to make sure you capture. With the plugin based architecture of the Web IDE, you can even build your own templates. As an experiment, a good while ago now when this was quite new, I created a custom template that allowed you to get started quickly with test data from a Google spreadsheet: <a href=\"https://www.youtube.com/watch?v=jAp_nGqOT_c\">SAP Fiori Rapid Prototyping: SAP Web IDE and Google Docs</a>.</p>\n<iframe allowfullscreen=\"allowfullscreen\" frameborder=\"0\" height=\"315\" src=\"https://www.youtube.com/embed/jAp_nGqOT_c\" width=\"420\"></iframe>\n<p>An equally good reason to look at what the Web IDE has to offer are the reference apps. These are full blown apps that are a great source of wonderment – audited source code that covers myriad functions and mechanisms in real Fiori apps. You either enjoy reading source code or you don’t. If you do, you’re in for a treat. If you don’t, grasp the nettle and at least have a go. I’ve always maintained that reading other people’s source code is educational (sometimes to see how <em>not</em> to do something!). And here’s no exception. The world of SAP development is changing – use these resources to give yourself a leg up. And SAP – more of this please!</p>\n<p><strong>Unit 4 “Enhancing Your SAP Fiori App with SAP Web IDE”.</strong> This was a fairly straightforward unit, where the instructor takes us through a couple of examples of enhancing existing SAP Fiori apps. Rather than use the visual editor, we are shown the regular editor where the view is modified by adding XML elements as shown in the screenshot from the video below. This is fine, and my preferred modus operandi.</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-24-at-07.30.11.png\" alt=\"image\" /></p>\n<p>But I do wonder if attendees are thinking: “how would I <em>know</em> that I could or should place an <attributes> element there, and within that element, an <ObjectAttribute>. And what about the capitalisation? Well, for those who can’t wait for the coming weeks, where I suspect, or hope, that this is covered in a little bit more detail, here are a couple of pointers:</ObjectAttribute></attributes></p>\n<ol>\n<li>\n<p>If an XML element starts with a capital letter, it represents a control. For example, we see on line 6 in the screenshot, an <ObjectHeader>.</ObjectHeader></p>\n</li>\n<li>\n<p>If you look at the reference for this Object Header control in the excellent Explored app within the UI5 SDK – <a href=\"https://sapui5.hana.ondemand.com/explored.html#/entity/sap.m.ObjectHeader/samples\">sap.m.ObjectHeader</a> – you’ll see in the Aggregations tab a list of aggregations. And there you’ll find the “attributes” aggregation, which contains entities of type “ObjectAttribute”. And these are the children that can be placed inside the “attributes” aggregation.</p>\n</li>\n<li>\n<p>So yes, you guessed it – whereas controls are represented as XML elements with capitalised names, aggregations are represented by XML elements starting with lowercase letters. So <attributes> here in line 9 is the start of the list of Object Attributes within the “attributes” aggregation belonging to the Object Header control.</attributes></p>\n</li>\n</ol>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-24-at-07.39.34.png\" alt=\"image\" /></p>\n<p>I’m sure that this sort of information will be covered in much more detail in the upcoming openSAP course on SAPUI5 – watch this space! :-)</p>\n<p><strong>Unit 4 “Testing an App with Mock Data”.</strong> Ahh, a pain point in every developer’s workflow – “Where do I get the data to test?” “When will the backend service be ready?” “Can I start development sooner?”.  Well with the mock data service things are a lot smoother than you might imagine.</p>\n<p>It’s definitely worth studying the Web IDE features explained in this unit. While the OData Model Editor is still something I’d like to see improved (adding some visual aspects to the <em>editing</em> process, rather than still having to edit at the rather verbose EDMX level), it’s still a great first step, especially with the visual display of the entities and their relationships:</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-24-at-07.50.59.png\" alt=\"image\" /></p>\n<p>It’s a shame that this wasn’t shown in this unit.</p>\n<p>What was shown is the the Mock Data Editor is definitely easy to use and a great boost to your testing workflow. If you’re going to invest some time on this week’s content, this unit is where you should focus your efforts.</p>\n<p>And with that, week 5 is just about to start. See you next time!</p>\n<p></p>\n<p></p>\n",
      "date_published": "2016-03-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/17/3/fiux2-week-3-get-ready-to-create-your-first-app/",
      "url": "https://qmacro.org/blog/2016/17/3/fiux2-week-3-get-ready-to-create-your-first-app/",
      "title": "&quot;fiux2&quot; Week 3 - Get Ready to Create Your First App",
      "content_html": "<p>(See first post in this series — <a href=\"https://qmacro.org/2016/03/04/fiux2-the-opensap-fiori-course-2016-edition/\">“fiux2″ – The openSAP Fiori Course – 2016 Edition</a> — for links to the other posts).</p>\n<p>It’s around this time of the week that the changeover between each week’s worth of content happens. Week 3 of the <a href=\"http://open.sap.com/courses/fiux2\">Build Your Own SAP Fiori App in the Cloud – 2016 Edition</a> course has just come to a close, so it’s time for me to write down my thoughts.</p>\n<p>This week’s content was shorter than usual. Deliberately so, to give the attendees a better chance at completing the Design Challenge, which started in Unit 7 of Week 2 (see my comments for that unit in <a href=\"https://qmacro.org/2016/03/08/fiux2-week-2-design-your-first-sap-fiori-app/\">the previous post in this series</a>). There were only three units, so let’s have a look at those first, and then finish with a few observations on the Design Challenge.</p>\n<p><strong>Unit 1 “Anatomy of SAP Fiori Apps”.</strong> I enjoyed this unit very much, as it really started to explain well how the rubber hits the road. At some stage, UX needs to turn into UI and become real. Using a combination of the excellent <a href=\"https://experience.sap.com/fiori-design/\">SAP Fiori Design Guidelines</a> and the actual controls in the UI5 toolkit itself (see <a href=\"https://sapui5.hana.ondemand.com/explored.html\">the Explored app</a> for a great showcase of many of them) – advice and building blocks in harmony – is a great way to get started on your Fiori app development journey.</p>\n<p>Understanding the anatomy of a Fiori app – from small controls such as Buttons to larger concepts such as the floorplans, and everything in between, can make the difference between creating a Fiori app, and a Fiori-like app. Here, I refer to Fiori-like as using the building blocks, but not in the right way.</p>\n<p>**Unit 2 “Introduction to SAPUI5 and OData”. **At less than 10 mins long, this unit was very short indeed, only providing a very high level introduction to two of the most important topics in Fiori – UI5 and OData. One of the aspects of the openSAP courses I’ve become used to was the way the instructors often squeezed as much out of each slide’s content as possible. In this unit, I felt a lot of the detail was skipped.</p>\n<p>That said, if it hadn’t have been skipped, I could imagine the unit being four times as long or more. There is more on OData coming later in this course, so let’s hope that they dig in a little more. OData is a fascinating topic, not least because it’s REST-informed, based on an architectural style that I <a href=\"http://www.sdn.sap.com/irj/scn/go/portal/prtroot/docs/library/uuid/ea8db790-0201-0010-af98-de15b6c1ee1a?overridelayout=true\">worked</a> <a href=\"https://scn.sap.com/people/dj.adams/blog/2004/06/24/forget-soap--build-real-web-services-with-the-icf\">hard</a> in the past trying to convince SAP of its merits :-)</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-16-at-23.00.42.png\" alt=\"image\" />](http:/www.sdn.sap.com/irj/scn/go/portal/prtroot/docs/library/uuid/ea8db790-0201-0010-af98-de15b6c1ee1a?overridelayout=true)</p>\n<p><em>An old post on SCN from 2004 – “<a href=\"http://www.sdn.sap.com/irj/scn/go/portal/prtroot/docs/library/uuid/ea8db790-0201-0010-af98-de15b6c1ee1a?overridelayout=true\">Real Web Services with REST and ICF</a>” – where I expounded on the virtues of the REpresentational State Transfer (REST) based approach to data services … and was slightly disowned by SAP ;-)</em></p>\n<p>**Unit 3 “Introduction to Annotations and Smart Templates”. **This was a very interesting unit, not least because of the implications and the reasoning behind augmenting the metadata with extra semantics. I’ve written about semantic information before (see <a href=\"https://qmacro.org/2015/07/06/semantic-pages/\">Semantic Pages</a>, a post in the <a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> series). This time it’s about adding extra information to the OData metadata to enable a more rapid construction – in some cases automatic – of UI5 based application components. A control, or set of controls, that can understand the data that is bound to it, is capable of more than acting passively.</p>\n<p>There’s a lot driving the concept of annotations and their use in smart controls and templates, not least SAP’s need to produce yet more SAP Fiori apps, more quickly and more reliably. Finding a way for apps, or parts of apps, to write themselves, is going to help that process.</p>\n<p>One thing that made me smile was the lovely conflict between Unit 2’s statement “<em>OData model is based on … JSON</em>” and Unit 3’s statement “<em>OData is based on XML</em>“.</p>\n<p>Of course, we all know that it’s based on both. JSON and XML just happen to be used to provide the format for the payload – there are different formats that the OData standard describes. But OData is also a protocol. Don’t let this confusion confuse you – OData is about more than representing data, it’s about describing operations upon that data too. The XML representation originates from the Atom Syndication Format (<a href=\"http://www.rfc-base.org/rfc-4287.html\">RFC4287</a>) – this informs the “format” part of OData. The operations originate from the Atom Publishing Protocol (<a href=\"http://www.rfc-base.org/rfc-5023.html\">RFC5023</a>) – this informs the “protocol” part of OData.</p>\n<p><strong>Design Challenge</strong></p>\n<p>And what of the Design Challenge? First, the deadline has just been extended by a week due to some system problems that were encountered. I think that’s a pretty generous extension, well done again openSAP folks for reacting in the right way. I’m on holiday this week and got some earache from M for working some late night and early morning hours to get the submission in before today. Oh well :-)</p>\n<p>As the deadline has been extended, I have to be careful not to give anything away here. But I can certainly make a few observations of my own. I’d say, all told, with putting together each of the deliverables for the challenge, doing the screen mockups and then using the online tools to create a prototype and then a study, it took a good few hours, not counting the idle time mulling over what problem I wanted to solve and persona for whom I wanted to address the needs.</p>\n<p>I think it was because I’m not actually that used to the formal process, so things weren’t as smooth as they might be next time. This is part of the point, I guess – getting us used to the Design Thinking methodology and learning about the process by being persuaded to address each step in turn. Although I think it was a valuable exercise, there is something in me that is ready to admit that I already had the design of the app in my head, and extrapolated backwards a little bit into the discover and design. But who said it was a linear flow? :-)</p>\n<p></p>\n",
      "date_published": "2016-03-17T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/8/3/fiux2-week-2-design-your-first-sap-fiori-app/",
      "url": "https://qmacro.org/blog/2016/8/3/fiux2-week-2-design-your-first-sap-fiori-app/",
      "title": "&quot;fiux2&quot; Week 2 – Design Your First SAP Fiori App",
      "content_html": "<p>(See first post in this series — <a href=\"https://qmacro.org/2016/03/04/fiux2-the-opensap-fiori-course-2016-edition/\">“fiux2″ – The openSAP Fiori Course – 2016 Edition</a> — for links to the other posts).</p>\n<p>Well, the weeks certainly come around fast in these <a href=\"http://open.sap.com/\">openSAP</a> courses, and so we find ourselves on Week 2 of the <a href=\"http://open.sap.com/courses/fiux2\">Build Your Own SAP Fiori App in the Cloud – 2016 Edition</a>. Here’s a quick run down of what was covered, with some thoughts from me.</p>\n<p><strong>Unit 1</strong> <strong>“SAP Fiori 2.0 Overview”.</strong> This first unit gave a nice overview and introduction to the SAP Fiori 2.0 concepts. Yes, Fiori 2.0 is still conceptual in parts, but we’re already seeing practical output, in the form of the very real <a href=\"https://sapui5.netweaver.ondemand.com/#docs/guide/c64ef8c6c65d4effbfd512e9c9aa5044.html\">Overview Page</a> mechanism, for example. There are plenty of new concepts for Fiori in the 2.0 design, such as the Viewport, the Control Space and the Copilot.</p>\n<p>Some of these concepts are not new, but they don’t have to be; in fact one of the key tenets of Design Thinking, introduced in Unit 2, is “Build on the ideas of others”. I rather think that some of the ideas have been taken from the Dashboard concept that Nat Friedman built a good while ago – I <a href=\"https://qmacro.org/?s=dashboard\">wrote a few posts on Dashboard</a> back in 2003 and then later that decade.</p>\n<p><strong>Unit 2</strong> <strong>“Introduction to Design Thinking”</strong>. This content isn’t new, in fact the openSAP folks stated that it’s the same content as last year’s course. Nevertheless it was worth a brief re-introduction to set the scene for the design principles that are to come in Unit 3. The thing with Design Thinking, at least for me, is that it’s all pretty obvious in theory, but putting it into practice requires effort.</p>\n<p>I think the concepts around the pre-build phases of app delivery still need to be successfully and firmly landed in some organisations. Further, there’s a fine balance to be had between not letting technology (and developers) drive solutions, and designing something that would require a great deal of effort to implement. We have the tools (and the design principles) and know how to use them, so we should use that knowledge to inform the process.</p>\n<p><strong>Unit 3 “The SAP Fiori Design Guidelines”</strong>. Anyone who’s looked into SAP Fiori UX is likely to be at least lightly acquainted with these, either at 30000 feet – with the 5 principles (Role-Based, Responsive, Simple, Coherent and Delightful) – or at ground level with the practical <a href=\"https://experience.sap.com/fiori-design/\">implementation advice in the online documentation</a>. But as this course is soon to introduce the first hands-on element (designing an app), it’s valid to re-introduce them at this stage, if not to set a level knowledge playing field for all participants.</p>\n<p>I did like the explicit calling out of the concept of “Fiori-like” towards the end of this unit. Design is not black and white, and there’s been a long-standing question over whether non-SAP folks could call their apps “Fiori”, or whether they had to say “Fiori-like”. I’ve maintained the position that if the design guidelines were followed, then they were “Fiori”, not just “Fiori-like”. That said, with the title of the course we put together gave in the early days (three years ago!) – “<a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2013/10/06/building-sap-fiori-like-uis-with-sapui5\">Building SAP Fiori-like UIs with SAPUI5</a>“, things weren’t so clear-cut :-)</p>\n<p><strong>Unit 4 “SAP Fiori Decomposition and Recomposition”</strong>. You might be forgiven for thinking that this process is a somewhat over-formalisation of what appears to be straightforward: The extraction of functionality from the “kitchen-sink” transaction-based approach of the traditional SAP experience into smaller role and task focused applications, sometimes combining functionality from previously separate transactions. Sure, that’s what it is.</p>\n<p>But it’s more than that, I think, when seen as a complete process. The functionality being extracted is predominantly being extracted from a proprietary context, and reconstituted into a neutral, platform-independent and responsive context. We’ve been stuck too long in the world of proprietary, tethered too much to the desktop with SAP because of the Microsoft disease that has set hold in enterprises in the last couple of decades or more. So SAP targets that market and the only real experience for many has been SAPGUI for Windows, an experience that is so far from being portable it became one of the catalysts for Fiori. Recomposing functionality into the context of the one true native platform – the Web, is a great move for SAP.</p>\n<p><strong>Unit 5 “The Importance of Prototyping”.</strong> Like Design Thinking but perhaps less so, prototyping phases are sometimes difficult to bring about and get the most out of, especially when deadlines and budgets are tight. Organisations need to work out the value for themselves for the Discover and Design phases, rather than just focus on the Develop and Deploy phases … especially those that involve the business.</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-07-at-07.48.08.png\" alt=\"image\" /></p>\n<p>There’s a leap of faith that’s required, and we’re all responsible for helping make that happen.</p>\n<p>On mockups and protoyping, especially in the early stages, I’m a fan of the simplest thing that could possibly work, which is pencil and paper. Low cost, discardable, and folks aren’t distracted by debating what colour a button should be.</p>\n<p>Moving into the benefits of the later stages of prototyping, I’m reminded of one of the founding beliefs of the Internet Engineering Task Force (IETF) – one of the bodies that maintain standards that mean that we can all simply take the Internet and all its children (such as the Web) for granted. This belief is “general consensus and running code” (<a href=\"https://www.ietf.org/tao.html#rfc.section.2\">from the Tao of IETF</a>). Showing a working model of something you’re trying to convey is very valuable indeed.</p>\n<p>(I did take issue with the stated “correct” answer to one of the self-test questions on this unit: Q “How can app implementation be inexpensive?”  A: “If enough iteration, prototyping and validation is done beforehand”. That might mean the UX is right, but it doesn’t imply that making that UX happen is easy!)</p>\n<p><strong>Unit 6 “Prototyping 101 Using SAP Splash and Build”</strong>. Following on from my comments earlier about adoption and landing of the Discover and Design phases, this unit contained an overview of the two tools that help to support those stages – Splash and Build respectively. It’s a longer than usual unit with 25 mins of video, but worth watching if you haven’t already seen or played with these tools.</p>\n<p>The tools themselves are already very accomplished, but I do wonder how much the studies have actually been employed thus far. It’s partially a circular situation – the tools won’t be used unless Discover and Design are more strongly adopted, and the adoption has a better chance of taking hold if tools like this deliver on their promise.</p>\n<p>One of the things that caught me eye (that hadn’t been available in the early-access I’d had to Splash a while ago) is the <a href=\"https://www.experiencesplash.com/splashapp/gallery\">Gallery</a> of existing designs. I’m looking forward to browsing through, and seeing how they complement the Fiori Design Guidelines.</p>\n<p><strong>Unit 7 “Design Challenge”</strong>. The last unit of this week sees the start of the first of the two practical portions of this course. This is the design challenge, where we must put into practice what we’ve learned this week – covering the Discovery and Design phases of the end to end process, including use of Splash and Build. Giving and receiving feedback from course peers is also involved, which is a nice way to scale this, and also an opportunity for me to see feedback stats in these tools that has come from someone other than me!</p>\n<p>This design challenge lasts two weeks, which means that although there’s an assignment to complete this week, there isn’t one next week – so that we have time to complete the first part of the challenge (submitting the design mockups) without needing to spend more time than budgeted for this course. A nice move.</p>\n<p>—</p>\n<p>There’s one more aspect of this course that I wanted to mention last time but didn’t get round to it. At the end of each week, there’s a “just in time” video blog entry which gives the course creators and instructors a chance to impart last minute information and changes. I like this aspect, and the relaxed nature of how it’s presented. Indeed, with the contents of this course being based on software-as-a-service products in the cloud, and with the changes that happen on a monthly basis, it’s a good idea.</p>\n<p>And on this note of constant change, I’ll leave you with one thought from Martin Fowler. I was reminded of this wisdom via <a href=\"https://twitter.com/sufw/status/707105718403371008\">Sascha Wenninger’s tweet this morning</a>: “If it hurts, do it more often” :-)</p>\n<p>(For links to commentary for further weeks, see the first post in this series: <a href=\"https://qmacro.org/2016/03/04/fiux2-the-opensap-fiori-course-2016-edition/\">“fiux2″ – The openSAP Fiori Course – 2016 Edition</a>.)</p>\n",
      "date_published": "2016-03-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/4/3/fiux2-the-opensap-fiori-course-2016-edition/",
      "url": "https://qmacro.org/blog/2016/4/3/fiux2-the-opensap-fiori-course-2016-edition/",
      "title": "&quot;fiux2&quot; - The openSAP Fiori Course - 2016 Edition",
      "content_html": "<p><em>Links to the rest of the series:</em></p>\n<p><a href=\"https://qmacro.org/2016/03/08/fiux2-week-2-design-your-first-sap-fiori-app/\">“fiux2″ Week 2 – Design Your First SAP Fiori App<br />\n</a><br />\n<a href=\"https://qmacro.org/2016/03/17/fiux2-week-3-get-ready-to-create-your-first-app/\">“fiux2″ Week 3 – Get Ready to Create Your First App<br />\n</a> <a href=\"https://qmacro.org/undefined/\">“fiux2″ Week 4 – Create Your First SAP Fiori App<br />\n</a> <a href=\"https://qmacro.org/2016/03/31/fiux2-week-5-enhance-an-sap-fiori-master-detail-app/\">“fiux2″ Week 5 – Enhance an SAP Fiori App<br />\n</a> <a href=\"https://qmacro.org/2016/04/05/fiux2-week-6-extend-sap-fiori-apps/\">“fiux2″ Week 6 – Extend SAP Fiori Apps</a><br />\n<a href=\"https://qmacro.org/2016/04/10/fiux2-week-7-build-your-own-sap-fiori-app/\">“fiux2″ Week 7 – Build Your Own SAP Fiori App</a></p>\n<p>I’ve written about the <a href=\"http://open.sap.com/\">openSAP</a> Massive Open Online Courses (MOOC) system in the past. I’m a big fan, particularly for the way the folks run the ship. They are “open” in the best possible ways.</p>\n<p>Anyway, last week saw the start of the much anticipated 2016 Edition of the course “<a href=\"https://open.sap.com/courses/fiux2\">Build Your Own SAP Fiori App in the Cloud</a>“, aka “fiux2″. I’m enrolled and have just completed the first week, as many of my colleagues have too.</p>\n<p>I’m a great believer in learning and re-learning subjects, especially from different sources. Even if you feel you know a good chunk of a given topic, learning with new material, and from different angles, will give you not only knowledge reinforcement but also new nuggets which are therefore also more easily digestible. If only for this reason, I’d recommend this course to you. The time commitment isn’t unreasonable, there’s hands-on, and even a competition!</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-04-at-16.42.23.png\" alt=\"image\" /></p>\n<p>And in case you need a little bit more convincing, I thought it might be fun and perhaps useful to write a short post each week, describing what we learned. So here goes with Week 1.</p>\n<p><strong>Week 1 – Get to Know SAP Fiori UX</strong></p>\n<p>A gentle start to the content this week, with a balance of marketing (you knew it was going to come, best to get it over with in the first week) and a 30,000 feet view of the UX strategy. If you’ve followed the SAP Fiori UX revolution at all, it should all be fairly familiar to you. We also covered the SAP HANA Cloud Platform (HCP) and the key role it plays in the extension concept generally, and in particular for Fiori apps.</p>\n<p>Within the context of HCP and the cloud centric approach we looked at various tools that are available for different stages in the Fiori app journey, from discovery (Splash), through design (Build) to development (WebIDE). There was also mention of the Rapid Development Solution (RDS) available, and the wealth of documentation that was to be had.</p>\n<p>We looked at SAP Fiori in the cloud, with a specific focus on Fiori-as-a-Service (FaaS) and the HANA Cloud Portal, where you can build sites including Launchpad-specific landing pages.</p>\n<p>Finally the focus ended upon S/4HANA and how Fiori UX fits directly as the strategic way forward. Now I think it’s fair to say that the statement “SAP Fiori is the default user experience for S/4HANA”, but If I’m not mistaken, one of the lecturers gave the impression that it’s the <em>only</em> user experience. Yep, here, in Week 01 Unit 06:</p>\n<p><em>“We provide Fiori, and Fiori is the default user experience for S/4HANA. There’s no other user experience there.We’re not using SAP GUI, we’re barely using any other user experience like NetWeaver business client.”</em></p>\n<p>Now, that’s not quite true, is it? S/4HANA, architecturally, is still based upon an ABAP Stack system, which means the venerable R/3 architecture is still in play. Yes of course we have HANA underneath and Fiori on top, but in the middle we still have DISP+WORK and all the wonderful SAPGUI and ABAP goodness that we know and love. And while there are huge inroads made already in the new Simplified suite, there’s always SAPGUI.</p>\n<p>I’ll just put that down to the lecturer’s excitement and enthusiasm :-)</p>\n<p>Overall, it was worth the hour or three invested in watching the videos**. And the assignment at the end of this week was pretty straightforward, as long as you were prepared for translating marketing speak into specific questions.</p>\n<p>I’ll leave you with one thought, which we may well pick up in week 2. Here’s a screenshot, from one of the slides of an S/4HANA Fiori app:</p>\n<p><img src=\"https://qmacro.org/blog/img/2016/03/Screen-Shot-2016-03-04-at-16.29.35.png\" alt=\"image\" /></p>\n<p>In relation to the Fiori 2.0 designs, which are being introduced in week 2, there were some <a href=\"https://twitter.com/fredverheul/status/705489908769619968\">comments on Twitter</a> today about the perceived complexity of the newer apps. I think we’re already seeing complexity here, but I don’t think it’s necessarily the end of the world. Some things <strong>do</strong> require you to see more information. Not everything is as simple as approving a purchase requisition or booking leave.</p>\n<p>**I’d recommend the openSAP mobile app (available for <a href=\"https://play.google.com/store/apps/details?id=de.xikolo.opensap&amp;hl=en\">Android</a> and <a href=\"https://itunes.apple.com/us/app/opensap/id834570899?mt=8\">iOS</a>) which now works properly – i.e. it doesn’t immediately crash when you try to download content to watch offline.</p>\n<p></p>\n<p></p>\n",
      "date_published": "2016-03-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2016/31/1/building-blocks-of-language-structure-and-thought/",
      "url": "https://qmacro.org/blog/2016/31/1/building-blocks-of-language-structure-and-thought/",
      "title": "Building blocks of language, structure and thought",
      "content_html": "<p>As I travel on my path to perhaps what I deem as some sort of enlightenment, back in time via Clojure to one of the great ancestors of language, structure and computational thought (Lisp), I continue to come across a simple theme.</p>\n<p><strong>Building Blocks</strong></p>\n<p>That theme is the concept of basic building blocks with which vast cathedrals can be constructed. Those building blocks are, in Lisp terms at least, <code>car</code>, <code>cdr</code> and <code>cons</code>.</p>\n<p>One of my companions on this path is Daniel Higginbotham's <a href=\"http://www.amazon.co.uk/Clojure-Brave-True-Ultimate-Programmer/dp/1593275919/\">Clojure for the Brave and True</a>. In Part II, covering Language Fundamentals, Clojure's abstractions, or interfaces, are discussed. One of the Clojure philosophies is that the abstraction idea allows a simplified collection of functions that work across a range of different data structures. Abstracting action patterns from concrete implementations allows this to happen. This is nicely illustrated with a look the <code>first</code>, <code>rest</code> and <code>cons</code> functions from the sequence (or 'seq') abstraction.</p>\n<p>There's a close parallel between <code>first</code>, <code>rest</code> &amp; <code>cons</code> in Clojure and <code>car</code>, <code>cdr</code> &amp; <code>cons</code> in other Lisps such as Scheme. And there's an inherent and implicit beauty in a collection of constructs so simple yet collectively so powerful. You can read about the origins of the terms <a href=\"https://en.wikipedia.org/wiki/CAR_and_CDR\"><code>car</code> and <code>cdr</code> on the Wikipedia page</a>, which have a depth and a degree of venerability of their own. Essentially both sets of functions implement a linked list, which can be simply illustrated, as shown in the book and elsewhere, as a sequence of connected nodes, like this:</p>\n<pre><code>node1              node2              node3\n+--------------+   +--------------+   +--------------+\n| value | next |--&gt;| value | next |--&gt;| value | next |\n+--------------+   +--------------+   +--------------+\n    |                  |                  |\n    V                  V                  V\n  &quot;one&quot;              &quot;two&quot;              &quot;three&quot;\n</code></pre>\n<p><strong>Implementing a linked list</strong></p>\n<p>Daniel goes on to show how such a linked list of nodes like this, along with the three functions, can be simply implemented in, say, JavaScript. Given that these nodes could be represented like this in JavaScript:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">node3 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">\"three\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">next</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">}</span><br />node2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">\"two\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">next</span><span class=\"token operator\">:</span> node3 <span class=\"token punctuation\">}</span><br />node1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">\"one\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">next</span><span class=\"token operator\">:</span> node2 <span class=\"token punctuation\">}</span></code></pre>\n<p>then the <code>first</code>, <code>rest</code> and <code>cons</code> functions could be implemented as follows:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">first</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> n<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><br /><span class=\"token keyword\">function</span> <span class=\"token function\">rest</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> n<span class=\"token punctuation\">.</span>next<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><br /><span class=\"token keyword\">function</span> <span class=\"token function\">cons</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">newval<span class=\"token punctuation\">,</span> n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> newval<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">next</span><span class=\"token operator\">:</span> n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span></code></pre>\n<p>With those basic building blocks implemented, you can even build the next level, for example, he shows that map might be implemented thus:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">s<span class=\"token punctuation\">,</span> f</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span><br />  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">return</span> <span class=\"token function\">cons</span><span class=\"token punctuation\">(</span><span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token function\">first</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token function\">rest</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>To me, there's a beauty there that is twofold. It's implemented using the three core functions we've already seen, the core atoms, if you will. Moreover, there's a beauty in the recursion and the &quot;first and rest pattern&quot; I touched upon earlier in &quot;<a href=\"https://langramblog.wordpress.com/2015/10/19/a-meditation-on-reduction/\">A meditation on reduction</a>&quot;.</p>\n<p><strong>Using the building blocks</strong></p>\n<p>Let's look at another example of how those simple building blocks are put together to form something greater. This time, we'll take inspiration from a presentation by Marc Feeley: &quot;<a href=\"http://churchturing.org/y/90-min-scc.pdf\">The 90 minute Scheme to C compiler</a>&quot;. In a slide on tail calls and garbage collection, the sample code, in Scheme (a dialect of Lisp), is shown with a tail call recursion approach thus:</p>\n<pre class=\"language-scheme\"><code class=\"language-scheme\"><span class=\"token punctuation\">(</span><span class=\"token keyword\">define</span> f<br />  <span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> <span class=\"token punctuation\">(</span><span class=\"token lambda-parameter\">n x</span><span class=\"token punctuation\">)</span> <br />    <span class=\"token punctuation\">(</span><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">=</span> n <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <br />        <span class=\"token punctuation\">(</span><span class=\"token builtin\">car</span> x<span class=\"token punctuation\">)</span> <br />        <span class=\"token punctuation\">(</span><span class=\"token function\">f</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">-</span> n <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <br />           <span class=\"token punctuation\">(</span><span class=\"token builtin\">cons</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">cdr</span> x<span class=\"token punctuation\">)</span> <br />                 <span class=\"token punctuation\">(</span><span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">car</span> x<span class=\"token punctuation\">)</span> <br />                    <span class=\"token punctuation\">(</span><span class=\"token builtin\">cdr</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>If you stare long enough at this you'll realise two things: It really only uses the core functions <code>car</code> (<code>first</code>), <code>cdr</code> (<code>rest</code>) and <code>cons</code>. And it's a little generator for finding the Nth term of the Fibonacci sequence:</p>\n<pre class=\"language-scheme\"><code class=\"language-scheme\"><span class=\"token punctuation\">(</span><span class=\"token function\">f</span> <span class=\"token number\">20</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">cons</span> <span class=\"token number\">1</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">; => 10946</span></code></pre>\n<p>I love that even the example call uses <code>cons</code> to construct the second parameter.</p>\n<p>I read today, in &quot;<a href=\"https://medium.com/backchannel/farewell-marvin-minsky-1927-2016-54d4bce913d8\">Farewell, Marvin Minsky (1927–2016)</a>&quot; by Stephen Wolfram, how Marvin said that &quot;programming languages are the only ones that people are expected to learn to write before they can read&quot;. This is a great observation, and one that I'd like to think about a bit more. But before I do, I'd at least like to consider that studying the building blocks of language helps in reading, as well as writing.</p>\n",
      "date_published": "2016-01-31T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/23/11/impromptu-js-session-at-ukisug15/",
      "url": "https://qmacro.org/blog/2015/23/11/impromptu-js-session-at-ukisug15/",
      "title": "Impromptu JS session at UKISUG15",
      "content_html": "<p>We’re hearing a lot about Fiori at <a href=\"https://www.sapusers.org/connect/2015/\">#UKISUG15</a> this year, of course. Many of you (perhaps especially those reading this) realise that Fiori is built using the power of HTML5, and specifically with the <a href=\"https://sapui5.hana.ondemand.com/\">UI5</a> toolkit. This means, amongst other things, JavaScript.</p>\n<p>I was talking to my friend and colleague and fellow SAP Mentor <a href=\"https://twitter.com/boobboo\">Chris Kernaghan</a> on the evening of Day 1 about levelling up in JavaScript, and had planned to go through some JavaScript goodness with him during the conference. But then I thought it might be fun for others to come along too. So here’s the (rough) plan:</p>\n<p>– meet at the <a href=\"http://www.bluefinsolutions.com/\">Bluefin Solution</a> stand on the show floor on Tue 24 Nov (last day of #UKISUG15) at 1300 (should give you time to grab a bit of lunch first) if you’re interested in coming along (that’s TODAY, folks!)</p>\n<p>– we’ll find (or will have found) a room to use – probably Level 5 Hall 8b (the SAP Mentors Track room)</p>\n<p>– the session will be between 30 and 45 mins max</p>\n<p>This session will be for those already with some basic JavaScript skills, and / or those interested in using JavaScript to manipulate data inside an SAP Fiori app. Even if you have no JavaScript skills, you might find it interesting. And if you don’t, you can always just laugh at me.</p>\n<p>The session is titled “<strong>Programming in a more functional style in JavaScript</strong>” and we’ll go through handling and manipulating data from a running Fiori app. Handling and manipulating data like this is a common use case. Becoming more familiar with doing this will help you build your skills and confidence in the future normal of SAP frontend development. Learning to do this in a functional way will give you a basis to write more solid and reliable code.</p>\n<p>See you at the Bluefin stand at 1300 today!</p>\n",
      "date_published": "2015-11-23T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/3/11/speaking-at-sap-teched-emea-2015/",
      "url": "https://qmacro.org/blog/2015/3/11/speaking-at-sap-teched-emea-2015/",
      "title": "Speaking at SAP TechEd EMEA 2015",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2015/11/Screen-Shot-2015-11-03-at-09.36.37.png\" alt=\"image\" /></p>\n<p>I’m looking forward to a packed set of days next week in Barcelona, where <a href=\"https://qmacro.org/blog/2015/3/11/speaking-at-sap-teched-emea-2015/events.sap.com/teched-2015-emea/en/home\">SAP TechEd EMEA 2015</a> is taking place. It’s packed in many ways: so much to share, so much to learn, so many people to meet and re-meet, so many kilometres to walk in the convention centre, and so much coffee.</p>\n<p>I’m involved in a number of activities during the event. I’m co-presenting a number of hands-on sessions relating to SAP HANA Cloud Platform (HCP) and the SAP Web IDE, Fiori, and of course the fantastic UI5 toolkit. Here’s a quick summary (in my own words):</p>\n<p><a href=\"https://sessioncatalog.sapevents.com/go/agendabuilder.sessions/?l=112&amp;sid=26128&amp;locale=en_US\"><strong>UX260 Experience SAP Fiori on SAP HANA Cloud Platform</strong></a><br />\nSAP HANA Cloud Platform (HCP) is changing the Fiori landscape in so many ways, by offering features and services all the way from development, through connectivity &amp; deployment, to exposure to end users. This session gives you hands-on experience at the places where Fiori and HCP meet.</p>\n<p><a href=\"https://sessioncatalog.sapevents.com/go/agendabuilder.sessions/?l=112&amp;sid=26248&amp;locale=en_US\"><strong>UX261 Extend a Fiori App with SAP Web IDE based on beautiful Fiori Reference Apps</strong></a><br />\nThe key to the present and future success of Fiori in your organisation is the correct adoption of best practices, both from a general development perspective and also from an extension perspective (for standard SAP delivered Fiori apps). There’s a lot to get wrong, but a ton of help for you to get it right. This session shows you what and how.</p>\n<p><a href=\"https://sessioncatalog.sapevents.com/go/agendabuilder.sessions/?l=112&amp;sid=25640&amp;locale=en_US\"><strong>UX262 Building SAPUI5 Applications using SAP Web IDE</strong></a><br />\nThe SAP Web IDE is the cloud-based IDE that can. From a standing start not too long ago, it’s progressed into an impressive set of features, not least those involving the templating and plugin system. This (4hr) hands-on session, which is being given twice next week, covers these subjects and more in particular the rather exciting Runtime Adaptation (RTA) features of UI5. Oh yes!</p>\n<p>In addition to these hands-on sessions, I’m taking part in a couple of <a href=\"http://events.sap.com/teched/en/live\">SAP TechEd Live Studio</a> events – I’m interviewing one of my heroes on SAP Development Tools (and in particular those available on HCP), and taking part in a live panel discussion on developer engagement. Stay tuned!</p>\n<p></p>\n",
      "date_published": "2015-11-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/19/10/my-journey-to-clojure/",
      "url": "https://qmacro.org/blog/2015/19/10/my-journey-to-clojure/",
      "title": "My journey to Clojure",
      "content_html": "<p>I'm learning Clojure. Slowly, but hopefully surely. Clojure is a Lisp, which I like saying, because it makes me sound as though I know what I'm talking about and that my language experience is as old as the hills. Perhaps the only thing that is valid there is that I'm old. But anyway.</p>\n<p>Actually, one of the things about Clojure that appeals to me is that it is a Lisp. One of the books I remember buying when I was still in my early teens was <a href=\"http://people.csail.mit.edu/phw/Books/AITABLE.HTML\">Artificial Intelligence</a> by Patrick Henry Winston. I still have it, a second printing from 1979. While I didn't understand very much of it, I was somewhat mesmerised by the Lisp forms, written in all caps and with beautiful bracket symmetry. Lisp cropped up again for me a few years later, in the amazing book <a href=\"https://en.wikipedia.org/wiki/G%C3%B6del,_Escher,_Bach\">Gödel, Escher, Bach</a> by Douglas Hofstadter, and it was equally mesmerising.</p>\n<p>So when I finally discovered Clojure, I decided to delve beneath the shimmering surface that had heretofore had me transfixed, and experience the beauty from within.</p>\n<p>One of the recurring patterns emerging from what I read, even at that early stage, was that of &quot;head and tail&quot;. This is alternatively known as &quot;first and rest&quot;, or, going back to early Lisp origins, &quot;<a href=\"https://en.wikipedia.org/wiki/CAR_and_CDR\">CAR and CDR</a>&quot;. Given a sequence, the idea is that you can get hold of the first item, and everything but the first item (the rest), as two separate addressable entities. You do something with the first item, and then repeat the process where the sequence becomes what you had just before identified as the rest.</p>\n<p>There's something appealingly simple in this pattern, not just because it's something that we can all immediately understand, but also because there's an unspoken truth that is about the general approach of sequential data structures, and data structure processing in general. It can perhaps be summed up nicely in an epigram from <a href=\"https://en.wikipedia.org/wiki/Alan_Perlis\">Alan Perlis</a> thus:</p>\n<p>&quot;<em>It is better to have 100 functions operate on one data structure than 10 functions on 10 data structures.</em>&quot;</p>\n",
      "date_published": "2015-10-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/9/8/cookies/",
      "url": "https://qmacro.org/blog/2015/9/8/cookies/",
      "title": "Cookies",
      "content_html": "<p>This site uses cookies. If you don’t like that, or don’t understand that, then please: Get. Off. The. Web. If you can’t be bothered to check out how the web works, or can’t be bothered to look up the specifications, or if you don’t even know what an RFC is, and are nevertheless expecting one of those silly “this site uses cookies” messages, then please Do. Not. Proceed. Leave this website, and stop using the web entirely. Thank you.</p>\n",
      "date_published": "2015-08-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/2/8/the-origin-of-becoming-a-fundamental-enabler-for-fiori/",
      "url": "https://qmacro.org/blog/2015/2/8/the-origin-of-becoming-a-fundamental-enabler-for-fiori/",
      "title": "The origin of becoming a fundamental enabler for Fiori",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 30 by <a href=\"https://twitter.com/uxsamyen\">Sam Yen</a>, Chief Design Officer, SAP</strong></p>\n<p>Not too long ago, before Fiori was Fiori, SAP had tried several times to refresh the user experience.  I’m aware of over 20 different UI technologies that we have used since the release of R/3.  As mobility was sweeping into the enterprise, SAP adopted a native mobile development approach.  At the time, many believed that this was an opportunity to create modern experiences with modern UI technologies (primarily iOS at the time) and development environments to refresh the SAP User Experience.</p>\n<p>The first mobile apps showed promise, but as we started to roll out more and more, quality suffered.  The experience of some of the native apps were good, some bad.  We noticed a lot of creativity in building different ways to do the same things.  This came to a head when some of our large customers evaluated SAP’s mobile app portfolio as a whole and were not happy about this experience.</p>\n<p>Design consistency was one thing.  Also, we considered the full lifecycleof these apps. Currently, there are over a thousand permutations of android software and hardware configurations in the market today.  Even Apple now has several versions of screen sizes and resolutions to support from tablets, phones, and now watches.  Cost of development, support, and ownership pointed to a modern, but scalable approach.  We made a decision to go with a responsive HTML5 approach.</p>\n<p>Luckily, SAP had been developing HTML5 controls at that time.  As with other HTML5 libraries at the time, UI5 was separated between the desktop controls and the mobile controls.  We took the decision to combine the best of what we had and create a responsive UI5 control set for Fiori.</p>\n<p>I may have understated the part about our customers being unhappy about the user experience.  It was escalated to the highest levels and we were under tremendous pressure to demonstrate to customers that this new concept would fly – quickly.  We had 6 days, 144 hours to be exact, to demonstrate to internal stakeholders the both the desirability and feasibility of our approach.  I’ll never forget Stefan Beck and the UI5 team walking down the halls of Walldorf to our war room saying that, “the UI5 team will support you.”</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/section1-1-300x197.png\" alt=\"\" /></p>\n<p>That was the beginning.  Since then UI5 and the team behind the technology have expanded much beyond a mere set of controls.  The team has helped to develop a programming model that is open and designed to scale for the enterprise.  It is part of growing set of tools to make UI development both efficient and scalable both for SAP and the industry.</p>\n<p>Looking forward we’ll start to augment our responsive design approach to also leverage native, on-device capabilities.  Analytics will become more of an area of focus.  I have said many times that I feel my role as Chief Design Officer is to change the perception of SAP’s user experience. Fiori has done much for SAP to start that perception change, but I am acutely aware that we are only just beginning on our journey.  I also feel that SAP’s journey is also the same journey that the entire IT industry will need to follow to bring great experiences to our users.</p>\n",
      "date_published": "2015-08-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/1/8/revisiting-the-xml-model/",
      "url": "https://qmacro.org/blog/2015/1/8/revisiting-the-xml-model/",
      "title": "Revisiting the XML Model",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 29 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-08-01-at-11.56.50.png\" alt=\"\" /></p>\n<p>It’s been more than a couple of years since I first had a look at XML data in the context of UI5. In my “<a href=\"https://www.youtube.com/watch?v=wZUXz5f1CHI\">Re-presenting my site with SAPUI5</a>” video <a href=\"https://github.com/qmacro/sapui5bin/blob/master/blogui/resources/blogarchive.controller.js#L9-L10\">I used an XML Model to load the XML feed</a> of my weblog into a UI5 app (gosh, <a href=\"https://github.com/qmacro/sapui5bin/tree/master/blogui/resources\">JavaScript views</a>!).</p>\n<p>The XML Model mechanism proved very useful this week on a project, and I thought I’d re-examine some of its features. Everyone knows about the JSON and OData Model mechanisms; at least in my UI5 conversations, I don’t hear folks talk about the XML Model much. So I thought I’d give it some love here.</p>\n<p>The <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/sap.ui.model.xml.XMLModel.html\">API reference documentation for the XML Model</a> is a little dry. As Frank Zappa once said, “<em>The computer can’t tell you the emotional story. It can give you the exact mathematical design, but what’s missing is the eyebrows</em>“. We need to look elsewhere for the emotional story, for the eyebrows; and I think a nice place might be the <a href=\"https://openui5.hana.ondemand.com/test-resources/sap/ui/core/qunit/XMLModel.qunit.html\">QUnit tests for the XML Model</a>.</p>\n<p><strong>Learning from the QUnit sources</strong></p>\n<p>Let’s have a look at the source, and see what we can learn. There are actually a couple of QUnit test files; we’ll have a look at just one of them – <a href=\"https://github.com/SAP/openui5/blob/48324c5fd9ed365620bc49b32c4046aa76269bc7/src/sap.ui.core/test/sap/ui/core/qunit/XMLModel.qunit.html\">XMLModel.qunit.html</a>. We’ll just examine the setup and a couple of tests to see what we can find – what we can expect to be able to do with an XML Model. You can explore the rest of the QUnit test files on your own.</p>\n<p>At the start of XMLModel.qunit.html, <a href=\"https://github.com/SAP/openui5/blob/48324c5fd9ed365620bc49b32c4046aa76269bc7/src/sap.ui.core/test/sap/ui/core/qunit/XMLModel.qunit.html#L31-L46\">a couple of XML Models are instantiated with some test data</a> as follows:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> testdata <span class=\"token operator\">=</span> <span class=\"token string\">\"&lt;teamMembers>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;member firstName=\\\"Andreas\\\" lastName=\\\"Klark\\\">&lt;/member>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;member firstName=\\\"Peter\\\" lastName=\\\"Miller\\\">&lt;/member>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;member firstName=\\\"Gina\\\" lastName=\\\"Rush\\\">&lt;/member>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;member firstName=\\\"Steave\\\" lastName=\\\"Ander\\\">&lt;/member>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;member firstName=\\\"Michael\\\" lastName=\\\"Spring\\\">&lt;/member>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;member firstName=\\\"Marc\\\" lastName=\\\"Green\\\">&lt;/member>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;member firstName=\\\"Frank\\\" lastName=\\\"Wallace\\\">&lt;/member>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;/teamMembers>\"</span><span class=\"token punctuation\">;</span><br /><br /><span class=\"token keyword\">var</span> testdataChild <span class=\"token operator\">=</span> <span class=\"token string\">\"&lt;pets>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;pet type=\\\"ape\\\" age=\\\"1\\\">&lt;/pet>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;pet type=\\\"bird\\\" age=\\\"2\\\">&lt;/pet>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;pet type=\\\"cat\\\" age=\\\"3\\\">&lt;/pet>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;pet type=\\\"fish\\\" age=\\\"4\\\">&lt;/pet>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;pet type=\\\"dog\\\" age=\\\"5\\\">&lt;/pet>\"</span> <span class=\"token operator\">+</span><br />  <span class=\"token string\">\"&lt;/pets>\"</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>setXML and setData</strong></p>\n<p>The <a href=\"https://github.com/SAP/openui5/blob/48324c5fd9ed365620bc49b32c4046aa76269bc7/src/sap.ui.core/test/sap/ui/core/qunit/XMLModel.qunit.html#L48-L53\">XML data is added to the XML Models</a> with the setXML function:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">\t<span class=\"token keyword\">var</span> oModel <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">sap<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span>xml<span class=\"token punctuation\">.</span>XMLModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />\toModel<span class=\"token punctuation\">.</span><span class=\"token function\">setXML</span><span class=\"token punctuation\">(</span>testdata<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />\tsap<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span><span class=\"token function\">getCore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setModel</span><span class=\"token punctuation\">(</span>oModel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br />\t<span class=\"token keyword\">var</span> oModelChild <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">sap<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span>xml<span class=\"token punctuation\">.</span>XMLModel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />\toModelChild<span class=\"token punctuation\">.</span><span class=\"token function\">setXML</span><span class=\"token punctuation\">(</span>testdataChild<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>This is different to the setData function, which is also present on the JSON Model, with an equivalent semantic. Here in the XML Model, the <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/sap.ui.model.xml.XMLModel.html#setData\">setData</a> function would be expecting an <strong>XML encoded data object</strong>, not a literal string containing XML.</p>\n<p>As an example, if we have a variable containing some XML string like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">xmlstring <span class=\"token operator\">=</span> <span class=\"token string\">\"&lt;root>&lt;name>DJ&lt;/name>&lt;/root>\"</span></code></pre>\n<p>then we could either set it on an XML Model with setXML, like this:</p>\n<pre><code>m = new sap.ui.model.xml.XMLModel()\n=&gt; sap.ui.d…e.C.e…d.constructor {mEventRegistry: Object, mMessages: Object, id: &quot;id-1438428838337-6&quot;, oData: Object, bDestroyed: false…}\n\nm.setXML(xmlstring)\n=&gt; undefined\n\nm.getProperty(&quot;/name&quot;)\n=&gt; &quot;DJ&quot;\n</code></pre>\n<p>or with setData, creating an XML encoded data object, like this:</p>\n<pre><code>m = new sap.ui.model.xml.XMLModel()\n=&gt; sap.ui.d…e.C.e…d.constructor {mEventRegistry: Object, mMessages: Object, id: &quot;id-1438428927599-7&quot;, oData: Object, bDestroyed: false…}\n\nm.setData(new DOMParser().parseFromString(xmlstring, &quot;text/xml&quot;))\n=&gt; undefined\n\nm.getProperty(&quot;/name&quot;)\n=&gt; &quot;DJ&quot;\n</code></pre>\n<p><strong>A couple of tests</strong></p>\n<p>Then we’re off on the tests. There are <a href=\"https://github.com/SAP/openui5/blob/48324c5fd9ed365620bc49b32c4046aa76269bc7/src/sap.ui.core/test/sap/ui/core/qunit/XMLModel.qunit.html#L61-L71\">a couple of tests to check getProperty</a>, the first using a relative context binding:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">\t<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test model getProperty with context\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><br />\t\t<span class=\"token keyword\">var</span> oContext <span class=\"token operator\">=</span> oModel<span class=\"token punctuation\">.</span><span class=\"token function\">createBindingContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/member/6\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />\t\t<span class=\"token keyword\">var</span> value <span class=\"token operator\">=</span> oModel<span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"@lastName\"</span><span class=\"token punctuation\">,</span> oContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// relative path when using context</span><br />\t\t<span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Wallace\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"model value\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br /><br />\t<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test model getProperty\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><br />\t\t<span class=\"token keyword\">var</span> value <span class=\"token operator\">=</span> oModel<span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/member/6/@lastName\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />\t\t<span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Wallace\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"model value\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>What we can see here already is that we can access XML attribute values (“lastName” in this case) with the XPath @ accessor. As an aside, the use of the optional second oContext parameter in the getProperty call is something one doesn’t see very much, but is extremely useful.</p>\n<p><strong>Element content retrieval</strong></p>\n<p>The rest of the file contain a load of other tests, all useful reading material, from the rare-to-see <a href=\"https://github.com/SAP/openui5/blob/48324c5fd9ed365620bc49b32c4046aa76269bc7/src/sap.ui.core/test/sap/ui/core/qunit/XMLModel.qunit.html#L83\">use of the unbindProperty</a> function to <a href=\"https://github.com/SAP/openui5/blob/48324c5fd9ed365620bc49b32c4046aa76269bc7/src/sap.ui.core/test/sap/ui/core/qunit/XMLModel.qunit.html#L174-L195\">aggregation bindings that are comfortable to use</a>.</p>\n<p>One thing that we have to wait until <a href=\"https://github.com/SAP/openui5/blob/48324c5fd9ed365620bc49b32c4046aa76269bc7/src/sap.ui.core/test/sap/ui/core/qunit/XMLModel.qunit.html#L197-L211\">test 15</a> to see is the use of element content:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test XMLModel XML constructor\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><br /><br />  <span class=\"token keyword\">var</span> testModel <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">sap<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span>xml<span class=\"token punctuation\">.</span>XMLModel</span><span class=\"token punctuation\">(</span><br /><br />  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  testModel<span class=\"token punctuation\">.</span><span class=\"token function\">setXML</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;root>\"</span> <span class=\"token operator\">+</span><br />    <span class=\"token string\">\"&lt;foo>The quick brown fox jumps over the lazy dog.&lt;/foo>\"</span> <span class=\"token operator\">+</span><br />    <span class=\"token string\">\"&lt;bar>ABCDEFG&lt;/bar>\"</span> <span class=\"token operator\">+</span><br />    <span class=\"token string\">\"&lt;baz>52&lt;/baz>\"</span> <span class=\"token operator\">+</span><br />    <span class=\"token string\">\"&lt;/root>\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  <span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>testModel<span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/foo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"The quick brown fox jumps over the lazy dog.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  <span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>testModel<span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/bar\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ABCDEFG\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  <span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>testModel<span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/baz\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">52</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Until now we’ve only seen examples of XML where the data is stored in attributes. What about the more classic case of text nodes, like this example XML here?</p>\n<p>Well, as we can see, a simple call to getProperty will do what we want. If we’re XPath inclined, we could even add the text() specification like this:</p>\n<pre><code>testModel.getProperty(&quot;/bar/text()&quot;)\n=&gt; &quot;ABCDEFG&quot;\n</code></pre>\n<p>and still get what we expect.</p>\n<p><strong>Ending where we started</strong></p>\n<p>And of course, to round things off, we can always get back to an <strong>XML encoded data object</strong> with getObject, like this:</p>\n<pre><code>testModel.getObject(&quot;/bar&quot;)\n=&gt; &lt;bar&gt;ABCDEFG&lt;/bar&gt;\n</code></pre>\n<p>(that result is indeed an object), in a similar way to how we retrieve the whole object from the model:</p>\n<pre><code>testModel.getData()\n=&gt; #document\n   &lt;root&gt;\n    &lt;foo&gt;The quick brown fox jumps over the lazy dog.&lt;/foo&gt;\n    &lt;bar&gt;ABCDEFG&lt;/bar&gt;\n    &lt;baz&gt;52&lt;/baz&gt;\n  &lt;/root&gt;\n</code></pre>\n<p>The XML Model is a powerful ally, and the QUnit tests are a rich source of information about it. Spend a coffee break looking through the sources, you won’t be disappointed!</p>\n",
      "date_published": "2015-08-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/31/7/ui5-version-info/",
      "url": "https://qmacro.org/blog/2015/31/7/ui5-version-info/",
      "title": "UI5 Version Info",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 28 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-31-at-13.04.22-624x312.png\" alt=\"\" /></p>\n<p>Yesterday Peter Müßig from the UI5 team at SAP in Walldorf <a href=\"https://twitter.com/pmuessig/status/626649315235229696\">announced</a> the multi-version capability for SAPUI5.</p>\n<p>He also documented the details in a post on the SAP Community Network here: “<a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2015/07/30/multi-version-availability-of-sapui5\">Multi-Version availability of SAPUI5</a>“. Shortly after, the <a href=\"https://twitter.com/OpenUI5/status/626658243071315968\">announcement</a> was also made that this would also be available for OpenUI5.</p>\n<p>This is great news, and something that we’ve been waiting for now for a while. It makes perfect sense, and the ability to select a particular runtime version via a part of the bootstrap URL’s path info is very nice. It’s something I do locally on my workstation anyway, and I also have a ‘latest’ symbolic link that I ensure points to the latest copy of the runtime or SDK that I have locally.</p>\n<p>Along with the announcement came a link to a simple <a href=\"https://sapui5.hana.ondemand.com/versionoverview.html\">SAPUI5 Version Overview</a> page, built in UI5. It looks like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-31-at-13.11.42-624x330.png\" alt=\"\" /></p>\n<p>And if you look under the covers, you’ll see a single-file app, with a lot of custom CSS, some JavaScript view stuff going on, and the retrieval of a couple of JSON resources containing the <a href=\"https://sapui5.hana.ondemand.com/versionoverview.json\">version overview info</a> and the data from the <a href=\"https://sapui5.hana.ondemand.com/neo-app.json\">neo-app.json</a> file that is present in the HCP platform and which describes routes to destinations, which include the SAPUI5 runtime services, now available at different paths for different versions.</p>\n<p>You’ll also see some <a href=\"https://github.com/qmacro/ui5versioninfo/blob/master/versionoverview.html#L207-L263\">complex manipulation and merging of those two datasets</a>, and <a href=\"https://github.com/qmacro/ui5versioninfo/blob/master/versionoverview.html#L298-L308\">the mix of UI5 controls with raw HTML header elements</a>.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-31-at-13.22.44-169x300.png\" alt=\"\" /></p>\n<p>The result is an app that looks OK on the desktop but doesn’t look that well on a smartphone, as you can see above.</p>\n<p>So I spent some time on the train down from Manchester to London early this morning to see what I could do.</p>\n<p>I wanted to address a couple of things:</p>\n<ul>\n<li>have the smartphone as the target device, rebuilding the UI with an App control</li>\n<li>improve the binding, to a single data collection</li>\n</ul>\n<p>The UI part was straightforward. I used my MVC technique (see <a href=\"https://qmacro.org/2015/07/21/mvc-model-view-controller-minimum-viable-code/\">MVC – Model View Controller, Minimum Viable Code</a> from earlier in this series) to define a new View, declaratively in XML. I used an App control with a couple of Pages, and a simple controller for the view which handled all the view lifecycle and user-generated events, as well as being the container for the formatter functions.</p>\n<p>I also used some of my favourite JavaScript functions to bind together the disparate data into a nice cohesive single array of maps. I left the original data manipulation as it was, and then grabbed what it produced to make my array. I could then bind the List in UI to this single array, and then confer the right binding context to the second Page for a selected item from the array.</p>\n<p>I’ve created a small Github repo <a href=\"https://github.com/qmacro/ui5versioninfo\">ui5versioninfo</a> with the files. It contains a local snapshot of the two source JSON files (<a href=\"https://github.com/qmacro/ui5versioninfo/blob/master/neo-app.json\">neo-app.json</a> and <a href=\"https://github.com/qmacro/ui5versioninfo/blob/master/versionoverview.json\">versionoverview.json</a>), the original <a href=\"https://github.com/qmacro/ui5versioninfo/blob/master/versionoverview.html\">versionoverview.html</a> that produces the UI we saw earlier, and a new file, called <a href=\"https://github.com/qmacro/ui5versioninfo/blob/master/new.html?ts=2\">new.html</a>, which is my quick attempt addressing those things above.</p>\n<p>Here’s what the result looks like:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/versioninfo.gif\" alt=\"versioninfo\" /></p>\n<p>I’ve tried to use some UI5 design and control best practices, while <a href=\"https://github.com/qmacro/ui5versioninfo/blob/master/new.html?ts=2#L15-L92\">defining the UI in XML</a>. I’ve added some <a href=\"https://github.com/qmacro/ui5versioninfo/blob/master/new.html?ts=2#L191-L209\">functional programming style data merging</a> to take place after the original manipulation, and a <a href=\"https://github.com/qmacro/ui5versioninfo/blob/master/new.html?ts=2#L211-L259\">small controller</a> with the requisite functions for event handling and formatting.</p>\n<p>I took the screencast of the “finished” attempt on the tube from London Euston to Chiswick this morning, so it really was a rush job. But I think that it’s worth thinking about how we can improve this useful resource. How would you improve it?</p>\n<p></p>\n",
      "date_published": "2015-07-31T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/30/7/a-non-techie-pm-s-view-of-ui5/",
      "url": "https://qmacro.org/blog/2015/30/7/a-non-techie-pm-s-view-of-ui5/",
      "title": "A non-techie PM&#39;s view of UI5",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 27 by <a href=\"https://twitter.com/jongregs\">Jon Gregory</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/branches.png\" alt=\"\" /></p>\n<p>I’m mid-flight in my first UI5/Gateway project, working with a great team of developers who have all contributed to this <a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5 series</a>. As a non-techie Project Manager embarking on mobile development for the first time, I thought I’d share some of my experiences and tips.</p>\n<p><strong>This isn’t regular SAP configuration – this is mobile development.</strong></p>\n<p>My experience of SAP to date has been in software modules – EPM, BW, CRM, for example. It’s easy to think of a UI5/Gateway project in the same way because they’re SAP products, but putting the name to one side, the difference between enterprise software and mobile development is huge.</p>\n<p>This is obvious to those familiar with mobile development, but not so obvious to those new to this area. Prior to embarking on any UI5 project, get hold of case studies, project plans, artefacts, lessons learned and people that have delivered UI5 applications to get an understanding of how to set your project up for success. If you’re experience is largely in enterprise software projects, this is going to be very different :-)<strong>.</strong></p>\n<p><strong>Nail your branch &amp; review strategy early on</strong></p>\n<p>At the beginning of the project, work with your team to develop a branch &amp; review strategy. Agree a process for matching short-lived feature branches to tasks, for reviewing code prior to any merging, and also ensure that development branches are tidy and up to date – that is, delete any old branches, or branches that are no longer needed.</p>\n<p>A friend told me a story of a time when he was working in a fast moving and experienced frontend/toolkit development team. He’d had a scattering of branches lying around his local repo, and a Ukranian colleague, in a thick accent, speaking German, reprimanded him gently but firmly: “What are all these branches doing clogging up your workspace and your brain? Get rid of them!”.</p>\n<p><strong>Allow enough time for planning – agile doesn’t excuse poor process</strong></p>\n<p>I found it’s easy to run in to development with a bunch of user stories and little else. Although UI5 lends itself to agile development, there still needs to be adequate time allocated to planning sprints, and also fundamental architecture design, not only for the UI itself, but for the data design and integration. Factor this in to your plans from the very beginning and don’t budge – if anything should give as a result of time, cost or scope constraints, it mustn’t be the preparation that goes in to making sprints a success.</p>\n<p><strong>Embrace it</strong></p>\n<p>Working with UI5, I’ve discovered methods of project delivery that are entirely different from the standard Waterfall/ASAP approach so often adopted in enterprise software projects. I’ve also found it hugely rewarding to see an intuitive, easy to use application come to life and, more importantly, so has our customer (case study is in progress – more on that soon).</p>\n<p>So in summary, my advice is:</p>\n<ul>\n<li>Forget about normal SAP – walk in with an open mind</li>\n<li>Set out development processes with your team from day one</li>\n<li>Plan, plan, plan</li>\n<li>Enjoy it!</li>\n</ul>\n<p>I’d be really interested to hear about other experiences of managing or coordinating UI5/Gateway projects, and listen to any advice you may have.</p>\n",
      "date_published": "2015-07-30T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/29/7/ui5-looking-back-and-forward/",
      "url": "https://qmacro.org/blog/2015/29/7/ui5-looking-back-and-forward/",
      "title": "UI5 - looking back and forward",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 26 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-29-at-07.33.30-624x255.png\" alt=\"\" /></p>\n<p>It was in the spring of 2012 when I wrote this piece about the new kid on the block, SAPUI5:</p>\n<p><a href=\"http://www.bluefinsolutions.com/insights/blog/sap_ui_5_the_future_direction_of_sap_ui_development/\">SAPUI5 – The Future direction of SAP UI Development?</a></p>\n<p>The fledgling toolkit had been released at version 1.2 earlier that year, and while it had clearly been in gestation for a while inside SAP, it was still new and raw enough to make folks wonder what it was all about. More than the newness or the rawness was how it was different, how it changed the rules. And what made it even more interesting was the fact that while SAP had changed a lot of rules since the 80s, this time, it was SAP embracing common practices and growing standards outside its own development ecosphere. And that was a good thing.</p>\n<p>So SAPUI5 was not just a toolkit, it was more than that. It was arguably the poster child for how SAP was changing, changing to embrace, adopt and build upon open standards and protocols.</p>\n<p>Of course, that had been happening for a while, most notably, <a href=\"https://vimeo.com/36828893\">at least in my opinion</a>, by the introduction of the Internet Communication Manager (and corresponding user-space Internet Communication Framework) to the R/3 architecture, allowing SAP systems to speak HTTP <em>natively</em>. And there was OData, which SAP adopted as a REST-informed protocol and format for the next generation of business integration. It had been a long time coming; the journey from service-orientation to resource-orientation starting from the mid 2000’s — with posts like this: “<a href=\"http://scn.sap.com/people/dj.adams/blog/2004/06/24/forget-soap--build-real-web-services-with-the-icf\">Forget SOAP – Build Real Web Services with the ICF</a>” :-) — was long and arduous.</p>\n<p>So it was met by some with trepidation, wonder, cynicism even. But the rise and rise of UI5’s success has been undeniable. Success not only in becoming the engine powering the first SAP Fiori UX revolution, but also in the move towards a more open and outward facing development approaches.</p>\n<p>The UI5 teams of designers and developers themselves, in Walldorf and around the world, have open software and standards in their DNA. UI5 itself has been open sourced. The development standards and processes are, out of necessity, different. And we can see that first hand. Just look at the home of UI5 on the web – at <a href=\"https://github.com/SAP/openui5\">https://github.com/SAP/openui5</a>. Github!</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-29-at-07.18.18.png\" alt=\"\" /></p>\n<p>The development process is there for us to see, warts and all. The smallest changes are being done, in public. Look at the one authored 11 hours ago in this screenshot. It’s a <a href=\"https://github.com/SAP/openui5/commit/78d6ed4df73ef497241a36e30a67145596df2b35\">simple improvement for variable declaration</a> in the code for the Message Popover control in the sap.m library. It doesn’t matter what it is, what matters is that it’s open. For us all to see, scrutinise, and most importantly, learn from.</p>\n<p>UI5 powers SAP Fiori, the services of their cloud offerings (for example in the form of the Web IDE, written in UI5) and of course the S/4HANA business suite. It’s destined to become a part of <a href=\"http://www.bluefinsolutions.com/insights/dj-adams/august-2015/building-blocks-for-the-future-normal\">the future normal</a>. It’s a toolkit with a strong pedigree, a toolkit that is not perfect (I can’t think of any software that is) but a toolkit with passionate folks behind it. It’s gaining some adoption outside of the SAP ecosphere too, and in some cases is almost becoming part of the furniture – not the focus of energy, but the enabler of solutions. It Just Works(tm) and gets out of the way. That for me is a sign of growing maturity.</p>\n",
      "date_published": "2015-07-29T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/28/7/the-experimental-client-operation-mode/",
      "url": "https://qmacro.org/blog/2015/28/7/the-experimental-client-operation-mode/",
      "title": "The experimental Client operation mode",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 25 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-28-at-12.53.45-300x191.png\" alt=\"\" /></p>\n<p>A few months ago a preview release of 1.28 was made available. In <a href=\"http://openui5.tumblr.com/post/113243652527/new-openui5-preview-release-1-28\">the blog post that accompanied it</a>, a number of the new features were introduced. Without much fanfare, certainly without any cool looking screenshots, the experimental “Client” operation mode was announced for the OData Model mechanism.</p>\n<p><strong>OData Model – Server-side</strong></p>\n<p>The OData Model is special, in that it is <a href=\"https://openui5.hana.ondemand.com/#docs/guide/e1b625940c104b558e52f47afe5ddb4f.html\">classified</a> as a server-side model, unlike its client-side siblings such as the JSON Model or the XML Model (or the Resource Model, for that matter). This means that the data “home” is seen as the server, rather than the client (the browser). Consequently, any operations on that data, even read-only operations such as sorting and filtering, take place on the server. That means extra network calls. <a href=\"https://en.wikipedia.org/wiki/Fermat%27s_Last_Theorem#Fermat.27s_conjecture\">There are truly marvellous advantages also, which the margin [of this post] is too narrow to contain. </a></p>\n<p>There are circumstances, even when dealing with entity sets in OData services, where sorting and filtering could and should take place on the client, rather than on the server. To this end, 1.28 brought an initial experimental feature to the OData Model mechanism – the <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/sap.ui.model.odata.OperationMode.html\">OData Operation Mode</a>.</p>\n<p><strong>Operation Mode</strong></p>\n<p>The Operation Mode joins a small but important set of modes relating to the OData Model mechanism. By default, the Operation Mode is “Server”. But it can be set to “Client”, which causes all data to be loaded from the server and for subsequent sorting and filtering operations to be performed in the client, without further network calls. As the blog post mentions, this only really makes sense as long as there isn’t a ton of data.</p>\n<p>Note that the Operation Mode is related to the OData Model mechanism instantiation in that it is the <em>default</em> for that model instance. You actually specify the mode for a binding, as shown in the code snippet in the blog post:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">oTable<span class=\"token punctuation\">.</span><span class=\"token function\">bindRows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br />   <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/Product_Sales_for_1997\"</span><span class=\"token punctuation\">,</span><br />   <span class=\"token literal-property property\">parameters</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />      <span class=\"token literal-property property\">operationMode</span><span class=\"token operator\">:</span> sap<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>model<span class=\"token punctuation\">.</span>odata<span class=\"token punctuation\">.</span>OperationMode<span class=\"token punctuation\">.</span>Client<br />   <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>Experiment!</strong></p>\n<p>This experimental feature was crying out for … well, experimentation. So I threw together an MVC (<a href=\"https://qmacro.org/2015/07/21/mvc-model-view-controller-minimum-viable-code/\">model view controller, minimum viable code</a>) based app to test it out. Here’s the result:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/clientoperationmode.gif\" alt=\"client operation mode\" /></p>\n<p>Here we have a test app with a List, where the items aggregation is bound to the Categories entity set in the public Northwind OData service at <a href=\"http://services.odata.org/V2/Northwind/Northwind.svc/\">http://services.odata.org/V2/Northwind/Northwind.svc/</a>.</p>\n<p>Note that the Operation Mode is only available on <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/sap.ui.model.odata.v2.ODataModel.html#constructor\">the v2 version of the OData Model mechanism</a>, so that’s what I’m using here.</p>\n<p>Initially the binding to the List’s items aggregation is with the (default) value of “Server” for the Operation Mode. You can see the network calls that are made to ask the OData service to return the entities in a specific order (with the $orderby OData parameter) each time I hit the sort button, which is toggling between ascending and descending sorting of the category names.</p>\n<p>But then, in the console, I grab the List, and re-bind the items aggregation, to the same path (“/Categories”) but in “Client” Operation Mode. The result is that a new call is made to fetch the entities to satisfy that (new) binding, but further sorts are done entirely on the client – there are no more network calls made.</p>\n<p>I’d call that experiment a success, and I’m looking forward to developments in this area. Nice work, UI5 team!</p>\n",
      "date_published": "2015-07-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/27/7/an-introduction-to-sap-ui-define/",
      "url": "https://qmacro.org/blog/2015/27/7/an-introduction-to-sap-ui-define/",
      "title": "An introduction to sap.ui.define",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 24 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-27-at-11.04.02.png\" alt=\"\" /></p>\n<p>If you’ve followed <a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">this series</a> you’ll have come across the <a href=\"https://qmacro.org/2015/07/07/openui5-walkthrough/\">OpenUI5 Walkthrough</a>, a “a great multi-step walkthrough of many of the features and practices of UI5 development”.</p>\n<p>In Step 5 of the walkthrough, on “Controllers”, we’re introduced to something that looks unfamiliar. Especially to those who have written large numbers of controllers thus far, for example. The way the XML View’s Controller is defined is … different. Step 5 doesn’t say much specifically about how this works, but Step 6, on “Modules”, does.</p>\n<p>This is what the Controller source code looks like:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-27-at-10.13.53-624x433.png\" alt=\"\" /></p>\n<p>So what’s happening here?</p>\n<p>Well, what’s happening is that we’re seeing the beginning of a migration to an Asynchronous Module Definition (AMD) style mechanism. And the principle vehicle for this is a new function sap.ui.define, which was introduced to the world in 1.28 (1.27 internally).</p>\n<p>There’s already some API documentation for this experimental new way to define modules that you can read in the API reference guide for sap.ui.define itself. There you’ll see how there’s a transition planned away from synchronous, and towards asynchronous loading. You’ll see for example that the optional fourth parameter “bExport” of sap.ui.define is there to support that transition.</p>\n<p>While there’s plenty to read there, let’s just take a quick look at what it means for those like us at the UI5 coalface. We’ll take the code in the screenshot above as an example:</p>\n<p>Instead of calling something like this …</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">sap<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>mvc<span class=\"token punctuation\">.</span>Controller<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"your.name.here\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>  <br />  <span class=\"token comment\">// your controller logic here </span><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>… we can use the new more generic sap.ui.define to first of all declare dependencies and then define the factory function that becomes the controller, in this case. Let’s take a look at the code and examine it line by line:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-27-at-10.42.52-624x278.png\" alt=\"\" /></p>\n<p><strong>1-14</strong>: The call to sap.ui.define extends across all the lines here; and we can see that out of the four total possible parameters described in the API reference, only two are used: the optional list of dependencies (represented here by the array) and the factory function that has a single statement returning an extended controller.</p>\n<p><strong>2-3</strong>: These are the dependencies. We’re defining a Controller, so we’ll want to extend UI5’s core controller (in the same way that we often do, such as in the example earlier). For that, we have a dependency on sap.ui.core.mvc.Controller. We’re also using the Message Toast’s “show” function, so we declare a dependency on sap.m.MessageToast. Note that the dependencies are expressed as resource paths (with the .js suffix omitted of course).</p>\n<p><strong>4</strong>: The second parameter passed in the call to sap.ui.define is the factory, and we can see the function definition start here. Note that each dependency reference is given to this factory function, in the same order that they’re declared in the dependency list. By convention, the most significant part of the resource path name is used for the parameter name (for example “Controller” for sap.ui.more.mvc.Controller).</p>\n<p><strong>5</strong>: The call to “use strict” is not specifically a feature of the new module definition syntax, but it is significant in that there is growing focus on JavaScript syntax correctness and linting. For more on this, see another post in this series: “<a href=\"https://qmacro.org/2015/07/19/ui5-and-coding-standards/\">UI5 and Coding Standards</a>“.</p>\n<p><strong>7-12</strong>: The rest of the source code looks fairly familiar. There’s one exception though, and it’s a result of the dependency mechanism described earlier. The function has “Controller” and “MessageToast” available to it, and so we can and should use these to refer to the sap.ui.core.mvc.Controller and sap.m.MessageToast resources throughout. This is nice, and makes for slightly neater code too.</p>\n<p>It’s early days for the new define mechanism, and there’s clearly a journey ahead for those in the core UI5 team looking after fundamental module and dependency loading and management mechanisms. But even at this early stage, it’s worth paying attention to the direction UI5 is going in this regard, and start to experiment. I know I will be!</p>\n",
      "date_published": "2015-07-27T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/26/7/taming-the-resource-model-files/",
      "url": "https://qmacro.org/blog/2015/26/7/taming-the-resource-model-files/",
      "title": "Taming the Resource Model Files",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 23 by <a href=\"http://twitter.com/lxinspc\">Nathan Adams</a></strong></p>\n<p>UI5’s support for multiple-languages, out of the box (see the post “<a href=\"https://qmacro.org/2015/07/16/multi-language-support-out-of-the-box-ui5s-pedigree/\">Multi-language support out of the box – UI5’s pedigree</a>” in this series) is impressive and easy to use. Creating a message resource bundle in your Component.js file is straightforward, especially if picking up the user’s language preferences in the browser.</p>\n<p>What can be less straightforward though is organising these files into something manageable, for plenty of projects, your i18n file might be on the small side, but it’s pretty easy to build up a large file. An application I’m currently working on, which perhaps has only 50% of its views defined, already has just 100 definitions in the i18n file. (A quick look at the Fiori My Travel Expenses App v2 shows there are around 1000 lines, and about 500 definitions in the resource file and whilst reasonably well documented with comments – you may well be hunting for usage of a text).</p>\n<pre><code>#XBUT,20: Button that distributes (shares) the total amount evenly between all attendees\n\nDISTRIBUTE_EVENLY=Distribute Amounts Evenly\n\n#XBUT,20: add internal attendee button  \nADD_INTERNAL_ATTENDEE=Add Internal Attendee\n\n#XBUT,20: add external attendee button  \nADD_EXTERNAL_ATTENDEE=Add External Attendee\n\n#XFLD,20: FirstName – LastName in the right order, e.g. EN: Smith, John  \nATTENDEE_FULLNAME_ARTIFACT={1}, {0}\n\n#XTIT: title of Add Internal Attendees select dialog  \nINTERNAL_ATTENDEES_TIT=Add Internal Attendees\n\n#XTIT: title of Add External Attendees dialog  \nEXTERNAL_ATTENDEES_TIT=Add External Attendees\n</code></pre>\n<p><em>Example of a Fiori Resource Model file from ‘My Travel Expenses’</em></p>\n<p>Before we dive into the structure of the key value pairs of the file though, it’s worth thinking about if one file for all your texts makes sense. In the majority of cases, you really wouldn’t want to add further complexity by adding more files. in my experience though, there are some cases where creating additional resource files may be useful.</p>\n<ul>\n<li>You may have texts which are more prone to change, perhaps email / telephone contact details in messages; putting these into a separate file might make sense to de-risk the process of updating them when they need to change</li>\n<li>Common elements across a suite of applications</li>\n<li>Master data texts, if you have a lot of these, then consider separate files for them</li>\n<li>You may have texts, or elements of texts which don’t need translation, and you want to keep consistent across all languages (that email example above, you don’t want to update that in multiple language files every time)</li>\n<li>Lastly just like code – if it’s too long, break it up. Large app with 100’s if not 1000’s of terms? Split it up, maybe by view, or group of views.</li>\n</ul>\n<p>As we move on into the structure of these files, it might not seem to be important (you can always search for a term in your chosen IDE after all), but like all good coding practices, structure can be immensely helpful in the following regards</p>\n<ul>\n<li>Identifying gaps in language files becomes easier – so you don’t discover in the first round of translation that you had some texts hardcoded into your XML views</li>\n<li>Making changes to texts, when a change is requested becomes a lot easier</li>\n<li>When sending out for translation, identifying which text is which becomes easier</li>\n<li>Because the file can be more easily understood, then it becomes an easier artefact to distribute, potentially removing the need for conversion back and forth between spreadsheets</li>\n</ul>\n<p>How you choose to organise the language file is a matter of preference, however in my experience there are two key things I like to highlight and organise in the language file:</p>\n<ul>\n<li>Common terms</li>\n<li>Terms organised by View or Fragment / Control / Property</li>\n</ul>\n<p>I’ll define all the common terms at the beginning of my language file. My preference for all my keys, is to use a dot notation to specify them (as it lines up nicely with identification of components). So here’s an example</p>\n<pre><code>#Common Terms\ncommon.thing=Foo\ncommon.items=Items\ncommon.add=Add\n...\n</code></pre>\n<p>Thing is though, common terms feel like something I should have in my application; you want to make sure that when you call a thing, <code>Foo</code> it’s always a <code>Foo</code> and when it’s requested to change to <code>Bar</code> I can change the common term, and my job is done. In practice though, this never really works. Why? Well I might be able to define those common terms, but in the majority of cases I always need to fit them into a longer text, such as <code>Create a Foo</code> or <code>Delete Foos</code>.</p>\n<p>OK so maybe I can define some common texts, and do some clever pre-processing with Grunt to expand placeholders in my text, or do the same when I load the resource file</p>\n<pre><code>#Specifc Terms (pre-process)\nmaster.things.addThing=Add {common.thing}\nmaster.things.deleteThings=Delete {common.thing}s\n</code></pre>\n<pre><code>#Specific Terms (post-process)\nmaster.things.addThing=Add Foo\nmaster.things.deleteThings=Delete Foos\n</code></pre>\n<p>Nice? Well not really, it’s not a great practice to make longer texts out of shorter texts. Consider the need to correctly handle plurals or other modifications you might require. Let’s say we can have <code>Foos</code> but it’s not <code>Bars</code> but <code>Baren</code> then my nice easy change above isn’t going to work. Then other languages might not have the same syntactic structures, and I could finish up chasing my tail trying to get it right across all languages, or finishing up like those pre-recorded train announcements made up of single recorded chunks – they work, but just sound awful.</p>\n<p>There is one valid place for common terms, and you might therefore still want to define them in your main i18n file (or even a separate one you don’t load). That’s as a glossary to help those maintaining the file. Adding <code>common.thing=Foo</code> to the head of the file, even if never used will help those coming along after to understand how things are referred to. It’s a good UX practice, and fundamental to building a consistent experience.</p>\n<p>So most of my definitions though, will be very specific to a view or fragment, and therefore, I like to identify these, in this manner, with the application as an implied root. If I’m developing a Split App, which has for example the following views</p>\n<ul>\n<li>Tasks (Master)</li>\n<li>Services (Master)</li>\n<li>Rounds (Detail)</li>\n<li>Details (Fragment used in Rounds)</li>\n</ul>\n<p>then I’ll structure my language file, very specifically to reference the view, the control(s) in the view, and where appropriate the property. Which might result in something like.</p>\n<pre><code>#Master views\n#Tasks\nmaster.tasks.title=Maintenance Tasks\n#Services\nmaster.services.title=Active Services\nmaster.services.toolbar.button.add=Add Service\nmaster.services.toolbar.button.delete=Delete Services\n#Detail Views\n#Rounds\ndetail.rounds.title=Round Definition\ndetail.rounds.tabBar.tab.details=Details\ndetail.rounds.tabBar.tab.vehicles=Vehicles\n#Rounds / Vehicles fragment\ndetail.rounds.fragment.vehicles.column.title.service=Service\ndetail.rounds.fragment.vehicles.column.title.capacity=Capacity\n...\n</code></pre>\n<p>Admittedly this is quite a verbose approach, and it requires a little discipline to use, but the advantages are plain to see – I immediately get a sense of where a text might appear in the user interface, I also can get a sense of if anything is missing (for example I’d expect every view to have a <code>{view}.title</code> attribute.</p>\n<p>By taking a structured approach to the language file, it also makes it easier to set up controls with bindings to the language file, as there is no need to try and think of a name. It goes without saying that you should be building your xml views with bindings for texts from the very start of development – no one wants to go back and to add them all in at a later date (if you do, that’s precious velocity you’re wasting).</p>\n<p>Who thought such a straightforward flat structured concept could require so many considerations?</p>\n",
      "date_published": "2015-07-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/25/7/merging-lists-with-ui5/",
      "url": "https://qmacro.org/blog/2015/25/7/merging-lists-with-ui5/",
      "title": "Merging lists with UI5",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 22 by <a href=\"https://uk.linkedin.com/pub/christopher-choy/53/21/b71\">Chris Choy</a></strong></p>\n<p>Whilst recently developing a custom UI5 app with an SAP PI backend, I came across some useful mechanisms. My aim was to merge 2 sets of data from 2 service calls into an Object List Item.  Having already bound one set of data my XML View my initial thought was to perhaps use a formatter and pass in 2 arrays of objects and manipulate the data within the Formatter.js file. As you probably guessed, this simply didn’t work, I should mention that both service calls return data in a JSON format rather than standard OData. My next approach was to manipulate the 2 arrays in the View’s controller and merge them both into a new sorted array assigning it to the Component’s Model. One of the benefits of doing this is that you can define your own attribute names and data which is then globally accessible within the app.</p>\n<p>Using the code below you can specify a path to set your new data:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>oModel<span class=\"token punctuation\">.</span><span class=\"token function\">setProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/newPath\"</span><span class=\"token punctuation\">,</span> mergedArray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>One other related issue was the searching of specific object attributes within an array of objects. The context of this search was to allow a user to select an item from an Object List Item and load additional data in a new View. Having already passed the relevant parameters within my Router it was jQuery to the rescue. The jQuery.grep function allows you to perform wildcard search on an array of attributes without the need to manually loop through each element. By passing an array as an argument a test against a defined index is performed returning all the entries that satisfy the function as a new array.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> aResult <span class=\"token operator\">=</span> $<span class=\"token punctuation\">.</span><span class=\"token function\">grep</span><span class=\"token punctuation\">(</span>dataArray<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <br />  <span class=\"token keyword\">return</span> e<span class=\"token punctuation\">.</span>attributeName<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"searchAttribute\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>One last interesting mechanism used was the storing of hidden Custom Data objects within an XML View. Using the following:</p>\n<pre><code>xmlns:app=&quot;http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1&quot; \n\n&lt;ObjectListItem \n  title=”List” \n  app:key=&quot;{hiddenKey}&quot; /&gt;\n</code></pre>\n<p>you can access the Custom Data object using the data() method within the Controller of your View.</p>\n<p>For additional information checkout the following links <a href=\"http://api.jquery.com/jquery.grep/\">jQuery.grep</a> and <a href=\"http://help.sap.com/saphelp_uiaddon10/helpdata/en/91/f0c3ee6f4d1014b6dd926db0e91070/content.htm\">CustomData objects</a>.</p>\n<p></p>\n",
      "date_published": "2015-07-25T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/24/7/spreading-the-ui5-message/",
      "url": "https://qmacro.org/blog/2015/24/7/spreading-the-ui5-message/",
      "title": "Spreading the UI5 Message",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 21 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-24-at-14.17.50-300x273.png\" alt=\"Michael Graf at OSCON\" /></p>\n<p>Photo by Janina Blaesius</p>\n<p>If you’re reading this post, or this <a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">whole series</a>, it’s very likely that you already know something about UI5. Whether that’s coming from the SAP enterprise angle with the SAPUI5 flavour, or from the Open Source angle with the OpenUI5 flavour. But there are plenty of other souls out there that are still missing the UI5 salvation :-). And so I thought I’d briefly review the sorts of activities that have been happening over the last couple of years as far as evangelism, education, and advocacy are concerned.</p>\n<p>This is very timely, as this year’s OSCON has just finished in Portland, and a couple of UI5 team members <a href=\"http://twitter.com/blaesiusj\">Janina Blaesius</a> and <a href=\"http://twitter.com/michadelics\">Michael Graf</a> were there with a session on OpenUI5 : “<a href=\"http://www.oscon.com/open-source-2015/public/schedule/detail/44897\">No more web app headaches</a>“. Good work folks! OSCON is O’Reilly’s Open Source Convention, a venerable conference that I’ve been lucky enough to attend and speak at on and off since 2001. Last year, I co-presented <a href=\"https://qmacro.org/2014/07/22/openui5-tutorial-at-oscon-2014/\">a tutorial session on OpenUI5</a> at OSCON with <a href=\"http://twitter.com/akudev\">Andreas Kunz</a> and <a href=\"http://twitter.com/frdcbrg\">Frederic Berg</a> – two more heroes from the same UI5 team as Janina and Michael.</p>\n<p>Not only that, but the <a href=\"https://twitter.com/learnui5/status/616904925533085696\">great news</a> is that at the EU version of OSCON, taking place in Amsterdam in October this year, there’s another session “<a href=\"http://www.oscon.com/open-source-eu-2015/public/schedule/detail/44358\">Don’t Disconnect Me! The challenges of building offline-enabled web apps</a>” by another mighty UI5 team combo of <a href=\"http://twitter.com/learnui5\">Christiane Kurz</a> and <a href=\"https://twitter.com/matthiaso\">Matthias Oßwald</a>. Awesome!</p>\n<p>And even if you omit the usual suspect conferences such as SAP TechEd, there’s plenty more, far too much to list in this single post. But here’s a quick selection:</p>\n<p>FOSDEM : <a href=\"http://openui5.tumblr.com/post/109970790097/openui5-fosdem2015\">OpenUI5 at FOSDEM 2015</a></p>\n<p>Mastering SAP : <a href=\"https://qmacro.org/2015/02/16/speaking-at-mastering-sap-technologies/\">Speaking at Mastering SAP Technologies</a></p>\n<p>SAP Arch &amp; Dev : <a href=\"https://qmacro.org/2014/10/19/speaking-at-the-sap-architect-developer-summit/\">Speaking at the SAP Architect &amp; Developer Summit</a></p>\n<p>Fluent : <a href=\"http://openui5.tumblr.com/post/118284419852/openui5-at-fluent-conference-2015\">OpenUI5 at Fluent Conference 2015</a></p>\n<p>JSNext : <a href=\"http://openui5.tumblr.com/post/103713246852/openui5-jsnext-bulgaria\">OpenUI5 at JSNext Bulgaria</a></p>\n<p>DevoxxUK : <a href=\"http://openui5.tumblr.com/post/92525303842/devoxxuk-one-does-like-to-code\">DevoxxUK – One does like to code!</a></p>\n<p>SAP Inside Track : <a href=\"http://wiki.scn.sap.com/wiki/display/events/SAP+Inside+Track+Manchester+2013\">SAP Inside Track Manchester</a>, <a href=\"http://scn.sap.com/community/events/inside-track/blog/2014/05/02/sap-inside-track-sheffield--uk\">SAP Inside Track Sheffield – UK</a></p>\n<p>SAP CodeJam : <a href=\"http://scn.sap.com/community/events/codejam/blog/2014/08/15/sap-codejam-liverpool--openui5\">SAP CodeJam Liverpool – OpenUI5</a></p>\n<p>Bacon : <a href=\"http://openui5.tumblr.com/post/86396421637/openui5-bacon-conference\">OpenUI5 at BACON Conference</a></p>\n<p>In September there’s another <a href=\"http://wiki.scn.sap.com/wiki/display/events/SAP+Inside+Track+Sheffield+2015\">SAP Inside Track in Sheffield</a>, where there will be talks on UI5 of course (well, I’m going! ;-) and a whole second day dedicated to <a href=\"https://www.eventbrite.co.uk/e/sap-ui5-mentorhack-sheffield-tickets-17495880650\">learning and hacking with UI5</a>.</p>\n<p>I’m sure I’ve missed out some UI5 activities, so please let me know of others that have happened. And perhaps more importantly, let me know of any that are coming up, especially any that you’re planning, and I can add them here. Share &amp; enjoy!</p>\n<p></p>\n",
      "date_published": "2015-07-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/23/7/fragments-and-minimum-viable-code/",
      "url": "https://qmacro.org/blog/2015/23/7/fragments-and-minimum-viable-code/",
      "title": "Fragments and Minimum Viable Code",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 20 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p>In an earlier post in this series, <a href=\"https://qmacro.org/2015/07/21/mvc-model-view-controller-minimum-viable-code/\">MVC – Model View Controller, Minimum Viable Code</a>, I showed how you could write a single-file UI5 app but still embrace and use the concepts of Model View Controller, having separate controller definitions and declarative XML Views. I also mentioned you could use XML Fragments in this way too, and <a href=\"https://twitter.com/Qualiture/status/623467858652200960\">Robin van het Hof asked</a> if I could explain how. So here we go, thanks Robin!</p>\n<p>If we take the code from the previous post and run it, we end up with a UI that looks like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-21-at-17.33.38-624x420.png\" alt=\"\" /></p>\n<p>Let’s add some behaviour to the Button so that it instantiates and opens a Dialog control. We’ll define this Dialog control in an XML Fragment.</p>\n<p>In the same way that we defined the XML View, we’ll define the XML Fragment inside a script element, this time with a “ui5/xmlfragment” type, like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-21-at-17.43.19-624x277.png\" alt=\"\" /></p>\n<p>It’s a standard XML Fragment definition, and even though it only contains a single root control –the Dialog — I’m using the Fragment Definition wrapper explicitly anyway (as I think it’s good practice).</p>\n<p>When we press the Button, we want this Dialog to appear, like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-21-at-17.39.49-624x422.png\" alt=\"\" /></p>\n<p>So let’s rewrite the handler “onPress” which is attached to the Button’s press event, so it now looks like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-21-at-17.42.59-624x488.png\" alt=\"\" /></p>\n<p>This is a common pattern for fragments, so let’s examine the code line by line:</p>\n<p><strong>48</strong>: We’re going to be storing a reference to the Dialog fragment’s instance in a controller variable “_oDialogFragment” so we declare it explicitly, mostly to give those reading our code a clue as to our intentions.</p>\n<p><strong>51-56</strong>: Ensuring we only instantiate the Dialog once, we use the sap.ui.xmlfragment call, with the fragmentContent property, passing the content of the fragment script with jQuery’s help (remember, the name of the fragment script is “dialog”). Once instantiated we <a href=\"http://stackoverflow.com/a/24640317/384366\">add it as a dependent</a> to the current XML View.</p>\n<p><strong>57</strong>: At this stage we know we have a Dialog ready, so we just open it up.</p>\n<p><strong>60-62</strong>: The onClose function handles the press event of the “Close” Button in the Dialog’s buttons aggregation.</p>\n<p>And that’s pretty much it. Use script elements to embed XML Views and Fragments, and use sap.ui.xmlview and sap.ui.xmlfragment to instantiate them, with jQuery to grab the actual content.</p>\n",
      "date_published": "2015-07-23T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/22/7/a-short-ui5-debugging-journey/",
      "url": "https://qmacro.org/blog/2015/22/7/a-short-ui5-debugging-journey/",
      "title": "A Short UI5 Debugging Journey",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 19 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p>In an earlier post in this <a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">series</a>, entitled “<a href=\"https://qmacro.org/2015/07/18/the-ui5-support-tool-help-yourself/\">The UI5 Support Tool – Help Yourself!</a>“, we looked at the Support Tool, examining the information available in the Control Tree. In particular we looked at the Properties and Binding Infos tabs. While exploring the new UI5 1.30 features with the Explored app, I re-noticed a small addition to the Explored UI – a Button that allowed me to switch to full screen mode to view control samples.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/fullscreentoggle-624x349.gif\" alt=\"Fullscreen toggle example\" /></p>\n<p>I thought it would be fun to use the Support Tool and other debugging techniques to see what was exactly happening in the Explored app when we toggled that control.</p>\n<p><strong>Identifying the Button</strong></p>\n<p>First, we need to identify the Button control – by its ID. We can use a context menu feature of Chrome which will open up the Developer Tools: Right-click on the Button and select Inspect Element. This will show us the ID in the highlighted sections in the screenshot:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-20-at-09.13.22-624x329.png\" alt=\"\" /></p>\n<p>Here, the full ID highlighted is “__xmlview2–toggleFullScreenBtn-img”, as we right clicked on the image part of the Button. Go up a couple of levels in the HTML element hierarchy and you’ll see the button tag with an ID without the “-img” suffix. That’s what we want.</p>\n<p><strong>Stopping at the Press Event</strong></p>\n<p>We could at this stage <a href=\"http://mtg.wikia.com/wiki/Instant\">play an instant</a> and use sap.ui.getCore().byId to get a handle on the control with this ID. But instead let’s look at the Support Tool and how it can expose event breakpoints.</p>\n<p>Opening the Support Tool, and the Control Tree section within, we can search for the ID “__xmlview2–toggleFullScreenBtn”. When we find it, we can switch to the Breakpoints tab and set a breakpoint for the firePress function (as that is what will be happening when we press the Button – a “press” event will be fired):</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-20-at-09.18.35-624x220.png\" alt=\"\" /></p>\n<p>Now when we press the Button, we land inside Breakpoint.js:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-20-at-09.22.29-624x329.png\" alt=\"\" /></p>\n<p><strong>Finding the Event Handler</strong></p>\n<p>Now that we’re here, there’s plenty to explore, but let’s cut to the chase and look at the Button instance. In particular, we’ll look at an internal property “mEventRegistry” which is a map that holds the functions to be called when specific events are fired. Remember that this is an internal property, which we can’t use, or rely upon, when <em>building</em> apps (for more details on this, see the post “<a href=\"https://qmacro.org/2015/07/04/javascript-dos-and-donts-for-ui5/\">JavaScript Do’s and Don’ts in UI5</a>” in this series). But we’re not building, we’re debugging, so all bets are off.</p>\n<p>The ‘this’ here is the Button control instance, and so we can see that the “this.mEventRegistry” map has an entry for “press”:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mEventRegistry<br /><span class=\"token operator\">-</span><span class=\"token operator\">></span> Object <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">press</span><span class=\"token operator\">:</span> Array<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></code></pre>\n<p>Looking at this single entry in the array for the “press” event, we can see that the function handler is in a controller (surprise surprise):</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mEventRegistry<span class=\"token punctuation\">[</span><span class=\"token string\">\"press\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>fFunction<br /><span class=\"token operator\">-</span><span class=\"token operator\">></span> sap<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span><span class=\"token function\">onToggleFullScreen</span><span class=\"token punctuation\">(</span>oEvt<span class=\"token punctuation\">)</span></code></pre>\n<p>Unless you’re using an older version of Chrome, you should be able to click on the function name to bring you to the “onToggleFullScreen” function definition:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-20-at-09.29.55-624x222.png\" alt=\"\" /></p>\n<p>Nice!</p>\n<p><strong>Examining What Happens</strong></p>\n<p>We can now put a breakpoint on line 163 (which I had done already before taking the screenshot above) and hit continue, to be able to then step into what this function calls (the updateMode function) when the stack gets here. This is what the updateMode function looks like:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-20-at-09.34.58-624x237.png\" alt=\"\" /></p>\n<p>It sets the Split App’s <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/sap.m.SplitAppMode.html\">mode</a> to the appropriate value (the default of “ShowHideMode”, or “HideMode” for the full screen effect). It also modifies the containing <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/sap.m.Shell.html#getAppWidthLimited\">Shell</a> control’s appWidthLimited property so that a real full screen effect can be properly achieved.</p>\n<p>So that’s it! If you can become comfortable helping yourself with these tools, you’ll be a better UI5 developer.</p>\n<p></p>\n<p></p>\n",
      "date_published": "2015-07-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/21/7/mvc-model-view-controller-minimum-viable-code/",
      "url": "https://qmacro.org/blog/2015/21/7/mvc-model-view-controller-minimum-viable-code/",
      "title": "MVC - Model View Controller, Minimum Viable Code",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 18 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-19-at-18.58.14-1.png\" alt=\"View and controller screenshot\" /></p>\n<p>The solid Model View Controller implementation in UI5 forces the separation of concerns. The logical place for models, views and controllers are files, in (usually) separate folders. Views, with specific file extensions, in a folder that’s usually called “views”, and controllers, with specific file extensions, in a folder called “controllers”. And models elsewhere too.</p>\n<p>This means that if you’re wanting to try something out quickly, and it’s a little bit more than a Hello World construction, then you’re off creating files and folders from the start before you can properly start thinking about the actual app idea you want to explore.</p>\n<p>That is, unless you use a “Minimum Viable Code” technique. I like to think that it’s due to a combination of the three great virtues of a programmer (<a href=\"http://c2.com/cgi/wiki?LazinessImpatienceHubris\">laziness, impatience and hubris</a>) that led to this approach :-).</p>\n<p>Creating a folder structure and getting the right files in place does not go well with the “quickly” part of “try something out quickly”. Trying something out, for me, means ideally using just a single file. It’s fast, you can see everything in one place, and you’re not creating unnecessary clutter. But when I want to try something out also, I also want to ensure that the code I write is clean and separated. Which for me implies declarative views and fragments in XML.</p>\n<p>Luckily, for nearly all of the cases where I’ve wanted to try something out, I’ve found that this single file technique works well. I can have one or more views, and fragments, all declared in XML, and one or more controllers too. And within that space I can declare models too.</p>\n<p>Here’s how it works:</p>\n<ul>\n<li>I start out with a skeletal index.html with a UI5 bootstrap already there, and the HTML body element defined properly</li>\n<li>I add a simple triple (or <a href=\"http://www.beeradvocate.com/beer/style/58/\">tripel</a>)  of : view, corresponding controller, and what I call ‘startup code’</li>\n<li>I can then add controls to the view, functions to the controller, and off I go</li>\n<li>I use jQuery to identify the XML views and fragments, and construct the view instances in UI5 that way</li>\n</ul>\n<p>And here’s an example:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-19-at-18.09.27-725x1024.png\" alt=\"MVC code\" /></p>\n<p>Here’s a brief rundown of what you see:</p>\n<p><strong>9-16</strong>: This is the UI5 bootstrap, nothing unusual here</p>\n<p><strong>18-28</strong>: Here we have a script element that is of a made-up type “ui5/xmlview”. This could be pretty much anything, as long as the browser doesn’t try to process it. It’s a technique used in templating systems. This contains some XML, which as you can see is a small but perfectly formed view definition (which incidentally conforms to the <a href=\"https://qmacro.org/2015/07/19/ui5-and-coding-standards/\">UI5 Coding Standards explained in a previous post</a> in this series.</p>\n<p><strong>31-36</strong>: This is the local controller definition, which is referenced in the View’s controllerName attribute (in line 20). It has the onPress handler for the Button’s press event.</p>\n<p><strong>38-40</strong>: This is the startup code. It instantiates the XML View, getting the value for the viewContent property via jQuery from the script element we saw earlier, and then simply places that View in the body, via the “content” ID, as usual.</p>\n<p>And that’s pretty much it. You can add as many views as you want using the script element technique; I also use this technique for fragments too, and specify a made-up type of “ui5/xmlfragment” instead.</p>\n<p>It’s a great way to write simple one-file applications, especially for prototyping. I have written snippets to help me with this. I have been somewhat fickle when it comes to editors, so have left a trail of semi-finished snippet libraries for Sublime (<a href=\"https://github.com/qmacro/SublimeUI5\">SublimeUI5</a>) and Atom (<a href=\"https://github.com/qmacro/ui5-snippets\">ui5-snippets</a>), but have finally come full circle to my first love, vim. <a href=\"https://www.youtube.com/watch?v=nN1PYHa-YXQ\">Here’s a quick screencast</a> of using my snippets in vim (powered by <a href=\"https://github.com/SirVer/ultisnips\">UltiSnips</a>) to create a Minimum Viable Code MVC style app:</p>\n<iframe allowfullscreen=\"allowfullscreen\" frameborder=\"0\" height=\"315\" src=\"https://www.youtube.com/embed/nN1PYHa-YXQ\" width=\"560\"></iframe>\n",
      "date_published": "2015-07-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/20/7/ui5-and-fiori-the-story-of-open-and-free/",
      "url": "https://qmacro.org/blog/2015/20/7/ui5-and-fiori-the-story-of-open-and-free/",
      "title": "UI5 and Fiori - The Story of Open and Free",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 17 by <a href=\"https://twitter.com/applebyj\">John Appleby</a></strong></p>\n<p>DJ kindly asked me to write a blog for his 30 days of UI5 series to celebrate version 1.30 of UI5. My immediate reaction was what, me, what do I have to add to this subject?</p>\n<p>I then realized that I had a little part in the UI5 story thus far and folks might enjoy the story, and the update, of how Fiori became Freeori.</p>\n<p>It all started with a late night phone call with Den Howlett, where we discussed, as we sometimes do, the state of the SAP Union.</p>\n<p>We became engrossed in a conversation about the new Workday version that had just been released, with its responsive and modern user experience, and wondered how SAP could compete in UX quality. To that end, SAP had recently released Fiori but adoption was poor with just a handful of users navigating the complex licensing policy around it.</p>\n<p>At that time, it was necessary to pay for core SAP licenses, Gateway integration licenses and separate Fiori licenses. There were some pros to this – the paid nature of Fiori meant that Fiori was getting development dollars, but it wasn’t getting adoption. Without adoption of a modern user experience, SAP would be in trouble in the mid-term.</p>\n<p>From that conversation came a blog <a href=\"http://diginomica.com/2014/02/05/sap-fiori-freeori\">Should SAP Fiori be Freeori?</a> which framed the conversation in a way we believed SAP would understand. That was key to our argument – we believed that Fiori was the solution to renovating the SAP user experience and that charging for it would risk SAP’s long-term future.</p>\n<p><strong>What happened next?</strong></p>\n<p>Geoff Scott, CEO of ASUG chimed in with<a href=\"http://www.asugnews.com/article/time-for-a-ux-revolution-not-evolution\">Time for a UX Revolution, Not Evolution</a> and then Chris Kanaracus, that time at IDG, now working at ASUG, continued the discussion with <a href=\"http://www.pcworld.com/article/2143980/sap-users-rattle-sabers-over-charges-for-userfriendly-fiori-apps.html\">SAP users rattle sabers over charges for user-friendly Fiori apps</a> and did a fantastic job of rallying the user groups and getting great quotes from the ecosystem:</p>\n<p><em>&quot;DSAG’s position is clear. We say [Fiori] must be part of standard maintenance&quot;</em> – Andreas Oczko, DSAG Vice Chairman</p>\n<p><em>&quot;In a cloud world, you’d expect Fiori to be part of the upgrade cycle&quot;</em> – Ray Wang, Constellation Research</p>\n<p>Dennis then put the hammer in with <a href=\"http://diginomica.com/2014/04/15/sap-fiori-freeori-discussion-heats\">The SAP Fiori or Freeori discussion heats up</a>, comparing a potential $5-700m one time sale with Fiori to the risk of losing lucrative support revenues.</p>\n<p>I received a few back-channel messages about this, suggesting that things would move, and sure enough, SAP opened up the Fiori product to all customers at no charge. What incredible news.</p>\n<p><strong>What does this look like one year on?</strong></p>\n<p>The concern my colleagues at SAP had was that charging for Fiori ensured that there was attention to the development. However the reverse hasn’t caused an issue. On the contrary, Fiori has more investment and Sam Yen’s User eXperience group have gone from strength to strength.</p>\n<p>SAP S/4HANA has been released and Fiori is at the center of the user experience. The core UI5 and Fiori technologies have significant investments and with <a href=\"https://openui5.hana.ondemand.com/\">UI5 1.30</a> we see new functionality – just check out the <a href=\"https://openui5beta.hana.ondemand.com/#releasenotes.html\">release notes</a> to see the extent! They include a focus on performance improvements and new page styles.</p>\n<p>Personally, I’m incredibly proud of the individuals in the SAP ecosystem who have worked on this. The impact of renovating the SAP User eXperience shouldn’t be underestimated.</p>\n",
      "date_published": "2015-07-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/19/7/ui5-and-coding-standards/",
      "url": "https://qmacro.org/blog/2015/19/7/ui5-and-coding-standards/",
      "title": "UI5 and Coding Standards",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 16 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-19-at-07.09.23.png\" alt=\"Y-U-NO meme\" /></p>\n<p>At one end of the spectrum, coding standards can be regarded as <a href=\"https://jaxenter.com/power-ten-nasas-coding-commandments-114124.html\">essential</a>. At the other, they’re the subject of many a passionate debate, second perhaps only to the Vim vs Emacs <a href=\"https://en.wikipedia.org/wiki/Editor_war\">editor wars</a>.</p>\n<p>I’ll provide some caution by starting with one of my favourite quotes from Andrew Tanenbaum:</p>\n<p><em>“The nice thing about standards is that there are so many of them to choose from”.</em></p>\n<p><strong>Use of standards</strong></p>\n<p>As software projects scale up, coding standards make more and more sense. On a <a href=\"https://www.endomondo.com/users/1074038/workouts/555294655\">recent run</a>, I listened to the JavaScript Jabber podcast “<a href=\"http://devchat.tv/js-jabber/162-jsj-eslint-with-jamund-ferguson\">JSJ ESLint with Jamund Ferguson</a>“. There was a great discussion about ESLint, and it was interesting to see the different perspectives on imposed coding standards, from “it restricts my freedom of expression” to “it makes teams more efficient as they work more as one”. I think those two perspectives slot roughly onto the scale spectrum. If it’s just you developing, then by all means use whatever style you feel like using. But if you’re part of a larger team whose members have to work with each other’s code, imposed coding standards do make a lot of sense.</p>\n<p>The OpenUI5 project has some coding <a href=\"https://github.com/SAP/openui5/blob/master/CONTRIBUTING.md#contribute-code\">contribution guidelines</a> as well as <a href=\"https://github.com/SAP/openui5/blob/master/.eslintrc\">ESLint rules</a>, well worth checking out, and pretty important if you want to contribute to UI5. It’s also worth considering them for your own UI5 applications. One advantage of adopting the OpenUI5 project’s guidelines and rules is that when you cross the path from your codebase into the underlying UI5 toolkit, the transition won’t be as jarring.</p>\n<p><strong>Example XML View</strong></p>\n<p>The ESLint rules, and ESLint in general would cause this post to be a lot longer than I want, so instead I’ll look at some non-JavaScript conventions that I like to try and impose, at least upon myself. In particular I’ll look at the style for XML View definitions. Here’s part a sample XML View, which I’ll use to illustrate the style for which I strive. Note that the “»” character represents a tab (I have the list mode turned on in my editor to <a href=\"http://vimcasts.org/episodes/show-invisibles/\">show invisibles</a>).</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-19-at-09.40.55.png\" alt=\"sample code\" /></p>\n<p>In the following, each prefix represents the line number(s) to which I’m referring.</p>\n<p><strong>1</strong>: The correct namespace for a <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/sap.ui.core.mvc.View.html\">View</a> is “sap.ui.core.mvc”, not “sap.ui.core” as you might have seen in older documentation and code examples.</p>\n<p><strong>2</strong>: The controllerName attribute should be the first attribute for the View element. If there is no controller then obviously this attribute won’t be present. It just makes it slightly quicker to look for the controller reference if it’s going to be consistently in the same place.</p>\n<p><strong>3-5</strong>: All the namespace declarations should be in a contiguous chunk. There are other attributes that might appear for a View element, that’s fine, as long as they’re not interspersed amongst the namespace declarations. Ensure any other attributes appear before the namespace declarations. Also, don’t specify a namespace declaration unless you’re going to use it. (In this example, I’m using all of them; you just can’t see the use of the “core” here as it’s on line 60, not in the screenshot).</p>\n<p><strong>5</strong>: The default XML namespace for any given XML View should be the one that is dominant in the file, or “sap.m”. If you’re building responsive UI5 apps, you’re going to need a good reason for “sap.m” <em>not</em> to be the dominant library. Also, it should be the last attribute in the View element, with a closing angle bracket directly following. (Unlike the use of other angle-bracket powered markup (such as HTML) in UI5, this is a rule that can be applied consistently. With the UI5 bootstrap in HTML, I like to have the closing angle bracket on a separate line, in the ‘prefix-comma’ style from ABAP and other code, so I can add further data attributes without causing diff confusion.)</p>\n<p><strong>1-5, 6-7, 11-13 etc</strong>: All attributes should appear on lines of their own, indented appropriately.</p>\n<p><strong>13</strong>: When closing an element directly (like this: <element> rather than this: <element>…</element>), a space should be used before the closing “/&gt;”.</element></p>\n<p><strong>8, 17, 22, 29, etc</strong>: All aggregation elements should be used explicitly. Don’t omit implicit default aggregations for controls; instead, specify them. In this example, I’m using a sap.m.Page control, with the “subHeader” and “content” aggregations. While the “subHeader” aggregation must be specified explicitly anyway, the “content” aggregation is default and doesn’t need to be, but I do anyway. The same goes for the sap.m.List control’s “items” aggregation.</p>\n<p><strong>18</strong>: Contrary to the rule about attributes being on their own separate lines, there’s an exception to this which is for the id attribute. If it exists, put it on the same line as the opening part of the control’s element.</p>\n<p><strong>25</strong>: Unless there’s a good reason not to, create the names for your event handler functions using an “on” prefix (like here: “onSelect”). This way they’re consistent with the builtin view lifecycle event functions such as “onInit”.</p>\n<p><strong>31-34</strong>: When writing complex embedded binding syntax, put each property of the map on a separate line, in the same way you’d write a map in JavaScript. Use spaces before and after the colons.</p>\n<p><strong>1-34</strong>: Use double quotes throughout; the only place you’ll then use single quotes is within embedded binding syntax. Also … I know this is the subject of much debate, but the OpenUI5’s project standard specifies tabs for indentation. It came as a shock to me at first, but I have now embraced it :-)</p>\n<p><strong>Conclusion</strong></p>\n<p>I have no doubt caused some outrage to some of you, but hopefully just as much agreement with others. For me, this sample XML View is easy to read, a lot easier than some of the Fiori views that are generated from templates, for example. What are your standards?</p>\n",
      "date_published": "2015-07-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/18/7/the-ui5-support-tool-help-yourself/",
      "url": "https://qmacro.org/blog/2015/18/7/the-ui5-support-tool-help-yourself/",
      "title": "The UI5 Support Tool - Help Yourself!",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 15 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screenshot-2015-07-18-at-12.12.33.png\" alt=\"part of the Support Tool Menu\" /></p>\n<p>Building anything but the most trivial native apps (that’s web native, of course) is not an easy ride. There are so many factors to get right. Debugging one of these apps can be just as tough.</p>\n<p>The UI5 toolkit supports many features that make building and debugging easier. One of these is the support for the separation of concerns in the form of Model-View-Controller (MVC) mechanisms. Another is the ability to use a declarative approach to define your views (no moving parts), in XML, HTML or JSON; furthermore, you can use the subview and fragment concepts to divide and conquer complexity and embrace reuse.</p>\n<p><strong>The Support Tool</strong></p>\n<p>The particular feature I wanted to talk briefly about in this post though is the Support Tool, alternatively known as “UI5 <a href=\"https://openui5.hana.ondemand.com/#docs/guide/6ec18e80b0ce47f290bc2645b0cc86e6.html\">Diagnostics</a>“, or even “the claw hand thing”. This last nickname comes from the fact that you invoke the support tool from a challenging key combination: Ctrl-Alt-Shift-S.</p>\n<p>There’s also the Support Tool’s little brother, invoked with Ctrl-Alt-Shift-P, which is a model popup giving you a summary of the runtime context, and giving you the chance to turn on some debugging information.</p>\n<p>You can see a shot of this here. (You can also turn on debugging via a URL query parameter <a href=\"https://openui5.hana.ondemand.com/#docs/guide/c9b0f8cca852443f9b8d3bf8ba5626ab.html\">sap-ui-debug=true</a>.)</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screenshot-2015-07-18-at-12.15.31.png\" alt=\"the Support Tool's little brother\" /></p>\n<p>Sometimes this is all you need, especially if you want to see the UI5 version in operation, or turn on debug sources.</p>\n<p>But the Support Tool is a super, multi-faceted mechanism which has proved invaluable over the years. It sports a large number of features, too many to cover here, so we’ll just have a brief look at one of them (arguably the most important) – the Control Tree:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screenshot-2015-07-18-at-12.23.12.png\" alt=\"the control tree\" /></p>\n<p>On the left hand side there’s a super useful display of the app’s control hierarchy. This alone is worth the cost (<a href=\"http://openui5.org/\">ahem</a>) of the Support Tool.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screenshot-2015-07-18-at-12.39.15.png\" alt=\"The Matrix\" /></p>\n<p>Imagine being able to peer into the internal structure of a building, or having <a href=\"https://en.wikipedia.org/wiki/X-Ray_Spex\">X-Ray Specs</a> and being able to see your skeleton, or sitting in front of a monitor in The Matrix and seeing the world behind the curtain. This is what you get with the Control Tree.</p>\n<p>UI5 apps can have complex UI structures. Fiori apps especially so. Controls within controls, <a href=\"http://www.azlyrics.com/lyrics/rush/naturalscience.html\">wheels within wheels in a spiral array, a pattern so grand and complex</a>.  With the Control Tree you can see and grok this structure very quickly. Note you can view at a glance what the control actually is, what it contains &amp; what contains it, and what its ID is.</p>\n<p>But that’s not all. On the right hand side, for a selected control (for example the Page control in the screenshot above), you can see all the properties of that control and from where in the control inheritance they come. You can modify the values for those properties and see the effect immediately, and even set breakpoints for each time the value for a particular property is read (G – get) or written (S – set).</p>\n<p>Select the Binding Infos tab and see what bindings exist. You can see information on what model a binding is from, what type of binding it is, and of course the binding path. Here we can see some of the binding info for the List control in an app:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screenshot-2015-07-18-at-12.50.26.png\" alt=\"binding info for List control\" /></p>\n<p>For you eagle-eyed readers, the model name here — “entity” — is the name of the domain model in this app example. Often the domain model is the unnamed model, but here it has a name. Can anyone guess what this (publically available) app is?</p>\n<p>There’s so much to discover with the Control Tree and the rest of the Support Tool, I recommend you hit Ctrl-Alt-Shift-S the next time you’re running a UI5 apps, and start exploring.</p>\n<p><strong>Finishing off</strong></p>\n<p>Let’s finish this post off with a quick piece of trivia and a tip. If you’ve had the Chrome Developer Tools open and then open the Support Tool, you’ll notice a ton of new messages in the console, and it’s a lot more verbose. This is because when the Support Tool starts up, it sends a message to the <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/jQuery.sap.log.html\">logger</a> to crank the logging output <a href=\"https://en.wikipedia.org/wiki/Up_to_eleven\">up to 11</a>.</p>\n<p>By default, the log level is set to 1 (“ERROR”). If you’re running the app with debugging on, that level is 4 (“DEBUG”). But opening the Support Tool causes this to be set to 6 (“ALL”). You can turn that down again with the jQuery.sap.log.setLevel function. Otherwise, LOG ALL THE THINGS!!1!</p>\n<p></p>\n",
      "date_published": "2015-07-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/17/7/speeding-up-your-ui5-app-with-a-component-preload-file/",
      "url": "https://qmacro.org/blog/2015/17/7/speeding-up-your-ui5-app-with-a-component-preload-file/",
      "title": "Speeding up your UI5 app with a Component preload file",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 14 by <a href=\"http://jmurray.me/\">John Murray</a></strong></p>\n<p>In this post we’ll be looking at how you can speed up the load times of your UI5 applications by using a Component preload file. Those of you who are familiar with SAP Fiori applications will probably already know what a Component preload file is, however those of you who aren’t will almost definitely have all seen a reference to this file before. This file is referenced in an error message that appears in the console whenever you load a UI5 app, which is lacking a Component preload file.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-14-at-20.54.47-624x31.png\" alt=\"Chrome preload error\" /></p>\n<p><strong>So just what is this preload file and why should I care?</strong></p>\n<p>The preload file is essentially all of the files which make up your application, so that’s the Component itself, Controllers, Views, Fragments and so on, all compressed and inserted into one file, the preload file. If this file exists then UI5 will only load that file, and it won’t load of all of the other various files which it ordinarily would have done. The error we saw earlier is caused because UI5 looks for a preload file early in the execution flow, but of course did not find one, and so carried on loading all of the files individually.</p>\n<p>Now that we’ve cleared up what the file actually is, and why that error appears, just why should exactly should we worry about it? After all we’ve ignored that error up until now and all our apps have worked just fine. Well, the reason we should care is that it dramatically decreases page load time. This is due to the app only having to make one call to get the preload file, rather than all of the individual calls for each file, but also because in the preload file the code is “minified”, which means the file size is also very small relative to the full size individual files. This is especially important when developing UI5 applications which are to be used over a mobile data connection, where size has a very large impact on initial load performance. As an anecdotal example, on the simple UI5 app which I have just created a preload file for my initial load time went from 8-9 seconds down to 3-4 seconds, which is tremendous improvement!</p>\n<p><strong>Sounds great! So how can I make a preload file for my UI5 app?</strong></p>\n<p>For this next section you will need to have installed on your machine <a href=\"https://nodejs.org/\">NodeJS</a>, <a href=\"https://www.npmjs.com/\">npm</a> and <a href=\"http://gruntjs.com/\">Grunt</a>. If you don’t know how to install and use these things then do <a href=\"http://twitter.com/johnbmurray\">reach out to me on Twitter</a>.</p>\n<p>After you have all of the above installed, you’ll need to create a <code>package.json</code> file in your UI5 app’s root directory. Open the file up and paste in the contents below and don’t forget to edit them accordingly:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span><br />  <span class=\"token string-property property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"barcode-test\"</span><span class=\"token punctuation\">,</span><br />  <span class=\"token string-property property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.0.1\"</span><span class=\"token punctuation\">,</span><br />  <span class=\"token string-property property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span><br />  <span class=\"token string-property property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index.html\"</span><span class=\"token punctuation\">,</span><br />  <span class=\"token string-property property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"John Murray\"</span><span class=\"token punctuation\">,</span><br />  <span class=\"token string-property property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Apache License, Version 2.0\"</span><span class=\"token punctuation\">,</span><br />  <span class=\"token string-property property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token string-property property\">\"grunt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.4.5\"</span><br />  <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>After creating and saving this file, install the <a href=\"https://github.com/SAP/grunt-openui5\">Grunt OpenUI5 tools</a> which are made by the UI5 team at SAP. To install these tools open a terminal session in your UI5 root directory and run this command ‘npm install grunt-openui5 –save-dev’. This will download and install the tools, and also add them to the “devDependencies” section of your ‘package.json’ file.</p>\n<p>Next, again in the UI5 app root directory, create a file called ‘Gruntfile.js’. Into this file copy and paste the contents below, and we’ll go through what it all means in a moment.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">grunt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br /><br />  <span class=\"token comment\">// Project configuration.</span><br />  grunt<span class=\"token punctuation\">.</span><span class=\"token function\">initConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br />    <span class=\"token literal-property property\">pkg</span><span class=\"token operator\">:</span> grunt<span class=\"token punctuation\">.</span>file<span class=\"token punctuation\">.</span><span class=\"token function\">readJSON</span><span class=\"token punctuation\">(</span><span class=\"token string\">'package.json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br />    <span class=\"token literal-property property\">openui5_preload</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />      <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />        <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />          <span class=\"token literal-property property\">resources</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br />            <span class=\"token literal-property property\">cwd</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span><br />            <span class=\"token literal-property property\">prefix</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span><br />            <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><br />              <span class=\"token string\">'webapp/**/*.js'</span><span class=\"token punctuation\">,</span><br />              <span class=\"token string\">'webapp/**/*.fragment.html'</span><span class=\"token punctuation\">,</span><br />              <span class=\"token string\">'webapp/**/*.fragment.json'</span><span class=\"token punctuation\">,</span><br />              <span class=\"token string\">'webapp/**/*.fragment.xml'</span><span class=\"token punctuation\">,</span><br />              <span class=\"token string\">'webapp/**/*.view.html'</span><span class=\"token punctuation\">,</span><br />              <span class=\"token string\">'webapp/**/*.view.json'</span><span class=\"token punctuation\">,</span><br />              <span class=\"token string\">'webapp/**/*.view.xml'</span><span class=\"token punctuation\">,</span><br />              <span class=\"token string\">'webapp/**/*.properties'</span><br />            <span class=\"token punctuation\">]</span><br />          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />          <span class=\"token literal-property property\">dest</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span><br />          <span class=\"token literal-property property\">compress</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><br />        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br />        <span class=\"token literal-property property\">components</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><br />      <span class=\"token punctuation\">}</span><br />    <span class=\"token punctuation\">}</span><br />  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br />  grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-openui5'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>This is quite a simple example but it will suffice in most use cases. What we are doing here first of all is reading in the ‘package.json’ file created earlier which provides the dependency list. Then we are setting the configuration options for ‘openui5_preload’ which is the specific tool we are going to be using from the OpenUI5 toolset.</p>\n<ul>\n<li>The ‘cwd’ parameter allows you to provide a base directory for finding the files and the ‘prefix’ parameter lets you prefix all files with a path of your choosing; in this instance we are not using either of these parameters so we are leaving them blank.</li>\n<li>The ‘src’ parameter lets you provide an array of paths, which it will use to try and match files in your directory and then for those matches it will minify and add them to the preload. I have all of my UI5 application files within a subdirectory called ‘webapp’ which is why my paths all begin with ‘webapp’. I have all my UI5 files located in this directory because I can then keep all of my other files and folders such as ‘node_modules’, PhoneGap config files, IDE folders, etc back in the root directory. I do this because it allows me to use this simple “get everything” approach you see above in the ‘src’ without worrying about accidentally including non-UI5 app files.</li>\n<li>The ‘dest’ parameter specifies the path to the destination you wish to save the preload file. In this case we just want to save it in the same place as the <code>Component.js</code> file and therefore can leave it blank.</li>\n<li>The ‘compress’ parameter sets whether or not you wish to minify the files as well as add them to the preload file. I would personally recommend always setting this to ‘true’ unless you have a good reason not to.</li>\n<li>The ‘components’ parameter here with a value of ‘true’ sets the tool to automatically find all components and create a preload for each.</li>\n</ul>\n<p>Finally, we load the ‘grunt-openui5′ toolkit from the plugin as previously installed and specified in ‘package.json’.</p>\n<p><em>For the full documentation and parameter list I’d recommend looking at the <a href=\"https://github.com/SAP/grunt-openui5\">Grunt OpenUI5 tools</a> GitHub page.</em></p>\n<p>That’s all the configuration set up, now it’s time to generate our preload file! Fire up a terminal session in the same directory as your ‘Gruntfile.js’ and run the following command ‘grunt openui5_preload’ and you should see the following output along with a ‘Component-preload.js’ file alongside your ‘Component.js’ file.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-15-at-00.48.10-624x88.png\" alt=\"preload generation output\" /></p>\n<p><strong>Final thoughts</strong></p>\n<p>Congratulations, you’ve just made your first preload file and are now well on the way to creating even better apps with UI5!</p>\n",
      "date_published": "2015-07-17T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/16/7/multi-language-support-out-of-the-box-ui5-s-pedigree/",
      "url": "https://qmacro.org/blog/2015/16/7/multi-language-support-out-of-the-box-ui5-s-pedigree/",
      "title": "Multi language support out of the box - UI5&#39;s pedigree",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 13 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-14-at-18.10.05-624x415.png\" alt=\"Message Page control\" /></p>\n<p>I was browsing through the controls that were new with 1.28, using the OpenUI5 SDK’s Explored app’s filter-by-release feature, and came across the <a href=\"https://openui5.hana.ondemand.com/explored.html#/entity/sap.m.MessagePage/samples\">Message Page</a> control.</p>\n<p>What caught my eye was the text on the control. When you think about it, there aren’t that many controls that have default text on them.</p>\n<p>Looking into how this would work in other locales (this control as you see it would only make immediate sense in English-speaking countries), and how the text was specified, led me down a path that ended up at a place that reminded me of OpenUI5’s pedigree. Born inside of SAP, the enterprise scale thinking permeates throughout the toolkit, and is very visible in this context.</p>\n<p>In <a href=\"https://github.com/SAP/openui5/blob/831caa234d1f4813e201ddf91722835e7760ec95/src/sap.m/src/sap/m/MessagePage.js#L105-L116\">the init function of MessagePage.js</a> you can see that the control’s text property is being set to the value of the MESSAGE_PAGE_TEXT property in the message resource bundle:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-14-at-18.29.21-624x175.png\" alt=\"init function source code\" /></p>\n<p>This <a href=\"https://github.com/SAP/openui5/blob/2b3e49d661b285449f08d26d6a35440c59f7c8f4/src/sap.m/src/sap/m/messagebundle.properties#L552\">MESSAGE_PAGE_TEXT property in the base resource file messagebundle.properties</a> has the value “No matching items found.”:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-14-at-18.38.56-624x64.png\" alt=\"looking for MESSAGE_PAGE_TEXT\" /></p>\n<p>Even if you know only a little about how resource models work, you may realise that there’s more to it than this. There are actually 39 different translated versions of this base resource representing many languages (more specifically locales) into which this control (and other controls) have been translated:<br />\n<img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-14-at-19.09.19-624x127.png\" alt=\"looking at languages\" /></p>\n<p>Let’s have a look at a few (with the second grep I’m omitting those that have Unicode encodings, because they’re hard to read):</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-14-at-19.13.36-624x109.png\" alt=\"looking at languages, reduced\" /></p>\n<p>And of course, not only does UI5’s pedigree extend to just translations, right-to-left (RTL) is also supported, out of the box.</p>\n<p>Let’s bring this post to a close with a couple of examples. Don’t forget you can explicitly specify the language or locale with a special query parameter “sap-language” in the URL.</p>\n<p>Here’s <a href=\"https://openui5.hana.ondemand.com/explored.html?sap-language=iw#/sample/sap.m.sample.MessagePage/preview\">Hebrew</a> (“iw”), with RTL kicking in automatically:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/iw3-624x358.png\" alt=\"RTL in Hebrew\" /></p>\n<p>And to finish, how about <a href=\"https://openui5.hana.ondemand.com/explored.html?sap-language=fi#/sample/sap.m.sample.MessagePage/preview\">another language</a>:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-14-at-19.32.50-300x192.png\" alt=\"Message page in Finnish\" /></p>\n<p>(See what I did there? :-)</p>\n<p></p>\n",
      "date_published": "2015-07-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/14/7/base-classes-in-ui5/",
      "url": "https://qmacro.org/blog/2015/14/7/base-classes-in-ui5/",
      "title": "Base Classes in UI5",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 12 by <a href=\"https://twitter.com/ThiloDev\">Thilo Seidel</a></strong></p>\n<p>Learning your way around UI5 can be hard sometimes. With the new tutorials and improved structure in the developer guide, help on the journey to UI5 mastery has got better over the last few months.</p>\n<p>But if you really want understand the UI5 magic in all its depth you might want to dig a little deeper. For my part I can truly recommend going back to the roots to have a look into the UI5 base classes. They are properly lined up like a string of pearls building upon each other and forming the high level architectural blueprint of the toolkit as a whole.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/baseclasses.png\" alt=\"baseclasses\" /></p>\n<p>All UI5 base classes come with a set of metadata, basically simple json that may hold additional information describing the instance. In addition this metadata has an underlying metadata implementation that provides helper functions, validation logic and some more convenience.</p>\n<p><strong>sap.ui.base.Object</strong></p>\n<p>This “instance plus metadata” concept is introduced already with sap.ui.base.Object, the first in line and mostly everything you want to instantiate in UI5 will be inheriting from it. Its children are mostly workers like classes taking care of parsing, or basic data carrying objects like the event implementation.</p>\n<p><strong>sap.ui.base.EventProvider</strong></p>\n<p>While Object is only setting the stage, sap.ui.base.EventProvider is the first to actually have capabilities to share. And you might have guessed it from the name already: the Event Provider introduces eventing in UI5. With functions to attach, detach and fire events, its toolkit is only small compared to what is still to come. Nevertheless, it is the starting point for most of the key features in UI5. Model, Binding, Router, at the heart they are all “just” Event Providers.</p>\n<p><strong>sap.ui.base.ManagedObject</strong></p>\n<p>Next in line is a heavyweight champion when you compare it with its predecessor: the sap.ui.base.ManagedObject. It is the herald for all instances that later will be rendered as it introduces properties, aggregations and associations in the metadata. It will never be rendered, but it sets the stage and extends the metadata implementation adding getters and setters for the fields that are introduced. Moreover it allows for data binding and might even have its own model. The most prominent example is the Component.</p>\n<p><strong>sap.ui.core.Element</strong></p>\n<p>The first base class that might have a place in the DOM is the sap.ui.core.Element. It has to be said that the Element itself has normally no renderer on its own and therefore is not to be placed standalone into the DOM. But it is the class you want to use in aggregations of your own controls with the list item as one of its best known subclasses. It is the one that completes the metadata implementation for base classes.</p>\n<p><strong>sap.ui.core.Control</strong></p>\n<p>Last up for this journey through UI5 architecture is the sap.ui.core.Control with children that are full blown UI elements. The last few thing that are still missing are introduced now. Besides direct DOM placement and the renderer it is basically picking up the last pieces with the busy-state and ability to handle browser events. And of course, every real UI-control has learned from Control.</p>\n<p><strong>sap.ui.core.Core</strong></p>\n<p>This post gives just the briefest of UI5 architecture overviews, covering only the bare essentials. There is much more to discover in that respect and I highly recommend you check out the entire package from GitHub and go exploring. There are definitely some gems hidden deep in the UI5 repository. Just one more for now, the sap.ui.core.Core, her majesty itself. And you might have guessed it, humble as she is, she downgraded herself recently and finally is nothing more than a (Base) Object.</p>\n",
      "date_published": "2015-07-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/13/7/handling-dates-with-the-date-picker/",
      "url": "https://qmacro.org/blog/2015/13/7/handling-dates-with-the-date-picker/",
      "title": "Handling Dates with the Date Picker",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 10 by <a href=\"https://twitter.com/jameshale14\">James Hale</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/30ui5-10-date-picker.jpg\" alt=\"Date Picker control\" /></p>\n<p>When creating applications, the experiences of the user should be one of the key considerations that drives build and development.  One aspect of this is the way that data is entered, saved and displayed to the user, which can drastically affect the usability of an application.</p>\n<p>For this short post, we’re going to take a look at the <a href=\"https://openui5.hana.ondemand.com/explored.html#/entity/sap.m.DatePicker/samples\">Date Picker</a>, which is an input control in the OpenUI5 library used for simple capture of dates from the user.  As we all know, dates can be somewhat of a nuisance to work with, especially when entering on small screens with particular formats.  This control aims to ease this with a calendar style view of dates to select from.</p>\n<p>It’s a simple, yet effective, little control that allows users to quickly select dates with a familiar and quick to use calendar style view.  The control is also configurable to display different date formats based upon the <code>displayFormat</code> property, which can be useful when screen real estate is at a premium.</p>\n<p>By using controls like the Date Picker with dedicated input mechanisms, we can all aim to make our applications easier to use within the day to day lives of users.</p>\n<p>For additional controls focussed around date and time input, take a look at the <a href=\"https://openui5.hana.ondemand.com/explored.html#/entity/sap.m.DateRangeSelection/samples\">Date Range</a> <a href=\"https://sapui5.hana.ondemand.com/sdk/explored.html#/entity/sap.m.DateRangeSelection/samples\">Selection</a> control when working with time periods, as well as the <a href=\"https://openui5.hana.ondemand.com/explored.html#/entity/sap.m.DateTimeInput/samples\">Date Time Input</a> when making forms that handle dates and times together.</p>\n",
      "date_published": "2015-07-13T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/12/7/bootstrapping-ui5-locally-and-in-the-cloud/",
      "url": "https://qmacro.org/blog/2015/12/7/bootstrapping-ui5-locally-and-in-the-cloud/",
      "title": "Bootstrapping UI5 Locally and in the Cloud",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 9 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-11-at-16.05.52.png\" alt=\"Screenshot of files in a UI5 app directory\" /></p>\n<p>Like many developers who find themselves building a lot with UI5, I find my working environment is mostly a local one, supplemented by activities in the cloud.</p>\n<p><strong>Local Environment</strong></p>\n<p>More precisely, while I often use the excellent <a href=\"http://scn.sap.com/docs/DOC-55465\">SAP Web IDE</a> – for training, generating starter projects and custom Fiori work, my main development workflow is based upon tools that are local to my workstation. In my particular case, that’s most often my MacBook Pro running OSX, but sometimes a Debian-based environment running in a chroot on my Chromebook, courtesy of the awesome <a href=\"https://github.com/dnschneid/crouton\">crouton</a> project. I use tools that work for me, that don’t get in the way of my flow, and at the bare essentials level, that means a decent editor (Vim or Atom), a local webserver (based on NodeJS), and a runtime platform that doubles as debugging, tracing and development (Chrome).</p>\n<p><strong>Cloud Environment</strong></p>\n<p>When I’m working in the cloud, specifically with the SAP Web IDE, the toolset is totally different. Not only that, but the bootstrapping of UI5 works slightly differently. In this short post, I wanted to explain what I do to flatten any speedbumps when transitioning between the two environments. The worst thing for me would be to have to alter my codebase slightly to take account of different runtime environments.</p>\n<p><strong>Different UI5 Versions</strong></p>\n<p>Locally, I maintain a variety of different UI5 versions, that I’ve picked up over the months and years. You never know when you’ll need to go back to a previous version, or even look through the complete history, to see how something has changed. This is what the contents my local ~/ui5/ folder look like:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-11-at-16.37.15-624x545.png\" alt=\"Screenshot of my ui5 directory\" /></p>\n<p>I use the NodeJS-based static_server.js  script to serve files from this folder, as well as another folder which contains my UI5 projects. From here, I can access different UI5 versions by changing the location that the UI5 bootstrap looks. (Note that while I can and do often access older versions, I pretty much always develop against the latest version, unless there’s a good reason not to … access to older versions is almost always for reference purposes.)</p>\n<p>Usually I specify “latest” in the URL, which refers to the symbolic link in the folder above, which (via the use of the small “setlatest” script) in turn points to whatever folder represents the latest unpacked zip:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-11-at-16.10.56-624x75.png\" alt=\"Screenshot showing relation of local URL and UI5 version\" /></p>\n<p>If I want to refer to an older version, I do so like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-11-at-16.11.11-624x75.png\" alt=\"Screenshot of another relation between local URL and UI5 version\" /></p>\n<p>The same approach with the URL path applies to the contents of the “src” attribute in the UI5 bootstrap:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-12-at-08.50.35.png\" alt=\"UI5 bootstrap with latest UI5 version\" /></p>\n<p><strong>Harmonising Local and Cloud Bootrapping</strong></p>\n<p>However, this doesn’t play well with the SAP Web IDE, at least not directly. So I’ve come up with an approach that minimises the fuss and disruption when taking a UI5 app repo that I’ve developed locally, and cloning it for use in the SAP Web IDE on the HANA Cloud Platform (HCP) environment, or vice versa.</p>\n<p>Let’s look at an almost empty UI5 project folder that I’ve created locally:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-11-at-16.22.18-624x191.png\" alt=\"app directory structure showing symbolic link for resources\" /></p>\n<p>In it, we have the index.html which contains a UI5 bootstrap that looks like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-12-at-08.50.49.png\" alt=\"UI5 bootstrap with relative reference to resources\" /></p>\n<p>The “src” attribute refers to a resources folder in the same location as the containing index.html. The value of this attribute (“resources/sap-ui-core.js”) is pretty much the de facto standard for “the location of the UI5 runtime”, so it’s sensible to change this only if you have a very good reason, if not only because you’re starting a battle that you might not want to see through.</p>\n<p>If you look at the folder listing above, you’ll see that this resources folder is actually a symbolic link to the resources folder in the “latest” UI5 version, as described earlier (yes, so we have a symbolic link following a symbolic link). So we’re bootstrapping whatever the latest version of UI5 is.</p>\n<p>We’re not interested in having this in our UI5 application repo (it would be of no use in most other contexts) so in our .gitignore file, we exclude it:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-11-at-16.23.26.png\" alt=\"contents of .gitignore\" /></p>\n<p>When we want to run the application in the HCP context, via SAP Web IDE, we use a mapping file that translates our bootstrap “src” attribute URL into a resource that is available globally on HCP. This mapping file is neo-app.json, and here, it contains this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-11-at-16.25.20.png\" alt=\"contents of neo-app.json\" /></p>\n<p>The path “resources” is mapped to the target “sapui5″ service at “/resources”. This means that the script element in our index.html can successfully resolve and bootstrap UI5 from the right place, with zero changes between my local environment and HCP.</p>\n<p>With my “resources” symbolic link in place, along with the neo-app.json mapping, I can enjoy a smooth transition between local and cloud based development when I’m working on UI5 development with the latest version. It’s a simple technique; get it in place, and you could be looking at some happy productivity gains, without loss of any reference to older UI5 versions locally.</p>\n",
      "date_published": "2015-07-12T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/11/7/user-notifications-with-the-message-popover/",
      "url": "https://qmacro.org/blog/2015/11/7/user-notifications-with-the-message-popover/",
      "title": "User Notifications with the Message Popover",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 8 by by <a href=\"http://twitter.com/saoirse_22\">Sean Campbell</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-09-at-21.12.19-300x298.png\" alt=\"A selection of brightly coloured messages\" /></p>\n<p>Giving an end user good feedback regarding their interaction with the application or the application’s interactions with the back end has always been a bit of a challenge in UI5. Until recently pretty much every developer had a different style of capturing and exposing messages, with many of us building our own message log solutions. This lost a level of the “Enterprise” uniformity that is often required for our applications.</p>\n<p>In recent releases however SAP and OpenUI5 have provided a very robust and uniformed way of exposing these messages.</p>\n<p>Now users can expect message to be shown in a clear and concise way, that is the same across all UI5 applications; no more are we hacking around arrays to provide our own message logs. From the bright colours to the simple click through to view a more detailed message, everything about this control has been aimed at the user who expects clear interactions, even Web Dynpro Java (WDJ) handled messages better than early UI5.</p>\n<p>In the example below I have mocked up a couple of Buttons that trigger the Popover in its two “States”. I tend to lean towards the full Popover as its easy to see a full list of the most recent messages. However I can see good use cases, in mobile apps for example, where the condensed popover would be best. As shown in Day 3 of this series, on <a href=\"https://qmacro.org/2015/07/06/semantic-pages/\">Semantic Pages</a>, the footer bar makes a nice place for the Button that controls the Popover.</p>\n<p><a class=\"jsbin-embed\" href=\"http://jsbin.com/somuxu/3/embed?html,js,output\">JS Bin on jsbin.com</a><script src=\"http://static.jsbin.com/js/embed.min.js?4.1.2\"></script></p>\n<p>This control still isn’t perfect and there are a number of improvements I could see being added over the next few iterations but it is certainly a dramatic leap in the right direction for UI5 and user interaction. The ability to easily delete messages would be nice along with a way to prevent duplication on error.</p>\n<p>A nice touch that can be done relatively simply is to alter the look and feel of the Button dependent upon the level of messages that have been posted. Those that have been following this series will have read DJ’s post on <a href=\"https://qmacro.org/2015/07/05/expression-binding/\">Expression Binding</a> from Day 2 of this series. This would be a great way to derive the icon in the Button, to be based upon the “Highest” status message. Doing this gives the user feedback without them even opening the Message Popover and to me giving a user feedback at the earliest possible time is always going to give them the best experience.</p>\n",
      "date_published": "2015-07-11T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/9/7/the-app-descriptor/",
      "url": "https://qmacro.org/blog/2015/9/7/the-app-descriptor/",
      "title": "The App Descriptor",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a>  — Day 6 by <a href=\"https://twitter.com/ThiloDev\">Thilo Seidel</a></strong></p>\n<p>Writing your component based applications in UI5 you might be familiar with a long list of settings in your metadata section making you scroll down for hours before reaching the point where the first violin plays. This is not only annoying but in fact bad design as it means to mix static configuration in large amounts with actual code.</p>\n<p>One way to solve this is the usage of a manifest file – one central asset that holds your entire application configuration. The UI5 creators have drawn inspiration from the W3C manifest for a web application concept that is currently under investigation and create an UI5 flavored version of it. The app descriptor in UI5 is basically a JSON file named manifest.json that is expected in the same folder your component lives in. All you need to do to get started is to add an attribute manifest with the value “json” to your component metadata.</p>\n<p>Introduced in 1.28 in a basic version, with upcoming 1.30 it is even smarter. Beyond static configuration for packaging and deployment it even helps to save you some code, especially when it comes to model instantiation. The manifest itself is structured in namespaces of which we want to briefly look into sap.app and sap.ui5 for this case. More details and examples can be found in the <a href=\"https://openui5beta.hana.ondemand.com/#docs/guide/be0cf40f61184b358b5faedaec98b2da.html\">1.30 documentation preview.</a></p>\n<p><strong>sap.app:</strong></p>\n<p>Mostly app specific attributes can be found here. You can also get set for your data model and resource bundle here. One property called ‘dataSources’ expects an object that holds the URL to your service, the service type and some additional settings if needed. A full blown service configuration would look like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/Screen-Shot-2015-07-07-at-19.51.14.png\" alt=\"Screenshot of an sap.app stanza\" /></p>\n<p>If you have more than one service you can simply add another object to this attribute. These can later be referenced by the given name. In addition we added the relative path to the i18n file here and will make use of this later as well.</p>\n<p><strong>sap.ui5:</strong></p>\n<p>This namespace is used for any configuration that can be used by the UI5 runtime directly. This counts for the routing configuration, but also for UI5 library dependencies and of course our case with the model instantiation.</p>\n<p>For i18n it is pretty straightforward and a named i18n resource model (named “i18n”) will be created by the UI5 runtime. For the actual data model(s) you can also specify a name or keep it blank for an unnamed data model like this. Just set the datasource specified earlier and UI5 will handle the rest. The created models will be at your command as early as in the init function of your component.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/Screen-Shot-2015-07-07-at-19.54.22.png\" alt=\"Screenshot of an sap.ui5 stanza\" /></p>\n<p>To conclude this is only a snapshot of one little feature that is built into the new UI5 manifest, but showcases pretty well how this new file will ease your development routines, help to clean up your components and limit repetitive lines of code.</p>\n",
      "date_published": "2015-07-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/7/7/openui5-walkthrough/",
      "url": "https://qmacro.org/blog/2015/7/7/openui5-walkthrough/",
      "title": "OpenUI5 Walkthrough",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a>  — Day 5 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/Screen-Shot-2015-07-04-at-11.03.14.png\" alt=\"A tile with a link to sap.m.Explored\" /><br />\nExplored, before its promotion.</p>\n<p>OpenUI5, like its twin sibling SAPUI5, has a great <a href=\"https://openui5.hana.ondemand.com/\">SDK</a>.</p>\n<p>The SDK contains plenty of example code snippets, especially in the Explored app. Up until version 1.20 the Explored app was “just another” app in the Demo Apps section, but after that it was (rightly) promoted to prominence at the top level of the SDK menu structure.</p>\n<p>The latest addition to Explored is a set of <a href=\"https://openui5beta.hana.ondemand.com/explored.html#/entity/sap.m.tutorial.walkthrough/samples\">code examples</a> that accompany a great multi-step <a href=\"https://openui5beta.hana.ondemand.com/#docs/guide/3da5f4be63264db99f2e5b04c5e853db.html\">walkthrough</a> of many of the features and practices of UI5 development. A number of things are changing in release 1.30, including the introduction of the application descriptor, and a new way of defining modules. This walkthrough covers these topics and many others too. It’s well worth a look.</p>\n<p>One thing that immediately caught my eye was when I selected the appropriate Explored sample that corresponded to Step 30 of the walkthrough, describing the <a href=\"https://openui5beta.hana.ondemand.com/#docs/guide/1ff250c2038849f5991209f7e6c36f1f.html\">Debugging Tools</a> : the excellent UI5 Diagnostics Tool popped up out of nowhere!</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/Screen-Shot-2015-07-04-at-11.11.43-300x112.png\" alt=\"UI5 Diagnostics Tool screenshot\" /></p>\n<p>(I’m a big fan of this tool; there’s so much information it offers, as a UI5 developer you can’t afford to ignore its help.)</p>\n<p>I was curious as to how this automatic opening of the tool had been achieved, and a quick look at the appropriate webapp/Component.js asset in the <a href=\"https://openui5beta.hana.ondemand.com/explored.html#/sample/sap.m.tutorial.walkthrough.30/code\">sample’s code section</a> gave me the answer:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">jQuery<span class=\"token punctuation\">.</span>sap<span class=\"token punctuation\">.</span><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sap.ui.core.support.Support\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <br /><span class=\"token keyword\">var</span> oSupport <span class=\"token operator\">=</span> sap<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>support<span class=\"token punctuation\">.</span>Support<span class=\"token punctuation\">.</span><span class=\"token function\">getStub</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"APPLICATION\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> oSupport<span class=\"token punctuation\">.</span><span class=\"token function\">openSupportTool</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Nice!</p>\n",
      "date_published": "2015-07-07T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/7/7/creating-native-applications-with-ui5/",
      "url": "https://qmacro.org/blog/2015/7/7/creating-native-applications-with-ui5/",
      "title": "Creating Native Applications with UI5",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> – Day 4 by <a href=\"http://jmurray.me/\">John Murray</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/download.jpeg\" alt=\"PhoneGap:Build logo\" /></p>\n<p>Whilst web apps are great, and suit the vast majority of situations perfectly, sometimes they just don’t quite cut the mustard. It is in these situations that we are presented with a difficult choice, do we take option A – Sacrifice the features which are specific to native applications for the sake of sticking with UI5 and the benefits that web apps bring? Or do we go with option B – Sacrifice UI5 and the web app benefits, instead going with native code, but then have access to all the features? Well, even in the not-so-distant past we would have to weigh up the pros and cons of each option and make our decision accordingly.</p>\n<p>More recently, we were provided with an option C – Use <a href=\"http://phonegap.com/\">PhoneGap</a> to make our application like a web app, using UI5 and an assortment of plugins to achieve our ends. However, this option was not without its own challenges and problems; you had to install libraries for all platforms you wished to build for, then structure everything in a rather precise manner, and to top it all off you then had to battle with the rather clunky command line interface. This did of course improve over time and after you had your setup and work flow down to a tee, but it was never smooth sailing. Thankfully though, we now have an option D!</p>\n<p>Option D is <a href=\"https://build.phonegap.com/\">PhoneGap Build</a>, a service which takes everything that is great about standard PhoneGap and then removes everything that is bad about it, providing a fast and streamlined experience. This service is freely available, and will allow you to have a native version of your UI5 app up and running within minutes.</p>\n<p>As an overview, you create your UI5 application as you would normally, except this time you also include a <em>config.xml</em> file in the root folder. It is this file which the Build service uses to create your application, you simply specify the location of your <em>index.html</em> file and reference any plugins you wish to use. You then zip up all of your code and upload it to their website, and it will automatically build a native app for Android, iOS and Windows Phone in a matter of minutes.</p>\n<p>For more a more thorough getting started guide on all of this, I am currently writing an in depth blog series on my own website, the first part of which can be found here – <a href=\"http://jmurray.me/ui5-and-phonegap-first-steps-1-of-3/\">UI5 and PhoneGap Build: First Steps</a>.</p>\n",
      "date_published": "2015-07-07T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/6/7/semantic-pages/",
      "url": "https://qmacro.org/blog/2015/6/7/semantic-pages/",
      "title": "Semantic Pages",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a>  — Day 3 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/download1-1.jpeg\" alt=\"image\" />](http:/www.bloomsbury.com/au/primer-of-greek-grammar-9780715612583/)</p>\n<p>(This book was a close companion in an earlier life.)</p>\n<p>My degree in Latin and Greek is not entirely without foundation or reason, and it provides me with at least a small sense of origin when it comes to words. The 3rd declension noun <a href=\"https://en.wiktionary.org/wiki/%CF%83%E1%BF%86%CE%BC%CE%B1\">σῆμα</a> conveys the idea of a mark, a sign, a token. It refers to “meaning”, essentially, and the use in modern languages of the word semantic often implies an abstraction, a layer that confers or allows meaning to be defined or carried.</p>\n<p>What has that got to do with UI5 reaching release 1.30? Well, take a look at the fledgling <a href=\"https://openui5beta.hana.ondemand.com/explored.html#/entity/sap.m.semantic.SemanticPage/samples\">Semantic Page</a>. It’s the root of a series of new controls that are perhaps set to encourage standardisation of Fiori UIs. The <a href=\"http://experience.sap.com/fiori-design/\">SAP Fiori Design Guidelines</a> describe a rich set of controls, but more importantly they describe how those controls should be typically employed.</p>\n<p>Floorplans such as the <a href=\"http://experience.sap.com/fiori-design/floorplans/split-screen/\">Split Screen Layout</a> and the <a href=\"http://experience.sap.com/fiori-design/floorplans/full-screen/\">Full Screen</a> are all fairly familiar to us. But consistency comes from attention to a more granular level of detail, and the UI designers are encouraged to place certain controls in standard places. A couple of examples: Action buttons belong in the bottom right (in the footer) of a page, while the new <a href=\"https://openui5.hana.ondemand.com/explored.html#/entity/sap.m.MessagePopover/samples\">Message Popover</a> from 1.28 belongs in the bottom left.</p>\n<p>When SAP created Fiori application developer teams across the world to build out <a href=\"https://qmacro.org/blog/2015/6/7/semantic-pages/fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/\">the Fiori apps that we see available today</a>, it was almost inevitable that the different styles and approaches across teams and members would have resulted in a variety of structures, making it difficult to get the UX right, the UI consistent, and causing maintenance headaches. So SAP created scaffolding (sap.ca.scfld), a set of mechanisms that abstracted away a lot of the common boilerplate stuff allowing the developers to focus on the application logic (and preventing them from reinventing the boilerplate, slightly differently, every time). But this scaffolding was a little bit too monolithic, and I think the plan has been to phase it out.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/Screen-Shot-2015-07-05-at-20.49.53-300x231.png\" alt=\"Semantic Page Master-Detail\" /></p>\n<p>I’m also thinking that the alternative could involve this set of semantic controls. Take a look at the way the <a href=\"https://openui5beta.hana.ondemand.com/explored.html#/sample/sap.m.sample.SemanticPage/preview\">Semantic Page Master-Detail sample</a> puts things in the appropriate place – at a semantically meaningful level of abstraction above the individual mechanics of a Page control’s aggregations, for example.</p>\n<p>It’s similar in the <a href=\"https://openui5beta.hana.ondemand.com/explored.html#/sample/sap.m.sample.SemanticPageFullScreen/preview\">Semantic Page Full Screen sample</a> too. To get a feel for this level of abstraction, <a href=\"https://openui5beta.hana.ondemand.com/explored.html#/sample/sap.m.sample.SemanticPageFullScreen/code\">take a look</a> at how the aggregations are filled – nowhere in this XML view definition does it say <em>where</em> the semantic controls should go:</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/Screen-Shot-2015-07-05-at-20.57.35.png\" alt=\"\" /></p>\n<p>What we seem to have so far is a small hierarchy of Page based controls, that looks like this:</p>\n<pre><code>     SemanticPage \n          | \n    +----------------------+\n    |                      | \nMasterPage          ShareMenuPage\n                           |\n                   +---------------+\n                   |               |\n               DetailPage    FullscreenPage\n</code></pre>\n<p>And there are <a href=\"https://openui5beta.hana.ondemand.com/index.html#docs/api/symbols/sap.m.semantic.html\">plenty of semantic controls too</a>. It doesn’t replace the breadth of functionality that the scaffolding offered, but it’s a start, and it feels more modular. A namespace to watch!</p>\n",
      "date_published": "2015-07-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/5/7/expression-binding/",
      "url": "https://qmacro.org/blog/2015/5/7/expression-binding/",
      "title": "Expression Binding",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a>  — Day 2 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/Screen-Shot-2015-07-05-at-13.34.07.png\" alt=\"Expression Binding samples\" /></p>\n<p>The expression binding feature was <a href=\"https://openui5.hana.ondemand.com/#docs/guide/99ac68a5b1c3416ab5c84c99fefa250d.html\">introduced with version 1.28</a>, and allows logic to be included directly in an embedded binding. It’s a very useful feature, but a double edged sword that should be wielded with care.</p>\n<p>Before expression bindings, any embedded binding that required a condition to be checked, or a calculation to be made, or a reformatting to happen, needed a reference to a formatter function that would either be in a dedicated formatter module (common), or in the controller (less common). When using XML views, for example, the Model-View-Controller philosophy remained strong, in that any imperative computation remained separate from the pure declarative UI definitions.</p>\n<p>But in practice you find yourself creating a <em>lot</em> of formatter functions. Yes, some of them could be probably be refactored, and if you had time, you could probably find that library of common formatter functions that you’d been half building in your copious free time. Regardless, you end up with a lot of helper functions, small and large, that sometimes become a maintenance burden.</p>\n<p>Enter expression bindings. If you’re prepared to add sugar and milk to your coffee, if you’re prepared to sacrifice the absolute purity of MVC for the sake of brevity, then expression bindings can be your friend.</p>\n<p>Here’s an <a href=\"http://jsbin.com/wivuku/18/edit\">example</a>:</p>\n<p><a class=\"jsbin-embed\" href=\"http://jsbin.com/wivuku/18/embed?html,js,output\">JS Bin on jsbin.com</a><script src=\"http://static.jsbin.com/js/embed.min.js?4.1.2\"></script></p>\n<p>The greeting is created in three different ways. First, we use a function inside a formatter. Then, we use the same function but in the controller that is linked to the view (note the dot prefix in the value of the formatter property, specifying that the function is to be found in the controller). Finally, we have the same example in an expression binding, directly in the view.</p>\n<p>Those who have had their coffee already today (milk and sugar optional) may have noticed something unusual in the expression binding example. Instead of having the literal “Good” outside of the embedded binding curly brackets, like this:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Input</span><br />  <span class=\"token attr-name\">enabled</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span> <br />  <span class=\"token attr-name\">description</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Expression<span class=\"token punctuation\">\"</span></span> <br />  <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Good {= ${/now}.getHours() > 11 ? <span class=\"token punctuation\">'</span>afternoon<span class=\"token punctuation\">'</span> : <span class=\"token punctuation\">'</span>morning<span class=\"token punctuation\">'</span>}<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p>… it’s like this, instead:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Input</span> <span class=\"token attr-name\">enabled</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span><br />  <span class=\"token attr-name\">description</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Expression<span class=\"token punctuation\">\"</span></span><br />  <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{= <span class=\"token punctuation\">'</span>Good <span class=\"token punctuation\">'</span> + (${/now}.getHours() > 11 ? <span class=\"token punctuation\">'</span>afternoon<span class=\"token punctuation\">'</span> : <span class=\"token punctuation\">'</span>morning<span class=\"token punctuation\">'</span>)}<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p>(Note the extra parentheses in this version).</p>\n<p>This is because, currently, any literal string outside of the curly braces is rejected by the runtime.</p>\n<p>Anyway, expression bindings are here, and they may be the sort of thing that you’re looking for. Possibly exactly what you’re looking for, if you’re considering <a href=\"https://openui5.hana.ondemand.com/#docs/guide/5ee619fc1370463ea674ee04b65ed83b.html\">XML Templating</a>. But that’s a post for another time.</p>\n",
      "date_published": "2015-07-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/4/7/lightweight-notifications-with-the-message-strip/",
      "url": "https://qmacro.org/blog/2015/4/7/lightweight-notifications-with-the-message-strip/",
      "title": "Lightweight notifications with the Message Strip",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 11 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screenshot-2015-06-23-at-22.26.53.png\" alt=\"Message Strip control\" /></p>\n<p>The <a href=\"https://openui5beta.hana.ondemand.com/explored.html#/entity/sap.m.MessageStrip/samples\">Message Strip</a> is a nice new control with 1.30. It’s in the main (sap.m) library of controls, and for me, appeals because it bridges the gap between no message at all, and a modal dialog box which is sometimes too heavyweight.</p>\n<p>(If you’re wondering about the <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/sap.m.MessageToast.html\">Message Toast</a> control, don’t forget that this lighter weight mechanism should only be used for “less important” messages such as informational messages on the successful completion of a step).</p>\n<p>The nice thing about the way that this has been designed is actually its simple, perhaps restrictive nature. A nature that will give apps a better chance of having consistent messaging. The possible <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/sap.ui.core.MessageType.html\">message types are defined in the core</a>, and are displayed visually differently, via colour and icons. There’s an optional close button, and an optional link that is always displayed at the end of the message text. Pretty simple and neat.</p>\n<p>And that’s about it, which in most cases, is all that will be needed, to display a useful short message in line within the application UI, especially in the context of desktop based UI designs. If you want to manage messages in a more complete way, you might want to take a look at the <a href=\"https://openui5beta.hana.ondemand.com/explored.html#/entity/sap.m.MessagePopover/samples\">Message Popover</a>. But don’t dismiss the new Message Strip, it may just be what you’re looking for.</p>\n",
      "date_published": "2015-07-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/4/7/javascript-do-s-and-don-ts-for-ui5/",
      "url": "https://qmacro.org/blog/2015/4/7/javascript-do-s-and-don-ts-for-ui5/",
      "title": "JavaScript Do&#39;s and Don&#39;ts for UI5",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a>  — Day 7 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2015-07-04-at-10.00.14.png\" alt=\"Screenshot of coding issues menu item\" /></p>\n<p>In recent versions of the SDK you’ll find a new section called “<a href=\"https://openui5.hana.ondemand.com/#docs/guide/030fcd14963048218488048f407f8f34.html\">Coding Issues to Avoid</a>“. It’s great to see this take shape and start to become formalised. Some of them are obvious, at least to some folk, but it’s always helpful to have a reference.</p>\n<p>Let’s have a look at a couple of the Do’s and Don’ts here.</p>\n<p>The top item on my list is “Don’t use private and protected methods or properties of UI5″. Far too often, I see code that refers to internal properties of UI5 controls, especially to the arrays and maps that are managed internally (for the aggregations, for example). I think it’s fair to say that 98% of the time, the use here is totally wrong, and there’s a public API to give you what you want. There have been a couple of instances in the past where I’ve seen something for which there appeared no equivalent ‘legal’ alternative, but that could be down to API maturity, or lack of documentation.</p>\n<p>Related to this item is almost the antithesis, which is to use (create) properties that inadvertently clobber properties of the same name in an existing context. A great example of this is within a controller definition. There’s a nice pattern, which can be seen in many places including the reference apps in the SAP Web IDE, where in any given controller you would create controller properties to refer to the related view, and often the domain or view properties model, in the init event, like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">sap<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span><span class=\"token function\">controller</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"local.controller\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><br /><br />  <span class=\"token literal-property property\">_oView</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span><br /> <br />  <span class=\"token function-variable function\">onInit</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_oView <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br /> <br />  <span class=\"token function-variable function\">onSomeEvent</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">oEvent</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token operator\">...</span><br />    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_oView<span class=\"token punctuation\">.</span><span class=\"token function\">someFunction</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />    <span class=\"token operator\">...</span><br />  <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>But sometimes the developer, averse to underscores, will write it like this:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">sap<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span><span class=\"token function\">controller</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"local.controller\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><br /><br />  <span class=\"token literal-property property\">oView</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span><br /> <br />  <span class=\"token function-variable function\">onInit</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>oView <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br /> <br />  <span class=\"token function-variable function\">onSomeEvent</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">oEvent</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token operator\">...</span><br />    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>oView<span class=\"token punctuation\">.</span><span class=\"token function\">someFunction</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />    <span class=\"token operator\">...</span><br />  <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>What actually happens is that the call to</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>oView <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>is clobbering the internal property oView of ‘this’ (the controller), which is pointing at the view it’s related to. Luckily what it’s being clobbered with in this small (underscore-less) antipattern is another reference to the view itself, so not much immediate harm done, but it’s not entirely safe or future proof.</p>\n<p>Another interesting best practice described in this section of the SDK relates to internationalisation (i18n). What one should do is to use placeholders (such as {0}) in more complete sentences in translateable resources. What one often finds is that application texts are fragmented into short phrases and built up with concatenation, along with variables.</p>\n<p>The problem is that sentence structure varies across languages – as described in the “Don’t” example in this section, a typical example is where the verb goes. It’s better to avoid programmatic text construction, and leave it to the translation experts. Go long, and go home.</p>\n<p>Anyway, have a look at the rest of this <a href=\"https://openui5.hana.ondemand.com/#docs/guide/030fcd14963048218488048f407f8f34.html\">JavaScript Code Issues</a> section in the SDK, plus there’s a <a href=\"https://openui5.hana.ondemand.com/#docs/guide/9d87f925dfbb4e99b9e2963693aa00ef.html\">CSS Styling Issues</a> section too!</p>\n",
      "date_published": "2015-07-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/4/7/welcome-to-30-days-of-ui5/",
      "url": "https://qmacro.org/blog/2015/4/7/welcome-to-30-days-of-ui5/",
      "title": "Welcome to 30 Days of UI5!",
      "content_html": "<p><strong><a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">30 Days of UI5</a> — Day 1 by <a href=\"https://qmacro.org/about/\">DJ Adams</a></strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/OpenUI5_text_below_small.png\" alt=\"OpenUI5 logo\" /></p>\n<p>UI5, the collective short name for both SAPUI5 and OpenUI5, is soon to reach a milestone, with the release of 1.30. There’s already <a href=\"http://openui5.tumblr.com/post/121579731137/first-preview-of-openui5-1-30\">a preview release available</a>.</p>\n<p>The UI Development Toolkit for HTML5, to give it its proper long-form <a href=\"https://en.wikipedia.org/wiki/List_of_spacecraft_in_the_Culture_series\">Culture-style name</a>, has come a long way in the last few years. It’s a multi-faceted tookit that shows pedigree, passion and influence from many directions. From the <a href=\"https://openui5.hana.ondemand.com/#test-resources/sap/ui/commons/demokit/Dialog.html\">web dynpro inspired design roots</a>,  through the hard work and commitment from all the great designers and developers, to the exemplary responsive controls we have come to know and love in the sap.m library and beyond.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/01/opensource-168x300.png\" alt=\"Message on London Transport sign\" /></p>\n<p>And of course there’s <a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2013/12/11/what-is-openui5-sapui5\">the open sourcing of the toolkit</a>, a great move on SAP’s part, influenced not in a small way by many developers both external and internal to SAP. Many of the UI5 core team have open source in their blood, part of a new generation that is making SAP what it is today.</p>\n<p>Where would SAP Fiori be without UI5? Nowhere. The engine behind the UX revolution that is powering today’s and tomorrow’s SAP applications (with S/4HANA) is UI5.</p>\n<p>As Norman Cook might say, “<a href=\"https://open.spotify.com/album/6h3VY15qno2SJbgH2VuEnn\">You’ve come a long way, baby</a>“.</p>\n<p>So as a bit of fun, and to celebrate this version 1.30 milestone, here’s a series of 30 posts, one a day, on UI5 related topics. Small posts from me and some guest authors, designed to be read during a quick coffee break. Nothing earth shattering, but hopefully things that will whet your appetite for further reading, and perhaps bring to your attention features that you might not yet have had a chance to consider.</p>\n<p>(This series is also available online, for the Kindle, at Amazon: <a href=\"https://www.amazon.co.uk/30-Days-UI5-Celebrating-milestone-ebook/dp/B017MOJEWG/\">30 Days of UI5: Celebrating SAPUI5 and OpenUI5's milestone 1.30 release in Autumn 2015</a>.)</p>\n<p><a href=\"https://www.goodreads.com/quotes/95859-share-and-enjoy-is-the-company-motto-of-the-hugely\">Share and enjoy!</a></p>\n<p><strong>The Series</strong></p>\n<p>Day 1 – <a href=\"https://qmacro.org/2015/07/04/30-days-of-ui5/\">Welcome to 30 Days of UI5!</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a> (this post)<br />\nDay 2 – <a href=\"https://qmacro.org/2015/07/05/expression-binding/\">Expression Binding</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 3 – <a href=\"https://qmacro.org/2015/07/06/semantic-pages/\">Semantic Pages</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 4 – <a href=\"https://qmacro.org/2015/07/07/creating-native-applications-with-ui5/\">Creating Native Applications with UI5</a> by <a href=\"http://jmurray.me/\">John Murray</a><br />\nDay 5 – <a href=\"https://qmacro.org/2015/07/07/openui5-walkthrough/\">OpenUI5 Walkthrough</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 6 – <a href=\"https://qmacro.org/2015/07/09/the-app-descriptor-2/\">The App Descriptor</a> by <a href=\"https://twitter.com/ThiloDev\">Thilo Seidel</a><br />\nDay 7 – <a href=\"https://qmacro.org/2015/07/04/javascript-dos-and-donts-for-ui5/\">JavaScript Do’s and Don’ts for UI5</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 8 – <a href=\"https://qmacro.org/2015/07/11/user-notifications-with-the-message-popover/\">User Notifications with the Message Popover</a> by <a href=\"http://twitter.com/saoirse_22\">Sean Campbell</a><br />\nDay 9 – <a href=\"https://qmacro.org/2015/07/12/bootstrapping-ui5-locally-and-in-the-cloud/\">Bootstrapping UI5 Locally and in the Cloud</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 10 – <a href=\"https://qmacro.org/2015/07/13/handling-dates-with-the-date-picker/\">Handling Dates with the Date Picker</a> by <a href=\"https://twitter.com/jameshale14\">James Hale</a><br />\nDay 11 – <a href=\"https://qmacro.org/2015/07/04/lightweight-notifications-with-the-message-strip/\">Lightweight Notifications with the Message Strip</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 12 – <a href=\"https://qmacro.org/2015/07/14/base-classes-in-ui5/\">Base Classes in UI5</a> by <a href=\"https://twitter.com/ThiloDev\">Thilo Seidel</a><br />\nDay 13 – <a href=\"https://qmacro.org/2015/07/16/multi-language-support-out-of-the-box-ui5s-pedigree/\">Multi-language support out of the box – UI5’s pedigree</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 14 – <a href=\"https://qmacro.org/2015/07/17/speeding-up-your-ui5-app-with-a-component-preload-file/\">Speeding up your app with a Component preload file</a>  by <a href=\"http://jmurray.me/\">John Murray</a><br />\nDay 15 – <a href=\"https://qmacro.org/2015/07/18/the-ui5-support-tool-help-yourself/\">The UI5 Support Tool – Help Yourself!</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 16 – <a href=\"https://qmacro.org/2015/07/19/ui5-and-coding-standards/\">UI5 and Coding Standards</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 17 – <a href=\"https://qmacro.org/2015/07/20/ui5-and-fiori-the-story-of-open-and-free/\">UI5 and Fiori – The Story of Open and Free</a> by <a href=\"https://twitter.com/applebyj\">John Appleby</a><br />\nDay 18 – <a href=\"https://qmacro.org/2015/07/21/mvc-model-view-controller-minimum-viable-code/\">MVC – Model View Controller, Minimum Viable Code</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 19 – <a href=\"https://qmacro.org/2015/07/22/a-short-ui5-debugging-journey/\">A Short UI5 Debugging Journey</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 20 – <a href=\"https://qmacro.org/2015/07/23/fragments-and-minimum-viable-code/\">Fragments and Minimum Viable Code</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 21 – <a href=\"https://qmacro.org/2015/07/24/spreading-the-ui5-message/\">Spreading the UI5 Message</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 22 – <a href=\"https://qmacro.org/2015/07/25/merging-lists-with-ui5/\">Merging Lists with UI5</a> by <a href=\"https://uk.linkedin.com/pub/christopher-choy/53/21/b71\">Chris Choy</a><br />\nDay 23 – <a href=\"https://qmacro.org/2015/07/26/taming-the-resource-model-files/\">Taming the Resource Model Files</a> by <a href=\"http://twitter.com/lxinspc\">Nathan Adams</a><br />\nDay 24 – <a href=\"https://qmacro.org/2015/07/27/an-introduction-to-sap-ui-define/\">An introduction to sap.ui.define</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 25 – <a href=\"https://qmacro.org/2015/07/28/the-experimental-client-operation-mode/\">The experimental Client operation mode</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 26 – <a href=\"https://qmacro.org/2015/07/29/ui5-looking-back-and-forward/\">UI5 – looking back and forward</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 27 – <a href=\"https://qmacro.org/2015/07/30/ui5-a-non-techie-newbies-view/\">A non-techie PM’s view of UI5</a> by <a href=\"https://twitter.com/jongregs/\">Jon Gregory</a><br />\nDay 28 – <a href=\"https://qmacro.org/2015/07/31/ui5-version-info/\">UI5 Version Info</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 29 – <a href=\"https://qmacro.org/2015/08/01/revisiting-the-xml-model/\">Revisiting the XML Model</a> by <a href=\"https://qmacro.org/about/\">DJ Adams</a><br />\nDay 30 – <a href=\"https://qmacro.org/2015/08/02/the-origin-of-becoming-a-fundamental-enabler-for-fiori/\">The origin of becoming a fundamental enabler for Fiori</a> by <a href=\"https://twitter.com/uxsamyen\">Sam Yen</a></p>\n",
      "date_published": "2015-07-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/3/7/email-discipline/",
      "url": "https://qmacro.org/blog/2015/3/7/email-discipline/",
      "title": "Email Discipline",
      "content_html": "<p>If you’re wondering why I don’t reply to your email straight away, it’s because I try to discipline myself to email tasks generally twice a day. Once in the morning, and once again around lunchtime or in the early evening. This discipline is related to my attempts to be more focused upon, and more effective at the work I have to do. For background information, see my post <a href=\"https://qmacro.org/2015/03/15/the-makers-schedule-restraint-and-flow/\">The Maker’s Schedule, Restraint and Flow</a> and in particular the video from Scott Hanselman to which it refers.</p>\n<p>If you need to get hold of me urgently (i.e. within hours), then give me a call. But be warned, I may not be able to answer immediately if I’m on a Pomodoro. Thanks!</p>\n<p>(For more on email and work, see <a href=\"https://qmacro.org/2017/08/30/things-i-do-to-make-my-work-life-better/\">Things I do to make my work life better</a>.)</p>\n",
      "date_published": "2015-07-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/20/5/json-list-binding-and-maps/",
      "url": "https://qmacro.org/blog/2015/20/5/json-list-binding-and-maps/",
      "title": "JSON List Binding and maps",
      "content_html": "<p>This morning, on a long train journey up from near Reading to Barnsley, I was hacking on a UI5 app. I had a custom module to munge some JSON data into the shape I needed, and was binding the items aggregation of a List control to part of the resulting data structure.</p>\n<p>In the developer console, I was examining the data structure in the JSON Model that was set on the List, and did a double-take. I’d mistakenly generated a map rather than an array, as the value of the property to which I wanted to bind the items aggregation. Naturally, I thought, it needed to be an array, but I had spotted that it was a map – the output of a nice little reduce function I was nicely proud of, with my functional JavaScript hat on (but that’s another story).</p>\n<p>So I looked across to the app itself, expecting the List to be empty. But it wasn’t! It was showing exactly what I had expected to see, had the value of the property been an array. What was going on?!</p>\n<p>After some digging, I found out. Introduced on 10 Dec 2014, within the 1.28.0 release, was a modest feature:</p>\n<address>**[[FEATURE] sap.ui.model.json.JSONListBinding: iterate over maps](https://github.com/SAP/openui5/commit/38ab764601c061d5fbf256f8bb4703cd4ec89022)**  \n Enhance JSONListBinding to iterate over maps (by key), not just over  \n arrays (by index).</address>Interesting! A small modification to the JSON List Binding to treat the indices of a map as if they were of an array. After all, in JavaScript, arrays and maps are perhaps more closely related than one might think.\n<p>I set about confirming what I’d found with a small test on Plunkr, “<a href=\"http://plnkr.co/edit/QQU4bPNb5Kg65vZ8vnad?p=preview\">Aggregation Binding Test</a>“:</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/05/Screen-Shot-2015-05-20-at-19.11.18.png\" alt=\"image\" /></p>\n<p>But don’t take my word for it – the author has also added a test to the <a href=\"https://openui5.hana.ondemand.com/test-resources/sap/ui/core/qunit/JSONListBinding.qunit.html\">JSON List Binding QUnit tests</a>:</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/05/Screen-Shot-2015-05-20-at-19.14.05.png\" alt=\"image\" /></p>\n<p>It makes sense to blur the distinction between maps and arrays when it comes to aggregation bindings; already I have a use for it, and I didn’t even know the feature had been implemented!</p>\n",
      "date_published": "2015-05-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/22/4/opensap-experiences/",
      "url": "https://qmacro.org/blog/2015/22/4/opensap-experiences/",
      "title": "openSAP Experiences",
      "content_html": "<p>(Please <a href=\"https://qmacro.org/blog/2015/22/4/opensap-experiences/#opensapupdate\">see the update</a> from later the same day as I posted this, at the bottom.)</p>\n<p>Don’t get me wrong, the openSAP initiative is excellent, free learning materials of high quality? Yes please and thank you! This instills a passion in me (and I’m sure many others) for (a) learning more and (b) trying to attain the highest achievement. In the case of openSAP, this means trying to attain high marks in the assignments.</p>\n<p>Unfortunately, the question and answer sections of the weekly assignments sometimes get in the way of that, in that the questions and / or answers are ambiguous. The current openSAP course “<a href=\"https://open.sap.com/courses/fiux1/\">Build Your Own SAP Fiori App in the Cloud</a>“, has great content but the questions are dubious. Here are a couple of examples, that we’re <a href=\"https://twitter.com/qmacro/status/590774440969031680\">discussing on Twitter right now</a>:</p>\n<p>In the assignment for Week 2, there is the following question, with the 4 possible answers thus:</p>\n<p><em>Within the context of SAP HANA Cloud Platform, where do applications run?</em><br />\n<em>(a) In the HANA Database</em><br />\n<em>(b) Inside the cockpit</em><br />\n<em>(c) In an SAP HANA Cloud Platform account</em><br />\n<em>(d) On the SCN community page of SAP HANA Cloud Platform</em></p>\n<p>The officially correct answer has been marked as (c). But an account is not somewhere where code can be <em><strong>run</strong></em>. It’s not an execution environment. It’s an accounting, configuration, billing artifact. It’s the credentials, the units of computing allocated and allowed, it’s the sets of permissions for access to features and subscriptions and so on. It’s not an execution environment. So there’s no way that anything can <em><strong>run</strong></em>in the SAP HCP <em><strong>account.</strong></em> The nearest correct answer as far as I could see is (a). But that’s not entirely accurate. However, the ambiguity of this question and the possible answers force me to choose “the nearest that makes sense” which is (a), as (c) can certainly <em>not</em> be correct.</p>\n<p>Another example is in the assignment for Week 3, where there’s the following question and 4 possible answers:</p>\n<p><em>Which end-to-end application development phases are currently supported by SAP Web IDE?</em><br />\n<em>(a) Prototyping, developing, testing, deploying, and extending</em><br />\n<em>(b) Requirements management, prototyping, developing, testing, deploying, and extending</em><br />\n<em>(c) Prototyping, developing, functionality testing, A\\B testing, deploying, and extending</em><br />\n*(d) Developing, testing, deploying, and extending *</p>\n<p>The officially correct answer has been marked as (d).</p>\n<p>The official download materials for this week contain, as usual, a complete transcript of all the units, the slides, and the videos. This is great in itself. Unfortunately, the official transcript records exactly what the instructor said, which is (starting at 00:02:22, bold emphasis mine):</p>\n<p>*And we do so by <strong>covering the end-to-end application development lifecycle with one tool. And when we refer to the end-to-end application lifecycle development, we start from the prototyping of the application</strong>, then the development, the testing on the different devices of course, the packaging and the deployment into different application landscape and then later on after we released the application, also the extension of the application in order to customize it and make it suitable for the different scenarios and**customers. *</p>\n<p>The slide related to this section looks like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/04/Screenshot-2015-04-22-at-08.35.41.png\" alt=\"image\" /></p>\n<p>See that tiny couple of words in a footnote in the bottom left? They say “*future innovation”. The instructor didn’t mention this, so if you didn’t see the slide or were watching on your smartphone (which I was) where it was too small to see, but were nevertheless intensely listening to her, and then reading the transcript to double check the facts, you would not have noticed this.</p>\n<p>Now call me old fashioned, but if the transcript says that prototyping is supported, then I take it that prototyping is supported. But I don’t just take the transcript’s word for it … <strong>I do prototyping</strong> in the SAP Web IDE. I don’t use the Powerpoint-based kit, I build simple views in XML either by hand in the coding editor, or sometimes with the layout editor. So practically speaking, the SAP Web IDE does support prototyping, regardless of what is or is not said.</p>\n<p>The challenge is not the course itself, the content, as I said, is great. The challenge is setting clear questions with unambiguous answers. Here are two occasions (and there have been others, on other openSAP courses in the past) where this is not the case.</p>\n<p>I’m passionate about learning and sharing knowledge, and being the best I can be. Something like this where incorrect answers are given as the officially correct answers, does make me somewhat sad.</p>\n<p>But one thing’s for certain: If you’re reading this and not participating in the course, head on over there right now and catch up with these great learning opportunities!</p>\n<p><a href=\"https://qmacro.org/blog/2015/22/4/opensap-experiences/\"></a><strong>Update 21:30 on the same day:</strong></p>\n<p>Now this is worth shouting about. Around 3 hours after I took part in the discussions on Twitter this morning and published this post, the regular weekly “Welcome to Week N” email arrived in my inbox as usual. But what was special was this section:</p>\n<p><span style=\"text-decoration: underline;\"><em>Weekly Assignments: Problematic Questions in Weeks 2 and 3</em></span>*Week 2: Within the context of SAP HANA Cloud Platform, where do applications run?**Week 3: Which end-to-end application development phases are currently supported by SAP Web IDE?**In both these cases, we realized that the questions were slightly misleading. You can *<em>find more information on the discussion forums for weeks 2 and 3. To ensure fairness toall our learners, we will assign full points for these questions to all learners who took the weekly assignments. Your scores will be adjusted at the end of the course.</em></p>\n<p>This is the openSAP team directly and pretty much immediately addressing our concerns and worries, <em>within a few hours</em>. I cannot commend the openSAP team enough for this. Not primarily for addressing the issue (issues arise in all manner of contexts, that’s normal), but for being ultra responsive and in touch with the participants of the course <em>directly</em>.</p>\n<p>Other MOOCs, heck, other educational institutions in general, please take note. <strong>The openSAP team shows how it’s done</strong>.</p>\n",
      "date_published": "2015-04-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/19/4/this-week-in-fiori-2015-16/",
      "url": "https://qmacro.org/blog/2015/19/4/this-week-in-fiori-2015-16/",
      "title": "This Week in Fiori (2015-16)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2015/04/Screen-Shot-2015-04-19-at-09.45.08.png\" alt=\"Ariba UX\" /></p>\n<p>Greetings! It’s time yet again to share a few newsworthy items that caught my eye this week in the world of Fiori. Let’s get to it!</p>\n<p><strong><a href=\"https://youtu.be/opbypeGLZd0\">Ariba Total User Experience</a> by Ariba</strong><br />\nWe start out with something from earlier this month that just came to my attention via an article in SearchSAP – “<a href=\"http://searchsap.techtarget.com/news/4500244534/Ariba-unveils-major-overhaul-of-UI\">Ariba unveils major overhaul of user interface</a>“. At this month’s Ariba Live conference Ariba revealed their new “Total User Experience” approach to improving the user experience for their products. And it comes as no great surprise to see that it is — as SAP have been saying it would be — aligned with the SAP Fiori UX approach. Here’s a tweet from Tridip Chakraborthy:</p>\n<blockquote>\n<p><a href=\"https://twitter.com/hashtag/AribaLIVE?src=hash\">#AribaLIVE</a> Boom Woot Woot ! introducing the <a href=\"https://twitter.com/ariba\">@ariba</a> <a href=\"https://twitter.com/hashtag/mobile?src=hash\">#mobile</a> app <a href=\"https://twitter.com/hashtag/catalog?src=hash\">#catalog</a> #<a href=\"https://twitter.com/hashtag/SAPFiori?src=hash\">#SAPFiori</a> user interface paradigm shift <a href=\"https://twitter.com/hashtag/UX?src=hash\">#UX</a> <a href=\"http://t.co/8XAZRzMkBJ\">pic.twitter.com/8XAZRzMkBJ</a></p>\n<p>— Tridip Chakraborthy (@tridipchakra) <a href=\"https://twitter.com/tridipchakra/status/586212694644011009\">April 9, 2015</a></p>\n</blockquote>\n<script async=\"\" charset=\"utf-8\" src=\"https://platform.twitter.com/widgets.js\"></script>\n<p>You can clearly see the huge similarities in UX design and approach even from this one photo. The SearchSAP article states that “the Ariba UI does not share code with Fiori, but uses the same stylesheets, giving it a similar look and feel”. In a post based on my keynote at Mastering SAP Technologies conference earlier this year, titled “<a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/March-2015/Can-I-build-a-Fiori-app-Yes-you-can!/\">Can I build a Fiori app? Yes you can!</a>“, I’d written:</p>\n<blockquote>\n<p>If you think about it, that abstraction, that distinction between philosophy and practicality, is the one way SAP can continue to forge ahead with some sort of (eventually) unifying user experience strategy while at the same time dealing with the reality of products from differing sources, with differing frontends – Concur, Ariba, Lumira, and more.</p>\n</blockquote>\n<p>That abstraction is clearly in evidence here. I’d be really interested to see more details of how Ariba’s SAP Fiori UX “Total User Experience” looks under the hood, to discover how it ticks. It certainly looks great on the surface!</p>\n<p><strong><a href=\"http://scn.sap.com/community/mobile/blog/2015/01/14/maximize-your-investment-in-sap-fiori-free-practitioners-forum-best-practices\">SAP Fiori Practitioners Forum</a> by Katie Moser</strong><br />\nKatie announced this back in January but I’ve only recently joined and I’m looking forward to getting involved and sharing best pratices with the other members. According to the post, this monthly forum is “designed to help you drive the successful deployment of SAP Fiori in your organisation”.</p>\n<p>I understand that the sessions so far have been very useful. As we have all discovered already, Fiori is a multi faceted thing, and a place to discuss practicalities from design &amp; configuration through rollout and beyond, with like minded individuals is a great idea. (Note that it’s sensibly only open to those that have installed Fiori).</p>\n<p><strong><a href=\"http://www.telerik.com/kendo-ui/sap-fiori-theme-html5-widgets\">SAP Fiori Theme for Kendo UI</a> by Telerik</strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2015/04/Screen-Shot-2015-04-19-at-11.18.16-244x300.png\" alt=\"Screen Shot 2015-04-19 at 11.18.16\" /></p>\n<p>Well not only do we have Ariba now embracing Fiori, but also a JavaScript UI framework by the name of <a href=\"http://www.telerik.com/kendo-ui\">Kendo UI</a>. This framework is jQuery based, with <a href=\"https://angularjs.org/\">AngularJS</a> integration and support for <a href=\"http://getbootstrap.com/\">Bootstrap</a> and more. Unlike <a href=\"http://openui5.org/\">OpenUI5</a>, which is the version of SAPUI5 (that powers SAP Fiori UX) that SAP open sourced, Kendo UI is software that comes in the form of a 30-day free trial, with a purchase required after that.</p>\n<p>I watched the short video demo and it’s an interesting prospect. It’s not exactly the same, but pretty close. If you’re like me, one who has pored over the controls in UI5 for a long time, things are not quite the same, although from a distance you could almost be forgiven for mistaking it for “the real thing” (how that is defined is another story).</p>\n<p>It’s worth bearing in mind that no amount of styling of controls will make an app into a Fiori app; while the styling is incredibly important and goes along way to helping the developer build Fiori apps, it’s just one pillar that supports the whole Fiori UX approach. The other pillars are responsiveness, design patterns and the other constraints and that are well described in the <a href=\"http://experience.sap.com/fiori-guidelines/index.html\">SAP Fiori Design Guidelines</a>.</p>\n<p>Well that’s just about it for this week. Until next time, share and enjoy!</p>\n",
      "date_published": "2015-04-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/14/4/this-week-in-fiori-2015-15/",
      "url": "https://qmacro.org/blog/2015/14/4/this-week-in-fiori-2015-15/",
      "title": "This Week in Fiori (2015-15)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2015/04/Screen-Shot-2015-04-14-at-09.13.55-150x150.png\" alt=\"Screen Shot 2015-04-14 at 09.13.55\" /></p>\n<p>Well hello there folks. This week sees the start (for me) of a week off on holiday, but not before I put out this latest episode of TWIF for a quick roundup of things that caught my eye in the world of Fiori. If you have any stories to share, let me know!</p>\n<p><strong><a href=\"http://sapinsider.wispubs.com/Assets/Articles/2015/April/SPI-SAP-Fiori-application-development-in-the-cloud\">SAP Fiori Application Development in the Cloud</a> by Monika Kaiser &amp; Karl Kessler</strong><br />\nThe subtitle of this article in SAPinsider magazine is “Building, Deploying and Mobilizing Applications for Today’s Enterprises”. And as a great introduction, it certainly delivers on that. Not surprising given Karl’s pedigree in knowing about and writing about SAP technologies :-)</p>\n<p>This is very much a getting started article, but where it scores is in the detailed and annotated set of screenshots that are useful for introducing folks to the whole process of building a Fiori app. Not generally, but specifically using SAP’s HANA Cloud tools, including the SAP HANA Cloud Platform, the SAP Web IDE and SAP Mobile Secure.</p>\n<p>The article does remind me of the conversation I have with many developers at customers and partners as well as with individuals. It usually starts like this: “Q: Should I use SAP Web IDE as my main editor?” closely followed by “A: Well, it depends …”. There’s a mentality, or a mindset, amongst SAP developers that is hard to shake, because of decades of the same experience.</p>\n<p>As ABAP developers, we’ve been used to having to use SE38, SE80, SE24 and the like. Having the tool question pre-answered for us. And many of us have waited on SAP’s every word, even in the dark days when Eclipse was recommended as <em>the</em> development platform. Now we have a choice, but many are looking to SAP for recommendations. And it makes some sense – SAP need to invest in building tools for the army of SAP programmers out there for many reasons. With the SAP Web IDE, they’ve landed with both feet on the ground, in that it’s not unpleasant to use and it comes with great productivity features that Just Work(tm). What’s more, no-one is saying that SAP Web IDE should be your <em>only</em> editor.</p>\n<p>Yes, I know that SAP Web IDE is based upon Orion, but you’re not going to convince me that it’s the same thing. I use SAP Web IDE to start some projects off; I’ve even dabbled with the great plugin and templating system (see “<a href=\"https://www.youtube.com/watch?v=jAp_nGqOT_c\">SAP Fiori Rapid Prototyping: SAP Web IDE and Google Docs</a>“), and the test offline version (see “<a href=\"https://www.youtube.com/playlist?list=PLfctWmgNyOIfF6gbmp_PZGNgn6YVJHfyU\">SAP Web IDE Local Install – Up and Running</a>“). But I don’t religiously stay with that as my main development environment … for that, I prefer a combination of a local NodeJS based server and the Atom editor right now. Mostly because a lot of the time I’m developing, I’m on the move, with little or no Internet access.</p>\n<p>Today we’re in a very nice situation where there are tools from SAP available, and we can choose to use them as much or as little as we see fit. For me that’s a great improvement on earlier periods. Take a look at this article if you haven’t seen the SAP Web IDE yet, and you can make your own mind up.</p>\n<p><strong><a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2015/04/07/sap-web-ide--the-simple-way-to-build-and-extend-sapui5-applications\">SAP Web IDE: The Simple Way to Build and Extend SAPUI5 Applications</a> by Yaad Oren</strong><br />\nWhile we’re on the subject of the SAP Web IDE, here’s an opportunity to learn more about it specifically from one of the many great folks involved in its development and nurturing.</p>\n<p>It’s an hour long video, and includes a presentation from an SAP Web IDE user, PepsiCo.</p>\n<p>(I wish SAP would make these videos available on YouTube too – I manage 95% of my viewing activities there, with playlists and “watch later”, and can sit down in front of the TV to catch up. Please, SAP?)</p>\n<p><strong><a href=\"http://scn.sap.com/community/gui/blog/2015/04/08/user-experience-sessions-at-sapphire-now-2015-sap-screen-personas-fiori-ux-design-services/\">User Experience sessions at SAPPHIRE NOW 2015</a> by Peter Spielvogel</strong><br />\nI don’t normally talk much about Sapphire Now, I’m much more interested in <strong>SAP’s main annual event – SAP TechEd &amp;&amp; d-code</strong> :-) But of course, without the business, SAP, primarily a software and platform company that just happens to write business applications, would struggle to survive.</p>\n<p>Yes, of course that was a troll, but I make no apologies for saying it. With huge emphasis on the User Experience (UX) you can expect plenty of sessions covering this topic and related topics too. The subtitle to Peter’s blog post is “SAP Screen Personas, Fiori UX, Design Services”. As you can imagine, being a conference focused on the business rather than the technology, on the surface rather than on the mechanics underneath the surface, you’re not going to find much in the way of the toolkit that <em>powers</em> Fiori – UI5. There are a total of 8 sessions that I could find, via the agenda builder, that mentioned SAPUI5. But that’s sort of the point. Much more important are the myriad sessions that Peter lists in his post, covering personalised user experiences with S/4HANA, SAP Screen Personas, SAP Fiori LaunchPad and more.</p>\n<p>The UX topic is wide and varied, and while I will continue to loosely categorise SAP Fiori as a strategic approach and SAP Screen Personas as a tactical approach to UX, the fact is that with the LaunchPad becoming the new portal, and with businesses wanting access to more than what the current collection of SAP Fiori apps covers, there will be, for a long time, a hybrid solution to the overall user access and user experience to business data and processes.</p>\n<p>What’s important is that we understand where SAP Screen Personas fits in, and with HTML5-based version 3 of the product (with JavaScript scripting support and more), just around the corner for all comers, we can easily imagine a cross-technology approach to all the tools required for a business user to carry out their responsibilities. With judicious use of theming and styling, we could move one step closer to that nirvana of a unified UX.</p>\n<p></p>\n",
      "date_published": "2015-04-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/5/4/this-week-in-fiori-2015-14/",
      "url": "https://qmacro.org/blog/2015/5/4/this-week-in-fiori-2015-14/",
      "title": "This Week in Fiori (2015-14)",
      "content_html": "<p>Well hello again, this episode is brought to you from my woodstore at the bottom of the garden, where it’s actually warm enough to sit outside for the first time. The birdsong is prominent, I guess their user experience is improving with the ground softening and the worms and grubs becoming more accessible. Let’s go!</p>\n<p><strong><a href=\"http://scn.sap.com/community/abap/blog/2015/04/01/fiori-notes-1-one-ux-to-rule-them-all\">FIORI Notes 1 : One UX to Rule them All</a> by Wilbert Sison</strong><br />\nThis week saw a simple post by Wilbert summarising a few of the key places to visit on one’s journey to Fiori enlightenment: The <a href=\"http://demo-fioritrial.dispatcher.hana.ondemand.com/\">Fiori Cloud Edition Trial</a>, the <a href=\"http://www.sap.com/fiori-apps-library\">Fiori Apps Library</a> and the UI5 <a href=\"https://sapui5.netweaver.ondemand.com/sdk/explored.html\">Explored</a> app within the SAPUI5 SDK (the more I ponder the name and the purpose and what it’s becoming, perhaps we should rename it from Explored to <em>Explorer</em>). What caught my eye with this post is that it was published in the <a href=\"http://scn.sap.com/community/abap/blog\">ABAP Development</a> section of the SAP Community Network, and it also gave rise to a short discussion on UI access to HANA.</p>\n<p>First, the place the post was published. Fiori, and by direct inference UI5, is a cornerstone technology for SAP’s product landscape. What this means in practical terms is that we as SAP technicians need to embrace UI5 as much as we embraced dynpro technologies in the past. It’s that big. Having given a 3 day course on Fiori, UI5 and Gateway/OData last week, with my co-presenter <a href=\"https://qmacro.org/blog/2015/5/4/this-week-in-fiori-2015-14/www.bluefinsolutions.com/Blogs/Lindsay-Stanger/\">Lindsay Stanger</a>, to a collection of Web and ABAP developers (their own self-descriptions), it’s worth re-iterating the reality for many of us out there; many of us so-called ABAP developers. For me, the concept of an “ABAP developer” is somewhere between “meaningless” and “unneccessarily restricting”. Yes, there are developers out there that call themselves “<language> developers” or “<platform> developers”, and that is their perogative, but it’s an artificial constraint that is not helpful, and reminds me of “COBOL developer”. There will always be (in the forseeable future) demand for some COBOL skills, but is that the entirety of your outlook? If a mainframe dinosaur and ABAP developer like me can embrace UI5, so can you.</platform></language></p>\n<p>Then, there’s the question of UI, that came up in the comments to Wilbert’s post. It reminded me of a <a href=\"https://twitter.com/jhmoy/status/583069583495446528\">great Twitter thread initiated by John Moy</a> where the frontend future for S/4 was discussed. I’ll leave it to you to enjoy reading that thread, but the takeaway for me was that people do understand that while wall-to-wall Fiori might be the vision, the reality will be different, particularly in the transition period while the Fiori app suites are constructed and made available. And for those of you pondering the earlier point about ABAP, and this one where SAPGUI and therefore dynpro is not going to disappear any time soon, think of COBOL again ;-)</p>\n<p><strong>April New App Distribution via SAP Fiori Apps Library</strong><br />\nThe SAP Fiori Apps Library is lots of things rolled into one. It’s a nice talking point and focus for the Fiori pundits, an example of a publically accessible Fiori App (where, being Web native, the frontend source code is available for perusing and learning from), and a good source of information on current Fiori apps. And I don’t mean just human readable information, but machine readable data too. I’d exhorted SAP back in August last year (in <a href=\"https://qmacro.org/2014/08/31/this-week-in-fiori-2014-35/\">TWIF episode 2014-35</a>) to make the data available, to supply “a machine readable dataset”. And that they have done, as of course the backend data source to the <a href=\"http://www.sap.com/fiori-apps-library\">SAP Fiori Apps Library</a> tool.</p>\n<p>This of course is an OData source, from a HANA backend, and rich in information. Not only is it useful for powering the Fiori Apps Library app itself, but also for our own data-based analysis. You might have seen my post from earlier this year, where I showed you how to pull data from this very OData source into a spreadsheet:</p>\n<p><a href=\"https://qmacro.org/2015/01/09/fiori-app-data-into-a-spreadsheet-challenge-accepted/\">Fiori App Data into a Spreadsheet? Challenge Accepted!</a></p>\n<p>Thing is, while this data is valuable in and of itself, if you add a further dimension, time, it becomes perhaps even more valuable. What are the apps that are appearing over time, over the different waves? Are there any that are disappearing? Current total app count as of today is 541. Last month (an unscientifically and deliberately vague point in time, for now) it was 495. So that’s 46 new apps that have appeared (none disappeared, I also checked).</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/04/Screenshot-2015-04-05-at-13.46.17.png\" alt=\"image\" /></p>\n<p>I think it might be a worthwhile exercise to pull this app data on a regular basis, for comparisons over time. So as a starter, I have an experimental spreadsheet, <a href=\"https://docs.google.com/spreadsheets/d/1ob-0M9Qn6duMVxC05A2w1ekxR8H3Nc-etb_Fz6Y_4z0/edit?usp=sharing\">Fiori Apps Data</a>, with two snapshots, March and early April. I’ve added a few analysis tabs and one of the products is this breakdown of new apps by area, that I’ve titled “New Apps Distribution”.</p>\n<p>Do you think this is useful? What other information can we work out with this new time dimension? How often do you think we should or could take a snapshot? Weekly? Daily? Could this be a community curated data set?</p>\n<p>Answers on a postcard (or in the comments) please!</p>\n",
      "date_published": "2015-04-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/28/3/this-week-in-fiori-2015-13/",
      "url": "https://qmacro.org/blog/2015/28/3/this-week-in-fiori-2015-13/",
      "title": "This Week in Fiori (2015-13)",
      "content_html": "<p>Well, another week has gone by, which means it must be time for This Week in Fiori! The Fiori juggernaut continues to rumble on, and this week was no exception. Let’s get to it!</p>\n<p><strong><a href=\"https://open.sap.com/courses/fiux1\">Build Your Own SAP Fiori App in the Cloud</a> by openSAP</strong><br />\nThis week saw the start of the new free course at openSAP, which, according to the description, is all about “building your own SAP Fiori app that’s just as delightful and user-friendly as any of the hundreds SAP has built directly”.</p>\n<p>This is great news, especially for those of us who had signed up to the earlier course “Introduction to SAP Fiori UX” but had been rather disappointed that it had had nothing much to do with Fiori UX, and more to do with deployment and setup. I wrote about this in <a href=\"https://qmacro.org/2014/10/07/this-week-in-fiori-2014-40/\">TWIF episode 2014-40</a>. A number of us did have a dialogue with the openSAP folks at the time, and I’m delighted to see our comments were taken on board – this new course looks to be what we have been waiting for.</p>\n<p>So we’re into Week 1 of this new nine week course, and already in the last unit of Week 1 — Unit 5, Introduction to SAPUI5 and OData — we’re seeing JSON and XML on the slides, HTTP headers, and even a small glimpse at the superb UI5 toolkit, including a tiny controller and an XML View definition. This is more like it! Technical details on the slides.</p>\n<p>Don’t get too excited, however. I spotted some errors in this unit that aren’t trivial. I’ve built courses before and I know how hard it is to get things consistent, but one thing you must do is be accurate. Here are some of the things I spotted:</p>\n<p><em>“OData … is using SOAP and REST to communicate between systems”</em></p>\n<p>OK, so first, REST isn’t a protocol, it’s an architectural style, so it is difficult to use a style to communicate between systems. But that is sort of forgivable, in that perhaps more accurately one could say that the OData protocol has RESTful tendencies. But SOAP? No. OData has nothing to do with SOAP, in fact, one could say that the OData protocol is orthogonal to SOAP.</p>\n<p><em>“One of the most important libraries we have today is sap.ui.m”</em></p>\n<p>I’m guessing that’s just a typo that found its way up through the layers to the actual presentation script. Because while there are libraries with the sap.ui prefix, there is no sap.ui.m. What the instructor is referring to is <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/sap.m.html\">sap.m</a>. The m originally stood for “mobile”, but now stands for “main”. The sap.m library is one of the main collections of responsive controls which are used to build Fiori apps. For more info, you might want to read “<a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/February-2014/M-is-for-responsive/\">M is for ‘responsive’</a>“.</p>\n<p><em>“We have a library [sap.ui.table] for table, and that provides me with the ability to create a table that is very rich in data but also responsive”</em></p>\n<p>For responsive tables, you probably want to look at the <a href=\"https://openui5.hana.ondemand.com/explored.html#/entity/sap.m.Table/samples\">sap.m.Table</a> control, rather than the sap.ui.table library, as the former is designed from the ground up to be responsive, whereas the latter is more for desktop apps.</p>\n<p><em>MVC – View &lt;-&gt; Model data binding</em></p>\n<p>In slide 13, there’s a classic MVC style diagram, but the data binding relationship between the view and the model seems to be shown as one way only:</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/03/Screenshot-2015-03-28-at-14.12.27-300x47.png\" alt=\"Screenshot 2015-03-28 at 14.12.27\" /></p>\n<p>One of the many features of the powerful model mechanism and the data binding therein is that you can have two way binding. So I’d have drawn that arrow pointing both ways.</p>\n<p><em>XML View definition</em></p>\n<p>Being a stickler for accuracy (perhaps to the point of pedantry, of which I’m proud, not apologetic :-), this XML View definition on slide 14 is not quite accurate:</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/03/Screenshot-2015-03-28-at-14.15.27.png\" alt=\"Screenshot 2015-03-28 at 14.15.27\" /></p>\n<p>The View is within the sap.ui.core.mvc namespace, not the sap.ui.core namespace, so the root element here should reflect that, like this:</p>\n<pre><code>&lt;mvc:View xmlns:mvc=”sap.ui.core.mvc”\n</code></pre>\n<p><em>Router? Bueller?</em></p>\n<p>So if I’m going all out, I might as well mention that one thing that I think slide 16 could have benefitted from is mention of the Router in the architecture overview diagram. I do appreciate that these slides may have come from a time before the Router concept was properly established, but the Router is an incredibly important part of any Fiori app, so it would have really helped to see it here.</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/03/Screenshot-2015-03-28-at-14.21.38.png\" alt=\"Screenshot 2015-03-28 at 14.21.38\" /></p>\n<p>That said, now you know, you can go and find out more about it! :-)</p>\n<p>Don’t get me wrong, I’m very excited about this course, and these issues can be ironed out now they’ve been surfaced. I’m looking forward very much to Week 2.</p>\n<p><strong><a href=\"http://www.bluefinsolutions.com/About-us/News-and-Media/Events/Fiori-breakfast-event/\">Fiori Breakfast Event</a> by <a href=\"https://twitter.com/callaghan001\">Brenton O’Callaghan</a>, <a href=\"http://www.bluefinsolutions.com/Blogs/Lindsay-Stanger/\">Lindsay Stanger</a> and me</strong><br />\nOn Tuesdsay morning this week in London, Brenton, Lindsay and I, along with other great Bluefin folks, ran a breakfast event all about Fiori. It was a really successful gathering, with business and technical attendees from SAP customer companies who were already, or were about to, or were just interested in embarking upon their Fiori journey. We had a special guest from one of our clients too, and to be honest, she stole the show :-)</p>\n<p>It was clear from the event that people are realising that Fiori is not only here, it’s here to stay, and it’s a journey that is not just about new apps, but about a new SAP. If you’re reading this TWIF column, you already know that. It’s a genuinely exciting time for us as customers, partners and consultants, not only because of the UX aspect, but also because the present and future that is Fiori is based upon open technology standards that are right. SAP has grasped the nettle of user experience, and embraced the right tools and technologies. Good work!</p>\n<p>Well that was rather a longer post than usual, so in the interests of keeping this to something you can read in a coffee break, I’ll leave it here, and wish you well. Until next time!</p>\n",
      "date_published": "2015-03-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/20/3/this-week-in-fiori-2015-12/",
      "url": "https://qmacro.org/blog/2015/20/3/this-week-in-fiori-2015-12/",
      "title": "This Week in Fiori (2015-12)",
      "content_html": "<p><img src=\"http://scn.sap.com/community/image/2599/1.png?a=390268\" alt=\"\" /></p>\n<p>Greetings! Last week saw the return of the <a href=\"https://qmacro.org/category/twif/\">This Week in Fiori</a> series, with a video from me and <a href=\"https://callaghan001.wordpress.com/\">Brenton</a>. More on that video shortly. Before last week, the previous episode had been in October last year. So much has happened in the Fiori world that it would be crazy to try and cover it all. Instead, over the next week or two, I’ll pick out some items that stand out.</p>\n<p>So let’s get started with some picks for this week.</p>\n<p><strong><a href=\"http://gregorbrett.blogspot.co.uk/2015/03/ive-just-watched-this-interesting-video.html\">Filtering Fiori Apps by Release</a> by Gregor Brett</strong><br />\nIn last week’s video, we looked at the Fiori Apps Library app and found that it wasn’t easy to identify the latest apps. I mentioned that while the Fiori Apps Library app itself didn’t expose the information in that way, the data was actually available, and <a href=\"https://youtu.be/LanZx1W2yqI#t=18m10s\">laid down a challenge</a> for anyone to make the app do just that.</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/03/Screen-Shot-2015-03-20-at-16.03.06-248x300.png\" alt=\"Screen Shot 2015-03-20 at 16.03.06\" /></p>\n<p>Just a few days later the first response appeared – <a href=\"http://gregorbrett.blogspot.co.uk/2015/03/ive-just-watched-this-interesting-video.html\">Gregor Brett came up with a nice solution</a>, which was to patch the running Fiori Apps Library app, adding a new View Settings Filter Item to the filterItems aggregation of the actual View Settings Dialog used in the app. The items within that new View Settings Filter Item were bound to a data collection that was already being exposed by the backend in the OData service, namely the Releases_EV collection, which gave information on Fiori Wave numbers and dates.</p>\n<p>Bingo! Nice work Gregor.</p>\n<p></p>\n<p><strong><a href=\"http://scn.sap.com/community/fiori\">The Fiori Community</a> by the SAP Community Network</strong><br />\nSince the last episode of TWIF last year in October, SAP have <a href=\"http://scn.sap.com/community/fiori/blog/2015/02/25/sap-fiori--the-new-community-space-in-scn\">created a new community</a> within the SAP Community Network for Fiori. There’s already a community for SAPUI5, but now there’s a specific community for Fiori. I spoke about this in my keynote at Mastering SAP Technologies last month, and it’s an interesting and important distinction that SAP are making.</p>\n<p>If you think about it, Fiori as an umbrella term is gigantic. It could be seen as a lot of things to a lot of people. Separating out the technical underpinnings (UI5) from other aspects (Fiori application configuration, extension and maintenance, UX design, deployment and platform subjects, and more) was only going to be a matter of time, if only to make the subjects more manageable.</p>\n<p>But also remember that future Fiori offerings from SAP may not be powered by UI5. Of course, all of the Fiori offerings now and in the near future are, including all the S/4HANA applications such as the SFIN set, but when you consider SAP’s purchases – Ariba, Concur and SuccessFactors to name but three – a unified UX strategy is not going to happen from re-engineering the whole UI/UX layer of those (previously) third party products.</p>\n<p>Visit the new SAP Fiori community and have a look around. It looks like it’s here to stay :-)</p>\n<p><strong><a href=\"http://scn.sap.com/community/fiori/blog/2015/03/11/architectural-consideration-when-planning-the-fiori-abap-frontend-server-fes\">Planning the Fiori ABAP Frontend Server (FES) – Architecture Questions</a> by Jochen Saterdag</strong><br />\nGetting your Fiori apps served to the frontend involves making the following things available: the OData services, the Fiori Launchpad, the Fiori app code (views, controller logic, and so on) and of course the UI5 runtime. SAP has been slowly but surely socialising the term “frontend server” to refer to a system that fulfils this role. I first heard the term from SAP Labs folks in Israel back in 2013 (see “<a href=\"http://scn.sap.com/people/dj.adams/blog/2013/10/03/an-amazing-36-hours-at-sap-labs-israel\">An Amazing 36 Hours at SAP Labs Israel</a>“), and it’s becoming more pervasive these days. In modern parlance, perhaps, it’s now properly “become a thing”.</p>\n<p>Of course, there are always considerations when planning such a server, and Jochen does a good job with this overview blog post. He answers some important questions, including whether you should use an existing PI system as the base for such a frontend server … the answer, clearly, is “no”.</p>\n<p><strong><a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/March-2015/10-tips-to-get-you-started-on-your-Fiori-developme/\">10 tips to get you started on your Fiori development journey</a> by me</strong><br />\nWell, what’s the point of having your own blog post series if you can’t talk about your own content now and again? ;-) As I mentioned earlier, I<a href=\"https://qmacro.org/2015/02/16/speaking-at-mastering-sap-technologies/\"> spoke at the great Mastering SAP Technologies Conference</a> in Feb this year. I wrote up my keynote into two blog posts, the second of which was a “top ten” style list. I’m sure there are many of you looking to embark upon this journey, so I thought I’d put together tips on what worked for me. If you’re interested in the first of the two posts, it’s “<a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/March-2015/Can-I-build-a-Fiori-app-Yes-you-can!/\">Can I build a Fiori app? Yes you can!</a>“.</p>\n<p>Well that’s about it for this week. See you next time!</p>\n",
      "date_published": "2015-03-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/17/3/making-information-more-useful/",
      "url": "https://qmacro.org/blog/2015/17/3/making-information-more-useful/",
      "title": "Making Information More Useful",
      "content_html": "<p>If you’re reading this, it’s because you’ve followed a “what is this?” type link from something I’ve written.</p>\n<p>I recently wrote about trying to become more effective and efficent in “<a href=\"https://qmacro.org/2015/03/15/the-makers-schedule-restraint-and-flow/\">The Maker’s Schedule, Restraint and Flow</a>” and in that post I referred to a video of a great talk by <a href=\"http://www.hanselman.com/\">Scott Hanselman</a>, in which he talks (in the “<a href=\"https://youtu.be/IWPgUn8tL8s?t=33m9s\">Conserve Your Keystrokes</a>” section) about preventing information getting lost and having less value, by being trapped in emails when it could be shared and repurposed.</p>\n<p>So when I find myself replying to an email, and writing more than a few sentences, I’m trying instead to store that reply, that infomation, in a place where it will live longer, and have the chance to help folks other beyond the original email addressee. And after storing that information, <em>I just send a link to that place instead</em>.</p>\n<p>Thanks for reading!</p>\n",
      "date_published": "2015-03-17T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/15/3/the-maker-s-schedule-restraint-and-flow/",
      "url": "https://qmacro.org/blog/2015/15/3/the-maker-s-schedule-restraint-and-flow/",
      "title": "The Maker&#39;s Schedule, Restraint and Flow",
      "content_html": "<p>A few years ago Paul Graham published a short essay “<a href=\"http://www.paulgraham.com/makersschedule.html\">Maker’s Schedule, Manager’s Schedule</a>“. It described succinctly how, and perhaps more importantly why calendar entry driven task scheduling, and in particular meetings, cause issues for makers. And I include myself and many of my colleagues within that “makers” general collective term.</p>\n<p>Both the manager’s schedule and the maker’s schedule are important, but resonate differently and don’t mix. When making, building, creating things, solving problems, interruptions are disastrous, for all the reasons that Paul explains.</p>\n<p>On the other side, time management, the proper organisation of tasks and working out what work to do, and how, doesn’t come for free. Managers and makers alike need skills in these areas. In order to build these skills, each one of us needs to understand that the areas actually exist, first of all. Email, phone calls, interruptions, the almost endless todo list and prioritisation issues are all things that we need to manage. And I recognise that I need to manage those things better. I use the Pomodoro Technique on occasion, but that’s just one tool. I also need to learn restraint. I need to resist the temptation to say “yes”, and to allow myself to be interrupted. If I get it right, I will find myself in <a href=\"http://en.wikipedia.org/wiki/Flow_%28psychology%29\">flow</a> more often. And that’s the mode that makers – developers, in our context – work.</p>\n<p>Since that original article on the Maker’s Schedule, I’ve come across many other great articles and videos, and I wanted to share a few of them with you here, as you may find them useful too.</p>\n<p>Remember – saying “no”, creating situations where you’re less able to be interrupted, using task and time management techniques that work for you, that let you produce more (or less, but that’s the subject for another post), is what we <em>should</em> be doing. Don’t fall into the trap of thinking that just because your project manager thinks and works in 1 hour chunks of time, you need to do as well. Of course, real life has a habit of getting in the way, but don’t let that stop us trying to be our best.</p>\n<p>Further viewing &amp; reading:</p>\n<p><a href=\"https://www.youtube.com/watch?v=IWPgUn8tL8s&amp;feature=youtu.be\">Scott Hanselman: It’s Not What You Read, It’s What You Ignore</a></p>\n<p><a href=\"https://localizejs.com/blog/startup/developer-productivity-saying-no\">Johnny Wu: Developer Productivity – The Art Of Saying “No”</a></p>\n<p><a href=\"http://inboxpause.com/\">Inbox Pause</a> (great as an idea as well as this implementation)</p>\n<p><a href=\"http://pomodorotechnique.com/\">The Pomodoro Technique</a></p>\n",
      "date_published": "2015-03-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/13/3/this-week-in-fiori-2015-11/",
      "url": "https://qmacro.org/blog/2015/13/3/this-week-in-fiori-2015-11/",
      "title": "This Week In Fiori (2015-11)",
      "content_html": "<p>Well hello again and welcome to TWIF readers old and new alike.</p>\n<p>Last year I started the <a href=\"https://qmacro.org/category/twif/\">“This Week In Fiori” (TWIF) series</a> looking at news, events and articles in the Fiori world. The last post (<a href=\"https://qmacro.org/2014/10/27/this-week-in-fiori-2014-43/\">2014-43</a>) was in October 2014, written by Brenton O’Callaghan.</p>\n<p>The Fiori world is growing and spinning even faster, and Brenton and I decided it was time to pick up where we left off. To get the ball rolling, we recorded a half-hour session at the end of this week, looking at some news in the Fiori world. This time we took a more technical flavour, remembering that Fiori is UX, but built ultimately built with UI (see “<a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/March-2015/Can-I-build-a-Fiori-app-Yes-you-can!/\">Can I Build A Fiori App? Yes You Can!</a>” for more on Fiori UX vs UI) – there are always two sides to any single coin.</p>\n<p>If you have any news, or any suggestions for future TWIF episode topics, just let us know!</p>\n<p>Here’s this week’s episode. Thanks Brenton!</p>\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"352\" src=\"https://www.youtube.com/embed/LanZx1W2yqI?feature=oembed\" width=\"625\"></iframe>\n<p>Share &amp; enjoy!</p>\n",
      "date_published": "2015-03-13T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/9/3/why-i-m-staying-close-to-ui5/",
      "url": "https://qmacro.org/blog/2015/9/3/why-i-m-staying-close-to-ui5/",
      "title": "Why I&#39;m Staying Close to UI5",
      "content_html": "<p>I recently came across an article by Greg Donaldson – “<a href=\"http://createsend.com/t/r-1D458A2147210E112540EF23F30FEDED\">Why We Are Staying Clear of SAPUI5</a>“. Everyone is entitled to their opinions, and I do like challenges to assumptions and the status quo, so I enjoyed the article. I thought it would be worth responding with a similar piece, albeit with a slightly different title :-)</p>\n<p>It would be an odd situation indeed for a unified consensus on any software, let alone software in this particular context – HTML5 development toolkits and frameworks, where, if you don’t have an opinion, you’re looked upon as an outsider. So I wanted to state before I start that there is no single correct answer, or even a single toolkit to rule them all, and Greg makes some important points.</p>\n<p>I thought I’d look at the individual points that Greg made.</p>\n<p><strong>“Proprietary framework, no thanks.”</strong></p>\n<p>As a lot of folks already know, UI5 is far from proprietary. It is written and maintained by web developers that work for an enterprise software behemoth, but the key difference is that UI5 has been open sourced, as well as using many open source libraries itself. In the article there’s the contrast made between “proprietary” and “industry standard” as though they’re opposites. This is not the case. So I’m not sure whether the criticism being levelled at UI5 is about its proprietary nature (which is not the case) or about (not) being an industry standard. This latter point is debatable: A toolkit powering frontend software across the entire ERP landscape for SAP customers feels like a de facto industry standard to me. Yes, not every company has adopted Fiori, but for one that drives its business on SAP products, UI5 is a likely software component.</p>\n<p>I’m curious about the “SAP quirks” phrase which is also mentioned in this point. I’m not sure which quirks are being referred to, but if industrial strength design, MVC, internationalisation, automatic support for RTL languages, client and server side model support and an accomplished data binding system are SAP quirks, then yes please!</p>\n<p>Further, AngularJS is mentioned as a framework with a huge community behind it. From what I can see, that community is fracturing, due to the major upheaval in (re)design between the 1.x and 2.x versions. That’s not to say that this couldn’t happen to UI5, but it’s actually happening right now with that framework.</p>\n<p><strong>“SAP Backend Upgrade?”</strong></p>\n<p>To do UI5-based apps “properly”, or “the SAP way”, then this is true; if you don’t already have a Gateway system in your ABAP stack landscape, then you’ll need one and also the UI2 add-in with which the UI5 runtime is supplied.</p>\n<p>In my experience, however, it’s increasingly less common for an enterprise to not have a Gateway system somewhere; and with NetWeaver 7.40 you get the components built in as standard anyway. Further, installing Gateway components is often a coffee time activity.</p>\n<p>But not wanting to over-trivialise this important original point, I wanted to point out the alternative; an alternative that is the most likely scenario anyway for a non-UI5 deployment such as AngularJS: a separate web server. You can just as easily host and serve your UI5 based applications, along with the UI5 runtime, from a web server of your choice. Then accessing the backend becomes the same task as if you’d chosen a different (non-UI5) framework.</p>\n<p>And on the subject of accessing the backend, the point that was made about “remote enabled functions” does intrigue me. One of the advantages of UI5 is that it supports OData, an open standard, by the way, and one of the advantages of OData in turn is that it is a server-side model.</p>\n<p>Calling remote function modules in this day and age is certainly possible and sometimes the only choice, but you’re not going to take advantage of server-side heavy lifting when it comes to data integration with your frontend. I’ve built Web-based apps with SAP remote function calls since the 90s, so I have the scars :-) Not only that, but the data abstraction model presented by the RFC approach is somewhat orthogonal to modern web based app data mechanisms.</p>\n<p><strong>“Browser Support”</strong></p>\n<p>This is of course always an interesting issue, but as an individual developer, and as a member of a development team, I prefer a solid statement about a well defined set of modern browsers which are supported by the toolkit I use, rather than have to do that job myself and deal with the vagaries that present themselves on a daily basis. Of course, rolling your own gives more flexibility, but it’s often more work.</p>\n<p>And at least for the clients that I work at, the fact that (a) the browser choice is usually somewhat controlled anyway, and (b) the fact that in the BYOD context people even choose (choose!) to bring Windows phones, which are supported by UI5, underlines that choice for me.</p>\n<p><strong>“Frontend Developers Don’t Care”</strong></p>\n<p>At the risk of appearing obtuse, I’m going to absolutely disagree with this statement :-) Frontend developers <em>do</em> care; they care about the quality of the software they work with, about how and whether the toolkit they use <a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/March-2015/Can-I-build-a-Fiori-app-Yes-you-can!/\">does the job without getting in the way</a>. Of course, this caring, this obsessive compulsion to be using the right framework and doing the right thing may mean that for some developers the choice is something other than UI5.</p>\n<p>And that would be fine. There is no one piece of software that fits all requirements or circumstances, in any context. In the past I have used jQueryUI, JQTouch, AngularJS and other frameworks. And I would never rule them out for future projects. But right now, I’m investing time and effort in UI5, because it’s open source, it’s enterprise ready, it’s been designed &amp; built and is maintained by committed, passionate designers and developers just like you and me (well, a lot more competent than me) and it is also fully in tune with SAP’s technology directions.</p>\n<p>Skills in UI5 are going to be useful not only for building out the current and next generation of proper outside-in apps, but also for supporting the deployments, customisations and extensions for Fiori. A nice side effect at which one should not sniff.</p>\n<p></p>\n",
      "date_published": "2015-03-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/16/2/speaking-at-mastering-sap-technologies/",
      "url": "https://qmacro.org/blog/2015/16/2/speaking-at-mastering-sap-technologies/",
      "title": "Speaking at Mastering SAP Technologies",
      "content_html": "<p>Next week I’m travelling to Johannesburg, to attend and speak at the <a href=\"http://www.masteringsap.co.za/tech\">Mastering SAP Technologies conference</a>. It’s a great honour to have been invited, and I’m excited at the prospect of the topics covered in the <a href=\"http://www.masteringsap.co.za/tech/agenda\">agenda</a>.</p>\n<p>I’m continuing my journey spreading the word about Fiori and UI5. Last November I was in Sydney giving a locknote, a workshop and speaking at an executive lunch, at the <a href=\"https://qmacro.org/2014/11/28/the-inaugural-sap-architect-developer-summit/\">SAP Architect &amp; Developer Summit</a>. A couple of weeks ago it was a short trip to Brussels to speak about <a href=\"https://qmacro.org/2015/02/02/openui5-at-fosdem-2015/\">OpenUI5 at FOSDEM</a>, and now at Mastering SAP I have three slots. Here’s the description of each of them.</p>\n<p><strong><a href=\"http://lanyrd.com/2015/masteringsap/sdfyqz/\">Keynote: Can I Build a Fiori App? Yes You Can!</a></strong></p>\n<p>Fiori is not just the new UX-focused, role-based application paradigm from SAP, it’s also a set of technical constraints coupled with a rich but finite set of design patterns for UI. Most importantly it’s made possible by certain parts of the SAPUI5 toolkit that were specifically built with Fiori in mind. (In fact, the first customers of the sap.m library in SAPUI5 were the SAP Fiori developers themselves). This session tells you what you need to know to build a Fiori app.</p>\n<p><strong><a href=\"http://lanyrd.com/2015/masteringsap/sdfyrb/\">Tips &amp; Tricks from the Trenches of a Fiori/UI5 Developer</a></strong></p>\n<p>Developing Fiori and UI5 apps with the UI5 toolkit is different than what you’re used to. Different generally because it’s HTML5 based, and different specifically because it’s UI5. Learn the tips and tricks that I use on a daily basis, and get to know how to drive, modify and extend Fiori/UI5 apps from the command line console of Chrome’s developer tools. Master UI5 debugging and maintenance from within the browser and get a step ahead.</p>\n<p><strong><a href=\"http://lanyrd.com/2015/masteringsap/sdfyrc/\">Workshop: Building an SAP Fiori-like App From (Almost) Scratch – Hands On!</a></strong></p>\n<p>Starting from a skeleton app that has a structure but minimal content, and an OData or JSON data source, we build together a working Fiori app with SAPUI5. We cover bootstrapping the SAPUI5 toolkit, the Component-based approach to development, Model-View-Controller based development, XML views, navigation, data binding, model operations and more. This is similar to the Open Source Convention (OSCON) hands-on session I co-presented in Portland, June 2014, and the CD168 hands-on sessions I co-built &amp; co-presented at SAP TechEd in 2013 (which were sold out / overbooked many times).</p>\n<p>Perhaps I’ll see some of you there. In any case, share &amp; enjoy!</p>\n",
      "date_published": "2015-02-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/14/2/fiori-and-ui5-related-videos/",
      "url": "https://qmacro.org/blog/2015/14/2/fiori-and-ui5-related-videos/",
      "title": "Fiori &amp; UI5 Related Videos",
      "content_html": "<p>I thought it would be worth collecting together a lightly annotated list of Fiori and UI5 public videos that I’ve published on <a href=\"https://www.youtube.com/user/qmacro99/\">my YouTube channel</a>. (I say public, as there are quite a few OpenUI5 related videos still marked as private, waiting in the wings … watch this space!)</p>\n<p><strong>2015</strong></p>\n<p><a href=\"https://www.youtube.com/watch?v=B9FGqJFZbzQ\">Fiori Apps Reference Data into a Spreadsheet</a> 09 Jan 2015<br />\nPulling the Apps info from the OData service used by the SAP Fiori Apps Library app into a Google spreadsheet. More info here: <a href=\"https://qmacro.org/2015/01/09/fiori-app-data-into-a-spreadsheet-challenge-accepted/\">Fiori App Data into a Spreadsheet? Challenge Accepted!</a></p>\n<p><strong>2014</strong></p>\n<p><a href=\"https://www.youtube.com/watch?v=-8SIasBQc5U\">YAML Model for UI5</a> 20 Dec 2014<br />\nI scratched an itch and built a simple YAML Model implementation for UI5. More info here: <a href=\"https://github.com/qmacro/YAMLModel\">https://github.com/qmacro/YAMLModel</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=JPy7TxLpILg\">Creation &amp; Reload of UI5 UIs in the Chrome Developer Console</a> 24 Nov 2014<br />\nFollowing <a href=\"http://lanyrd.com/2014/sap-architect-and-developer-summit/sdfyrf/\">my workshop session</a> at the <a href=\"https://qmacro.org/2014/11/28/the-inaugural-sap-architect-developer-summit/\">SAP Architect &amp; Developer Summit</a>, this screencast shows the creation of a quick UI, using the manual Chrome Developer Console techniques we learned, and the subsequent export and reload as XML. (I recorded this at Sydney airport on the way back from the summit).</p>\n<p><a href=\"https://www.youtube.com/watch?v=jAp_nGqOT_c\">SAP Fiori Rapid Prototyping: SAP Web IDE and Google Docs</a> 05 Nov 2014<br />\nWith the power of the SAP Web IDE and its plugin / template architecture, we can create custom templates that allow you to create Fiori apps based on all sorts of data sources, in this case, a Google Spreadsheet.</p>\n<p><a href=\"https://www.youtube.com/playlist?list=PLfctWmgNyOIfF6gbmp_PZGNgn6YVJHfyU\">SAP Web IDE Local Install – Up and Running</a> (3-video playlist) 27 Oct 2014<br />\nSAP made available its Web IDE as a locally installable service in Oct 2014. This short series of videos shows you how to get up and running with it.</p>\n<p><a href=\"https://www.youtube.com/watch?v=Hz3ZWWF0BFM\">SAP Fiori &amp; UI5 Chat, Fri 17 Oct 2014</a> 17 Oct 2014<br />\nBrenton O’Callaghan and I have a 30 min chat about SAP Fiori and the new, unofficial SAP Fiori App that gives information about the available SAP Fiori Apps.</p>\n<p><a href=\"https://www.youtube.com/watch?v=laNprcrApKc\">UI5 Icon Finder</a> 14 Sep 2014<br />\nA very quick screencast of an “Icon Finder” app that remembers your own word associations you make, so you can more easily find the icons next time. See <a href=\"https://qmacro.org/2014/09/14/scratching-an-itch-ui5-icon-finder/\">Scratching an itch – UI5 Icon Finder</a> for more info.</p>\n<p><a href=\"https://www.youtube.com/watch?v=0UIyKoiZ-gE\">OpenUI5 MultiComboBox First Look</a> 25 Jul 2014<br />\nA first look at the sap.m.MultiComboBox in OpenUI5 version 1.22. Note that the addition of a key for the root element is not entirely necessary (but probably what you might want). I wrote more about this here <a href=\"https://qmacro.org/2014/07/26/keyed-vs-non-keyed-root-json-elements-ui5-binding/\">Keyed vs Non-Keyed Root JSON Elements &amp; UI5 Binding</a>.</p>\n<p><a href=\"https://www.youtube.com/watch?v=aVeQ4adHgaY\">The SAP Fiori App Analysis application</a> 30 Jun 2014<br />\nA short overview of the SAP Fiori App Analysis app, written itself as a Fiori style app. In this overview I show the source for the information (the SAP help documentation), mention how I convert the gathered spreadsheet data into a more easily consumable form, and explore the app a little bit too.</p>\n<p><a href=\"https://www.youtube.com/watch?v=jjRc4AehSoA\">DSON (Doge Serialized Object Notation) Model mechanism for UI5. So model, wow!</a> 06 Jun 2014<br />\nA bit of fun for a Friday late afternoon, and it helped me to play about with extending existing client models in the sap.ui.model library set.</p>\n<p><a href=\"https://www.youtube.com/watch?v=nRtocPEPLYI\">Manipulating UI5 Controls from the Chrome Dev Console</a> 17 May 2014<br />\nJust a quick screencast to show how easy it can be to find, grab, manipulate and create controls in a UI5 application from the Chrome Developer Console.</p>\n<p><a href=\"https://www.youtube.com/watch?v=LuW_HT_c7xM\">Simple Workflow App with UI5</a> 13 Apr 2014<br />\nThis is a quick screencast of the app I wrote for the basis of my chapter in the SAP Press book <a href=\"https://www.sap-press.com/practical-workflow-for-sap_3615/\">Practical Workflow 3rd Edition</a>.</p>\n<p><a href=\"https://www.youtube.com/watch?v=iZa4pEP3GZw\">Coding UI5 in JSBin</a> 11 Apr 2014<br />\nA quick recap of what we did during the UI5 Mentor Monday in March 2014, showing how easy it is to construct good looking UIs with UI5, and also the great facilities of JSBin – creating, viewing and sharing HTML CSS and JavaScript snippets with live rendering.</p>\n<p><a href=\"https://www.youtube.com/watch?v=RJ8Kg14vhdE\">Mocking Up the Payroll Control Center Fiori App</a> 14 Feb 2014<br />\nThere was a blog post on the Payroll Control Center Fiori app and I decided to mock the UI up directly. This video shows me doing that.</p>\n<p><a href=\"https://www.youtube.com/watch?v=vDK4w8y7QmY\">#UI5 Control on the Screen, Quick</a> 12 Feb 2014<br />\nThere was a conversation about how fast you could get a UI5 control on the screen. I decided to try to see how fast it could be.</p>\n<p><a href=\"https://www.youtube.com/watch?v=Fgp_e3Uv5Xs\">Using Gists on Github to share code</a> 09 Jan 2014<br />\nThis screencast relates to a document on SCN “<a href=\"http://scn.sap.com/docs/DOC-50988\">Help Us To Help You – Share Your Code</a>” that describes how and why you should share your code that you want help with, using Gists on Github.</p>\n<p><strong>2013</strong></p>\n<p><a href=\"https://www.youtube.com/watch?v=ts0EogQZvS8\">SublimeUI5 – Snippets &amp; Templates for SAPUI5/OpenUI5</a> 19 Dec 2013<br />\n<a href=\"https://github.com/qmacro/SublimeUI5\">SublimeUI5</a> is a package for Sublime Text 2 for developing SAPUI5 / OpenUI5 applications. There are two parts to it – a series of snippets and some basic application templates to help you quickly get started with complete MVC-based running apps. (I don’t maintain this package any more but you’re welcome to take it over!).</p>\n<p><a href=\"https://www.youtube.com/watch?v=tfOO4szA2Bg\">SAPUI5/Fiori – Exploration of an App</a> 22 Nov 2013<br />\nAn exploration of a custom Fiori app and the SAPUI5 controls that are used to build it. For the full context of this, see the 2-part <a href=\"https://www.youtube.com/playlist?list=PLfctWmgNyOIcae85Ytr6b_J1jgcDb4-JL\">SAP CodeTalk – SAPUI5 and Fiori</a> playlist.</p>\n<p><a href=\"https://www.youtube.com/watch?v=ItETo2R3kqI\">SAP Fiori-style UI with SAPUI5</a> 06 Nov 2013<br />\nThis was a short video to show the sort of thing that attendees of our SAP TechEd 2013 Session CD168 “<a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2013/10/06/building-sap-fiori-like-uis-with-sapui5\">Building SAP Fiori-like UIs with SAPUI5</a>” would be building.</p>\n<p><strong>2012</strong></p>\n<p><a href=\"https://www.youtube.com/watch?v=wZUXz5f1CHI\">Re-presenting my site with SAPUI5</a> 13 Dec 2012<br />\nA short demo of an experiment I carried out to explore SAPUI5 and learn more about it. I really like the Shell component as a user interface paradigm and decided to see if I could re-present the content of my home page and weblog using SAPUI5 and specifically the Shell. It seemed to work out OK.</p>\n<p><a href=\"https://www.youtube.com/watch?v=Obh2LW7CCKY\">Stupid Firebase and SAPUI5 tricks</a> 14 Apr 2012<br />\nSaturday evening hacking around with <a href=\"http://www.firebase.com/\">Firebase</a>, the command line, and an SAPUI5 Data Table. Fairly pointless but interesting nonetheless. Firebase uses websockets for realtime data streaming to your browser-based app, and you can interact with the JSON data with HTTP. Every piece of data has a URL. Now that’s nice.</p>\n<p><a href=\"https://www.youtube.com/watch?v=yHVuWHNWK3I\">SAPUI5 and OData</a> 12 Feb 2012<br />\nI looked at the data binding support for OData based data sources (such as those exposed by SAP NetWeaver Gateway!) in the (then relatively) new SAPUI5 toolkit. I also wrote this up on SCN: “<a href=\"http://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/28659\">SAPUI5 says “Hello OData” to NetWeaver Gateway</a>“.</p>\n",
      "date_published": "2015-02-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/9/2/morning-fiori-fix/",
      "url": "https://qmacro.org/blog/2015/9/2/morning-fiori-fix/",
      "title": "Morning Fiori Fix",
      "content_html": "<p>John Moy <a href=\"https://twitter.com/jhmoy/status/564656599361261570\">tweeted</a> today about the Fiori App Reference Library showing duplicate entries recently. It’s something I’d noticed too, after checking the app following the publication of information on SCN about new Fiori apps on the post “<a href=\"http://scn.sap.com/community/erp/hcm/blog/2015/02/04/new-fiori-apps-for-hcm\">New Fiori Apps for HCM</a>” last week.</p>\n<p>I’m not 100%, so earlier this morning I needed a bit more time than usual to get my brain in gear. So with a coffee I decided to spend a few mins hacking the list display. It’s not a permanent solution of course, but at least demonstrates that there are <a href=\"https://fioriappslibrary.hana.ondemand.com/sap/fix/externalViewer/services/exparam.xsodata/Apps?$skip=0&amp;$top=100&amp;$orderby=appName%20asc&amp;$filter=substringof(%27leave%27,tolower(appName))&amp;$inlinecount=allpages&amp;$format=json&amp;$select=appName,PVFrontend\">properties in the Apps entity</a> that can be used to distinguish the “duplicate” entries. Should be a quick fix (yes, pun intended!) for the Fiori Implementation eXperience folks to carry out.</p>\n<p>Here’s a quick screencast as an animated GIF (why not?)</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/02/fixappfix.gif\" alt=\"image\" /></p>\n<p>Right, on with the morning.</p>\n",
      "date_published": "2015-02-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/2/2/openui5-at-fosdem-2015/",
      "url": "https://qmacro.org/blog/2015/2/2/openui5-at-fosdem-2015/",
      "title": "OpenUI5 at FOSDEM 2015",
      "content_html": "<p>I just returned from <a href=\"http://fosdem.org/\">FOSDEM</a>, the conference for free and open source software developers that’s held annually in Brussels. It’s a super event that has a long pedigree already, and has managed to remain true to the hacker culture and spirit that pervades the open source world. Innovation, scrutiny, sharing and collaboration are the bywords of this culture.</p>\n<p>I have attended FOSDEM a number of times over the years; in the early days in my capacity as a Jabber / XMPP programmer, and these days more generally, but this time it was specifically about <a href=\"http://openui5.org/\">OpenUI5</a>.</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/02/IMG_20150202_080814.jpg\" alt=\"image\" />SAP’s open sourced UI development toolkit for HTML5 is SAPUI5’s twin with an Apache 2.0 licence. SAPUI5 is the basis for SAP’s UI innovation and with what SAP Fiori apps are built. Although still relatively young, it’s a very accomplished toolkit, and one I was eager to share with the open source developer community at large.</p>\n<p>I spoke on the subject of OpenUI5 in this talk:</p>\n<p><a href=\"http://lanyrd.com/2015/fosdem/sdhcrp/\">A Whirlwind Introduction to OpenUI5</a></p>\n<p>and it was very well received; the room was packed and there was some great feedback. It wasn’t difficult talking about a product from such a great team, although to add extra spice, I’d decided not to use any slides, and instead, do some live coding on stage.</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/02/IMG_20150202_080838.jpg\" alt=\"image\" />I had deliberately set myself up for a fall, showing how difficult it can be to built hierarchies of controls in JavaScript, which then set the scene for my favoured approach of defining views declaratively, with XML being my favourite flavour in that vein. Luckily the audience seemed to appreciate the in-joke, and not everyone thought I was an idiot :-)</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/02/IMG_20150202_080932.jpg\" alt=\"image\" /></p>\n<p>I’ve made the source code of the app I built on stage available on Github, in the <a href=\"https://github.com/qmacro/fosdem-2015-openui5\">fosdem-2015-openui5</a> repository.</p>\n<p>The SAP folks had an OpenUI5 booth at FOSDEM too which was staffed by a few of the real UI5 developers, so the conference attendees were able to learn first hand about the toolkit from the source. The booth saw a nice increase in traffic after my talk, which is a great sign.</p>\n<p>SAP has had a presence at many conferences in the past few years, but this one resonates particularly with me, as some folks might think that the SAP and open source worlds are far apart. How wrong they are. Onwards!</p>\n<p><em>Picture credits: Denise Nepraunig, Jan Penninkhof, Martin Gillet – thanks!</em></p>\n",
      "date_published": "2015-02-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/19/1/atom-snippets-tabs-and-cson-parsing/",
      "url": "https://qmacro.org/blog/2015/19/1/atom-snippets-tabs-and-cson-parsing/",
      "title": "Atom, Snippets, Tabs and CSON parsing",
      "content_html": "<p>This morning on the train down from Manchester to Bristol I fired up the Atom editor and noticed that when trying to load a snippets file from my <a href=\"https://github.com/qmacro/ui5-snippets\">ui5-snippets</a> package, I got an error:</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/01/Screen-Shot-2015-01-19-at-08.18.19.png\" alt=\"image\" /></p>\n<p>Between Stafford and Wolverhampton I hacked around with the source, particularly the html.cson file that contained a number of UI5 snippets for HTML files. From where was this error message emanating, and why now?</p>\n<p>Well, it seems that a few days ago, in <a href=\"https://github.com/atom/atom/releases/tag/v0.171.0\">release 0.171.0</a>, Atom had moved from parsing CoffeeScript Object Notation (CSON) with <a href=\"https://github.com/bevry/cson\">cson</a>, to parsing with <a href=\"https://github.com/groupon/cson-safe\">cson-safe</a>. CSON is the format in which snippets can be written. Moving to cson-safe meant that the parser was rather stricter and was the source of the “<em>Syntax error on line 4, column 11: Unexpected token</em>” error.</p>\n<p>By the time we’d got to Birmingham, I’d figured out what it was: tabs. In wanting to move in the direction of the <a href=\"https://github.com/SAP/openui5/blob/master/CONTRIBUTING.md#contribute-code\">UI5 coding standards</a>, I’d started moved to tabs for indentation within the UI5 snippets, as you can see in <a href=\"https://github.com/qmacro/ui5-snippets/commit/d661a4b3132f50c99262972c85f48f69ad79e44a\">this openui5 starter snippet</a>. While the original cson parser used by Atom was fine with real tabs in the snippet source file, cson-safe didn’t like them.</p>\n<p><a href=\"https://github.com/qmacro/ui5-snippets/commit/260441b096b2f280fb81f91715182df153f65200\">Switching the tabs to literal “\\t” tab representations</a> (i.e. backslash then ‘t’) solved the issue.</p>\n<h2 id=\"\" tabindex=\"-1\"> <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/19/1/atom-snippets-tabs-and-cson-parsing/#\" aria-hidden=\"true\">#</a></h2>\n<p></p>\n<p></p>\n",
      "date_published": "2015-01-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/9/1/fiori-app-data-into-a-spreadsheet-challenge-accepted/",
      "url": "https://qmacro.org/blog/2015/9/1/fiori-app-data-into-a-spreadsheet-challenge-accepted/",
      "title": "Fiori App Data into a Spreadsheet? Challenge Accepted!",
      "content_html": "<p>In October last year, following <a href=\"https://www.youtube.com/watch?v=aVeQ4adHgaY\">the original meta SAP Fiori App</a> ;-), SAP <a href=\"http://scn.sap.com/community/ux-rds/blog/2014/10/27/introducing-the-sap-fiori-apps-reference-library\">announced</a> their own long-awaited <a href=\"http://www.sap.com/fiori-apps-library\">SAP Fiori Apps Reference Apps Library</a>. At the time, <a href=\"https://qmacro.org/blog/2015/9/1/fiori-app-data-into-a-spreadsheet-challenge-accepted/www.bluefinsolutions.com/Blogs/Brenton-O-Callaghan/\">Brenton</a> and I chatted about it in “<a href=\"https://www.youtube.com/watch?v=Hz3ZWWF0BFM\">SAP Fiori &amp; UI5 Chat, 17 Oct 2014</a>“.</p>\n<p>Today there was a <a href=\"http://scn.sap.com/community/ux-rds/blog/2014/10/27/introducing-the-sap-fiori-apps-reference-library#comment-555838\">comment</a> in the announcement post, asking whether there was “<em>any way this information can be supported via a downloaded (into Excel perhaps)?  It would make sorting and filtering much easier</em>“.</p>\n<p>Seeing as one of the technical guidelines for Fiori apps is the use of an OData service to supply the domain data, and I had a bit of time over lunch, the well known phrase “Challenge Accepted!” floated into my consciousness.</p>\n<p>With the power of OData, JSON, Google Apps Script and the generally wonderful cloud productivity platform that is Google Apps, I set to work, and within a short amount of time, the challenge was completed.</p>\n<p>Here’s a video with all the details. The spreadsheet is <a href=\"https://docs.google.com/spreadsheets/d/1ob-0M9Qn6duMVxC05A2w1ekxR8H3Nc-etb_Fz6Y_4z0/edit?usp=sharing\">here</a>,</p>\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"469\" src=\"https://www.youtube.com/embed/B9FGqJFZbzQ?feature=oembed\" width=\"625\"></iframe>\n<p>Share and enjoy!</p>\n<p></p>\n",
      "date_published": "2015-01-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/",
      "url": "https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/",
      "title": "Running: 2014 in review, and some Clojure",
      "content_html": "<p>I enjoyed running in 2014 and logged each one via <a href=\"https://www.endomondo.com/profile/1074038\">Endomondo</a>. This post is a random collection of thoughts about the running, the data and some simple analysis, in Clojure.</p>\n<h2 id=\"watches\" tabindex=\"-1\">Watches <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/#watches\" aria-hidden=\"true\">#</a></h2>\n<p><img src=\"https://qmacro.org/blog/img/2015/01/garmin110.jpeg\" alt=\"Garmin Forerunner 110\" /></p>\n<p>I’ve been using a <a href=\"https://buy.garmin.com/en-GB/GB/watches-wearable-technology/wearables/forerunner-110/prod63511.html\">Garmin Forerunner 110</a> watch which has been very good, on the whole, although the USB cable and connectivity left something to be desired.</p>\n<p>I bought my wife Michelle a <a href=\"http://www.tomtom.com/en_gb/sports/running/products/runner-cardio-gps-watch/white-red/\">TomTom Runner Cardio</a> for her birthday back in August, and have been intrigued by it ever since. And she bought me one for Christmas, so I’m trying that out for 2015. I went out on my first run of this year with it <a href=\"https://twitter.com/qmacro/status/551299062616817664\">just this morning</a>, in fact.</p>\n<h2 id=\"run-data\" tabindex=\"-1\">Run data <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/#run-data\" aria-hidden=\"true\">#</a></h2>\n<p>But back to 2014. I completed 101 runs (1,281.22km) and they’re all logged in Endomondo. I don’t have the premium subscription, just the basic, but the features are pretty good. There’s an option to upload from the Garmin watch, via a browser plugin which (on this OSX machine) has become pretty flakey recently and now only works in Safari, but once uploaded, the stats for each run are shown rather nicely:</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/01/Screen-Shot-2015-01-03-at-10.16.43.png\" alt=\"A run on Endomondo\" /></p>\n<p>Endomondo also offers simple statistics and charts, and a tabular overview of the runs, that looks like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/01/Screen-Shot-2015-01-03-at-10.19.25.png\" alt=\"Tabular view of runs in Endomondo\" /></p>\n<p>One thing that bothered me, at least with the free service, is that there was no option to download this data. So I paged through the tabular data, and copy/pasted the information into a Google Sheet, my favourite gathering-and-stepping-off point for a lot of my data munging.</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/01/Screen-Shot-2015-01-03-at-11.31.28.png\" alt=\"Running history in a Google Sheet\" /></p>\n<p>If nothing else, as long as the data is largely two dimensional, I’ve found it’s a good way to visually inspect the data at 10000 feet. It also affords the opportunity for some charting action, so I had a look at my pace over the year, to see how it had improved. This is the result:</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/01/Screen-Shot-2015-01-03-at-11.33.37.png\" alt=\"Pace improvement in 2014\" /></p>\n<p>The three peaks in Feb, Jun and Sep are a couple of initial runs I did with Michelle plus her first 8km in London (now she’s in double km figures and has a decent pace, I’m very proud of her).</p>\n<h2 id=\"some-analysis-in-clojure\" tabindex=\"-1\">Some Analysis in Clojure <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/#some-analysis-in-clojure\" aria-hidden=\"true\">#</a></h2>\n<p>I could have gone further with the analysis in the spreadsheet itself, but I’m also just starting to try and teach myself <a href=\"http://clojure.org/\">Clojure</a>, and thought this would be a nice little opportunity for a bit of data retrieval and analysis.</p>\n<h2 id=\"exposing-the-data\" tabindex=\"-1\">Exposing the data <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/#exposing-the-data\" aria-hidden=\"true\">#</a></h2>\n<p><img src=\"https://qmacro.org/blog/img/2015/01/Screen-Shot-2015-01-03-at-11.41.19-300x219.png\" alt=\"image\" /></p>\n<p>Of course, the first thing to do was to make the data in the Google Sheet available, which I did with my trusty <a href=\"https://qmacro.org/2013/10/04/sheetasjson-google-spreadsheet-data-as-json/\">SheetAsJSON</a> mechanism. It <a href=\"http://bit.ly/qmacro-running-2014\">returned</a> a nice JSON structure that contained all the data that I needed.</p>\n<p>So now I had something that I could get Clojure to retrieve. Here follows some of what I did.</p>\n<h2 id=\"creating-the-project\" tabindex=\"-1\">Creating the project <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/#creating-the-project\" aria-hidden=\"true\">#</a></h2>\n<p>I’m using <a href=\"http://leiningen.org/\">Leiningen</a>, which is amazing in a combined couple of ways: it Just Works(tm), and it uses Maven.  My only previous experience of Maven had me concluding that Maven was an absolute nightmare, but Leiningen has completely changed my mind. Although I don’t actually have to think about Maven at all, Leiningen does it all for me, and my hair is not on fire (for those of you wondering, Leiningen’s tagline is &quot;for automating Clojure projects without setting your hair on fire&quot;, which I like).</p>\n<p>So I used Leiningen to create a new application project:</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">lein new app running-stats</code></pre>\n<p>and used my joint-favourite editor (Vim, obviously, along with Atom), with some super Clojure-related plugins such as <a href=\"https://github.com/tpope/vim-fireplace\">vim-fireplace,</a> to edit the core.clj file. (more on my Vim plugins another time).</p>\n<p>Here’s a short exerpt from what I wrote:</p>\n<p><img src=\"https://qmacro.org/blog/img/2015/01/Screen-Shot-2015-01-03-at-12.51.47.png\" alt=\"Screen Shot 2015-01-03 at 12.51.47\" /></p>\n<p>Let’s look at this code step by step.</p>\n<h2 id=\"library-use\" tabindex=\"-1\">Library use <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/#library-use\" aria-hidden=\"true\">#</a></h2>\n<p>I’m using Clojure’s <a href=\"https://github.com/clojure/data.json\">data.json</a> library (line 2) to be able to parse the JSON that my SheetAsJSON mechanism is exposing. I’m also using the <a href=\"https://github.com/dakrone/clj-http\">clj-http</a> HTTP client library (line 3) to make the GET request. Finally I’m using the <a href=\"https://clojuredocs.org/clojure.walk\">clojure.walk</a> library (line 4) for a really useful function later on.</p>\n<p>I decided to churn through step by step, which is why you’re seeing this code in four chunks, each time using the def special form to create a var in the current namespace.</p>\n<h2 id=\"creating-stats\" tabindex=\"-1\">Creating stats <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/#creating-stats\" aria-hidden=\"true\">#</a></h2>\n<p>There’s stats (line 6), which has the value of the parsed JSON from the body of the response to the HTTP GET request. To unravel lines 6-9 we have to read from the inside outwards.</p>\n<p>First, there’s the call to client/get in line 9 (the clj-http library is aliased as client in line 3). This makes the HTTP GET request and the result is a Persistent Array Map that looks something like this:</p>\n<p>running-stats.core=&gt; <strong>(client/get &quot;<a href=\"http://bit.ly/qmacro-running-2014\">http://bit.ly/qmacro-running-2014</a>&quot;)</strong> {:cookies {&quot;NID&quot; {:discard false, :domain &quot;.googleusercontent.com&quot;, :expires #inst &quot;2015-07-05T12:23:49.000-00:00&quot;, :path &quot;/&quot;, :secure false, :value &quot;67=EUPTfvAv3U5Vofm1F3Fb_D9OjmwYS1yC3Ju-uvgostmqzKSNLHKHiHGMc-cwFBAES0R3qcLFQW7W75x6sZjSzein3H7Trxeg6Bk0wOJ0q-AaYXA0RxYw0-uEhR5ogaXg&quot;, :version 0}}, :orig-content-encoding nil, :trace-redirects [&quot;<a href=\"http://bit.ly/qmacro-running-2014\">http://bit.ly/qmacro-running-2014</a>&quot; &quot;<a href=\"https://script.googleusercontent.com/macros/echo?user_content_key=jmP\">https://script.googleusercontent.com/macros/echo?user_content_key=jmP</a> [...] 5, :status 200, :headers {&quot;Server&quot; &quot;GSE&quot;, &quot;Content-Type&quot; &quot;application/json; charset=utf-8&quot;, &quot;Access-Control-Allow-Origin&quot; &quot;*&quot;, &quot;X-Content-Type-Options&quot; &quot;nosniff&quot;, &quot;X-Frame-Options&quot; &quot;SAMEORIGIN&quot;, &quot;Connection&quot; &quot;close&quot;, &quot;Pragma&quot; &quot;no-cache&quot;, &quot;Alternate-Protocol&quot; &quot;443:quic,p=0.02&quot;, &quot;Expires&quot; &quot;Fri, 01 Jan 1990 00:00:00 GMT&quot;, &quot;P3P&quot; &quot;CP=&quot;This is not a P3P policy! See <a href=\"http://www.google.com/support/accounts/bin/answer.py?hl=en&amp;answer=151657\">http://www.google.com/support/accounts/bin/answer.py?hl=en&amp;answer=151657</a> for more info.&quot;&quot;, &quot;Date&quot; &quot;Sat, 03 Jan 2015 12:25:02 GMT&quot;, &quot;X-XSS-Protection&quot; &quot;1; mode=block&quot;, &quot;Cache-Control&quot; &quot;no-cache, no-store, max-age=0, must-revalidate&quot;}, :body &quot;{&quot;Year-2014&quot;:[{&quot;Date&quot;:&quot;2014-01-02T00:00:00.000Z&quot;,&quot;Description&quot;:&quot;First run of 2014&quot;,&quot;Distance&quot;:&quot;13.50 km&quot;,&quot;Time&quot;:&quot;1h:13m:51s&quot;,&quot;Avg_Speed&quot;:&quot;11.0 km/h&quot;,&quot;Avg_Pace&quot;:&quot;5:28 min/km&quot;,&quot;Avg_HR&quot;:168,&quot;Distance_Value&quot;:13.5,&quot;Pace_Value&quot;:&quot;1899-12-30T05:28:00.000Z&quot;,&quot;Pace_Val_Mins&quot;:5,&quot;Pace_Val_Secs&quot;:28,&quot;Pace_In_Secs&quot;:328,&quot;Month_of_Run&quot;:1},{&quot;Date&quot;:&quot;2014-01-05T00:00:00.000Z&quot;,&quot;Description&quot;:&quot;Wet and windy Copster Hill.&quot;,&quot;Distance&quot;:&quot;14.05 km&quot;,&quot;Time&quot;:&quot;1h:16m:31s&quot;,&quot;Avg_Speed&quot;:&quot;11.0 km/h&quot;,&quot;Avg_Pace&quot;:&quot;5:27 min/km&quot;,&quot;Avg_HR&quot;:169,&quot;Distance_Value&quot;:14.05,&quot;Pace_Value&quot;:&quot;1899-12-30T05:27:00.000Z&quot;,&quot;Pace_Val_Mins&quot;:5,&quot;Pace_Val_Secs&quot;:27,&quot;Pace_In_Secs&quot;:327,&quot;Month_of_Run&quot;:1},{&quot;Date&quot;:&quot;2014-01-08T00:00:00.000Z&quot;,&quot;Description&quot;:&quot;Brookdal [...]</p>\n<p>Quite a bit of a result. Looking at the keys of the map, we see the following, which should be somewhat familiar to anyone who has made HTTP calls:</p>\n<p>running-stats.core=&gt; <strong>(keys (client/get &quot;<a href=\"http://bit.ly/qmacro-running-2014\">http://bit.ly/qmacro-running-2014</a>&quot;))</strong> (:cookies :orig-content-encoding :trace-redirects :request-time :status :headers :body)</p>\n<p>There we can see the :body keyword, which we use on line 8 as an accessor in this collection. With this, we get the raw body, a string, representing the JSON:</p>\n<p>running-stats.core=&gt; <strong>(:body (client/get &quot;<a href=\"http://bit.ly/qmacro-running-2014\">http://bit.ly/qmacro-running-2014</a>&quot;))</strong> &quot;{&quot;Year-2014&quot;:[{&quot;Date&quot;:&quot;2014-01-02T00:00:00.000Z&quot;,&quot;Description&quot;:&quot;First run of 2014&quot;,&quot;Distance&quot;:&quot;13.50 km&quot;,&quot;Time&quot;:&quot;1h:13m:51s&quot;,&quot;Avg_Speed&quot;:&quot;11.0 km/h&quot;,&quot;Avg_Pace&quot;:&quot;5:28 min/km&quot;,&quot;Avg_HR&quot;:168,&quot;Distance_Value&quot;:13.5,&quot;Pace_Value&quot;:&quot;1899-12-30T05:28:00.000Z&quot;,&quot;Pace_Val_Mins&quot;:5,&quot;Pace_Val_Secs&quot;:28,&quot;Pace_In_Secs&quot;:328,&quot;Month_of_Run&quot;:1},{&quot;Dat [...]</p>\n<p>Now we need to parse this JSON with the data.json library, which we do in line 7. This gives us something like this:</p>\n<p>running-stats.core=&gt; <strong>(json/read-str (:body (client/get &quot;<a href=\"http://bit.ly/qmacro-running-2014\">http://bit.ly/qmacro-running-2014</a>&quot;)))</strong> {&quot;Year-2014&quot; [{&quot;Pace_Val_Secs&quot; 28, &quot;Distance_Value&quot; 13.5, &quot;Date&quot; &quot;2014-01-02T00:00:00.000Z&quot;, &quot;Month_of_Run&quot; 1, &quot;Description&quot; &quot;First run of 2014&quot;, &quot;Distance&quot; &quot;13.50 km&quot;, &quot;Avg_Speed&quot; &quot;11.0 km/h&quot;, &quot;Pace_Val_Mins&quot; 5, &quot;Pace_Value&quot; &quot;1899-12-30T05:28:00.000Z&quot;, &quot;Avg_Pace&quot; &quot;5:28 min/km&quot;, &quot;Time&quot; &quot;1h:13m:51s&quot;, &quot;Pace_In_Secs&quot; 328, &quot;Avg_HR&quot; 168} {&quot;Pace_Val_Secs&quot; 27, &quot;Distance_Value&quot; 14.05, &quot;Date&quot; &quot;2014-01-05T00:00:00.000Z&quot;, &quot;Month_of_Run&quot; 1, &quot;Description&quot; &quot;Wet and windy Cop [...]</p>\n<p>which is eminently more useable as it’s another map.</p>\n<p>Although it’s a map, the keys are strings which aren’t ideal if we want to take advantage of some Clojure idioms. I may be wrong here, but I found that converting the keys into keywords made things simpler and felt more natural, as you’ll see shortly.</p>\n<h2 id=\"the-year-2014-data-set\" tabindex=\"-1\">The Year-2014 data set <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/#the-year-2014-data-set\" aria-hidden=\"true\">#</a></h2>\n<p>Lines 11-13 is where we create the Year-2014 var, representing the data set in the main spreadsheet tab.</p>\n<p>Looking up the “Year-2014″ key in the stats (line 13) gave me a vector, signified by the opening square bracket:</p>\n<p>running-stats.core=&gt; <strong>(stats &quot;Year-2014&quot;)</strong> [{&quot;Pace_Val_Secs&quot; 28, &quot;Distance_Value&quot; 13.5, &quot;Date&quot; &quot;2014-01-02T00:00:00.000Z&quot;, &quot;Month_of_Run&quot; 1, &quot;Description&quot; &quot;First run of 2014&quot;, &quot;Distance&quot; &quot;13.50 km&quot;, &quot;Avg_Speed&quot; &quot;11.0 km/h&quot;, &quot;Pace_Val_Mins&quot; 5, &quot;Pace_Value&quot; &quot;1899-12-30T05:28:00.000Z&quot;, &quot;Avg_Pace&quot; &quot;5:28 min/km&quot;, &quot;Time&quot; &quot;1h:13m:51s&quot;, &quot;Pace_In_Secs&quot; 328, &quot;Avg_HR&quot; 168} {&quot;Pace_Val_Secs&quot; 27, &quot;Distance_Value&quot; 14.05, &quot;Date&quot; &quot;2014-01-05T00:00:00.000Z&quot;, &quot;Month_of_Run&quot; 1, &quot;Description&quot; &quot;Wet and windy Copster Hill.&quot;,</p>\n<p>The vector contained maps, one for each run. Each map had strings as keys, so in line 12 I used the <a href=\"https://clojuredocs.org/clojure.walk/keywordize-keys\">keywordize-keys</a> function, from clojure.walk, to transform the strings to keywords. Here’s an example, calling the function on the map representing the first run in the vector:</p>\n<p>running-stats.core=&gt; <strong>(keywordize-keys (first (stats &quot;Year-2014&quot;)))</strong> {:Pace_Value &quot;1899-12-30T05:28:00.000Z&quot;, :Month_of_Run 1, :Distance_Value 13.5, :Distance &quot;13.50 km&quot;, :Avg_HR 168, :Avg_Pace &quot;5:28 min/km&quot;, :Pace_Val_Mins 5, :Pace_Val_Secs 28, :Date &quot;2014-01-02T00:00:00.000Z&quot;, :Description &quot;First run of 2014&quot;, :Time &quot;1h:13m:51s&quot;, :Avg_Speed &quot;11.0 km/h&quot;, :Pace_In_Secs 328}</p>\n<p>I assigned the resulting value of this call to a new var Year-2014.</p>\n<h2 id=\"getting-the-hr-values\" tabindex=\"-1\">Getting the HR values <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/#getting-the-hr-values\" aria-hidden=\"true\">#</a></h2>\n<p>The Garmin Forerunner 110 measures heart rate (HR) via a chest strap, and an average-HR detail is available for each run:</p>\n<p>running-stats.core=&gt; <strong>(:Avg_HR (first Year-2014))</strong> 168</p>\n<p>There were a few runs where I didn’t wear the chest strap, so the value for this detail on those runs was a dash, rather than a number, in the running statistics on the Endomondo website, which found its way into the spreadsheet and the JSON.</p>\n<p>running-stats.core=&gt; <strong>(count (filter (comp not number?) (map :Avg_HR Year-2014)))</strong> 6</p>\n<p>Yes, six runs altogether without an average HR value. So to get the real average HR values, I just needed the ones that were numbers. I did this on lines 15-17.</p>\n<p><em>By the way, composing with the <a href=\"https://clojuredocs.org/clojure.core/comp\">comp</a> function sort of makes me go “wow”, because I figure this is revealing a bit of the simplicity, depth and philosophy that lies beneath the scratch mark I’ve just made in the surface of functional programming in general and Clojure in particular.</em></p>\n<h2 id=\"average-hr\" tabindex=\"-1\">Average HR <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/#average-hr\" aria-hidden=\"true\">#</a></h2>\n<p>I took the average of the HR values in line 21. This actually returned a Ratio type:</p>\n<p>running-stats.core=&gt; <strong>(/ (reduce + HR-values) (count HR-values))</strong> 15292/95 running-stats.core=&gt; <strong>(type (/ (reduce + HR-values) (count HR-values)))</strong> clojure.lang.Ratio</p>\n<p>This was interesting in itself, but I wanted a value that told me something, so I called the float function in line 20:</p>\n<p>running-stats.core=&gt; <strong>(float (/ (reduce + HR-values) (count HR-values)))</strong> 160.96841</p>\n<p>(Yes, I know taking the average of averages is not a great thing to do, but at this stage I’m more interested in my Clojure learning than my running HR in 2014).</p>\n<h2 id=\"and-more\" tabindex=\"-1\">And more <a class=\"direct-link\" href=\"https://qmacro.org/blog/2015/3/1/running-2014-in-review-and-some-clojure/#and-more\" aria-hidden=\"true\">#</a></h2>\n<p>I did continue with my analysis in Clojure, but this post is already long enough, so I’ll leave it there for now. If you got this far, thanks for reading! I hope to teach myself more Clojure; there are some great resources online, and the community is second to none.</p>\n<p>If you’re thinking of taking the plunge, I’d recommend it! I’ll leave you with a quote from <a href=\"http://swannodette.github.io/\">David Nolen</a> at the end of his talk “<a href=\"http://youtu.be/AnzMEdC2FDk\">Jelly Stains. Thoughts on JavaScript, Lisp and Play</a>” at JSConf 2012:</p>\n<blockquote>\n<p>“[Dan Friedman and William Byrd] got me realising there’s a lot more left to play with in Computer Science”.</p>\n</blockquote>\n<p>As I embark upon my journey in this direction, I realise that’s a very true statement. It’s like learning programming all over again, in a good way!</p>\n<p></p>\n<p></p>\n",
      "date_published": "2015-01-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2015/2/1/dna-is-still-in-our-dna/",
      "url": "https://qmacro.org/blog/2015/2/1/dna-is-still-in-our-dna/",
      "title": "DNA is still in our DNA",
      "content_html": "<p>Via <a href=\"https://twitter.com/aidanfeldman/status/551091071749353472\">a tweet that was retweeted by Ben Nuttall</a>, I came across a recent article in the Independent “<a href=\"http://www.independent.co.uk/life-style/gadgets-and-tech/news/microsoft-to-replace-internet-explorer-with-new-streamlined-browser-9949448.html\">Microsoft to replace Internet Explorer with new, streamlined browser</a>“. The article has some classic sentences that made me groan with displeasure, not least the lead:</p>\n<blockquote>\n<p>“Codenamed Spartan, the new app will look much more like competitors Chrome and Firefox”</p>\n</blockquote>\n<p>which completely misses the major point in that it’s not how IE <em>looks</em>, it’s how it <em>behaves</em>.</p>\n<p>Anyway, the sentence that most caught my eye was this one:</p>\n<blockquote>\n<p>In the past the company has considered changing the name to separate the current browser from “negative perceptions that no long reflect reality”</p>\n</blockquote>\n<p>This very much reminds me of a passage from Douglas Adams’s Hitch Hiker’s Guide To The Galaxy, specifically from Episode 11:</p>\n<blockquote>\n<p>The problem of the five hundred and seventy-eight thousand million Lintilla clones is very simple to explain, rather harder to solve. Cloning machines have, of course, been around for a long time and have proved very useful in reproducing particularly talented or attractive – in response to pressure from the Sirius Cybernetics marketing lobby – particularly gullible people and this was all very fine and splendid and only occasionally terribly confusing. And then one particular cloning machine got badly out of sync with itself. Asked to produce six copies of a wonderfully talented and attractive girl called “Lintilla” for a Bratis-Vogen escort agency, whilst another machine was busy creating five-hundred lonely business executives in order to keep the laws of supply and demand operating profitably, the machine went to work. Unfortunately, it malfunctioned in such a way that it got halfway through creating each new Lintilla before the previous one was actually completed. <strong>Which meant, quite simply, that it was impossible ever to turn it off – without committing murder. This problem taxed the minds, first of the cloning engineers, then of the priests, then of the letters page of <em>’The Sidereal Record Straightener’</em>, and finally of <span style=\"text-decoration: underline;\">the lawyers, who experimented vainly with ways of redefining murder, re-evaluating it, and in the end, even respelling it, in the hope that no one would notice.</span></strong></p>\n</blockquote>\n<p>Wonderful.</p>\n<p></p>\n",
      "date_published": "2015-01-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/28/11/the-inaugural-sap-architect-and-developer-summit/",
      "url": "https://qmacro.org/blog/2014/28/11/the-inaugural-sap-architect-and-developer-summit/",
      "title": "The Inaugural SAP Architect &amp; Developer Summit",
      "content_html": "<p>***Update: This has also been <a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/November-2014/The-Inaugural-SAP-Architect-Developer-Summit/\">published on the Bluefin Solutions website</a>. ***</p>\n<p>I was honoured to <a href=\"https://qmacro.org/2014/10/19/speaking-at-the-sap-architect-developer-summit/\">have been invited</a> to speak at the inaugural <a href=\"http://bit.ly/anzsummit\">SAP Architect &amp; Developer Summit</a> which happened last week (20-21 Nov 2014) in Sydney. It was a fantastic event, mainly due to the people and the content, but also because it hit a sweet spot between different types of SAP developer events.</p>\n<p>The summit was the first of its kind to be organised by SAP, and judging from the feedback from the attendees there and then, combined with my own experience, it was a huge success. It was held over a two day period in the centre of a hotbed of SAP architect and developer talent, with folks converging on the wonderful Australian Technology Park in Sydney from all over the region, plus various additions from the UK, USA and elsewhere.</p>\n<p>The Australian Technology Park was almost the perfect setting, being based on a centre of technology (heavy transport and industry) from the last millenium, a centre that proudly displayed historical, and some still-working physical artifacts, reminding me a lot of the <a href=\"http://www.mosi.org.uk/\">Museum of Science &amp; Industry</a> back home in Manchester.</p>\n<h1 id=\"the-summit\" tabindex=\"-1\">The Summit <a class=\"direct-link\" href=\"https://qmacro.org/blog/2014/28/11/the-inaugural-sap-architect-and-developer-summit/#the-summit\" aria-hidden=\"true\">#</a></h1>\n<p>Falling directly after SAP TechEd Berlin, firmly within the SAP tech conference season, the summit attracted over 300 attendees. There were a number of reasons for this being a great event to attend – the style was a sweet-spot between different sized events, it was priced well, and the content was just right.</p>\n<h2 id=\"sweet-spot\" tabindex=\"-1\"><strong>Sweet Spot</strong> <a class=\"direct-link\" href=\"https://qmacro.org/blog/2014/28/11/the-inaugural-sap-architect-and-developer-summit/#sweet-spot\" aria-hidden=\"true\">#</a></h2>\n<p>There’s the daddy of all SAP conferences, SAP TechEd &amp;&amp; d-code, and then at the other end of the scale there are grass roots community-organised types such as CodeJams and InsideTracks. While the former extends, with the InnoJam pre-event, to more or less a week, and the latter often being single-day affairs, this summit hit the sweet spot in between, finding a great balance between time and content.</p>\n<h2 id=\"price-point\" tabindex=\"-1\"><strong>Price Point</strong> <a class=\"direct-link\" href=\"https://qmacro.org/blog/2014/28/11/the-inaugural-sap-architect-and-developer-summit/#price-point\" aria-hidden=\"true\">#</a></h2>\n<p>This was one of those unusual events where the travel and accommodation costs, even for those relatively local, were more than the event itself. (Because I was speaking, SAP covered my costs – thank you!). This is significant; a price point of AUD 695.00 (around GBP 385.00) combined with the agenda means that it was hard to resist.</p>\n<h2 id=\"people-and-content\" tabindex=\"-1\"><strong>People &amp; Content</strong> <a class=\"direct-link\" href=\"https://qmacro.org/blog/2014/28/11/the-inaugural-sap-architect-and-developer-summit/#people-and-content\" aria-hidden=\"true\">#</a></h2>\n<p>The two most important ingredients of course for any event are the people and the content, often going together. Here are just a few of the hands-on workshop items from the <a href=\"http://eventscontent.sapvirtualevents.com/content/dam/sapvep/customimages/au-sap-architect-and-developer-summit/SAP_Architect_and_Developer_Summit_Brochure_v2.pdf\">agenda</a>:</p>\n<ul>\n<li>Developing SAP HANA Native Applications with SAP HANA Cloud Platform (Thomas Jung)</li>\n<li>Designing SAP Fiori Custom Applications (Kynan Jones &amp; John Patterson)</li>\n<li>SQLScript – Push Code Down into SAP HANA to Achieve Maximum Performance (Rich Heilmann)</li>\n<li>Advanced OData Service Development with SAP Gateway (Mustafa Saglam)</li>\n<li>Build SAP HANA Cloud Applications which Integrate with On-Premise Systems (Chris Paine)</li>\n</ul>\n<p>With those sessions typical of the quality and content, given by those people, you know it’s going to turn out well.</p>\n<p>Just as significant as the agenda were the conversations to be had with the amazing folk that were there too. Trying to name them all would be an exercise in futility; suffice it to say that the large majority of what I’m going to call the “ANZ SAP Mob” (in reference to the “Dutch SAP Mafia”) were there, which for me was reason enough to attend. To be able to learn from conversations with these people was priceless.</p>\n<h1 id=\"my-contribution\" tabindex=\"-1\">My Contribution <a class=\"direct-link\" href=\"https://qmacro.org/blog/2014/28/11/the-inaugural-sap-architect-and-developer-summit/#my-contribution\" aria-hidden=\"true\">#</a></h1>\n<p>I was lucky enough to be able to contribute in three ways to this summit.</p>\n<h2 id=\"locknote\" tabindex=\"-1\"><strong>Locknote</strong> <a class=\"direct-link\" href=\"https://qmacro.org/blog/2014/28/11/the-inaugural-sap-architect-and-developer-summit/#locknote\" aria-hidden=\"true\">#</a></h2>\n<p>I gave a keynote at the end of Day 1 (called a “locknote” – who knew?) entitled “<a href=\"http://lanyrd.com/2014/sap-architect-and-developer-summit/sdfyrd/\">Fiori and UI5 Software Logistics, or: Are We in the Future Yet?</a>“.</p>\n<p>My aim was to convey the idea that in the SAP development world, we’ve been heretofore shielded from and largely unaware of one of the most important parts of software development – the artifacts.</p>\n<p>You could perhaps think of artifacts as the tangible results of our mental machinations, a developer currency that we grow, discuss, exchange and share. And with the advent of Fiori and UI5 development, we should think explicitly about how we should nurture these artifacts to be the best we can make them, and in doing that, embrace tools available outside the traditional SAP developer ecosphere. Tools such as linters, editors, workflow mechanisms and source code control systems. In particular, I focused on git and <a href=\"https://guides.github.com/introduction/flow/index.html\">Github Workflow</a>.</p>\n<h2 id=\"workshop\" tabindex=\"-1\"><strong>Workshop</strong> <a class=\"direct-link\" href=\"https://qmacro.org/blog/2014/28/11/the-inaugural-sap-architect-and-developer-summit/#workshop\" aria-hidden=\"true\">#</a></h2>\n<p>On Day 2 I held a 2 hour hands-on workshop entitled “<a href=\"http://lanyrd.com/2014/sap-architect-and-developer-summit/sdfyrf/\">Learn to Drive Fiori Applications from Underneath and Level Up!</a>“.</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/11/Screen-Shot-2014-11-27-at-13.40.21-207x300.png\" alt=\"Workshop booklet screenshot\" /></p>\n<p>In this workshop I took the attendees (the workshop was fully booked!) through a Fiori application, from underneath, discovering it, controlling it, driving it and modifying it via the Chrome Developer Tools. There was a lot of content to get through but we managed it, not least due to the fact that everyone got on board with the approach and really did a great job in collaborating and keeping up with me. Thanks folks!</p>\n<p>When I was preparing the workshop booklet, it took on a life of its own, so much so that it turned into a standalone 48-page mini-publication so that anyone who had it could follow through everything I wanted to teach, even after the workshop. And I’m making that workshop booklet available to everyone so that they can all benefit:</p>\n<p><a href=\"http://bit.ly/ldfaulu\">Workshop Booklet: Learn to Drive Fiori Applications from Underneath and Level Up!</a></p>\n<p>If you would like to leave any feedback please go ahead and do that at the end of this post.</p>\n<h2 id=\"executive-lunch\" tabindex=\"-1\"><strong>Executive Lunch</strong> <a class=\"direct-link\" href=\"https://qmacro.org/blog/2014/28/11/the-inaugural-sap-architect-and-developer-summit/#executive-lunch\" aria-hidden=\"true\">#</a></h2>\n<p>On Day 1 there was an Executive Lunch event with folks from all around the Australia and NZ region. I spoke on the new development paradigm that Fiori and UI5 has ushered into the SAP developer world, and gave an impromptu demonstration on UI5 development, building a simple app as they ate their lunch :-)</p>\n<h1 id=\"the-future\" tabindex=\"-1\">The Future <a class=\"direct-link\" href=\"https://qmacro.org/blog/2014/28/11/the-inaugural-sap-architect-and-developer-summit/#the-future\" aria-hidden=\"true\">#</a></h1>\n<p>I hear that SAP ANZ are planning to run this event again next year, which is great. The aim is to attract more attendees, which is also great. But there’s also a balance to be maintained; the synergy, the timing of two full days, the ability to talk to everyone, was, in my opinion, just right.</p>\n<p>I’m really hoping that this event has a future, stays roughly true to this inaugural incarnation, and spreads to other areas around the globe. If one came to Europe, I’d sign up immediately and encourage my fellow SAP hackers to do the same.</p>\n<p>Well done to all the team for organising this, and thanks to all the superheroes that attended and shared knowledge and experience. We are architects and developers. Learning from one another and sharing with one another is what we do.</p>\n<p></p>\n",
      "date_published": "2014-11-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/24/11/creation-and-reload-of-ui5-uis-in-the-chrome-developer-console/",
      "url": "https://qmacro.org/blog/2014/24/11/creation-and-reload-of-ui5-uis-in-the-chrome-developer-console/",
      "title": "Creation &amp; Reload of UI5 UIs in the Chrome Developer Console",
      "content_html": "<p>At the inaugural <a href=\"http://bit.ly/anzsummit\">SAP Architect &amp; Developer Summit</a> last week, <a href=\"https://qmacro.org/2014/10/19/speaking-at-the-sap-architect-developer-summit/\">one of the things that I did</a> was prepare and deliver a 2 hour hands-on workshop: “<a href=\"http://lanyrd.com/2014/sap-architect-and-developer-summit/sdfyrf/\">Learn To Drive Fiori Applications From Underneath And Level Up!</a>“. This was a fun and successful workshop which focused on working within, and using the tools of, the powerful Chrome Developer Console. It triggered great conversations afterwards with some folks, including fellow SAP Mentor Matt Harding, who also <a href=\"https://twitter.com/mattharding/status/535968961221754880\">tweeted</a>:</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/11/Screen-Shot-2014-11-24-at-14.58.39.png\" alt=\"image\" /></p>\n<p>One of the strands of the conversation with Matt, Nigel James &amp; others was regarding the potential transient nature of the definition of views, or other smaller UI elements, created while working within the console. In the console you can quite easily build views in JavaScript (as the console is a JavaScript console!). Building machine readable, declarative views such as those based on XML or JSON is a little bit more cumbersome.</p>\n<p>However, with a great feature of the UI5 Support Tool – Export to XML – we can indeed have our UI declared for us in XML, which is rather useful! Not only that, but we can then iterate by loading that generated XML back into Chrome.</p>\n<p>While at SYD airport just now, waiting for my flight back home, I recorded a quick screencast to illustrate this. It shows the creation of a quick UI, using the manual console techniques we learned in my workshop. Then, the UI is exported as XML, which the Support Tool duly does for us, inside an XML View container. That exported XML View is then reloaded, and we can see of course that it is faithful to what was originally created.</p>\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"469\" src=\"http://www.youtube.com/embed/JPy7TxLpILg?feature=oembed\" width=\"625\"></iframe>\n<p>Share &amp; enjoy!</p>\n",
      "date_published": "2014-11-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/14/11/addressing-emails/",
      "url": "https://qmacro.org/blog/2014/14/11/addressing-emails/",
      "title": "Addressing Emails",
      "content_html": "<p>I use filters to manage my emails and auto-filter all incoming emails that have me only in the CC list, and not in the TO list, into a separate folder. I review emails in this folder no more frequently than every couple of days. This is common practice.</p>\n<p>If you’re emailing a group of people and addressing them directly in the body of the email, you should think about making sure they’re in the TO list, not just the CC list. It’s common courtesy, and also you’ll probably get a reply quicker :-)</p>\n",
      "date_published": "2014-11-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/27/10/this-week-in-fiori-2014-43/",
      "url": "https://qmacro.org/blog/2014/27/10/this-week-in-fiori-2014-43/",
      "title": "This Week in Fiori (2014-43)",
      "content_html": "<p>Hello everybody, Brenton here in for DJ this week. For those of you who don’t know me, I work in the Fiori and User experience space with DJ and I am a fellow SAPUI5/OpenUI5 advocate for a long time now. I focus more on the mobility side of things more than anything else but for me it’s all about bringing amazing solutions to end users and having a bit of fun while doing it :-)</p>\n<p>So this week of course was the beginning of what I call TechEd season or now I suppose we have to call it d-code season. Last week saw SAP TechEd and d-code take place in the wonderful Venetian resort in Las Vegas. Now that I am starting to get over my jet lag, DJ asked me to jot down a few of the highlights for this edition of “This Week in Fiori”.</p>\n<p><strong><a href=\"http://events.sap.com/teched/en/session/13492\">SAP Executive Keynote from SAP TechEd &amp; D-code</a> by Steve Lucas</strong></p>\n<p>The first mention has to go, of course, to the keynote with Steve Lucas. With a relaxed and developer focused atmosphere it was an incredibly enjoyable 75 minutes covering some of the amazing things that people are doing with SAP software. The reason it gets a special mention here is because it was (for me anyway) the first time I saw SAP Fiori on a watch. Steve introduces a real-time Fiori application on the HANA cloud platform which was integrated with and primarily used on Samsung’s latest smart watches. The demo is at about 59+ minutes for anybody interested. In fact, the entire keynote is well worth the time as it really brought to life some of SAP’s new technologies.</p>\n<p><strong><a href=\"http://events.sap.com/teched/en/session/13578\">SAP Fiori Launchpad Overview</a> by Aviad Rivlin</strong></p>\n<p>Aviad does it again with this excellent overview of the SAP Fiori Launchpad in this voice-over session. Talking us through the Launchpad itself, it’s capabilities as well as an overview of how the launchpad could work in a Hybrid scenario where some functionality is based on-premise and some based in the cloud. Well worth a watch for anybody interested or working with the Launchpad.</p>\n<p><strong><a href=\"http://events.sap.com/teched/en/session/13558\">Unified Inbox with SAP Fiori</a> by Ramana Mohanbabu</strong></p>\n<p>This was quite an interesting session I enjoyed covering the connection of the SAP Fiori Unified inbox to multiple systems to give an end user access to all of their SBWP items in a much more usable way.</p>\n<p><strong><a href=\"http://events.sap.com/teched/en/session/13682\">Swell Analytics</a> by Clint Vosloo and Chris Rae</strong></p>\n<p>Although competing directly with myself and John Appleby during this years DemoJam I am always more than happy to give credit where it is most definitely due and these guys deserve it! They created an amazing application using OpenUI5 to identify, predict and rate the quality of swells for surfers (yes I said surfers!). Well worth a watch and shows off the awesome stuff you can build with OpenUI5. These are just 4 of the very many Fiori and OpenUI5 related sessions from Las Vegas that caught my eye. If I was to mention all of the sessions, you would get bored far quicker than I can type so I won’t even try. But please do check out the rest of the sessions covering all SAP’s new offerings from the HANA Cloud Platform (HCP), SAP Mobile Secure right through to the easy way developers can try all this out for themselves at <a href=\"http://hcp.sap.com/\">hcp.sap.com</a>.</p>\n<p>So all that is left for me to do is thank DJ for allowing me to post on some of my experiences from Las Vegas. TWIF is an excellent series and one I love reading each week! Comments most welcome as always!</p>\n<p>Brenton.</p>\n",
      "date_published": "2014-10-27T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/19/10/this-week-in-fiori-2014-42/",
      "url": "https://qmacro.org/blog/2014/19/10/this-week-in-fiori-2014-42/",
      "title": "This Week in Fiori (2014-42)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2014/10/Screen-Shot-2014-10-19-at-21.27.11-300x216.png\" alt=\"Screen Shot 2014-10-19 at 21.27.11\" /></p>\n<p>Well hello again, I’m back. I couldn’t miss <a href=\"http://en.wikipedia.org/wiki/42_(number)\">the most significant week number</a>, now, could I? :-) And next week I have something special for you — the TWIF episode will be written by a guest author. Really excited about that! If you’re interested in becoming a guest writer for this series, get in touch! Ok, let’s get to it.</p>\n<p><strong><a href=\"http://scn.sap.com/community/enterprise-portal/blog/2014/10/19/new-white-paper-sap-portal-and-sap-fiori--common-architecture\">SAP Portal and SAP Fiori – Common Architecture</a> by Aviad Rivlin</strong><br />\nAviad has been at it again producing great content and bringing more clarity to this important subject. Although only a short post, it’s worth mentioning here, because it helps crystallise SAP’s intentions in this space (readers of this TWIF series have seen many mentions of this subject in the past) and also because it points to a whitepaper “<a href=\"https://scn.sap.com/docs/DOC-58843\">SAP Enterprise Portal and SAP Fiori – Common Architecture Recommendations</a>” which is worth a read.</p>\n<p><strong><a href=\"http://help.sap.com/saphelp_uiaddon10/helpdata/en/5d/bad3ee1b78427c98eb9fe68999b9a4/frameset.htm\">What’s New in SAP Fiori Launchpad</a> by SAP</strong><br />\nFor the UI Add-On for NetWeaver, otherwise known as UI2, version 1.0 SPS 10 is now available. This is a layer of software that provides a lot of the Fiori services and infrastructure (yes, <a href=\"https://twitter.com/qmacro/status/523472656457531392\">there’s more to Fiori than just UX</a>, you know ;-) including the UI5 runtime, the personalisation services and the Launchpad. While the individual Fiori apps are of course the main event, without this layer, without the Launchpad, the experience would be lacking something.</p>\n<p>This What’s New document, in the UI2 section of <a href=\"http://help.sap.com/\">help.sap.com</a>, gives us a good overview on what have been the important areas of focus for SAP in the recent period. Notably, these areas are for Portal integration (the headerless mode) and performance. With performance, there have been various improvements, from moving the storage of personalisation information from an XML document to database tables (who thought using XML documents for storage of large amounts of data was a good idea?) to cacheing of target mappings in the browser. Nice!</p>\n<p><strong><a href=\"https://demo-fioritrial.dispatcher.hana.ondemand.com/sap/hana/uis/clients/ushell-app/shells/fiori/FioriLaunchpad.html?sap-client=001\">SAP Fiori, Demo Cloud Edition</a> by SAP</strong><br />\nWell, it was a long time coming, and it’s still not ideal, but it’s THERE! An online, available, demo version of SAP Fiori. For folks to get a better feel for the Launchpad, for some of the apps, and to experience the UX first hand. Not only will this be great for all of that, but for those implementing their own Fiori apps, it will also serve as useful and hopefully always-available reference designs, alongside the SAP Fiori Design Guidelines I wrote about in <a href=\"https://qmacro.org/2014/07/09/this-week-in-fiori-2014-28/\">TWIF episode 2014-28</a>.</p>\n<p>Why not ideal? Well, it only contains a very small number of apps from the 300+ available, and the sample data is a little flat. Here are the apps available:</p>\n<ul>\n<li>ERP HCM - Approve Timesheets</li>\n<li>Approve Leave Requests</li>\n<li>My Benefits</li>\n<li>My Leave Requests</li>\n<li>My Paystubs</li>\n<li>My Timesheet</li>\n<li>ERP SD (Logistics) - Change Sales Orders</li>\n<li>Check Price and Availability</li>\n<li>Change Sales Orders</li>\n<li>Track Sales Orders</li>\n<li>ERP Accounting - My Spend</li>\n<li>Customer Invoices</li>\n<li>ERP Logistics (MM) - Approve Purchase Contracts</li>\n<li>Approve Purchase Orders</li>\n<li>Approve Requisitions</li>\n<li>Order From Requisitions</li>\n</ul>\n<p>It’s early days for this demo, and I’m hoping to see a lot wider variety of apps available, along with more meaningful sample business data, in the next iteration. But until then, so far so good!</p>\n<p><strong><a href=\"https://www.youtube.com/watch?v=Hz3ZWWF0BFM\">SAP Fiori &amp; UI5 Chat, Fri 17 Oct 2014</a> by Brenton O’Callaghan and me</strong><br />\nEarlier this year, Brenton and I ran a webinar “<a href=\"http://www.bluefinsolutions.com/About-us/News-and-Media/Events/Webinar-Understanding-SAP-Fiori/\">Understanding SAP Fiori Webinar</a>” which was well received. I wrote it up in a post on SCN “<a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2014/06/20/understanding-sap-fiori-webinar--the-directors-cut\">The Director’s Cut</a>” and also on Bluefin’s website “<a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/July-2014/Webinar-more-Understanding-SAP-Fiori/\">Webinar &amp; More: Understanding SAP Fiori</a>“, and in fact we’ll be running another SAP Fiori related webinar in December, watch this space!</p>\n<p>Last Friday Brenton and I decided to sit down and shoot the breeze again on the subject of Fiori, this time looking at an SAP Fiori app that allows you to explore what Fiori apps are available. We looked at it from above, and from below, and had a great time doing so. It’s 30 mins long, so grab a cup of tea and a digestive biscuit and have a look: “<a href=\"https://www.youtube.com/watch?v=Hz3ZWWF0BFM\">SAP Fiori &amp; UI5 Chat, Fri 17 Oct 2014</a>”</p>\n<iframe allowfullscreen=\"allowfullscreen\" frameborder=\"0\" height=\"315\" src=\"https://www.youtube.com/embed/Hz3ZWWF0BFM\" width=\"560\"></iframe>\n<p>Until next time, share &amp; enjoy!</p>\n",
      "date_published": "2014-10-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/19/10/speaking-at-the-sap-architect-and-developer-summit/",
      "url": "https://qmacro.org/blog/2014/19/10/speaking-at-the-sap-architect-and-developer-summit/",
      "title": "Speaking at the SAP Architect &amp; Developer Summit",
      "content_html": "<p>Next month, in Sydney, the inaugural <a href=\"http://events.sap.com/au/sap-architect-and-developer-summit/en/home?bc=1%251%250\">SAP Architect &amp; Developer Summit</a> is taking place, on the 20th and 21st of November. This is quite an exciting direction for an SAP event; yes, we have <a href=\"http://www.sapdcode.com/\">SAP TechEd &amp;&amp; d-code</a> (almost upon us) which caters for the developers and architects among us, but this short summit-style conference looks to be spot on in terms of content for the “non-suits”.</p>\n<p>The agenda is packed with sessions I’m really looking forward to attending, and a huge list of amazing folks from the SAP world are there – many of them presenting. Check out the full agenda, available from <a href=\"http://events.sap.com/au/sap-architect-and-developer-summit/en/agendas3?bc=1%252%250\">this page</a> to see what I mean.</p>\n<p>I’m rather honoured to have been invited, and have a couple of speaking slots. I’ve added my sessions to <a href=\"http://lanyrd.com/2014/sap-architect-and-developer-summit/\">the Lanyrd page for the conference</a>, so the links below will take you to the slots there:</p>\n<p>On day 1, I’m giving the Locknote Address, which is at the end of the day’s sessions and just before the cocktails, so I’d better keep it short and to the point! — <a href=\"http://lanyrd.com/2014/sap-architect-and-developer-summit/sdfyrd/\">Fiori &amp; UI5 Software Logistics, or: Are We In The Future Yet?</a></p>\n<p>On day 2, I’m running a 2 hour hands-on workshop “<a href=\"http://lanyrd.com/2014/sap-architect-and-developer-summit/sdfyrf/\">Learn to Drive Fiori Apps from Underneath and Level Up!</a>“. This should be a lot of fun, and revolves around mastering the perfect storm of Chrome’s Developer Tools and the UI5 toolkit and support mechanisms.</p>\n<p>As well as the summit’s website itself, you can read more about the event on Thomas Jung’s post on SCN: “<a href=\"http://scn.sap.com/community/events/blog/2014/10/10/coming-down-under-see-you-at-sap-architect-and-developer-summit-in-sydney\">Coming Down Under – see you at SAP Architect and Developer Summit in Sydney</a>“.</p>\n<p>I’m really excited to be attending, not least because I’m finally going to meet some of my heroes from the Australia &amp; NZ SAP developer world. Sydney here I come!</p>\n<p></p>\n",
      "date_published": "2014-10-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/7/10/this-week-in-fiori-2014-40/",
      "url": "https://qmacro.org/blog/2014/7/10/this-week-in-fiori-2014-40/",
      "title": "This Week in Fiori (2014-40)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2014/10/Screen-Shot-2014-10-07-at-07.33.51-300x165.png\" alt=\"Screen Shot 2014-10-07 at 07.33.51\" /></p>\n<p>Another week, another set of Fiori links. Let’s get to it!</p>\n<p><strong><a href=\"https://boma0d717969.hana.ondemand.com/sap/fix/externalViewer/\">Fiori App Reference Library app</a>, via Luis Felipe Lanz</strong><br />\nWell it was bound to happen, and I’m celebrating that. Luis tweeted a link to a lovely Fiori app, the <a href=\"https://boma0d717969.hana.ondemand.com/sap/fix/externalViewer/\">Fiori App Reference Library</a>, which contains details on the 300+ Fiori apps so far. Of course, the original meta Fiori app, the <a href=\"https://code.bluefinsolutions.com/~dadams/FioriWebinar/AppAnalysis.html\">SAP Fiori App Analysis application</a> (which I mentioned in <a href=\"https://qmacro.org/2014/08/01/this-week-in-fiori-2014-31/\">TWIF 2014-31</a>) is still going strong – find out more about this in this 5 min video “<a href=\"https://www.youtube.com/watch?v=aVeQ4adHgaY\">The SAP Fiori App Analysis application</a>“.</p>\n<p>But what about this new app from SAP (rather than from me)? Well, there are a couple of parts of the URL (<a href=\"https://boma0d717969.hana.ondemand.com/sap/fix/externalViewer/\">https://boma0d717969.hana.ondemand.com/sap/fix/externalViewer/</a>) that suggest to me that it’s possibly temporary, or still in development (there are some active <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/debugger\">debugger</a> statements in there too), but apart from that, it’s a fine example of a classic Fiori app and uses a 1.24 runtime of UI5. I’m tempted to dig in right now and start exploring how it’s put together, but I’ll leave that for another time. I’ll just point out that the data it uses is from a <a href=\"https://boma0d717969.hana.ondemand.com/sap/fix/externalViewer/services/data.xsodata/\">proper OData service</a> which is in itself more useful than you might think – an official machine-readable detailed list of Fiori apps from SAP. Let a thousand consumer apps bloom!</p>\n<p><strong><a href=\"http://www.eventbrite.com/e/sap-codejam-eindhoven-river-rde-registration-12714089183\">SAP CodeJam on RDE at Ciber NL</a> organised by Wim Snoep</strong><br />\nSAP River RDE, or to give it its new name SAP Web IDE (hopefully it won’t change again :-) is an important topic to understand in the world of Fiori. It’s what many developers (although not all) will be using to manage Fiori apps from a creation and extension point of view. RDE has been a long time in gestation but today’s incarnation is very accomplished and those looking to understand what SAP’s approach to software management in the Fiori age is, need to spend some time investigating this.</p>\n<p>One of the “Dutch SAP Mafia” members Wim organised an <a href=\"http://www.eventbrite.com/e/sap-codejam-eindhoven-river-rde-registration-12714089183\">SAP CodeJam on RDE</a> which looked to be a great success. The developer ecosystem is not just about the languages (say, JavaScript) and frameworks[^n] (UI5) but also about the tools and environments within which one works. So this CodeJam was ideally suited to learning more about SAP’s environment. The day saw developers build Fiori applications in RDE, and I was happy to see that our TechEd hands-on session content <a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2013/10/06/building-sap-fiori-like-uis-with-sapui5\">CD168 Building SAP Fiori-like UIs with SAPUI5</a> — which was created for last year’s SAP TechEd events but has seen action ever since — was put to good use for this event too.</p>\n<p>[^n]:actually one should refer to UI5 as a toolkit rather than a framework, for reasons too long and detailed to go into here :-)</p>\n<p><strong><a href=\"http://open.sap.com/courses/fiori1\">Introduction to SAP Fiori UX</a> by SAP</strong><br />\nI’ve written about this course from Open SAP before, most recently in the previous TWIF episode <a href=\"https://qmacro.org/2014/09/28/this-week-in-fiori-2014-39/\">TWIF 2014-39</a>. Well, I thought I’d give a quick update on my perspective … to say that I’ve abandoned the course. Fiori is a huge topic, and one can’t expect a single course to cover everything. But I did expect some UX content, as it’s an incredibly important aspect of the Fiori experience. Unfortunately I didn’t find any, and I noted that I <a href=\"https://twitter.com/ByteDoc/status/518806002314264577\">wasn’t alone</a> in this regard either.</p>\n<p>With the combination of this issue and the as yet unresolved issues from Week 2, I decided that give up on the course and I’d devote the time I’d allocated for study to other more UX/UI related matters, in particular by studying further the <a href=\"http://experience.sap.com/fiori-guidelines/index.html\">SAP Fiori Design Guidelines</a> that I wrote about in <a href=\"https://qmacro.org/2014/07/09/this-week-in-fiori-2014-28/\">TWIF 2014-28</a> along with details of the <a href=\"https://openui5.hana.ondemand.com/explored.html\">latest responsive controls in the UI5 toolkit</a>. Whether you’re following the Open SAP course or not, I’d encourage you to do the same, too.</p>\n<p>I must say that I’ve not given up on Open SAP as a whole – in fact I’m eagerly awaiting the next Fiori related course … now that Fiori installation and configuration is out of the way with this first course, it could be full steam ahead for the UX part!</p>\n<p><strong>Update 20 Oct 2014</strong>: Since this post, there has been some discussion internally, on various email threads and also publically here and <a href=\"https://twitter.com/qmacro/status/523472656457531392\">on Twitter</a>. And today SAP posted “<a href=\"http://scn.sap.com/community/opensap/blog/2014/10/20/help-shape-the-next-sap-fiori-ux-course\">Help Shape the Next SAP Fiori Course</a>” which acknowledges the issues with the lack of UX content and solicits input to determine the content for the next course. Well done Open SAP! This is a conversation in action. I’d encourage you to go over to the <a href=\"https://www.sapsurvey.com/cgi-bin/qwebcorporate.dll?idx=8SCKQZ\">survey</a> and add your thoughts.</p>\n<p>Until next time, share &amp; enjoy!</p>\n",
      "date_published": "2014-10-07T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/28/9/this-week-in-fiori-2014-39/",
      "url": "https://qmacro.org/blog/2014/28/9/this-week-in-fiori-2014-39/",
      "title": "This Week in Fiori (2014-39)",
      "content_html": "<p>Hello there folks. That time has come around again to pull together a few links on some of the Fiori related stories and articles this week. Let’s get right to it.</p>\n<p><strong><a href=\"http://scn.sap.com/docs/DOC-57831\">Transactional Fiori App Certification</a> by Chiranjivi R D</strong><br />\nI touched on certification of Fiori apps in an earlier TWIF episode <a href=\"https://qmacro.org/2014/08/01/this-week-in-fiori-2014-31/\">2014-31</a> where I pointed to a Partner Co-Innovation Workshop that mentioned certification of Fiori apps developed therein. Certification, at least to me, is not automatically a good thing. I’m strongly ambivalent (if that’s possible) on certification generally, of consultants specifically, and of apps particularly.</p>\n<p>This week, this article on Fiori app certification was brought to my attention by friend and fellow SAP Mentor <a href=\"http://twitter.com/ttrapp\">Tobias Trapp</a>. It’s all about the certification of transactional Fiori apps built by partners. With Fiori, there’s great emphasis on the UX principles, and rightly so. There are also of course also the Gateway and Business Suite add-ons too, but for me the primary goal for certification in this area must be how the Fiori app works from a user experience point of view. My general certification ambivalence is then given a run for its money here; I for one do think that without some kind of standards enforcement, the Fiori approach may be diluted. I’ve seen apps that are purportedly “Fiori” but just don’t feel right.</p>\n<p>Only time will tell. What is your experience of custom Fiori apps? Have you seen Fiori apps that, well, aren’t?</p>\n<p><strong><a href=\"http://scn.sap.com/community/gui/blog/2014/09/25/user-experience-sessions-at-teched-sap-screen-personas-fiori-ux-strategy-design-services\">User Experience Sessions at TechEd: SAP Screen Personas, Fiori, UX Strategy, Design Services</a> by Peter Spielvogel</strong><br />\n<a href=\"http://www.sapdcode.com/\">SAP TechEd &amp;&amp; d-code</a>, arguably the most important event in SAP’s annual calendar, is fast approaching. Already, the Las Vegas edition … which I like to call the “warm up before the main European event” :-) … is less than a month away. I noted the Fiori related sessions in a previous TWIF episode <a href=\"https://qmacro.org/2014/08/31/this-week-in-fiori-2014-35/\">2014-35</a> and just this week Peter Spielvogel from SAP writes this post detailing some of them. Ironically, he does this in the <a href=\"http://scn.sap.com/community/gui/blog\">SAPGUI area</a> on the SAP Community Network (SCN).</p>\n<p>I pointed out in TWIF 2014-35 that there didn’t appear to be enough Fiori related sessions (although some folks on Twitter are complaining that all they hear about in relation to TechEd is Fiori and HANA, c’est la vie) but I’m hopeful that there will be at least some coverage in the “hallway track” and in the Code Jams and hands-on activities that run throughout the week.</p>\n<p>In particular, I’d encourage you to look out for the SAP Web IDE stuff. This is the new name for SAP River RDE, which has also some history in the Web Application ToolkiT (WATT) and prior to that the SAP App Designer. What ancestry already! While some of us like to build Fiori apps from the ground up (coding view elements directly in XML, with our UI5 stickers adorning our laptops) there are a great number of people who need guidance. Guidance in both forms – technical, and design (see the certification piece earlier). And for these folks, and those looking for the right tools to extend existing SAP Fiori apps, the SAP Web IDE is something not to miss.</p>\n<p><a href=\"https://open.sap.com/courses/fiori1\"><strong>Introduction to SAP Fiori UX – an update</strong></a><br />\nI wrote about this course back at the beginning of August. Today, along with many thousands of co-participants, I’m well underway with the course materials, into Week 3. For those of you not taking part, here are the the topics covered:</p>\n<ul>\n<li>Week 1: SAP Fiori UX Basics</li>\n<li>Week 2: SAP Fiori UX Deployment</li>\n<li>Week 3: SAP Fiori UX Configuration</li>\n<li>Week 4: Securing SAP Fiori UX</li>\n<li>Week 5: SAP UI Tools</li>\n<li>Week 6: Extending SAP Fiori UX</li>\n<li>Week 7: Final Exam</li>\n</ul>\n<p>Despite these topic titles, I must admit to having expected a little more on the “UX” part of the title. So far, I don’t remember seeing any real Fiori screen, much less an analysis of how and why it might have been designed that way, and certainly nothing about what lies underneath (the controls in the UI5 toolkit). But it’s still relatively early days, and I haven’t given up hope.</p>\n<p>One thing I’m also not giving up hope on is the approach Open SAP will have to rectifying incorrect “correct” answers to questions in the weekly assignments. For those of you on the course (and therefore with access to the discussion areas), <a href=\"https://open.sap.com/courses/fiori1/question/9e254a98-c309-40f2-b0ae-f1dbec2e0874\">here’s an example</a> of where a question was asked, with the officially correct answer actually being incorrect. (There are other instances of this happening on the course too, but I think those are down to oversights rather than anything else.)</p>\n<p>The answer in question, so to speak, related to the deployment steps for frontend and backend Fiori components, and whether they were the same. Of course, with the variations on system landscapes, ABAP and HANA stacks, and even the deployment tools themselves, the answer is “no”. But this has been marked as incorrect by Open SAP. While in the grand scheme of things this hardly matters, to those taking the course, it’s both a matter of principle and an area that one would feel strongly about, being the type of person taking the course, i.e. one that enjoys exacting detail.</p>\n<p>I’m sure that the Open SAP folks will sort this out before the course is over.</p>\n<p>Before leaving this subject, I would also like to point out that the course content has been rather dry so far. For example, this week’s lectures entail the long winded description of configuration (especially in the area of role assignments in PFCG), only backed up by static slides. Unless I missed it, I didn’t see any actual real live screencasts of configuration in action. I don’t know about you, but I can only take so many slides with theory on them, I need to see things in action. As one of my favourite TV characters likes to say, “let the dog see the rabbit”!</p>\n",
      "date_published": "2014-09-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/21/9/this-week-in-fiori-2014-38/",
      "url": "https://qmacro.org/blog/2014/21/9/this-week-in-fiori-2014-38/",
      "title": "This Week in Fiori (2014-38)",
      "content_html": "<p>Hello again, I’m back again after a week off TWIF, a week where I managed to participate in two great events in the north of England. First, on Sat 13 Sep there was <a href=\"http://scn.sap.com/community/events/inside-track/blog/2014/05/02/sap-inside-track-sheffield--uk\">SAP Inside Track Sheffield</a>, (organised by Tim Guest, Steve Lofthouse and others) where I presented a session on UI5.</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/09/Screenshot-2014-09-21-at-21.19.54-300x149.png\" alt=\"Screenshot 2014-09-21 at 21.19.54\" /></p>\n<p>Then yesterday (Sat 20 Sep) there was <a href=\"http://scn.sap.com/community/events/codejam/blog/2014/08/15/sap-codejam-liverpool--openui5\">SAP CodeJam Liverpool</a>, organised by Gareth Ryan. It was a UI5-themed day where I was totally honoured to work with Frederic Berg (one of the many UI5 heroes from Walldorf) taking the participants on an all-day introduction to building apps with UI5. We took a Fiori design led approach with the exercises and I would say that by the end of the day all the attendees had gained a good appreciation for UI5 and a decent understanding of the development approach. It was a lot of fun and very rewarding; not least because a couple of the participants were from the non-SAP developer ecosphere. Developer outreach, albeit small, in action!</p>\n<p>Perhaps it’s worth pointing out again that SAP Fiori is powered by UI5. To properly understand SAP Fiori from a developer perspective, UI5 is an essential skill to have.</p>\n<p>Anyway, on to this week’s picks.</p>\n<p><strong><a href=\"http://www.sdn.sap.com/irj/scn/go/portal/prtroot/docs/library/uuid/40611a2f-ba23-3210-60b5-d26402db0f2e?QuickLink=index&amp;overridelayout=true&amp;59575491383848\">How to launch “Web Dynpro ABAP” and “SAP GUI for HTML” Application Types from the SAP Fiori Launchpad</a> by Jennifer Cha</strong><br />\nI’ve talked about the SAP Launchpad becoming the new portal a number of times in this TWIF series, but if you need more convincing, take a look at this step by step guide. SAP Fiori Launchpad started out live (in its previous “Launch Page” incarnation) as an initial access point to the Wave 1 ESS/MSS Fiori apps.</p>\n<p>A lot has changed since then, not least the HTML5 architecture that powers it. But more importantly, the ability to make more available through this initial access point is increasing. SAP Fiori, part of SAP’s “New, Renew, Enable” strategy[^n], specifically the “Renew” part, is not going to cover the entire functional breadth of, say, your ECC system. So having the ability to expose more traditional transactions in the same context as the next generation approach makes some sense, even if it does, in my mind, dilute the purity of design :-)</p>\n<p>[^n]:actually this strategy now has a fourth strand “Design Services”. More on that another time, perhaps.</p>\n<p><strong><a href=\"https://www.youtube.com/watch?v=M_12F3JNKWA\">SAP Fiori and Google Analytics</a> by Craig Gutjahr</strong><br />\nThe integration of Google Analytics and web apps is nothing new of course. But this short screencast is a nice reminder of what’s possible. The ability to track activity on a user basis, even on a page basis, is extremely valuable. Combine the detail that Google Analytics gives you, with the ability to explicitly send details on page views from your Fiori app (on a certain event in UI5, such as a navigation) and use that information for the next iteration of your app, focusing on roles and task-based activities, and you can build yourself a nice UX feedback loop.</p>\n<p>By the way, there’s a nice example of sending explicit events to Google Analytics on Joseph Adams’s post “<a href=\"http://jcla1.com/blog/optimizing-google-analytics/\">Optimizing page timings for Google Analytics</a>“.</p>\n<p><strong><a href=\"http://scn.sap.com/community/mobile/blog/2014/09/19/the-power-of-design-thinking-in-fiori-application-development\">The Power of Design Thinking in Fiori Application Development</a> by Sarah Lottman</strong><br />\nThis is a good short piece on, well, basically, talking to the user to work out what they need. I’m still not sure what design thinking is, over and above putting yourself in the users shoes and working out what they want, before developing stuff. Of course, this is very glib of me and I may have missed the mark, and the design process that Sarah describes is neither easy nor obvious. I myself am guilty of building software and then imposing that upon others, without having talked to them.</p>\n<p>So perhaps the key takeaway is actually that one way to get design right is to use the building blocks that Sarah describes – persona creation, process and task flow mapping, and wireframing. Actually it’s often fun to skip wireframing and jump straight to throwing UI5 control declarations into an XML view structure and throwing it at the screen. Or is that just me?</p>\n<p><strong>Jobs, Jobs, Jobs by Various</strong><br />\nIt was going to happen sooner or later. Actually it already started a while ago, but these days I’m noticing more and more job postings. Postings mentioning Fiori specifically, and postings mentioning UI5 specifically, in the title. Thing is, with Fiori and UI5 being relative new skills on the scene, there’s room for even more confusion than normal in this area.</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/09/Screenshot-2014-09-21-at-21.01.18.png\" alt=\"Screenshot 2014-09-21 at 21.01.18\" />]</p>\n<p>Take a recent post on Twitter, advertising a position thus: “Architect – Mobile Web &amp; Fiori Job” at SAP in Bangalore (according to the link destination).</p>\n<p>But reading the copy, the only mention of the word “Fiori” in the whole detail was in the title. Nowhere in the actual description. And the only mention of UI5 at all was as the last item in a list, almost an afterthought: “(JQM, Sencha, SAP UI5, etc)”.</p>\n<p>I don’t understand what’s going on here. So I guess we have to just keep an eye on the details of what is actually being offered. And on that subject, keep an eye on the details on the other side of the fence too. In a previous episode (TWIF 2014-29) I noted seeing a claim of “five years plus of SAP Fiori focused delivery”. Remember, Fiori has existed for less than two years, UI5 for a bit more than that. Caveat, well, everyone.</p>\n<p>That’s it for this week, thanks for reading, see you soon!</p>\n",
      "date_published": "2014-09-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/14/9/scratching-an-itch-ui5-icon-finder/",
      "url": "https://qmacro.org/blog/2014/14/9/scratching-an-itch-ui5-icon-finder/",
      "title": "Scratching an itch - UI5 Icon Finder",
      "content_html": "<p>There are a huge number of icons as standard in the UI5 library, both in the SAPUI5 and OpenUI5 flavours. Here’s the <a href=\"https://openui5.hana.ondemand.com/test-resources/sap/m/demokit/icon-explorer/index.html\">Icon Explorer</a> from the SDK.</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/09/Screenshot-2014-09-14-at-20.35.07.png\" alt=\"image\" />One of the problems I have is that when I’m looking for an icon, the search term I have in my head is not necessarily going to match up with the name of the icon in the library.</p>\n<p>For example, I might be looking for a “cog”, with the icon on the left in mind, but I’m not going to be able find it unless i use the term “action-settings”.</p>\n<p>And in the light of the session I gave this weekend at <a href=\"http://scn.sap.com/community/events/inside-track/blog/2014/05/02/sap-inside-track-sheffield--uk\">SAP Inside Track Sheffield</a> on “Quick &amp; Easy Apps with UI5″, where I focused on single-file apps, albeit with full MVC, I decided to hack together a little smartphone-focused app where I could search for icons, and add my own “aliases” so that next time I searched, the search would look at my aliases too.</p>\n<p>It’s a very simple affair, and in this first version, is designed to use the <a href=\"http://diveintohtml5.info/storage.html\">localStorage</a> mechanism in modern browsers so that you build up your own set of aliases. Perhaps a future version might share aliases across different users, so that we can crowdsource and end up with the most useful custom search terms.</p>\n<p>Anyway, it’s available currently at <a href=\"http://pipetree.com/ui5/projects/iconfinder/\">http://pipetree.com/ui5/projects/iconfinder/</a> and you can grab the sources from the <a href=\"https://github.com/qmacro/iconfinder\">Github repo</a> (remembering that the whole point of this is it’s a single-file app!).</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/09/Screenshot-2014-09-14-at-20.48.52.png\" alt=\"image\" /></p>\n<p>Here’s a short screencast of a version of it in action:</p>\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"315\" src=\"https://www.youtube.com/embed/laNprcrApKc\" width=\"560\"></iframe>\n<p>Let me know what you think – is it useful? In any case, s<span style=\"line-height: 1.714285714; font-size: 1rem;\">hare &amp; enjoy!</span></p>\n<p></p>\n",
      "date_published": "2014-09-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/8/9/this-week-in-fiori-2014-36/",
      "url": "https://qmacro.org/blog/2014/8/9/this-week-in-fiori-2014-36/",
      "title": "This Week in Fiori (2014-36)",
      "content_html": "<p><img src=\"https://experience.sap.com/wp-content/themes/experience-main/fiori/img/Detail-Suggestion-SAP-Fiori-Guidelines-link.png\" alt=\"\" /></p>\n<p>When you write a series of weekly posts, you’re acutely aware of how fast the actual weeks fly by. And this last one was no exception. Lots of movement and activity in the SAP Fiori world … let’s get to it.</p>\n<p><strong><a href=\"https://www.youtube.com/watch?v=6wJz-mams2Y\">Introducing the New SuccessFactors UX based on SAP Fiori</a> by Sam Yen</strong><br />\nThis short video from Sam Yen, SAP’s Chief Design Officer, is worth watching, not least for the soundbites that help underline how important SAP Fiori is for SAP, and therefore for us as customers and partners. Here are a couple of them:</p>\n<p><em>“Design has been named one of the five priorities of the entire company”</em></p>\n<p><em>“Fiori is now the design direction for all of SAP’s solutions”</em></p>\n<p>Clearly building the new SuccessFactors complete user experience upon SAP Fiori is a significant next step in this direction. Even if you’re not interested in any of the current SAP Fiori apps, be interested in SAP Fiori as a UX and UI technology. Not being interested is to miss out on one of the critical new generation platforms for enterprise apps in the SAP ecosphere.</p>\n<p><strong><a href=\"http://scn.sap.com/community/mobile/blog/2014/09/08/take-part-in-the-sap-fiori-ux-design-challenge\">Take Part in the SAP Fiori UX Design Challenge</a> by Susanne Busemann</strong><br />\nTomorrow sees the start of the OpenSAP course which I first mentioned in <a href=\"https://qmacro.org/2014/08/01/this-week-in-fiori-2014-31/\">TWIF episode 2014-31</a> – the <a href=\"https://open.sap.com/course/fiori1\">Introduction to SAP Fiori UX</a>. As an optional part of this course, a design challenge has been set.</p>\n<p>If you don’t know already, a large part of the philosophy behind SAP Fiori is about the UX, as distinct from the UI. The UX you get from SAP Fiori is powered by the UI that is provided by the tremendously capable UI5 toolkit (see <a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/February-2014/The-essentials-SAP-UI5-OpenUI5-and-Fiori/\">The Essentials – SAPUI5, OpenUI5 and Fiori</a> for more details on UI5 and its relationship with Fiori).</p>\n<p>Even as a out and out developer, and primarily (or at least originally) a backend developer – a “data plumber”, I have found in my UI5 and Fiori development experience so far that prototyping the user experience is a important part of building great apps. So I’m happy to see that folks are encouraged to dip their toes in the design pool.</p>\n<p>See you on the course!</p>\n<p><strong><a href=\"http://scn.sap.com/people/aviad.rivlin/blog/2014/09/08/my-personal-ux-fiori-portal-cloud-cheat-sheet\">My Personal Ux, Fiori, Portal, Cloud Cheat Sheet</a> by Aviad Rivlin</strong><br />\nMy friend and fellow SAP Mentor Aviad has appeared on TWIF before, specifically in <a href=\"https://qmacro.org/2014/07/26/this-week-in-fiori-2014-30/\">TWIF 2014-30</a>, talking about the SAP Fiori Launchpad and the SAP Portal of course. This time he’s back, with a nice little set of links to great resources relating to Fiori, Portal and the cloud. It’s a super combination and not a little fascinating, for reasons I’ve mentioned before – there’s a convergence of SAP Fiori’s Launchpad with the older SAP Portal concepts, which is not unexpected as both serve similar functions.</p>\n<p>Aviad intends to update the blog posts with new links as and when appropriate, so it’s definitely worth bookmarking.</p>\n<p><strong><a href=\"http://scn.sap.com/community/enterprise-portal/blog/2014/09/05/sap-fiori-apllication-integration-with-sap-enterprise-portal\">SAP Fiori Application Integration with SAP Enterprise Portal</a> by Ido Fishler</strong><br />\nOn the subject of SAP Fiori and SAP Portal, here’s another timely blog post on the SAP Community Network by Ido Fishler. He takes the reader through the steps required to get an SAP Fiori app integrated (via iView) into the SAP Enterprise Portal. Whether you’re running an SAP Portal or not, it’s definitely worth a read – the “exhaust-knowledge” alone is worth the price of a coffee for sure.</p>\n<p>Well that’s all for now, folks. I’m off to document episode four of a rather exciting series I’m building on the subject of OpenUI5. Until next time, share and enjoy!</p>\n",
      "date_published": "2014-09-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/31/8/this-week-in-fiori-2014-35/",
      "url": "https://qmacro.org/blog/2014/31/8/this-week-in-fiori-2014-35/",
      "title": "This Week in Fiori (2014-35)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2014/08/f-300x273.jpg\" alt=\"\" /></p>\n<p>Hello and welcome to another episode in This Week in Fiori (TWIF) – for week 35, the last week in August already. This week it’s an all-SAP affair. Without further ado, let’s get to it.</p>\n<p><strong><a href=\"http://help.sap.com/fiori_bs2013/helpdata/en/99/e464520e2a725fe10000000a441470/content.htm\">Catalog of SAP Fiori Apps</a> by SAP</strong><br />\nThis has recently started to appear on people’s radar, and is a nice resource for summarising all the apps available so far. There are a lot of apps listed, and according to a rough calculation it looks like 370 apps are now listed.</p>\n<p>I guess one issue with this catalog page is that it doesn’t really scale, from a human readable perspective, and you don’t get a feel for where the majority of the apps lie. For that, I’d of course recommend my <a href=\"https://code.bluefinsolutions.com/~dadams/FioriWebinar/AppAnalysis.html\">SAP Fiori App Analysis Tool</a> that I mentioned in a previous TWIF episode (<a href=\"https://qmacro.org/2014/08/01/this-week-in-fiori-2014-31/\">TWIF 2014-31</a>). This tool lists the apps that were available at the time the tool was built (313 of them), and I need to get round to add the new apps to the database. Of course, perhaps if I found a few of the right shaped tuits I might attempt to parse the source of this Catalog page. Ideally, SAP would supply a machine readable dataset. Please?</p>\n<p>Here’s my rough calculation, by the way :-)</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/08/cat-300x213.jpg\" alt=\"cat\" /></p>\n<p><strong><a href=\"http://sessioncatalog.sapevents.com/go/agendabuilder.sessions/?l=85&amp;locale=en_US&amp;selectedFilters=tag_0:0,tag_202:13848&amp;kw=\">SAP Fiori Subtrack at SAP TechEd &amp; d-code</a> by SAP</strong><br />\nThe SAP TechEd conference season is starting soon and the excitement is building already. This year there’s a User Experience &amp; User Interface Development track[^n]. Within this track there’s an <a href=\"http://sessioncatalog.sapevents.com/go/agendabuilder.sessions/?l=85&amp;locale=en_US&amp;selectedFilters=tag_0:0,tag_202:13848&amp;kw=\">SAP Fiori subtrack</a>, which is great to see (although not unexpected!). Here’s a quick glance of the sessions in this subtrack in Berlin:</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/08/fiorisubtrack.jpg\" alt=\"image\" /></p>\n<p>Mini CodeJams, Code Reviews, Lectures and Hands-on Workshops. There are not as many as I’d like, but it’s a good start. Perhaps I’ll see you there?</p>\n<p>[^n]:Ironically the SAP TechEd &amp;&amp; d-code site makes it very difficult for me as a user to use – following links within the Agenda Builder break fundamental browsing contracts and expectations, such as being unable to go back having selected a track or subtrack, for example. Bad UX at its best.</p>\n<p>**<a href=\"http://scn.sap.com/docs/DOC-52555\">Use Cases for Extending the UI of SAP Fiori Apps</a> by Clement Selvaraj<br />\n**One of the better (read: more comprehensive) PDF based documents to come out over the past few months, that has only just come to my attention, is this PDF-based detailed document on extending SAP Fiori apps. It takes a specific functional scenario (<a href=\"http://help.sap.com/fiori_bs2013/helpdata/en/20/c74c522565d330e10000000a44538d/frameset.htm\">Report Quality Issue</a>) and walks the reader through a series of extension use cases. These use cases cover the extension concepts (extension points and controller hooks), and as a nice by-product, give the reader insight into a little bit of how a real SAP Fiori app is put together under the covers. For example, it highlights the Sn views (S2.view.xml, S3.view.xml, and so on) which my colleague Brenton and I covered in our <a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/July-2014/Webinar-more-Understanding-SAP-Fiori/\">Understanding SAP Fiori Webinar</a> a couple of months ago. See the accompanying video screencast “<a href=\"https://www.youtube.com/watch?v=nM0ffI-GxGk\">Understanding SAP Fiori</a>” for more details.</p>\n<p>Well that’s it for now, thanks for reading. I hope you’re enjoying this TWIF series … do please let me know if there’s any way I can make things better, I’d love to hear from you. Until next time, share &amp; enjoy!</p>\n",
      "date_published": "2014-08-31T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/23/8/this-week-in-fiori-2014-34/",
      "url": "https://qmacro.org/blog/2014/23/8/this-week-in-fiori-2014-34/",
      "title": "This Week in Fiori (2014-34)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2014/08/Screenshot-2014-08-23-at-14.37.51.png\" alt=\"Screenshot 2014-08-23 at 14.37.51\" /></p>\n<p>Another week gone! I’m sitting in my “second living room”, <a href=\"http://northteapower.co.uk/\">North Tea Power</a>, drinking a fab coffee and sifting through the Fiori related articles that came to my attention this week. And just this morning there was a very interesting conversation on Twitter that I also want to bring to your attention; not only because it relates to Fiori, but also because it involves some of the key thinkers and doers in this space, folks that I respect greatly. So, let’s get to it.</p>\n<p><strong><a href=\"http://help.sap.com/fiori_bs2013/helpdata/en/c1/804352b4e61b13e10000000a44176d/frameset.htm\">Extensibility information for SAP Fiori</a> by SAP</strong><br />\nIn my 27 years hacking on SAP, I’ve seen the constant struggle between quality and quantity of SAP documentation. I cut my enterprise tech teeth on IBM mainframes – proprietary tech to the core, but my goodness did they have superb documentation, the quality and preciseness of which I’ve never seen since, to be honest. I’m sure I’m not the only one who’s had a love-hate relationship with SAP documentation, but having recently been on the other side of the fence (involved in <a href=\"http://help.sap.com/saphelp_uiaddon10/helpdata/en/5c/a68e6e62e6464a8103297fbc19cd9c/content.htm?frameset=/en/91/f0ed206f4d1014b6dd926db0e91070/frameset.htm\">producing some documentation</a> recently) I do know it’s no easy task.</p>\n<p>SAP Fiori is here to stay, as are the underlying tech layers; and we need to be prepared to embrace a new SAP software logistics world that is very different from the old but comfortable ABAP stack based one with which we’re familiar. Software logistics? Code management, version control, deployments, and extensions &amp; enhancements … not least those modification free ones that allow us to survive service pack updates and the like.</p>\n<p>So it is with this in mind that I reviewed what extensibility documentation exists in the SAP Fiori space. While it touches many of the bases, it is still relatively sparse on detail, and still lacking in examples. Still, it is a start, and I encourage you to read it, if nothing else, to discover the areas that you need to know more about … and persuade SAP to write more on.</p>\n<p><strong><a href=\"http://scn.sap.com/community/ui-technology/blog/2014/08/13/fiori-personas-and-beyond-selecting-the-best-ui-for-sap-processes\">Fiori, Personas and beyond: selecting the best UI for SAP processes</a> by Chris Scott</strong><br />\nThis is a nicely considered post on the SAP Community Network that takes a step back from Fiori and encourages the reader to consider all the options for improving the overall user experience (UX). It highlights that there are options other than SAP Fiori of course, but more importantly it suggests, rightly, that the whole approach should be requirements driven, with a focus on improving process. Sure, this sounds obvious, but sometimes it’s easy to lose sight of the bigger picture when the tech is so compelling. It also goes some way to underline the basis of SAP Fiori UX strategy – task / function focused, according to role, rather than the more traditional feature-smorgasbord that we’re used to in the UI that we drive by entering transaction codes.</p>\n<p><strong><a href=\"http://experience.sap.com/fiori-guidelines/FioriDesign/52_Fiori_Design-Prototyping-Kit.html\">SAP Fiori Prototyping Kit</a> by SAP</strong><br />\nIn <a href=\"https://qmacro.org/2014/07/09/this-week-in-fiori-2014-28/\">TWIF 2014-28</a>, I highlighted the <a href=\"http://experience.sap.com/wp-content/fiori-guidelines/\">SAP Fiori Design Guidelines</a>. Bundled with these guidelines was a simple prototyping kit. The very fact that a prototyping kit exists suggests how important the user interface (UI) design process is if you want to produce good UX, and while there are different philosophies related to prototyping, a lowest-common-denominator approach is to mock stuff up with building blocks that represent UI component parts. The prototyping kit has these component parts, and has recently (this month) been updated. Definitely worth a download.</p>\n<p>A useful side effect of tools like this is that we stand a better chance of producing appropriate and consistent, compatible “Fiori-like” UIs that don’t jar when switching from one app to the next.</p>\n<p><strong><a href=\"https://twitter.com/grahamrobbo/status/503123365671219200\">On UI5 and Fiori deployment and extensions</a> by The Usual Suspects on Twitter</strong><br />\nA very interesting conversation came about on Twitter this morning, with UI5 and Fiori luminaries such as <a href=\"http://twitter.com/grahamrobbo\">Graham Robinson</a>, <a href=\"http://twitter.com/jasper_07\">John Patterson</a> and <a href=\"http://twitter.com/js1972\">Jason Scott</a>. It was about non-standard (i.e. not SAP standard) development workflows, and included thoughts on Fiori development and extensibility.</p>\n<p>As with many Twitter conversations, a lot of what was not said — due to the 140-char nature of the microblogging platform — was just as important (bringing a modern nuance to “reading between the lines”). My take on the conversation, and the thoughts in the minds of the participants, was that we need to keep a close eye on where SAP is going with tooling, and where we as individual developers want to go, how the paths are similar and how they’re different. Not everyone wants to use Eclipse, or even RDE, to develop and maintain Fiori applications. RDE – the River Development Environment – is of course a fabulous piece of engineering but it should never be a one-size-fits-all solution.</p>\n<p>One of the wonderful side effects of SAP embracing open standards and open source is the freedom we have to choose the tools, and build the the tool chains and workflows with those tools, workflows that best suit the particular environment and circumstances of the client and the design / developer teams. I want to make sure we don’t lose sight of that side effect as time goes on.</p>\n<p>Well that’s it for this week, until next time, share &amp; enjoy!</p>\n",
      "date_published": "2014-08-23T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/17/8/this-week-in-fiori-2014-33/",
      "url": "https://qmacro.org/blog/2014/17/8/this-week-in-fiori-2014-33/",
      "title": "This Week in Fiori (2014-33)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2014/08/Screen-Shot-2014-08-17-at-11.03.23.png\" alt=\"Screen Shot 2014-08-17 at 11.03.23\" /></p>\n<p>Hello again. Another week has passed, and the writing of this week’s TWIF should have found me in the Lake District, but alas due to circumstances too tedious to go into now, finds me about 90 miles south, back at home. Anyway, it’s the end of the week and therefore time for some Fiori links and commentary. Let’s get to them!</p>\n<p><strong><a href=\"http://scn.sap.com/docs/DOC-57363\">SAP Fiori Launchpad for Developers</a> by Steffen Huester and Olivier Keimel</strong><br />\nIn previous TWIF episodes I’ve mentioned the SAP Fiori Launchpad and its importance to the Fiori app ecosphere. It’s slowly becoming the new lightweight portal and rightly so. The SAP Fiori Launchpad has been designed to be cross platform (ABAP, HANA and Cloud stacks) and in true SAP style this design shows through in the form of abstraction layers — service adapters, the shell renderer and the application container. In fact, it’s the application container that might pique your interest, as we see that it can not only host UI5 apps (via the Component concept) but also Web Dynpro ABAP and SAP GUI for HTML apps.</p>\n<p>This document, which applies to the User Interface Add-On 1.0 SPS 05 (am I the only one to still refer to this product as “UI2″?) is a great resource which explains the Launchpad architecture and includes some details, and do’s &amp; don’ts, on the <a href=\"https://sapui5.hana.ondemand.com/sdk/#docs/guide/170638b7a2b4424e8580fb473af6a3cd.html\">Component based approach</a> to building and embedding apps. Yes, embedding – the Launchpad is a single HTML page (a resource with a URL typically ending “FioriLaunchpad.html”) into which UI5 apps, in the form of Components, are loaded.</p>\n<p>One thing in this document that made me smile was a couple of references to the <a href=\"http://help.sap.com/saphelp_hanaplatform/helpdata/en/5c/a68e6e62e6464a8103297fbc19cd9c/content.htm?frameset=/en/d0/1cd0b7be7f441cb6c56ad4577b428c/frameset.htm&amp;current_toc=/en/d0/1cd0b7be7f441cb6c56ad4577b428c/plain.htm&amp;node_id=64\">UI5 Application Best Practices guide</a> (also <a href=\"https://sapui5.hana.ondemand.com/sdk/#docs/guide/5ca68e6e62e6464a8103297fbc19cd9c.html\">available in the SDK docu</a>) which is the work of my own hand :-)</p>\n<p>**<a href=\"https://qmacro.org/blog/2014/17/8/this-week-in-fiori-2014-33/www.insidesap.com.au/in_depth/build-me-an-app-that-looks-just-like-fiori-developing-mobile-apps-with-sapui5\">Build me an app that looks just like Fiori</a> by John Patterson<br />\n**This article only recently came to my attention. It was published a few days ago in Inside SAP but looking at some of the content towards the end (specifically about open sourcing), I think it was written a while ago. Nevertheless it’s a good read and worthy of attention now. (Also, randomly, it reminds me of the title of the film “<a href=\"http://en.wikipedia.org/wiki/Bring_Me_the_Head_of_Alfredo_Garcia\">Bring Me the Head of Alfredo Garcia</a>“.)</p>\n<p>Even now I come across folks who are still looking for a good explanation of Fiori, UI5 and the relationship between them, and also what UI5 offers. Sometimes I point them at my post “<a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/February-2014/The-essentials-SAP-UI5-OpenUI5-and-Fiori/\">The essentials: SAPUI5, OpenUI5 and Fiori</a>” but also this article by John addresses that need nicely too.</p>\n<p><span style=\"line-height: 1.714285714; font-size: 1rem;\">(Warning, you need to complete a free signup to get to the content. Come on <a href=\"http://www.insidesap.com.au/\">Inside SAP</a>, you can do better than that!)</span></p>\n<p>**SAP Fiori Course Offerings by SAP<br />\n**In <a href=\"https://qmacro.org/2014/08/01/this-week-in-fiori-2014-31/\">TWIF 2014-31</a> I mentioned that the OpenSAP MOOC is offering a free course “Introduction to SAP Fiori UX” starting in September this year. I thought I’d take a look at what SAP offers in the way of more traditional courses, relating to Fiori. This is what I found on the <a href=\"https://training.sap.com/gb/en/curriculum/fiori_uk-sap-fiori-uk/\">SAP Fiori curriculum page</a>:</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/08/Screen-Shot-2014-08-17-at-10.52.03.png\" alt=\"image\" /></p>\n<p><span style=\"line-height: 1.714285714; font-size: 1rem;\">It’s still early days, I think, but it’s a fair representation of the skills required for Fiori:</span></p>\n<ul>\n<li>Design thinking (THINK1)</li>\n<li>HTML5 &amp; SAPUI5 (SAPX04 and SAPX05)</li>\n<li>Gateway (OData) (GW100)</li>\n<li>Fiori Implementation &amp; Configuration (SAPX03)</li>\n</ul>\n<p>Note that the GW100 course covers OData from a Gateway perspective, i.e. the OData server product mechanism from SAP for the ABAP stack. There doesn’t seem to be coverage for the roughly equivalent OData server mechanism XSODATA on the HANA stack. With many of the SAP Fiori apps, specifically the analytical and factsheet ones*, requiring HANA as a backend, this seems to be a gap that should be filled sooner rather than later.</p>\n<p>*See the <a href=\"https://code.bluefinsolutions.com/~dadams/FioriWebinar/AppAnalysis.html\">SAP Fiori App Analysis tool</a> for more details</p>\n<p><strong><a href=\"http://help.sap.com/fiori_bs2013/helpdata/en/a6/49c453110bcd46e10000000a44538d/content.htm?frameset=/en/9c/106a53e744e047e10000000a441470/frameset.htm&amp;current_toc=/en/9c/106a53e744e047e10000000a441470/plain.htm&amp;node_id=3\">What’s New in SAP Fiori (Delivery July 2014)</a> by SAP</strong><br />\nA nice coffee time read is this series of What’s New documents from SAP on the main SAP Fiori documentation site. The documents don’t go into too much detail but do have pointers to where more information is available; they nicely summarise some of the new features and changes that are delivered in the ever increasing number of waves.</p>\n<p>This time, like last time (for the Delivery May 2014 edition), the What’s New covers Products, Infrastructure and Documentation. There again we have the significance and prominence of Fiori infrastructure, which of course includes the Launchpad, but also the set of layers between any given Fiori app and your backend SAP system. Worth keeping an eye on for sure.</p>\n<p>Well that just about wraps it up for this week. Until next time, share &amp; enjoy!</p>\n",
      "date_published": "2014-08-17T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/8/8/this-week-in-fiori-2014-32/",
      "url": "https://qmacro.org/blog/2014/8/8/this-week-in-fiori-2014-32/",
      "title": "This Week in Fiori (2014-32)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2014/08/Screen-Shot-2014-08-08-at-18.53.49-300x168.png\" alt=\"image\" /></p>\n<p>Here we are, another week into the new Fiori flavoured world, and as always, there are things to talk about and posts to mention. While it’s been a relatively quiet week there have still been various “announcements” that company X or company Y is now supporting SAP Fiori, or have a Fiori related offering which involves design, prototyping or deployment.</p>\n<p>While the glass-half-empty folks might point out that this is a lot of marketing and bandwaggoning, I like to think of it as a good sign that as well as already being everything from a design philosophy (“Fiori”) to a product (“SAP Fiori”), it’s also gaining traction and mindshare in the wider ecosystem and becoming a definite context for engagement.</p>\n<p>Ok, let’s get to the pointers for this week.</p>\n<p><strong><a href=\"http://scn.sap.com/docs/DOC-51167\">Build SAP Fiori-like UIs with SAPUI5</a> by Bertram Ganz</strong><br />\nWhile working as a member of the core UI5 team at SAP in Walldorf in 2013/2014, I was privileged to take part in the creation and presentation of SAP TechEd session CD168 “Building SAP Fiori-like UIs with SAPUI5″ with a number of UI5 heroes like Thomas Marz, Frederic Berg, Bertram Ganz and Oliver Graeff. <a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2013/10/06/building-sap-fiori-like-uis-with-sapui5\">I wrote about the CD168 session</a> in a post on the SAP Community Network and since the delivery of the session at the SAP TechEd events 2013, the slides, detailed exercise document and exercise solutions have been made available via Bertram’s post.</p>\n<p>Even though it was posted back in January this year, it’s still an important post for a couple of reasons. First, the material is very comprehensive and takes you from a very basic and raw application all the way through to a rather accomplished Fiori application, introducing many features of UI5 that are key to Fiori applications along the way. But also, it shows us that designing and building Fiori applications is not just in SAP’s hands – it can be in <em>your</em> hands too. Fiori is a concept big enough to share.</p>\n<p>If you haven’t already, take a look at this content to get a feel for what it’s like to build Fiori apps. It’s a pretty decent set of materials, and I’m very proud to be a co-author.</p>\n<p><strong><a href=\"http://experience.sap.com/topic/why-pie-charts-are-not-in-sap-fiori-charting-library/\">Why Pie Charts are not in SAP Fiori Chart Library</a> by Vincent Monnier</strong><br />\nLike the reference to <a href=\"http://scn.sap.com/people/kai.richter/blog/2014/06/30/the-fiori-design-principles\">The Fiori Design Principles</a> in the first post in this series back in week 27 (<a href=\"https://qmacro.org/2014/07/02/this-week-in-fiori-2014-27/\">TWIF 2014-27</a>), this post by a designer at SAP highlights that as well as development and the thought processes behind building software, there’s also <em>design</em> and the thought processes behind building a great experience … both of these things go into Fiori.</p>\n<p>This is a relatively short post that highlights out some of the general downsides to pie charts and points to some further reading. But it’s the fact that the design process has been gone through and also shared with the wider community that is interesting. In fact, if nothing else, use this as a pointer to the whole <a href=\"https://experience.sap.com/\">SAP User Experience Community</a> site. And if you want to know more about charts in SAP Fiori, see <a href=\"http://experience.sap.com/fiori-guidelines/FioriPatterns/21_Fiori_Patterns-Charts.html\">the chart section in the SAP Fiori Guidelines</a>.</p>\n<p><strong><a href=\"https://sapui5.hana.ondemand.com/sdk/explored.html\">The UI5 Explored App</a> by the UI5 Team</strong><br />\nThe toolkit on which Fiori apps are built is UI5 (UI5 is the generic term I use for both the SAP licenced version SAPUI5 and the open source licenced version OpenUI5 … see <a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/February-2014/The-essentials-SAP-UI5-OpenUI5-and-Fiori/\">The Essentials – SAPUI5, OpenUI5 and Fiori</a> for more info). The UI5 <a href=\"https://sapui5.hana.ondemand.com/sdk/\">Software Development Kit</a> (SDK) includes a large amount of documentation and example code, and part of that is known as the Explored App. It started out life specifically to showcase and provide example best practice approaches for controls in the responsive “sap.m” library, but has graduated to being a top level menu section within the SDK and covers controls beyond “sap.m” now too.</p>\n<p>(As with the CD168 tutorial materials, I am also proud to have had a hand in building the Explored App too ;-)</p>\n<p>With the <a href=\"https://sapui5.hana.ondemand.com/sdk/explored.html\">Explored App</a> you can, well, explore many features and functions within UI5, a good number of which are used to build Fiori applications, and you’ll start to recognise component parts, building blocks that are used and reused to provide features such as search, lists, buttons, dialogs, and so on. Let’s pick one – the <a href=\"http://localhost:8888/sapui5/latest/explored.html#/entity/sap.m.IconTabBar/samples\">IconTabBar</a>. In context, it typically looks like the lower half of this screenshot:</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/08/Screen-Shot-2014-08-08-at-18.40.32.png\" alt=\"image\" /></p>\n<p><span style=\"line-height: 1.714285714; font-size: 1rem;\">The IconTabBar is used to contain a number of tabbed sections, with the selection for each of the sections typically being round icons. The design changed slightly between SAP Fiori Wave 4 and 5, now there’s more info shown in place of the icons.</span></p>\n<p>Have a look around and see what Fiori building blocks you can recognise!</p>\n<p>Well, the train is almost at Manchester Piccadilly now so this brings this week’s roundup to a close. As always, thanks for reading, and remember you can access the whole series with this TWIF category link: <a href=\"https://qmacro.org/category/twif/\">/category/twif/</a>.</p>\n<p>Share and enjoy!</p>\n",
      "date_published": "2014-08-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/1/8/this-week-in-fiori-2014-31/",
      "url": "https://qmacro.org/blog/2014/1/8/this-week-in-fiori-2014-31/",
      "title": "This Week in Fiori (2014-31)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2014/08/Screen-Shot-2014-08-01-at-18.42.49-300x214.png\" alt=\"SAP UX Explorer\" /></p>\n<p>Well, yet another week has gone by and we have new Fiori related content to consume. And I was reminded of that early this morning after seeing a <a href=\"https://twitter.com/c821311/status/495067577735864321/photo/1\">tweet and a screenshot from Tony de Thomasis showing SAP Fiori for TDMS 4.0</a> – the scope of SAP Fiori apps is indeed widening further. The tweet prompted me to think about reviewing the data for my online <a href=\"https://code.bluefinsolutions.com/~dadams/FioriWebinar/AppAnalysis.html\">SAP Fiori App Analysis tool</a>** with a view to updating it. Do you find it useful? Let me know in the comments or via Twitter (I’m <a href=\"http://twitter.com/qmacro\">@qmacro</a>).</p>\n<p>**the data is hand-gathered, see <a href=\"http://youtu.be/aVeQ4asHgaY\">The SAP Fiori App Analysis application</a> for some background. Ideally SAP could make this data available and keep it up to date for us, right?</p>\n<p>Anyway, on to the picks for this week.</p>\n<p><strong><a href=\"https://open.sap.com/course/fiori1\">OpenSAP’s Introduction to SAP Fiori UX</a>, by Prakalp Phadnis, Elizabeth Thorburn &amp; Jamie Cawley</strong><br />\nWell, that didn’t take long! SAP’s extremely popular and successful Massive Open Online Courses (MOOC) system “OpenSAP” is offering a free course on SAP Fiori. Specifically, Fiori User Experience (UX). After all, UX is at the heart of a lot of what the Fiori philosophy is about.</p>\n<p>I’ve said in the past that Fiori is “many things, including a state of mind”. I’m hoping that this course, which promises lessons on fundamentals, latest features, installation, configuration and best practices for extensibility, will instill in the attendee a sense of what good looks like, and help to prevent possible dilution of the Fiori concepts.</p>\n<p><strong><a href=\"http://scn.sap.com/community/mobile/blog/2014/07/29/the-sap-fiori-launchpad-has-been-added-to-the-ux-explorer\">The SAP Fiori Launchpad has been added to the UX Explorer!</a> by Elizabeth Thorburn</strong><br />\nIn <a href=\"https://qmacro.org/blog/2014/1/8/this-week-in-fiori-2014-31/pipetree.com/2014/07/this-week-in-fiori-2014-30/\">last week’s TWIF installment</a> I mentioned the functional proximities of the SAP Fiori Launchpad and the SAP Portal, in reference to a post by Aviad Rivlin. This week SAP have taken another step towards surfacing info about the important Launchpad, by including it in the UX Explorer.</p>\n<p>With the <a href=\"https://uxexplorer.hana.ondemand.com/index.html\">UX Explorer</a> you can find out about different User Interface (UI) and UX products and technologies from SAP. While the current content for the Launchpad isn’t overwhelming, it is there, which is a start. And there’s a couple of things that stood out for me: It stated loud and clear that the Launchpad was built using SAPUI5 (yay for the teams and my extended family in Walldorf!) and is most definitely marked as “strategic” as relating to relevance for SAP’s own application development.</p>\n<p>Elizabeth is one of the tutors on the Introduction to SAP Fiori UX course, by the way.</p>\n<p><strong><a href=\"http://scn.sap.com/blogs/SAPPSA_Jeffrey/2014/07/28/partner-co-innovation-workshop--build-your-own-fiori-app\">Partner Co-Innovation Workshop – Build Your Own Fiori App</a> by Jeffrey D’Silva</strong><br />\nFor me this post is a bittersweet one. The SAP Co-Innovation labs are running a 3-day workshop for partners, covering design thinking, Fiori design principles, UI5 controls and more, culminating in the attendees building an app. It’s not clear to me after reading the agenda and the description whether the app will be a mockup only (as detailed in the agenda) or complete and fully certified (as detailed in the description). My guess is that with two of the three days taken up with design (and rightly so), the result will be nearer a working mockup than something that has already reached SAP certification.</p>\n<p>But here’s the thing: SAP Fiori and the underlying technologies (UI5 and OData) are the fundamental building blocks of much of SAP’s application future. So it’s not only important for SAP themselves and SAP partners, <strong>but for SAP customers too</strong>. What customers were (and still are) building and extending in the land of classic and web dynpro, the approaches and techniques used, and the tools and platforms relied upon, will be slowly but surely be superseded by Fiori, UI5 and OData flavoured equivalents.</p>\n<p>Customers, ready thyself for Fiori flavoured development! And by that, I mean a different approach to source code control, version management, extensibilty, and more, as well as design and build techniques and libraries.</p>\n<p>That’s it for this week, have a great weekend, and as always, share &amp; enjoy!</p>\n",
      "date_published": "2014-08-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/26/7/this-week-in-fiori-2014-30/",
      "url": "https://qmacro.org/blog/2014/26/7/this-week-in-fiori-2014-30/",
      "title": "This Week in Fiori (2014-30)",
      "content_html": "<p><img src=\"https://lh3.googleusercontent.com/-8Hsq77ogdog/U8sByTTcXDI/AAAAAAAAT6c/kJpV3R-Z_cg/w694-h1232-no/20140719_164212.jpg\" alt=\"\" />Well what a week that was. I spent it in Portland, Oregon, which for me being a fan of great coffee and great craft beer, was a fantastic city to be in. It was in Portland that O’Reilly’s Open Source Convention (OSCON) was held, and I was there helping SAP tell the world about OpenUI5 – you can read more about that in this post: “<a href=\"https://qmacro.org/2014/07/22/openui5-tutorial-at-oscon-2014/\">OpenUI5 Tutorial at OSCON 2014</a>“. As usual, there’s lots to talk about, so let’s get going with this week’s <a href=\"https://qmacro.org/category/twif/\">TWIF</a> picks.</p>\n<p><strong><a href=\"http://www.computerworld.com/s/article/9249924/Oracle_ships_nearly_60_mobile_apps_for_JD_Edwards\">Oracle Ships Nearly 60 Mobile Apps for JD Edwards</a> by Chris Kanaracus</strong><br />\nWhat’s interesting about this news is that there are many parallels with the SAP Fiori initiative. The apps that Oracle has released are free, and they’re task focused. One of the underlying design principles of Fiori is that the apps are task based – a person with a given role needs to perform a specific task. This not only makes the apps simpler, but it makes them more appropriate for mobile use, where often the available focus time is shorter than when you’re sitting in an office. And of course, after the pressure from customers, SAP Fiori apps are free too.</p>\n<p>Finally, depending on your perspective, the fact that these apps are available in app stores is either a net positive or negative. For me, the appeal of Fiori is that it’s (a) cross-platform/device, rather than restricted to mobile devices and (b) hackable. This latter feature is why SAP applications, in my opinion, have been so successful in incarnations going right back to R/2, where I started – the source code is available to copy or modify.</p>\n<p>**<a href=\"http://scn.sap.com/community/enterprise-portal/blog/2014/06/23/sap-enterprise-portal-74-sp7-sap-fiori-design-in-the-sap-enterprise-portal\">SAP Enterprise Portal 7.4 SP7 – SAP Fiori Launchpad on the SAP Portal and more</a> by Aviad Rivlin<br />\n**It’s no secret that the SAP Fiori Launchpad and the SAP Portal both operate in a similar space – high level consolidated access to functions and applications in SAP backend systems. There’s a some confusion over SAP’s strategy in this area, and a lot of questions exist. From my perspective, the two initiatives are converging, from both technical and functional points of view. This post goes some way to help further clarify, or at least give some background to SAP’s attempt at aligning the user experience of both Portal and Fiori Launchpad.</p>\n<p><strong><a href=\"http://scn.sap.com/community/rapid-deployment/blog/2014/07/23/more-fiori-new-updates-to-sap-fiori-rapid-deployment-solutions\">More Fiori! New Updates to SAP Fiori Rapid Deployment Solutions</a> by Bob Caswell</strong><br />\nIn <a href=\"https://qmacro.org/2014/07/09/this-week-in-fiori-2014-28/\">TWIF 2014-28</a> I wrote about the Rapid Deployment Solutions (RDS) that SAP brought out earlier this year in the Fiori arena. This week there’s an update to the solutions that SAP offer, with more apps covered, a greater emphasis on user experience adoption, and perhaps most significantly for me, an added focus on Gateway. SAP Fiori apps are nothing without OData, and for the ABAP stack, the SAP Gateway product is essential.</p>\n<p><strong><a href=\"https://www.youtube.com/watch?v=0UIyKoiZ-gE\">OpenUI5 MultiComboBox First Look</a> by me</strong><br />\nRemembering that SAP Fiori apps are built with OData on the backend and with UI5 on the frontend, I thought I’d end this week’s TWIF with a link to a short (12min) video that explores a specific UI5 control from the sap.m library.</p>\n<p>Just before OSCON, <a href=\"http://openui5.tumblr.com/post/91942465212/new-release-openui5-1-22\">version 1.22 of OpenUI5 was released</a>. This was a huge release with many new features. OpenUI5 is the Open Source version of SAPUI5 upon which SAP Fiori apps are built, of course. And specifically SAP Fiori apps, being responsive by design, are built with controls from the UI5 library that contains the responsive controls, namely sap.m. This library gained a number of new controls in the 1.22 release, and this video explores just one of them – the sap.m.MultiComboBox control. Even if you’re non-technical, this video will hopefully give you an insight into the small but perfectly formed building blocks of SAP Fiori apps.</p>\n<p>Well that just about wraps it up for this week. Until next time, share and enjoy!</p>\n",
      "date_published": "2014-07-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/26/7/keyed-vs-non-keyed-root-json-elements-and-ui5-binding/",
      "url": "https://qmacro.org/blog/2014/26/7/keyed-vs-non-keyed-root-json-elements-and-ui5-binding/",
      "title": "Keyed vs Non-Keyed Root JSON Elements &amp; UI5 Binding",
      "content_html": "<p>In a screencast this week (<a href=\"https://www.youtube.com/watch?v=0UIyKoiZ-gE\">OpenUI5 MultiComboBox First Look</a>) I explicitly used the model mechanism’s requestCompleted event to get to the model data and manipulate it, adding a key to the root array. Initially the data looked like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/07/Screen-Shot-2014-07-26-at-14.20.21.png\" alt=\"image\" /></p>\n<p>and I added a key to this root array so it looked like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/07/Screen-Shot-2014-07-26-at-14.23.44.png\" alt=\"image\" /></p>\n<p>I did this programmatically in the requestCompleted event of the model mechanism, as you can see in the <a href=\"https://gist.github.com/qmacro/973aea751b00654b399a#file-multicombobox-html-L38\">Gist for the MultiComboBox.html file, specifically starting at line 38</a>:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">oModel<span class=\"token punctuation\">.</span><span class=\"token function\">attachEventOnce</span><span class=\"token punctuation\">(</span><span class=\"token string\">'requestCompleted'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">oEvent</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />\t<span class=\"token keyword\">var</span> oModel <span class=\"token operator\">=</span> oEvent<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />\toModel<span class=\"token punctuation\">.</span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br />\t\t<span class=\"token string-property property\">\"ProductCategories\"</span> <span class=\"token operator\">:</span> oModel<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br />\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\nHowever, while fun and interesting, I want to point out that this is not absolutely necessary. The model will still support an unkeyed root element such as this array, as shown in the first screenshot above. You can see how this is done in the [Gist for the MultiComboBox-without-Keyed-Root.html file](https://gist.github.com/qmacro/973aea751b00654b399a#file-multicombobox-without-keyed-root-html) – the difference is we don’t need to manipulate the data in the requestCompleted event and the binding for the MultiComboBox items aggregation looks like this:\n<pre><code>{/}\n</code></pre>\n<p>rather than this:</p>\n<pre><code>{/ProductCategories}\n</code></pre>\n<p>Of course, having an unkeyed root element means that you can’t have anything else in that JSON source, which may cause you issues further down the line. But it’s not critical for this example.</p>\n",
      "date_published": "2014-07-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/22/7/openui5-tutorial-at-oscon-2014/",
      "url": "https://qmacro.org/blog/2014/22/7/openui5-tutorial-at-oscon-2014/",
      "title": "OpenUI5 Tutorial at OSCON 2014",
      "content_html": "<p>This week finds me in Portland, Oregon, for O’Reilly’s Open Source Convention (<a href=\"http://www.oscon.com/oscon2014\">OSCON</a>), an amazing conference with a wonderfully diverse range of topics (<a href=\"http://www.oscon.com/oscon2014/public/schedule/grid/public\">over 20 of them</a>). I attended OSCON as a speaker in the early 2000’s and, along with an old friend and colleague <a href=\"http://www.piersharding.com/blog/\">Piers Harding</a>, talked about SAP and Open Source, and I’m very happy to be coming back to OSCON as part of an extended SAP team to talk about SAP and Open Source topics.</p>\n<p><img src=\"https://pbs.twimg.com/media/BtFH0SnCUAAZ1Ev.jpg\" alt=\"\" />This year SAP is an <a href=\"http://www.oscon.com/oscon2014/public/content/sponsors\">OSCON Gold Sponsor</a> and there are a number of sessions that are related to that. One of these was a 3.5 hour tutorial on <a href=\"http://openui5.org/\">OpenUI5</a></p>\n<p><strong><a href=\"http://www.oscon.com/oscon2014/public/schedule/detail/35988\">Discover OpenUI5 – The New Web UI Library from SAP</a></strong></p>\n<p>We (Andreas Kunz, Frederic Berg and me) presented this tutorial which was based on an updated version of some work we and other UI5 team members had previously prepared for SAP TechEd. It was a lot of fun, and hopefully, educational for the attendees.</p>\n<p>Of course, being Open Source related, we’ve made the session material (slides), comprehensive exercise document, the starter project and all the solutions to the exercises available. We collaborated on a Github repo, and it’s all there:</p>\n<p><strong><a href=\"https://github.com/BluefinSolutions/OpenUI5-OSCON-2014\">https://github.com/BluefinSolutions/OpenUI5-OSCON-2014</a></strong></p>\n<p>So have at it, see how you get on, and spread the OpenUI5 love.</p>\n<p>Share &amp; enjoy!</p>\n",
      "date_published": "2014-07-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/18/7/this-week-in-fiori-2014-29/",
      "url": "https://qmacro.org/blog/2014/18/7/this-week-in-fiori-2014-29/",
      "title": "This Week in Fiori (2014-29)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2014/07/Screen-Shot-2014-07-19-at-08.59.33-300x213.png\" alt=\"My Spend\" /></p>\n<p>I’m currently writing this episode of This Week in Fiori (TWIF) on a flight from Manchester via Philadelphia to Portland for O’Reilly’s Open Source Convention <a href=\"http://www.oscon.com/oscon2014\">OSCON</a>. It’s a super conference on all things Open Source and I can heartily recommend it.</p>\n<p>Back in 2001, 2002 and 2003 I attended OSCON and spoke on the subject of SAP and Open Source. 2014 has come round and I’m back, this time on the subject of <a href=\"http://openui5.org/\">OpenUI5</a>, the Open Sourced version of SAP’s UI5 toolkit. Along with a couple of friends &amp; SAP colleagues Andreas Kunz and Frederic Berg, we’re giving a tutorial on the subject: <a href=\"http://www.oscon.com/oscon2014/public/schedule/detail/35988\">Discover OpenUI5 – The New Web UI Library from SAP</a>, as well as a presentation.</p>\n<p>So I’d like to start the week by giving a couple of pointers to background material (“UI5 Credits” and “The Essentials”), to help you get a good idea of the Open Source software upon which UI5 is built. And of course, it’s upon UI5 that SAP Fiori apps are built.</p>\n<p><strong><a href=\"https://sapui5.hana.ondemand.com/sdk/#credits.html\">UI5 Credits</a> by the UI5 team</strong><br />\nThis part of the UI5 Software Development Kit (SDK) lists the libraries, toolkits and other software in the Open Source domain that are used to power parts of UI5.</p>\n<p><strong><a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/February-2014/The-essentials-SAP-UI5-OpenUI5-and-Fiori/\">The Essentials: SAPUI5, OpenUI5 and Fiori</a> by me</strong><br />\nIf you’re interested in finding out more about the relationships between SAPUI5, OpenUI5 and Fiori, this short post should clear things up.</p>\n<p><strong><a href=\"http://scn.sap.com/community/mobile/blog/2014/07/13/updated-version-of-the-sap-fiori-client-available\">Updated Version of SAP Fiori Client</a> by John Wargo</strong><br />\nThe SAP Fiori Client is a hybrid app for specific mobile devices (such as those running Android and iOS), designed specifically to run SAP Fiori apps. Built using Cordova (PhoneGap), it’s a hybrid app in that it is an OS-native install, but is effectively a shell around a browser core, which then acts as the runtime SAP Fiori as usual.</p>\n<p>The SAP Fiori Client was designed with performance in mind; amongst other things; for example, it caches the runtime to reduce startup costs. Since the initial release there’s been an update, described in this post. The update contains bug fixes and relatively minor new functionality, but it’s a good sign that maintenance is ongoing. The SAP Fiori Client is definitely worth a look.</p>\n<p><strong><a href=\"http://scn.sap.com/community/mobile/blog/2014/07/16/the-sap-fiori-fit-part-1--your-fiori-strategy\">The SAP Fiori Fit: Part 1 – Your Fiori Strategy</a> by Molly Maple</strong><br />\nThis is a nicely balanced piece in the SAP Mobile section of the SAP Community Network site. It talks about what SAP Fiori is (a “UX toolkit”) and what it isn’t (a “mobile platform”). It talks about the orthogonal styles of application delivery: Function-oriented (found in the traditional “dynpro-style” apps) and task-oriented (exemplified by the SAP Fiori apps themselves). And it covers some of the current benefits and shortcomings of Fiori when compared to the SAP Mobile Platform.</p>\n<p><strong><a href=\"http://sapinsider.wispubs.com/Assets/Q-and-As/2014/July/QA-with-Jeremy-Masters-on-HR-Renewal-Fiori-and-ESS-MSS\">HR Renewal &amp; SAP Fiori Q&amp;A Transcript</a> by Jeremy Masters</strong><br />\nSAPInsider ran a recent Q&amp;A session focused on HR Renewal, Employee Self Service / Manager Self Service (ESS/MSS) and SAP Fiori. Being a chat-based Q&amp;A the questions and answers are all available. Folks asked about the ease of implementation, about the relationship with, and future demise of WebDynpro, and of course the Portal conundrum, made more interesting by the arrival of <a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/February-2014/The-essentials-SAP-UI5-OpenUI5-and-Fiori/\">SAP Fiori’s Launchpad</a>. Reading this Q&amp;A gives you a good insight into what your peers are really thinking.</p>\n<p>Of course, I have to take some slight exception to one of Jeremy’s answers regarding a reference to “web services” and Gateway :-)  Yes, OData has the concept of a service document, and it’s on the web (HTTP) but the specific phrase “web services” conjures up something altogether more complex and heavyweight (and less RESTful).</p>\n<p>Well that just about wraps it up for this week. And while I’m thousands of feet over the Atlantic, currently somewhere due south of Iceland, I wanted to leave you with an observation: It seems that each week, new companies and offerings are appearing in the SAP Fiori arena. Webinars (yep, we hosted a webinar on <a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/July-2014/Webinar-more-Understanding-SAP-Fiori/\">Understanding SAP Fiori</a> last month), demonstrations, Q&amp;A sessions, fixed price implementation services and offers of free prototyping.</p>\n<p>The best I saw this week was a statement from an SAP technology consulting company in the US, where the SAP Fiori practice lead claimed to have “five years plus of SAP Fiori focused delivery”. Seeing as SAP Fiori has been around for less than two years, that’s quite impressive! :-)</p>\n<p></p>\n",
      "date_published": "2014-07-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/9/7/this-week-in-fiori-2014-28/",
      "url": "https://qmacro.org/blog/2014/9/7/this-week-in-fiori-2014-28/",
      "title": "This Week in Fiori (2014-28)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2014/07/Screen-Shot-2014-07-09-at-07.26.411-300x255.png\" alt=\"SAP Fiori App Analysis tool\" /></p>\n<p>Already a week has passed since my <a href=\"https://qmacro.org/2014/07/02/this-week-in-fiori-2014-27/\">first post in this series</a> and the Fiori related content is increasing. A lot of that is technical, as folks get to grips with the configuration and development mechanisms that underpin Fiori. Perhaps I’ll have a technical “This Week in Fiori” (TWIF) post next time, but for now, here are some more articles, along with some observations.</p>\n<p>**<a href=\"http://www.mobilemarketportal.com/mobile-platform/articles/383045-sap-fiori-brings-out-four-tools-improve-user.htm\">SAP Fiori Brings Out Four Tools To Improve User Experience</a> by Steve Anderson<br />\n**The thing that struck me about this article is that the <a href=\"http://www.news-sap.com/sap-fiori-apps-rapid-deployment/\">tools</a> that Steve writes about – rapid deployment solutions, proof of concept services, and design thinking – implicitly underline the fact that User Experience (UX) has really arrived in the SAP world of enterprise software. UX has stopped just being a natural by-product of application design, as it might be when dynpro-oriented applications are built with a transactional focus; it’s now an explicit and important part of the overall process.</p>\n<p>**<a href=\"http://scn.sap.com/docs/DOC-56438\">SAP Fiori UX – Apps Overview with Screenshots</a> by Oliver Lehmann<br />\n**This is a link to a great PDF-based resource containing details of the current SAP Fiori applications, of which there are over 300 (313 to be precise – see the “<a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/July-2014/Webinar-more-Understanding-SAP-Fiori/\">Webinar &amp; More: Understanding SAP Fiori</a>” link below). With the organisation by Line of Business (LoB) category, and role, and plenty of screenshots, it’s extremely useful as a visual reference, especially if you haven’t seen may of the SAP Fiori apps in action yet.</p>\n<p>**<a href=\"http://experience.sap.com/wp-content/fiori-guidelines/\">SAP Fiori Design Guidelines</a><br />\n**Talking of great resources, one not to miss is this set of (beta) design guidelines for Fiori from SAP. I spent 6 months working as a member of the core UI5 team at SAP Walldorf in 2013/2014 and in my time there I really got to appreciate the tremendous passion, the effort and the attention to detail that the design and development teams have and exhibit on a daily basis. A lot of this detail, essential in making the SAP Fiori UX what it is today, has been collated and made available in a very easy to follow guidelines. As we move from “SAP Fiori” to “Fiori” and start to build our own apps, these guidelines will play an important role.</p>\n<p><strong><a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/July-2014/Webinar-more-Understanding-SAP-Fiori/\">Webinar &amp; More: Understanding SAP Fiori</a> by me</strong><br />\nA few weeks ago, Brenton O’Callaghan and I hosted a public <a href=\"http://www.bluefinsolutions.com/About-us/News-and-Media/Events/Webinar-Understanding-SAP-Fiori/\">Bluefin Solutions webinar “Understanding SAP Fiori”</a> which was very well attended and fun to do. I wrote up some details in a followup post here, which you may find interesting. In particular, I’d like to draw your attention to a couple of things: there’s the <a href=\"https://code.bluefinsolutions.com/~dadams/FioriWebinar/AppAnalysis.html\">SAP Fiori App Analysis tool</a> that I wrote (itself a Fiori style app) which helps you explore the details of the currently available SAP Fiori apps, all 313 of them; it’s accompanied by a <a href=\"https://www.youtube.com/watch?v=aVeQ4adHgaY\">short explanatory video</a> too. Then there’s all the stuff that Brenton and I didn’t manage to cover, in particular a deep dive into some of the details of an SAP Fiori application’s architecture. We recorded this as a sort of “Director’s Cut” video “<a href=\"https://www.youtube.com/watch?v=nM0ffI-GxGk\">Understanding SAP Fiori</a>” as a follow on to the webinar itself.</p>\n<p>So that’s it for this week, until next time – share &amp; enjoy!</p>\n",
      "date_published": "2014-07-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/2/7/this-week-in-fiori-2014-27/",
      "url": "https://qmacro.org/blog/2014/2/7/this-week-in-fiori-2014-27/",
      "title": "This Week in Fiori (2014-27)",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2014/07/fiori.png\" alt=\"SAP Fiori\" /></p>\n<p>The interest in SAP Fiori and the User Experience (UX) renewal at SAP is growing week on week. Ever since the launch of SAP Fiori Wave 1 back in summer 2013, with 25 Employee Self Service / Manager Self Service (ESS/MSS) apps, the momentum has been growing. Not surprising, given these things:</p>\n<ul>\n<li>the successful growth of SAP’s HTML5 tookit “UI5″, in both its guises: SAPUI5 and OpenUI5</li>\n<li>the fact SAP Fiori is “the future direction of the SAP experience” according to SAP’s Chief Design Officer (CDO) Sam Yen (see later)</li>\n</ul>\n<p>Moreover, with the announcement at Sapphire 2014 in Orlando this year that SAP Fiori, along with SAP Personas, are <a href=\"http://www.news-sap.com/sapphire-now-sap-fiori-user-experience/\">now included</a> in the existing licence and no extra fees are applicable, that interest has changed gear completely. As a result, there are plenty of articles to read; I thought I’d share my top picks of articles and posts that are doing the rounds right now.</p>\n<p><strong><a href=\"http://sapinsider.wispubs.com/Assets/Articles/2014/April/SPI-how-SAP-is-reinventing-the-user-experience\">How SAP is Reinventing the User Experience</a> by Sam Yen.</strong><br />\nThis is a Q&amp;A style interview with Sam that was done a couple of months back, but it’s a must-read not only given the recent Sapphire announcements, but also because it underlines the clarity of statement for SAP’s UX and User Interface (UI) direction. Regarding strategy, Sam states: “<em>With SAP Fiori, we’re able to say ‘This is the future direction of the SAP experience’. All SAP solutions are going to be converging in this direction</em>“. This nicely echoes a piece I wrote in 2012 – “<a href=\"http://uxcoxygen.com/news/sapui5-is-the-future-direction-for-sap-ui-development\">SAPUI5 – The Future Direction of SAP UI Development?</a>” … around a year before SAP Fiori was announced. It was clear from the state and potential of the UI5 toolkit even back then that the HTML5-based outside-in UI paradigm at SAP was here to stay.</p>\n<p><strong><a href=\"http://scn.sap.com/community/ui-technology/blog/2014/06/28/becoming-simple-takes-focus--now-fiori-personas-are-free--how-do-you-target-your-ux-efforts\">Becoming Simple takes focus – now Fiori and Personas are free – how do you target your UX efforts?</a> by Jocelyn Dart.</strong><br />\nThis is a good in-depth piece which talks about UX, a subject relatively unknown in the SAP world until recently. There’s an interview with two folks in the SAP UX space, one coming from SAP’s <a href=\"http://design-co-innovation.tumblr.com/\">Design and Co-innovation</a> centre and information on SAP’s UX Advisory service, which is designed to help customers shape their design skills and strategy.</p>\n<p>**<a href=\"http://scn.sap.com/community/higher-education-and-research/blog/2014/06/30/fiori-changes-perception-of-campus-life\">Fiori Changes Perception of Campus Life!</a> by Rob Jonkers.<br />\n**Earlier this year I flew to SAP Labs Palo Alto to attend a board meeting in my role as a member of the <a href=\"http://board.sapdevcenter.com/\">SAP Developer Advisory Board</a>. While there, I chanced to meet some of the members of HERUG – the Higher Education &amp; Research User Group. This is an interesting and well established group within the SAP ecosphere, and they have their own focus, goals and direction. But what makes them part of the ecosphere is their common interest in UX and this post captures that very well. The breadth of functional coverage for Fiori is huge.</p>\n<p><strong><a href=\"http://scn.sap.com/people/kai.richter/blog/2014/06/30/the-fiori-design-principles\">The Fiori Design Principles</a> by Kai Richter.</strong><br />\nIn my role as an SAP Mentor I’m lucky enough to be able to attend and sometimes speak at some internal events, one of which was DKOM last year, where I saw Kai Richter speak. Kai is part of a large team of designers at SAP who are responsible for the UX that SAP Fiori brings. The members of the UI5 development and design teams are heroes of this new SAP era. This is a short article but captures nicely the principles and the essence of what Fiori means from a chief designer’s perspective.</p>\n<p><span style=\"line-height: 1.714285714; font-size: 1rem;\">If you have any must-read Fiori articles, let me know! </span></p>\n",
      "date_published": "2014-07-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/24/3/sap-mentor-monday-on-ui5-links/",
      "url": "https://qmacro.org/blog/2014/24/3/sap-mentor-monday-on-ui5-links/",
      "title": "SAP Mentor Monday on UI5 - Links",
      "content_html": "<p>Today I was privileged to host a <a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2014/02/13/public-sap-mentor-monday-on-ui5-with-andreas-kunz\">public SAP Mentor Monday on UI5, with Andreas Kunz as special guest</a>. This is a collection of links that were mentioned in the session.</p>\n<p>Session</p>\n<ul>\n<li>The recorded session is available here: <a href=\"https://sap.na.pgiconnect.com/p29jabkxccv/\"><span style=\"color: blue;\"><span>https://sap.na.pgiconnect.com/<wbr />p29jabkxccv/</span></span></a></li>\n</ul>\n<p>General</p>\n<ul>\n<li>SAPUI5, OpenUI, Fiori – what these are, and how they’re related: “<a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/February-2014/The-essentials-SAP-UI5-OpenUI5-and-Fiori/\">The essentials: SAPUI5, OpenUI5 and Fiori</a>“</li>\n</ul>\n<p>SAPUI5</p>\n<ul>\n<li>Home: <a href=\"http://scn.sap.com/community/developer-center/front-end\">The ‘front-end’ area on the SAP Community Network</a> (SCN)</li>\n<li>Docu: The <a href=\"https://sapui5.hana.ondemand.com/sdk/\">SAPUI5 SDK</a> contains a developer guide, controls overview, demo apps, an API reference and more</li>\n<li>Discussion: The majority of SAPUI5 related discussions take place on SCN: <a href=\"http://scn.sap.com/community/developer-center/front-end/content\">http://scn.sap.com/community/developer-center/front-end/content</a></li>\n</ul>\n<p>OpenUI5</p>\n<ul>\n<li>Home: OpenUI5’s home is on Github: with <a href=\"https://github.com/SAP/openui5\">Code</a>, <a href=\"https://github.com/SAP/openui5/issues?state=open\">Issues</a> and <a href=\"http://sap.github.io/openui5/\">Home Pages</a>; there’s also <a href=\"http://openui5.tumblr.com/\">a fledgling blog</a> on Tumblr</li>\n<li>Docu: In parallel to the SAPUI5 SDK, there’s an <a href=\"https://openui5.hana.ondemand.com/\">OpenUI5 SDK</a> that also has the same content structure: developer guide, controls overview, demo apps, an API reference and more</li>\n<li>Discussion: There’s <a href=\"http://stackoverflow.com/questions/tagged/ui5%20or%20sapui5%20or%20openui5\">technical Q&amp;A that goes on on Stack Overflow</a>, as well as a <a href=\"https://twitter.com/search?q=ui5%20OR%20sapui5%20OR%20openui5&amp;src=typd\">healthy stream of chat on Twitter</a></li>\n</ul>\n<p>JSBin</p>\n<ul>\n<li>As you saw on the call, <a href=\"http://jsbin.com/\">JSBin</a> is a super environment for trying out, prototyping and sharing snippets and small apps for #UI5 and more</li>\n<li>It also has that great <a href=\"http://remysharp.com/2013/11/14/what-is-codecasting/\">codecasting facility</a> that we tried out*</li>\n</ul>\n<p><span style=\"line-height: 1.714285714; font-size: 1rem;\">*I realise now why the people watching the codecast as well got “No data” later on in their binding display – it’s because I wasn’t using a proxy prefix for the OData service, I was using my Chrome Canary which by default opens with web security disabled, so it just worked for me. More on that in another post!</span></p>\n",
      "date_published": "2014-03-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/20/3/paying-it-forward-links/",
      "url": "https://qmacro.org/blog/2014/20/3/paying-it-forward-links/",
      "title": "Paying IT Forward Links",
      "content_html": "<p>Today I recorded another SAP CodeTalk session with Ian Thain, this time on the topic of teaching kids computational thinking, teaching them to code: <a href=\"https://www.youtube.com/watch?v=o0CvsQxI6Nw\">Paying IT Forward … IT Does Compute</a>.</p>\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"315\" src=\"https://www.youtube.com/embed/o0CvsQxI6Nw\" width=\"560\"></iframe>\n<p>Here’s a quick list of links to the activities and organisations we mentioned in the talk.</p>\n<p><a href=\"https://www.codeclub.org.uk/\">CodeClub</a></p>\n<p><a href=\"http://coderdojo.com/\">CoderDojo</a> (Our <a href=\"http://mcrcoderdojo.org.uk/\">Manchester CoderDojo</a>, is hosted at the fantastic <a href=\"http://www.thesharpproject.co.uk/\">Sharp Project</a>)</p>\n<p><a href=\"http://youngrewiredstate.org/\">Young Rewired State</a></p>\n<p><a href=\"http://www.stemnet.org.uk/\">STEMnet</a></p>\n<p>And if you need any more convincing about our computational future, you may be interested in this TEDx talk on “<a href=\"http://www.youtube.com/watch?v=-gvOCaExeK0\">Our Computational Future</a>“.</p>\n<p>Share and enjoy!</p>\n<p></p>\n<p></p>\n",
      "date_published": "2014-03-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/18/3/openui5-codetalk-links/",
      "url": "https://qmacro.org/blog/2014/18/3/openui5-codetalk-links/",
      "title": "OpenUI5 CodeTalk Links",
      "content_html": "<p>I was honoured to be a guest again on SAP CodeTalk with Ian Thain. <a href=\"https://www.youtube.com/watch?v=IEXNLHn9Yus\">This time we talked about OpenUI5 </a>- the open source version of SAPUI5, SAP’s UI development toolkit for HTML5.</p>\n<p><iframe allowfullscreen=\"\" frameborder=\"0\" height=\"315\" src=\"https://www.youtube.com/embed/IEXNLHn9Yus\" width=\"560\"></iframe></p>\n<p>Here are the links to what was mentioned.</p>\n<p>Near the start of the recording, Ian mentioned our previous 2-part <a href=\"http://www.youtube.com/playlist?list=PLfctWmgNyOIcae85Ytr6b_J1jgcDb4-JL\">SAP CodeTalk on SAPUI5 and Fiori</a>.</p>\n<p>I talked about the differences between SAPUI5, OpenUI5 and where they fit with Fiori. Here’s a post explaining that in more detail: “<a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams/February-2014/The-essentials-SAP-UI5-OpenUI5-and-Fiori/\">The essentials: SAPUI5, OpenUI5 and Fiori</a>“.</p>\n<p>You can compare what’s available in SAPUI5 and OpenUI5 by looking at their respective API references: <a href=\"https://sapui5.hana.ondemand.com/sdk/#docs/api/symbols/sap.html\">SAPUI5 API Reference</a> and <a href=\"https://openui5.hana.ondemand.com/#docs/api/symbols/sap.html\">OpenUI5 API Reference</a>.</p>\n<p>Andreas Kunz’s post on SCN “<a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2013/12/11/what-is-openui5-sapui5\">What is OpenUI5 / SAPUI5?</a>“, published when the open sourcing announcement was made. Just before the announcement was made, Jan Penninkhof’s post “<a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2013/11/20/reasons-why-sap-should-open-source-sapui5\">13 reasons why SAP should open-source SAPUI5</a>” was published.</p>\n<p>OpenUI5’s “home” on the web is Github: <a href=\"http://sap.github.io/openui5/\">http://sap.github.io/openui5/</a>. There’s also a fledgling blog at <a href=\"http://openui5.tumblr.com/\">http://openui5.tumblr.com</a> with an inaugural “<a href=\"http://openui5.tumblr.com/post/79478900762/were-open\">We’re open!</a>” post.</p>\n<p>Bug reporting for OpenUI5 is possible via Github issues, please read the “<a href=\"http://sap.github.io/openui5/bugreports.html\">Report a Bug</a>” page for more info.</p>\n<p>Technical (programming-related) Q&amp;A is active under the <a href=\"http://stackoverflow.com/questions/tagged/ui5%20or%20sapui5%20or%20openui5\">‘sapui5′ tag on Stack Overflow</a> (even though the questions are mostly independent of whether it’s SAPUI5 or OpenUI5).</p>\n<p>Recently the <a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2014/03/04/small-steps-openui5-toolkit-now-in-jsbincom\">OpenUI5 library was added to the list of selectable libraries in JSBin</a>, and there is a small but growing <a href=\"https://github.com/ui5org/ui5templates/blob/master/README.md\">list of templates for JSBin based snippets</a> too (contributions welcome!)</p>\n<p>Last but not least, there’s a <a href=\"http://scn.sap.com/community/developer-center/front-end/blog/2014/02/13/public-sap-mentor-monday-on-ui5-with-andreas-kunz\">Public SAP Mentor Monday webinar this coming Mon 24 Mar 2014 on UI5, with special guest Andreas Kunz</a>. Come along and attend, all are welcome!</p>\n",
      "date_published": "2014-03-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/5/2/alt-k-reading-notes/",
      "url": "https://qmacro.org/blog/2014/5/2/alt-k-reading-notes/",
      "title": "Alt-K: Reading Notes",
      "content_html": "<p>With my Kindle, and the <a href=\"https://chrome.google.com/webstore/detail/send-to-kindle-for-google/cgdjpilhipecahhcilnafpblkieebhea\">Send to Kindle Chrome extension</a>, I have a nice workflow for saving stuff (with a quick alt-k keypress) to read later. The nice thing about the way the Kindle displays new articles is that there’s a “new” tag, until you’ve read it, and once you’ve read it, it floats away to the top (where I can find it, review what I’ve read, and remove it). So here’s a quick rundown of the stuff I read this early evening on a break. If it’s in this list, it’s recommended.</p>\n<p><a href=\"http://www.nczonline.net/blog/2014/01/07/how-to-be-a-mentor/\">How to be a mentor</a>: A thoughtfully written post with a lot of good suggestions for guiding a mentee along the right path. Let mentees set the agenda for meetings; allow them the occasional mistake (great learning); help them to help themselves by providing strategies for discovering the solution, rather than direct answers; use your experience to help them sort the wheat from the chaff as far as online content is concerned.</p>\n<p><a href=\"http://scn.sap.com/thread/3478913\">Getting access to SAP Fiori trial: many obstacles</a>: Unfortunately the obstacle phenomenon is not a new thing; SAP seem to constantly struggle to make easy the things that should be easy. And in this case it’s commercially disadvantageous for them, hindering customer from trialling Fiori. This is one example of many instances where SAP really need to get a grip and learn from other presences on the Web (<a href=\"https://twitter.com/qmacro/status/431090009358475264\">another is the SAP ID Service</a>, but that’s a story for another time).</p>\n<p><a href=\"http://blog.hedges.net/2014/01/20/why-you-dont-need-an-enterprise-service-bus-esb/\">Why you don’t need an Enterprise Service Bus (ESB)</a>: This article made me smile, as it’s a simple piece but has a very strong impact. There are too many architecture astronauts out there (I for one have had my share of overengineered, overcomplex and underthought designes pushed in my face from them in my career) and I can imagine this piece being a lovely little wake up call to all those who have seen the classic “ESB icon [seemingly] pre-painted on their whiteboards”.</p>\n<p><a href=\"http://www.opendemocracy.net/ourkingdom/adam-ramsay/many-languages-native-to-britain\">The many languages native to Britain</a>: A fascinating piece, not only because of the myriad languages that are still alive within our shores (and beyond, it seems) but also because of the difficulty (futility?) in classification. What is a language, what is a dialect? What is native and what is immigrant? When do these classifications change? Who says? (Joseph – this is the piece I was telling you about).</p>\n<p><a href=\"http://www.gamezebo.com/news/2014/01/20/king-has-trademarked-word-candy-and-youre-probably-infringing\">King has trademarked the word CANDY (and you’re probably infringing)</a>: I read this piece probably with my mouth wide open. It beggars belief that the US Trademark Office bureaucrats are stupid enough to cause this to happen. It’s one thing for a greedy and self-centred games company to apply for a trademark like them (good luck to them, bold as brass and all) but it’s another for the ridiculous request to be granted. Good grief.</p>\n<p><a href=\"http://stackoverflow.com/about\">Stack Overflow’s About Page</a>: I’ve recently started to become active on Stack Overflow in the UI5 area, in the light of OpenUI5 and our reachout to the wider non-SAP developer ecosphere(s). The reason Stack Overflow is such a success is because of the quality of its content, and the reason for the content quality is the conduct expected. This conduct is explained concisely in the About page, and there’s more information in the <a href=\"https://qmacro.org/blog/2014/5/2/alt-k-reading-notes/stackoverflow.com/help\">Help</a> sections too. After struggling with SCN’s software for years, and trying to decipher hazy and incomplete questions so that I might answer them, it looks like Stack Overflow will be a breath of fresh air.</p>\n<p>So there you have it. I really enjoyed each of these articles, perhaps you’ll find something there too.</p>\n",
      "date_published": "2014-02-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2014/2/1/quick-hack-calendar-inviter/",
      "url": "https://qmacro.org/blog/2014/2/1/quick-hack-calendar-inviter/",
      "title": "Quick hack: Calendar Inviter",
      "content_html": "<p>Working in different organisations sometimes means having different email addresses and calendars. Currently I have two Outlook instances I have to manage (one for <a href=\"http://www.bluefinsolutions.com/\">Bluefin</a> and one for a client) on top of my Google-based personal calendar.</p>\n<p>Keeping them in sync is a struggle that I avoid, but there’s recently been a specific case where I do want to make the effort, and that’s time / location scheduling – where I’ll be, on what days. This information needs to be in all calendars, to share with work colleagues, and for my own sanity (I see my Google calendar as my master instance in this case).</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/01/calendars.jpg\" alt=\"image\" />So I wrote a quick Google Apps Script hack to allow me to quickly specify the where/when events in a particular Google calendar that I maintain (called “Work”), and then have those events distributed, via invitations, to my other Outlook identities. It’s not very sophisticated – all it does is look through the Work calendar for all-day events matching a certain title pattern, then look at the guest list; if the emails I want to share the event with are not already on the list, they’re added, and invites are sent.</p>\n<p>Because of <a href=\"https://code.google.com/p/google-apps-script-issues/issues/detail?id=574\">an issue with the CalendarService component of Google Apps Script</a> (that’s been open since May 2011!) you can’t directly cause invites to be sent to new guests that you add to an existing event. So one workaround is to create the calendar invitation (ICS file) yourself and email it. It’s pretty simple (and Romain Vialard <a href=\"https://code.google.com/p/google-apps-script-issues/issues/detail?id=574#c2\">has an example</a> in the commentary on the issue).</p>\n<p>Actually creating the ICS file myself was a solution to not one but two issues. The ICS files that are auto-generated by Google Calendar when you add a guest via the UI contain entries like this for all-day events:</p>\n<p>DTSTART;VALUE=DATE:20140305<br />\nDTEND;VALUE=DATE:20140306</p>\n<p>Unfortunately Outlook makes an incorrect guess as to the timezone for these dates, based on its own timezone, and when the recipient calendar is in a different timezone than the originating event (in my case UTC and UTC+1), it causes the replicated entry to be skewed by an hour, causing the all-day event to span the wrong days! So being in control of the ICS content generation means I can be more explicit which in turn means that Outlook doesn’t get it wrong.</p>\n<p>DTSTART:20140305T000000Z<br />\nDTEND:20140306T000000Z</p>\n<p>So that’s it. <a href=\"https://gist.github.com/qmacro/8219400\">I’ve made the script available as a Gist</a> on Github and here’s a screenshot of some typical results.</p>\n<p><img src=\"https://qmacro.org/blog/img/2014/01/log.jpg\" alt=\"image\" /></p>\n<p>Share &amp; enjoy!</p>\n<p></p>\n<p></p>\n",
      "date_published": "2014-01-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2013/27/11/sap-uk-and-ireland-user-group-conference-demo-jam/",
      "url": "https://qmacro.org/blog/2013/27/11/sap-uk-and-ireland-user-group-conference-demo-jam/",
      "title": "SAP UK &amp; Ireland User Group Conference - Demo Jam!",
      "content_html": "<p>The conference season for this year is almost at an end. But it’s not complete without the <a href=\"http://www.sapusers.org/conference/\">annual UK &amp; Ireland SAP User Group Conference</a>, held this year in Birmingham, from Sunday 24 to Tuesday 26 Nov. With a range of exhibitors and attendees, from customers, partners, consultancies and more, it always makes for an interesting time with wide-ranging topics. It’s different from SAP TechEd in that the focus is less on technology and platform and more on the customer.</p>\n<p>But this is exactly where the Demo Jam competition this year took me – the intersection between customer and technology, in other words, the user experience (UX).</p>\n<p>The Demo Jam is an event within this conference and other conferences (such as SAP TechEd) where there are a series of teams giving short sharp bursts of presentation. There are simple rules: Live, no slides, and over in 5 mins. And a winner is voted by the audience with the help of a “clapometer”. It’s a bit of fun, but also has a serious side to it: The aim is to wow the audience with something relevant.</p>\n<p>This year there were four teams due to participate but unfortunately one had to drop out at the last minute. To cut a long story short, I got a call on the Friday before the Sunday conference start asking if I could step in, put something together and take the place of the team that had dropped out.</p>\n<p>Already with fairly full plans for the weekend, I found some space on Sunday (I was only going to be attending the conference on Monday) and thought about what I could do. With my current work at the SAP Mothership (i.e. Walldorf) with the SAPUI5 / Fiori teams, the answer came quite quickly: Show the audience what makes SAP Fiori apps tick, what’s under the hood … by building an SAP Fiori-like UI live on stage in 5 mins.</p>\n<p>An updated version of an old TV / stage adage goes something like this:</p>\n<p><em>“Never work with children or animals, or do live coding, unless you’re a fool”.</em></p>\n<div class=\"wp-caption alignright\" id=\"attachment_1561\" style=\"width: 310px\">![image](/blog/img/2013/11/ukisug13-demojam-1.jpg)Photo by @timoelliott\n</div>Being a fool, and with no children or animals around, I went for the third option and wrote XML in front of hundreds of people, instantiating SAPUI5 controls and building an SAP Fiori-like app before their eyes (classic design – master/detail showing sales orders and details). It was made slightly more “interesting” than it might otherwise have been by the fact that my hands were really cold, and fingers inflexible (I’d recently arrived and it had been very cold outside) – not ideal for typing under pressure.\n<p>The key thing I wanted to get across was that there was no mystery around SAP Fiori; apps are created from building blocks like everything else – in this case building blocks in the SAPUI5 framework. It’s important to help folks understand what Fiori is, what it isn’t, and what it might be. A major part (but by no means the entire part) of what it is … is a set of applications <a href=\"http://www.bluefinsolutions.com/Blogs/DJ-Adams-(1)/May-2012/SAPUI5-The-Future-direction-of-SAP-UI-Developmen/\">built in an outside-in fashion using a modern UI framework (SAPUI5)</a> that has a super design pedigree and which for its young age is extremely accomplished already.</p>\n<p>The majority of the audience had heard of Fiori, which was great, and hopefully after my Demo Jam entry they understand a little bit more of what makes Fiori apps tick, and are better armed to ask the right questions and make the right decisions.</p>\n<div class=\"wp-caption alignleft\" id=\"attachment_1562\" style=\"width: 235px\">![image](/blog/img/2013/11/ukisug13-demojam-3.jpg)With the trophy\n</div>I was totally honoured to be part of Demo Jam this year, the other entries were great (everything from immersive virtual reality with big data, through automated training solutions to compliance systems) but perhaps largely due to [eddies in the space time continuum](http://en.wikiquote.org/wiki/The_Hitchhiker's_Guide_to_the_Galaxy#Chapter_2_3), I won!\n<p><a href=\"https://qmacro.org/blog/img/2013/11/ukisug13-demojam-3.jpg\"></a></p>\n<p>In a way, the fact that I only had a few hours to come up with something and prepare my entry made it quite a fun experience … and I’m already looking forward to seeing the entries next year!</p>\n<p></p>\n",
      "date_published": "2013-11-27T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2013/4/10/sheetasjson-google-spreadsheet-data-as-json/",
      "url": "https://qmacro.org/blog/2013/4/10/sheetasjson-google-spreadsheet-data-as-json/",
      "title": "SheetAsJSON - Google Spreadsheet Data as JSON",
      "content_html": "<p>This is a short post to explain how to expose a 'typical' Google spreadsheet (rows of columnar data, with first header row) as JSON, via HTTP. It might sound somewhat esoteric but believe me it’s helped me and others out quite a bit in the past.</p>\n<p>If you’ve got a sheet and want to consume that from a web app, for example, via JSON or JSONP, or just want a different way of getting data out of a spreadsheet for further processing in the environment of your choice (that has a JSON parser) then this could be useful for you.</p>\n<p>The idea is that you have a base URL and append a query string, supplying values for two parameters: the id of the spreadsheet and the name of the sheet within the spreadsheet. For example, for this sheet, the value for <code>id</code> would be</p>\n<p>0AuAssa05Fog5dGc5WVNRbFZDcWJCLVY2V2NidWFKeXc</p>\n<p>and the value for <code>sheet</code> would be</p>\n<p>Sheet1</p>\n<p><img src=\"https://qmacro.org/content/images/2013/10/sheet1.png\" alt=\"\" /></p>\n<p>The exposure is via a Google Apps Script, which uses a couple of Apps Script APIs from the <a href=\"https://developers.google.com/apps-script/reference/spreadsheet/\">Spreadsheet</a> and <a href=\"https://developers.google.com/apps-script/reference/content/\">Content</a> services. The script, <a href=\"https://script.google.com/d/143u0RLuppsmYJ0B3wzo6i0jZYSfIFV2NLJMHPM-Sqczpr9bLwdffc-Wx/edit?usp=sharing\">SheetAsJSON</a>, runs as a <a href=\"https://developers.google.com/apps-script/execution_web_apps\">web app</a>, which puts a few requirements on the script itself.</p>\n<p>It must implement a doGet method (for HTTP GET). It must be versioned (only versions of scripts can be deployed):</p>\n<p><img src=\"https://qmacro.org/content/images/2013/10/version.png\" alt=\"\" /></p>\n<p>It must also be deployed as a web app and made available for others (or just yourself) to execute:</p>\n<p><img src=\"https://qmacro.org/content/images/2013/10/deploy-268x300.png\" alt=\"\" /></p>\n<p>As you can see in the above screenshot, you also need to make sure the script is authorised to run. See the <a href=\"https://developers.google.com/apps-script/\">Google Apps Script documentation</a> for more details.</p>\n<p>The <a href=\"https://script.google.com/d/143u0RLuppsmYJ0B3wzo6i0jZYSfIFV2NLJMHPM-Sqczpr9bLwdffc-Wx/edit?usp=sharing\">script source is here</a>, and contains just a handful of functions which I’ll briefly describe here.</p>\n<p><strong>doGet</strong>: Creates a text output object, grabs the id and sheet query parameter values, opens the spreadsheet, reads the header and data records (via readData_), setting them as an array of objects in the data['records'] element, and then returns the content, pausing for a second only to work out whether JSONP or JSON was required, and returning the content and the content-type appropriately.</p>\n<p><strong>readData_</strong>: Goes and reads the header row via getHeaderRow_, and then the data rows via getDataRows_. It replaces any whitespace in the header values with underscores.</p>\n<p><strong>getHeaderRow_</strong>: Grabs the first row of the sheet, with the intention of treating the content of each cell in that row as the property names of the data objects.</p>\n<p><strong>getDataRows_</strong>: Grabs the rest of the rows of the sheet, creating JavaScript objects with properties one for each column.</p>\n<p>Yes, it’s perhaps over-simple in places, but it works for me, and may work for you too.</p>\n<p>So with that in mind, let’s say we use the &quot;Typical Spreadsheet&quot; shown in the screenshot above, and take its id and the name of the first and only sheet. When we append the query parameters appropriately onto the web app’s URL for this particular instance of the script (mine), we get:</p>\n<p><span style=\"color: #ff6600;\"><a href=\"https://script.google.com/macros/s/AKfycbxOLElujQcy1-ZUer1KgEvK16gkTLUqYftApjNCM_IRTL3HSuDk/exec\">https://script.google.com/macros/s/AKfycbxOLElujQcy1-ZUer1KgEvK16gkTLUqYftApjNCM_IRTL3HSuDk/exec</a></span>?<span style=\"color: #339966;\">id=0AuAssa05Fog5dGc5WVNRbFZDcWJCLVY2V2NidWFKeXc</span>&amp;<span style=\"color: #0000ff;\">sheet=Sheet1</span></p>\n<p>which will return this:<br />\n<img src=\"https://qmacro.org/content/images/2013/10/json.png\" alt=\"\" /></p>\n<p>Note that there’s a redirect which means the final URL you see in the URL bar is not the one above. Note also that the formatting in my browser is down to the great Chrome extension &quot;<a href=\"https://chrome.google.com/webstore/detail/jsonview/chklaanhfefbnpoihckbnefhakgolnmc?hl=en\">JSONView</a>&quot;.</p>\n<p>Share and enjoy!</p>\n",
      "date_published": "2013-10-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2013/10/8/yrs2013-hacks-on-github/",
      "url": "https://qmacro.org/blog/2013/10/8/yrs2013-hacks-on-github/",
      "title": "#YRS2013 Hacks on Github",
      "content_html": "<p>Well we’re in the midst of the <a href=\"https://youngrewiredstate.org/static/festival-of-code.html\">Young Rewired State Festival Of Code</a> weekend here at the Custard Factory in Birmingham and one of the amazing by-products of all the hacking is the power of Open Source and the awareness and use of <a href=\"http://github.com/\">Github</a> — the latter is largely down to great work by <a href=\"http://heyashleyashley.com/\">Ashley Williams</a> and others this week, running git and Github workshops for the kids during the week in various centres, including ours (<a href=\"http://madlab.org.uk/\">MadLab</a>).</p>\n<h3 id=\"github-commit-data\" tabindex=\"-1\">Github Commit Data <a class=\"direct-link\" href=\"https://qmacro.org/blog/2013/10/8/yrs2013-hacks-on-github/#github-commit-data\" aria-hidden=\"true\">#</a></h3>\n<p>Anyway, I was curious and so put together a spreadsheet tracking <a href=\"http://hacks.youngrewiredstate.org/events/YRS2013\">all of the 2013 hacks</a> that had declared a Github repo in their information pages. <a href=\"http://www.pipetree.com/~dj/2013/08/yrs2013/commits.html\">You can see</a> that there are a massive number of kids not only hacking code but sharing it with the world:</p>\n<div class=\"wp-caption alignnone\" id=\"attachment_1533\" style=\"width: 510px\">![image](/blog/img/2013/08/hacks.png)#YRS2013 Hacks on Github\n</div>(see the interactive graph here: [http://www.pipetree.com/~dj/2013/08/yrs2013/commits.html](http://www.pipetree.com/~dj/2013/08/yrs2013/commits.html))\n<p>I wrote some <a href=\"https://developers.google.com/apps-script/\">Google Apps Script</a> to poll the <a href=\"http://developer.github.com/v3/\">Github API</a>, pulling commit info, and writing it to a Google spreadsheet.</p>\n<h3 id=\"visualise-it-yourself\" tabindex=\"-1\">Visualise It Yourself <a class=\"direct-link\" href=\"https://qmacro.org/blog/2013/10/8/yrs2013-hacks-on-github/#visualise-it-yourself\" aria-hidden=\"true\">#</a></h3>\n<p>I’ve also made the data available as JSON (again, using the power of a little Google Apps Script), as I know that you can do a lot better than me visually. The data is here:</p>\n<p><a href=\"http://bit.ly/YRS2013HacksOnGithub\">http://bit.ly/YRS2013HacksOnGithub</a></p>\n<p>so please be my guest and put some more visualisations together. Let’s see who can come up with the nicest representation this weekend.</p>\n<h3 id=\"source-code\" tabindex=\"-1\">Source Code <a class=\"direct-link\" href=\"https://qmacro.org/blog/2013/10/8/yrs2013-hacks-on-github/#source-code\" aria-hidden=\"true\">#</a></h3>\n<p>The Google Apps Script source code that I used for this is available via a couple of gists on Github:</p>\n<p><a href=\"https://gist.github.com/qmacro/6199968\">https://gist.github.com/qmacro/6199968</a> – retrieve and store commit counts</p>\n<p><a href=\"https://gist.github.com/qmacro/6199973\">https://gist.github.com/qmacro/6199973</a> – expose a sheet as JSON</p>\n<p></p>\n<p>Share &amp; Enjoy!</p>\n<p></p>\n",
      "date_published": "2013-08-10T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2013/18/4/codeclub-thoughts/",
      "url": "https://qmacro.org/blog/2013/18/4/codeclub-thoughts/",
      "title": "CodeClub Thoughts",
      "content_html": "<p>I’ve been a <a href=\"http://www.codeclub.org.uk/\">CodeClub</a> leader for a while now at my local primary school, <a href=\"http://www.woodhouses.oldham.sch.uk/\">Woodhouses Voluntary Controlled Primary School</a>, in Manchester. The club is after school on Friday afternoons and each session runs for an hour. We’re taking a break brought on by the Easter holidays, and I’m on holiday this week too, so I thought I’d put some thoughts together on how it’s gone so far. Overall, it’s been a fantastic experience, if slightly chaotic and exhausting (in a good way) at times. The rewards of seeing enthusiasm and interest in the CodeClubbers, and above all their progress, have been great.</p>\n<p>After registering my interest as a volunteer last year, I didn’t get round to contacting a school until December, where I approached Woodhouses Primary, as it was in the village where I lived. I’d got my CRB check done back in September, via <a href=\"http://www.stemnet.org.uk/\">STEMnet</a>, as advised by CodeClub, and that was a very straightforward process. In fact, I’m as much <a href=\"https://qmacro.org/2012/12/05/codeclub-and-becoming-a-stem-ambassador/\">involved as a STEMnet Ambassador</a> now as I am a CodeClub leader. Definitely worth looking into!</p>\n<p>The <a href=\"http://www.codeclub.org.uk/\">CodeClub website</a> had some great <a href=\"http://www.codeclub.org.uk/start-a-club/volunteers\">resources</a> to help build a case to put to a school, and good notes for volunteers on what to do, what to expect and even ideas on what to say (if you were unsure). I arranged a meeting with the Headteacher and Year 6’s Form teacher, and as soon as I explained what it was, how it worked, and that it was free, the deal was done. The following week I stood up in front of Year 5 and Year 6 children with <a href=\"https://docs.google.com/presentation/d/1JvXiFUEf8oxHXwwKtnDBqOd3PhnDau5G_37fAlBQpQ0/edit?usp=sharing\">some simple slides</a> and explained what programming was all about. At the end, when I asked who might be interested in becoming a member of an after-school CodeClub, there were a lot of raised hands!</p>\n<p>The school decided to restrict the availability to Year 6 children only, because of sheer numbers, and to give the Year 5 children something to look forward to! After all was said and done, I ended up with a total of 13 CodeClubbers.</p>\n<p>Here are some bite-sized thoughts on my experience so far.</p>\n<ul>\n<li><strong>Hardware</strong>: I was somewhat (pleasantly) surprised that the school had enough laptops and desktops to go round. However, they were, understandably, in pretty poor shape, many suffering from performance issues, Windows update issues, and some would randomly refuse to boot.</li>\n<li><strong>Access</strong>: Further, each child had their own login, with restricted access. This meant that I had to get admin access to each of the machines to be able to install Scratch. This went well, generally, although some of the installs ended up with no icon on the child’s desktop, meaning we had to go and find the Scratch executable (c:Program Files…) to start it up in some cases.</li>\n<li><strong>Saving</strong>: children each had their own area (network-served home directory) to save files, so we use that to save their Scratch work each week. Access to the Web was possible, but via a proxy, the credentials to which have remained somewhat elusive, so we haven’t shared any projects on MIT’s Scratch community site yet. At least, not by direct upload from the Scratch environment (there are proxy and other config parameters you can set if you know the details).</li>\n<li><strong>Time</strong>: There were already a number of after school clubs active, but a Friday slot was free. This was ideal, as for me it meant I could choose that slot as the least likely time to impact my day job (more on that later) – I travel with work sometimes, but Friday is the day I’m most likely to be in Manchester. “After school” does not equate to “after work”, as the former starts usually around 15:15!</li>\n<li><strong>Setup</strong>: Some setup time each week is essential, to get the laptops out, arrange the desks and chairs, and get the worksheets ready (having a last look at the task in hand yourself, too!). So I try to arrive at 15:00 for a 15:15 CodeClub start. This also gives me time to think about what the key characteristics of the project are, so I can bind in some emphasis of those points during the session.</li>\n<li><strong>Materials</strong>: CodeClub has done a great job of putting materials together for the leaders. There are volunteers that put together projects on a term by term basis. Term 1 is Scratch-based, and what I’m teaching. For Term 1 there are three sets of three projects (i.e. 9 in total), and each project is about the size of a single CodeClub session. Some children finish sooner, others need more than a single session (this does get challenging sometimes, see later). There’s a <a href=\"http://codeclub-assets.s3.amazonaws.com/public/codeclub-whackawitch.pdf\">sample project available on the CodeClub website</a>.</li>\n<li><strong>Belonging</strong>: There are non-programming resources in the CodeClub materials – such as name badges, door signs and so on. These are wonderful, especially with the CodeClub branding, and I’ve used these to good effect to create a sense of club-style belonging. And as the CodeClub-supplied materials suggest, name badges are ideal for helping you remember each child’s name! A sense of belonging is heightened when you give children little tasks that they can own; I have a badge monitor (distributing and collecting them before and after each session), a door-sign monitor, and so on. And of course, getting them to start and end each session with an almighty “CodeClub” cry is as bonding as it is deafening!</li>\n<li><strong>Ratio</strong>: CodeClub recommended around 10 children per volunteer. There’s only me at Woodhouses CodeClub so far, and I have 13. I would agree with CodeClub’s recommendation. While I’m just about coping, it does get a little hectic sometimes, as there are always plenty of questions, the children go at different paces, and it’s sometimes hard to get the balance right between spending quality time on an answer with one child and covering as many questions as possible in the shortest time. Overall, I’ve found that you soon get to recognise those that need more help generally, and those that are more independent. Bear that in mind, and above all, use praise a lot. It really boosts their confidence which in turn edges them further along the continuum from reliance towards independence.</li>\n<li><strong>Space</strong>: One thing that caught me completely by surprise was room logistics. The room we have at Woodhouses is long but narrow, and the way the desks and chairs are arranged (there’s only one way, really) means that when the children are in the chairs, it’s quite difficult sometimes for an adult-sized person to squeeze past. This becomes a real issue when you’re trying to flit between as many children as you can answering questions and helping out. If you can bear this in mind when arranging the table logistics, it will help you a lot more than you think.</li>\n<li><strong>Enthusiasm</strong>: Year 6 children are excitable and their enthusiasm shows itself in ways that we might initially think are disruptive and chaotic. With the graphical nature of Scratch, this chaos is extended into the projects themselves, with more or less every child wanting to use a different name, character or sprite costume for the project protagonists. Embrace it, don’t fight it. The only thing you should do is be consistent in the naming, so for example the two characters in the first project are a cat called Felix and a mouse called Herbert. What’s certain is that in many cases you’ll neither have cats or mice, nor the names Felix &amp; Herbert. But use ‘Felix’ and ‘Herbert’ consistently when you’re explaining things and the children will naturally translate into whatever they have.</li>\n<li><strong>Co-Working</strong>: Some children like to work together, others like to work alone. But for any emergency logistical reasons (laptop won’t boot) you can put them together and they won’t mind. Some children are also keen to help out, so embrace that and give them tasks (e.g. help the child next to them find the right sprite costume) and they will thank you for it.</li>\n<li><strong>Checkboxes</strong>: Each project worksheet has checkboxes that are designed to be checked off as each child completes that part (one worksheet per child). I forgot to specify that the children should come with pencils or pens on the first session, with the result that some of them, after an interruption, couldn’t find where they’d got to, and it took a little bit of time to work out where they were. So make sure they bring pencils to tick off each section as they do it. It helps them, but it also helps you when coming to answer a question.</li>\n<li><strong>Extras</strong>: Be prepared, or be ready to think on your feet. There’s a couple of girls that work together in our CodeClub, and they’re super keen and also very very competent. They just “get it” (e.g. I found myself explaining things to them with the use of the standard Scratch XY Coordinate stage background, possibly too advanced for some, and they loved it). They’re starting to consistently finish the projects before the end of the CodeClub session. There are great ‘bonus’ tasks on the project handouts, which faster children can do, but I found myself having to give them completely new extra tasks to do to satisfy their hunger for learning and experimentation. So play around with Scratch yourself in between CodeClub sessions and you’ll be more readily able to come up with new small tasks at the drop of a hat.</li>\n<li><strong>Flexibility</strong>: Be flexible and creative, too. I discovered that some of the desktop machines had faulty speakers, so the sounds that some of the characters were to make were no good. Rather than have the children disappointed, I encouraged them to “hack” the project by getting the characters to “say” or “think” (speech/thought bubbles) something instead. They loved it, as they were doing something special.</li>\n<li><strong>Assets</strong>: One of the early Scratch projects involves image and sound asset files that are not part of the standard Scratch installation. They are, instead, supplied in the files made available for the CodeClub leaders. This is great, but one mistake I made was not loading the assets onto the laptops before the start of that project session, which meant that some time was wasted distributing them on a USB stick. So remember to check what the project requirements are before you start!</li>\n<li><strong>Coordination</strong>: The biggest challenge for me as the only volunteer (somewhat exacerbated by having 13 children) is that the varied pace of progress means that some children are finishing off the previous week’s project while others are starting the new one. This, combined with the room logistics, has been the toughest challenge for me. Keeping track of who is doing what, and therefore in what context to answer each question, is hard. What I want to avoid at all costs is for someone to get bored, either waiting for me to get round to answering their question, or because they’ve finished something and are waiting for new instruction. I’m not sure there’s an easy answer to this except perhaps to recruit a second volunteer (I’m in the process of doing that now!).</li>\n<li><strong>Certificates</strong>: One of the highlights for me has been the reward of Level 1 certificates for those children who’d managed to complete all three projects of Level 1 before Easter. Again, the CodeClub materials are fantastic and a nice A4 landscape certificate with the child’s name hand-written on it and handed out in assembly can only be a good thing, not only for the recipients, but for CodeClub and programming in general.</li>\n<li><strong>Highlights</strong>: As well as the specific highlights like certificate awards, there are many weekly highlights for me. Here’s just one example. A child, who’d enthusiastically suggested “Binary!” as a programming language in answer to one of my questions in the talk to Years 5 &amp; 6 (and who could deny him that answer?) came up to me at the end of the second session and said something that completely made all the effort worthwhile: He had an idea to combine some of the code from the previous week’s project (attaching a sprite, with a couple of costumes, to the mouse pointer and changing costumes when clicked) with what he’d built that afternoon to make the game even better. It was a super moment for me, as he’d independently figured out a way to make the game better by “hacking” it (and yes, this is “hacking” in the proper sense, not the ignorant way the popular media use the word) – and using code from different sources.</li>\n<li><strong>Scratch</strong>: This may sound obvious, but embrace Scratch and the projects that CodeClub offer. Do them yourself, to get not only a better understanding and appreciation of Scratch itself, but also to get the project – its goals, purpose, challenges and flavours – into your head. It makes it a lot easier to lead the session this way. I was initially skeptical of Scratch, but the key point to remember about that skepticism is that it was formed before I used Scratch properly. I was completely wrong to be skeptical. It’s an excellent learning environment – a design-time and run-time in one single executable, and a single interface too. It’s got the right balance between syntax, graphics, ease-of-use and capabilities, and is absolutely ideal for teaching coding to primary school children. Yes, I would like to teach Python too, but Scratch is excellent in what it delivers.</li>\n<li><strong>Collaboration</strong>: The first project from CodeClub comes with a series of step-by-step instructions that you can use to lead the children through their first discovery of the Scratch environment. I used this in the first session, in fact I extended it into a complete discovery hour. It worked really well. I did something in Scratch – something small and bite-sized – and then the children followed suit and did the same thing themselves on their laptops or desktops. It got them used to the interface, but even more importantly, the side-effects of turning it into a Q&amp;A were very valuable. “How might we do this?”, “What do you think would happen if we did that?” and so on. The engagement factor was very high. So much so that for the next scheduled session, I’ve prepared an “off piste” project that we’ll do in collaborative mode, with me guiding them through a complete session to build a maths quiz game. And yes, for the ones running at a more rapid pace, I’ve got some ‘bonus’ bits that we can cover separately.</li>\n<li><strong>Employer</strong>: Finally, some thoughts about how you might do this after school if you have a full time job. I’m lucky in that my job involves programming and that I work for a forward thinking company – <a href=\"http://www.bluefinsolutions.com/\">Bluefin Solutions</a>. They already knew of my work with STEMnet, and of course being a company with the highest number of <a href=\"http://scn.sap.com/docs/DOC-23155\">SAP Mentors</a>, were already aware of the positive benefits of contributing back into communities. With a positive attitude towards social responsibility and an inherent interest in technology (a core competence) it was almost a no-brainer. Bluefin have supported me in my efforts thus far, and are being open minded and flexible (thanks folks!). I wrote a blog post on Bluefin’s “Insights” section about CodeClub and related subjects: “<a href=\"http://www.bluefinsolutions.com/insights/blog/our_computational_future/\">Our Computational Future</a>“. If you can approach your employer and explain the benefits of CodeClub not only from a immediate payback view but also from a longer-term perspective you’re in with a chance of succeeding. As an early bird, my working day starts well before most people’s, so I manage to get things done to such a degree that switching to CodeClub on a Friday afternoon is workable. If you have flexible hours, then so much the better.</li>\n</ul>\n<p>One final thought: If you’re wondering whether to take the plunge and become a CodeClub volunteer, just go for it. The support is great, the community is growing, the time logistics will sort themselves out, and the rewards are unlimited. Go for it!</p>\n",
      "date_published": "2013-04-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2013/1/4/functional-python-itertools-exploration/",
      "url": "https://qmacro.org/blog/2013/1/4/functional-python-itertools-exploration/",
      "title": "Functional Python - Itertools Exploration",
      "content_html": "<p>Well, time passes, and my <a href=\"https://qmacro.org/blog/2013/1/4/functional-python-itertools-exploration/www.pipetree.com/tag/30days/\">30days challenges</a> are continuing. <a href=\"https://qmacro.org/2013/01/02/30-days-challenges/\">January: no Twitter</a>, <a href=\"https://qmacro.org/2013/02/02/30-day-challenge-no-beer/\">February: no beer</a>, and the month just passed, March: Meditation. I didn’t do too well on the meditation front, but that hasn’t put me off. I’ll reflect on that perhaps another time.</p>\n<p>Now it’s a new month, and a new challenge. Although I don’t see it so much of a challenge, but something I want to use the challenge mechanism to complete. In my activities with <a href=\"http://www.codeclub.org.uk/\">CodeClub</a> and the <a href=\"http://madlab.org.uk/content/tag/coderdojo/\">MadLab U-18 CoderDojo</a> activities I’ve a refreshed interest in coding at the core, and have been looking at and using Scratch and Python in earnest. And in wondering and discussing how to present approaches to coding, and in particular some Python idioms (for example, see <a href=\"https://plus.google.com/110526626182299357893/posts/GcjBjjY1kNK\">this question on ‘pedestrian’ vs ‘functional’ approaches</a>), I’m developing a keen interest in the functional programming features in Python. I was particularly taken by this video: <a href=\"http://www.youtube.com/watch?v=EnSu9hHGq5o\">http://www.youtube.com/watch?v=EnSu9hHGq5o</a> and did some more research, combining what I was learning with the functions map, filter and reduce, also of course available in many other languages.</p>\n<p>All roads seemed to lead to <a href=\"http://docs.python.org/2/library/itertools.html\">itertools</a>, a Python library that “implements a number of iterator building blocks inspired by constructs from APL, Haskell and SML”. So this month I’d like to investigate the functions in this library, one at a time. I’m not sure what that investigation will look like, but I know I’d like to have a look at each one in turn, find examples of how they might be used, and write a little bit about them. The writing part is interesting; I felt that this WordPress-based blog was slightly too formal (and cumbersome?) for what I wanted, and hankered after a Wiki-based environment, with minimal edit friction and the ability to build document and page structure relationships dynamically. I’d had one on this host a (very) long time ago, called “space”*, and it was a <a href=\"http://moinmo.in/\">MoinMoin</a> powered one. That’s Python-based, and it served me well, so I’ve just installed a new instance. I’ll use that to help me on my itertools voyage of discovery. Wish me bon voyage!</p>\n<p>* Gosh, there are a few references to “space” still around in code, such as <a href=\"https://github.com/bentglasstube/blosxom-plugins/blob/master/wikiwordish-v2i0b4\">here</a>!</p>\n",
      "date_published": "2013-04-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2013/2/2/30-day-challenge-no-beer/",
      "url": "https://qmacro.org/blog/2013/2/2/30-day-challenge-no-beer/",
      "title": "30 Day Challenge: No Beer!",
      "content_html": "<p>Well goodness me it’s already February. January went by very fast indeed, and it turns out I managed my <a href=\"https://qmacro.org/2013/01/02/30-days-challenges/\">January challenge (no Twitter)</a> very well.</p>\n<p>I uninstalled my Twitter clients (Tweetdeck for Chrome and Tweakdeck on my Android phone). I didn’t log into them at all. I was still authenticated with Twitter on the website* and visited<a href=\"http://twitter.com/\"> twitter.com</a> a couple of times to check something. No interaction, discussion or link saving, though.</p>\n<p>So I’d say it was a big success. I did miss the interaction quite a bit – I missed the community of friends and colleagues (especially the SAP community) who have a big presence there. I missed the interaction and the sometimes thought provoking discussions. But on the flip side, I did <em>read</em> a lot more; in other words, I used the time that I might otherwise be staring blurry-eyed at the columns of tweets, and read a lot of stuff I’d <a href=\"http://www.instapaper.com/\">Instapaper</a>‘d. It was great.</p>\n<p>In the latter half of the month I’d more or less forgotten about Twitter and had got to grips with <a href=\"https://plus.google.com/u/0/110526626182299357893/posts\">Google+</a>. It’s still no replacement for Twitter (mostly because of the people) but it’s a great platform — indeed, <a href=\"http://www.chrisbrogan.com/social-backplane/\">a social backplane</a> — and I’ll continue to spend more time there.</p>\n<ul>\n<li>until this morning, oddly enough, when I got an email to say that Twitter had reset my password. Odd.</li>\n</ul>\n<p>I know the idea of the 30 day challenges was not to attempt a full year of “no this, no that”; rather, there are some “do more of this, start doing that” elements too. But for February I’m attempting to drink no beer. That will indeed be a challenge, as <a href=\"https://untappd.com/user/qmacro\">I’m a big fan of craft beer</a>, as many people know. It’s not that I’m avoiding alcohol altogether; I’ll allow myself a glass of wine here, a dram of whiskey there. It’s the beer that will be absent. As I drove out of work last night I’d mentioned to the inimitable <a href=\"https://plus.google.com/u/0/110317969553719519075/posts\">Jamal Walsh</a> that I was embarking on this challenge, and having just finished his dry January. gave me a tag-team style high five. Wish me luck!</p>\n",
      "date_published": "2013-02-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2013/2/1/30-days-challenges/",
      "url": "https://qmacro.org/blog/2013/2/1/30-days-challenges/",
      "title": "30 Days Challenges",
      "content_html": "<p>Inspired by Matt Cutts and his <a href=\"http://www.mattcutts.com/blog/type/30-days/\">30 Days Challenges</a>, I’ve decided to have a go myself, instead of setting any specific (and year-long-lasting, doomed-to-failure) New Year Resolutions. The challenges I have in mind are similar or the same to some Matt completed: Some of them are about doing something regularly, others are about not doing something, and others still are about using the 30 day period to achieve a specific goal.</p>\n<p>So my first 30-day challenge is to take a break from Twitter.</p>\n<p>I’ve been toying with this idea for a while. It’s not an attempt to be online less and interacting socially less. The thoughts were initially triggered with the nosedive Twitter’s standing took in the developer community when they poked a blunt stick in the faces of some of the very developers that helped Twitter succeed, by changing the API usage terms. But it’s also to do with my interest in Google+, and wanting to see that platform and community succeed. I like the idea of Google+ and despite it only having a read-only API for now, I’m encouraged by the direction in which it’s being grown.</p>\n<p>It’s not going to be easy to take 30 days off Twitter, that’s for sure. Many of my friends and work colleagues hang out on Twitter and I get a lot of Instapaper fodder there too. But perhaps a move to Google+ will help me make my mind up once and for all whether it’s a viable new platform to replace what I use Twitter for. I’m not expecting other people to make the move, or at least give Google+ a try, but if they do, that’s great.</p>\n<p>Ok, so today I tweeted “<a href=\"https://twitter.com/qmacro/status/286442992393404416\">I’m intending this to be my last (non-automated!) Tweet for January</a>“. Off we go!</p>\n",
      "date_published": "2013-01-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/5/12/codeclub-and-becoming-a-stem-ambassador/",
      "url": "https://qmacro.org/blog/2012/5/12/codeclub-and-becoming-a-stem-ambassador/",
      "title": "CodeClub and becoming a STEM Ambassador",
      "content_html": "<p><a href=\"http://www.codeclub.org.uk/\">CodeClub</a> is a nationwide network of volunteer-led after-school coding clubs, and its mission is to give every child in the UK the chance to learn to code. When CodeClub started earlier this year, I registered my interest as a volunteer.</p>\n<p>I didn’t have any particular school in mind, but in any case, in order to have the chance to run a coding club, I needed to get a CRB check, and <a href=\"http://www.codeclub.org.uk/getting-started/volunteers\">CodeClub’s getting-started page</a> directed me towards the <a href=\"http://www.stemnet.org.uk/content/ambassadors\">STEM Ambassadors Programme</a> where a lot of support for, and financing of the CRB check process was available.</p>\n<p>I duly attended the STEM induction session at Manchester’s <a href=\"http://www.mosi.org.uk/\">Museum Of Science &amp; Industry (MOSI)</a>. MOSI are the STEM network account holders for Greater Manchester and there’s a great team there. Since my induction, resulting in me and the other attendees becoming STEM Ambassadors, I’ve become more involved with STEM activities, recently helping schools and teachers learn about the Raspberry Pi and form course ideas around it.</p>\n<p>There was a recent evening event held at Manchester University where teachers from schools all around the North West gathered with Manchester University staff, MOSI/STEM folks and STEM Ambassadors to help each other learn about the Pi, and also about the PiFace – a shield with easy to use screw-terminal based physical interfaces for connections to and from the real world (Internet Of Things here we come!), invented by the University’s own Dr Andrew Robinson. We covered Scratch- and Python-based programming with the PiFace. Great fun.</p>\n<p>Based on connections I made at that evening event, I followed up with the Raspberry Pi theme to visit a couple of Sixth Form Colleges in Manchester: Xaverian, and Pendleton (part of Salford City College). I took a Pi with me, along with lots of cables, and a serial terminal (yes, <a href=\"https://qmacro.org/2012/07/15/serial-interest-in-the-raspberry-pi/\">that one</a>). I also took a few slides that I put together to explore loop constructs in different languages, and finally a suitcase full of career memories. I wrote my visits up on the STEMnet site: <a href=\"http://networking.stemnet.org.uk/blog/raspberry-pi-and-manchester-colleges\">Raspberry Pi and Manchester Colleges</a>. There’s also a news article on Xaverian’s website about my visit: “<a href=\"http://www.xaverian.ac.uk/news/raspberrypi-216.html\">A Taste Of Raspberry Pi!</a>”</p>\n<p>I’m currently helping a Manchester school put together a Python programming course, based again around the Raspberry Pi. The whole STEM experience is rewarding and fun in equal measure. While I haven’t any spare time for a CodeClub club at the moment, I’m so glad I volunteered, as I probably wouldn’t have discovered STEM otherwise. I’m in contact with other CodeClub volunteers in Manchester – we’re having a meetup later this month, and haven’t ruled it out. But for now, there’s plenty to do as a STEM Ambassador. Thanks CodeClub!</p>\n<p></p>\n",
      "date_published": "2012-12-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/25/11/the-silent-club-and-recharging-alone/",
      "url": "https://qmacro.org/blog/2012/25/11/the-silent-club-and-recharging-alone/",
      "title": "The Silent Club and Recharging Alone",
      "content_html": "<p>A month back, <a href=\"http://twitter.com/hubmum\">Emma Mulqueeny</a> <a href=\"http://mulqueeny.wordpress.com/2012/10/24/the-silent-club/\">wrote about her Silent Club</a>. It’s not really a club – there is no explicit membership to speak of, there are no meetings, there isn’t even a website (although there is a Tumblr blog – more on that later). So what’s it all about? It’s about a loosely coupled collection of individuals who find strength in being quiet on their own for a while. Emma talks of finding a quiet spot amidst the hustle and bustle of Waterloo station. I can see exactly what she means – it’s almost as if the chaos and noise from the station make for an even greater contrast to her silent and solitary thoughts, enhancing the effect.</p>\n<p>Go back about a year, and I was learning from my friend and <a href=\"http://scn.sap.com/community/sap-mentors\">SAP Mentor</a> colleague, the ever erudite <a href=\"http://twitter.com/thorstenster\">Thorsten Franz</a>, about <a href=\"http://www.myersbriggs.org/my-mbti-personality-type/mbti-basics/\">MBTI</a> types. In particular, I was trying to figure out the real difference between I (introvert) and E (extrovert) types. In one sentence, Thorsten made it really clear for me, and I’ve remembered the test ever since. He said “Do you recharge alone, or in a group?” That nailed it. For me, if I have a day where I can’t get a quiet moment or three to myself to sort through my thoughts, I feel unbalanced, and the chaos and randomness of the day remains, rather than gets a chance to find the channel to flow evenly away. Yes, I’m happy in a crowd, happy presenting and waving my arms about. But I value time to myself and it’s that time that I need to recharge.</p>\n<p>So I can completely understand the reasons for the Silent Club. Emma has gone one step further than the recharging event, by making it possible, but not mandatory, to wrap one’s thoughts up into a short letter or postcard which can be sent to a PO box address, where she will scan them and publish them at <a href=\"http://thesilentclub.tumblr.com/\">http://thesilentclub.tumblr.com</a>. If you’re the sort of person who values drawing a line under your thoughts, or need to have a specific end to the recharge cycle, then this sounds ideal.</p>\n<p>I guess I can say that I’ve been a practising member of the Silent Club for a while, I just didn’t know it. So thank you Emma for forming something so neat, simple and well-formed around a subject that is close to my heart.</p>\n",
      "date_published": "2012-11-25T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/3/8/recent-interests/",
      "url": "https://qmacro.org/blog/2012/3/8/recent-interests/",
      "title": "Recent Interests",
      "content_html": "<p>I fed the latest posts from this weblog to Wordle and this is what it came up with as a representation of my recent interests.</p>\n<p><a href=\"http://www.wordle.net/show/wrdl/5540152/My_Recent_Interests\" title=\"Wordle: My Recent Interests\"><img src=\"http://www.wordle.net/thumb/wrdl/5540152/My_Recent_Interests\" alt=\"Wordle: My Recent Interests\" /></a></p>\n",
      "date_published": "2012-08-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/15/7/serial-interest-in-the-raspberry-pi/",
      "url": "https://qmacro.org/blog/2012/15/7/serial-interest-in-the-raspberry-pi/",
      "title": "Serial interest in the Raspberry Pi",
      "content_html": "<p><a href=\"http://jcla1.com/\">Joseph</a> and I took delivery of our <a href=\"http://raspberrypi.org/\">Raspberry Pi</a> earlier this year, and today attended the <a href=\"http://madlab.org.uk/content/manchester-raspberry-jam/\">Manchester Raspberry Jam</a> held at <a href=\"http://madlab.org.uk/\">Madlab</a>, a group of Raspberry Pi enthusiasts getting together to share experiences of this micro computer that seems to have re-kindled the hacking passion of 30 years ago. I say 30 years ago because the last time I remember this sort of passion and interest was when I used to attend a local computer club, where members showed their latest hardware and software projects based on micros like the <a href=\"https://qmacro.org/2005/11/26/acorn-atom-and-my-start-in-computing/\">Acorn Atom</a> and others of that era. Home-made cases, low-level programming and soldering were the norm, and are the norm again.</p>\n<p>One of my interests is retrocomputing, in particular, serial terminals. I had a great collection of them a while ago (VT320s, VT330+s, VT420s, and various Wyse models) all connected to multiple serial ports in the back of a Linux box (the serial signals actually running over Cat5 and re-converted at the patch-panel end, but that’s another story). Sadly I no longer have any of these terminals (another story again) but my friend <a href=\"http://se71.org/\">Robert Shiels</a> recently donated a <a href=\"https://twitter.com/qmacro/status/221552947266453505\">Wyse WY-30</a> to me. Joseph and I decided to bring it along to the Raspberry Jam and do a show-n-tell on connecting it up to the Pi. The ultimate goal is to have a standalone serial terminal, good looking enough and retro enough to have in the living room, with a Raspberry Pi actually inside it, with a serial cable connection to connect, and a wifi adapter to hop on to the local network and from then on to the Internet. A silent, 80×24 green screen connection to life, the universe and everything.</p>\n<p><strong>Making the serial connection</strong></p>\n<p><img src=\"https://qmacro.org/blog/img/2012/07/20120715_1050171-1024x768.jpg\" alt=\"Raspberry Pi\" /></p>\n<p>First things first. The Pi has 2 rows of general purpose input / output (GPIO) pins at 3.3V (top left in the picture), but that means that we can’t use an RS232 serial connection directly as the voltage levels are too high. Rather than build or buy a converter, we used a simpler method. Most modern Linux distributions, including Debian Squeeze, provide support for USB serial ports, so getting hold of a USB serial cable was the first job. This connects to one of the USB ports on the Pi, and has a 9 pin D serial connector on the other end.</p>\n<p>Booting up the Pi with the USB serial cable connection shows this:</p>\n<pre><code>raspberrypi kernel: usbserial: USB Serial Driver core\nraspberrypi kernel: USB Serial support registered for pl2303\nraspberrypi kernel: pl2303 1-1.3:1.0: pl2303 converter detected\nraspberrypi kernel: usb 1-1.3: pl2303 converter now attached to ttyUSB0\n</code></pre>\n<p>Aha! ttyUSB0. This means we have a device handle that we can use.</p>\n<p>Connecting the USB serial cable to the terminal won’t work directly; we need to have the RX and TX connections reversed (so that RX sends to TX and vice versa). A handy null-modem cable will sort this out for us. So at this point we have Pi USB -&gt; serial connector -&gt; null-modem cable -&gt; terminal.</p>\n<p><strong>Getting the login prompt</strong></p>\n<p>Connecting the terminal to the USB serial port is one thing; getting a login prompt on it requires more work. This is where the lowly ‘getty’ (from ‘get teletype’) program comes in. Getty is from a long-gone era of physical teletypes and text terminals, and is used to manage these terminals by listening for a connection, displaying a login prompt, and running the login program to authenticate a user.</p>\n<p>Getty needs to know a few things: what serial port to listen for a connection on, what speed the connection is expected to be at, and what terminal type the remote terminal is.</p>\n<p>The invocation of getty we will use (as root) is this:</p>\n<pre><code>/sbin/agetty -L ttyUSB0 19200 wy30\n</code></pre>\n<p>(I’m actually using agetty here, an alternative getty program with some useful extra features).</p>\n<p>This says: listen on ttyUSB0 for a connection, at baud rate 19200, don’t bother with carrier detect (i.e. force the line to be local), and set the terminal type to be wy30.</p>\n<p>If you’ve got the serial cable connection right, and you’ve configured the terminal settings to be 19200 (at 8N1, i.e. 8 bits, no parity, 1 stop bit), you should see this on the terminal:</p>\n<p><img src=\"https://qmacro.org/blog/img/2012/07/IMG_20120708_131014.jpg\" alt=\"Login prompt on the WY-30\" /></p>\n<p>Wonderful!</p>\n<p>One thing you probably want is to have getty listen out for a serial terminal connection all the time, from boot. To do this, add a line to /etc/inittab like this:</p>\n<pre><code>T0:23:respawn:/sbin/agetty -L ttyUSB0 19200 wy30\n</code></pre>\n<p>This means you can disconnect and reconnect on your terminal at will.</p>\n<p><strong>Adapting the terminal settings</strong></p>\n<p>Arguably the most common terminal standard is VT100. This came from the DEC terminals of yore, and through popularity became the de facto standard that OEM terminals emulated, and it’s what software terminals such as <a href=\"http://www.chiark.greenend.org.uk/~sgtatham/putty/\">PuTTY</a> will emulate for you too. The Wyse WY-30 that we have has a terminal standard, or ‘personality’ which is ‘WY30+’. It will also emulate TVI910+, TVI925 and ADDS A2. Not a VT100. So that’s why we specify ‘wy30′ on the getty invocation.</p>\n<p>But that specification won’t work unless the Pi knows how to speak WY30, and for that, the terminfo database is used. Terminfo is a library of escape sequences for manipulating display terminals. Moving the cursor around, clearing the screen, that sort of thing. Termcap is a similar library that predates terminfo.</p>\n<p>The Debian Squeeze distribution that was put together for the Pi doesn’t include the terminfo database, but a quick apt-get invocation later, and we have it:</p>\n<pre><code>sudo apt-get install ncurses-term\n</code></pre>\n<p>Now we have the wy30 entry in the database, as a file ‘wy30′ in /usr/share/terminfo/w/.</p>\n<p>With the file containing the appropriate escape codes to control a Wyse WY-30 terminal available in terminfo, and the specification of ‘wy30′ in the getty call, we have all we need to start a productive session on the serially attached terminal.</p>\n<p>Rebooting to check that the init spawning of getty is working correctly, and we can log in at our Wyse terminal and use tools such as top, vim, tmux and others that manipulate the screen, without problem.</p>\n<p><img src=\"https://qmacro.org/blog/img/2012/07/20120715_105411.jpg\" alt=\"Vim running in a tmux session\" /></p>\n<p>Success!</p>\n<p></p>\n<p></p>\n",
      "date_published": "2012-07-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/17/4/two-tools-for-gateway-trial-host-nplhost/",
      "url": "https://qmacro.org/blog/2012/17/4/two-tools-for-gateway-trial-host-nplhost/",
      "title": "Two tools for Gateway trial host nplhost",
      "content_html": "<p>The <a href=\"http://scn.sap.com/community/netweaver-gateway\">SAP NetWeaver Gateway</a> trial system is a great way to get your hands on all that OData and HTTP goodness. There are a couple of tools that I find myself re-installing when I build a new copy of the VM + trial – multitail and screen.</p>\n<p><a href=\"http://www.vanheusden.com/multitail/\">Multitail</a> is something I mentioned on my <a href=\"https://qmacro.org/undefined/\">Enterprise Geeks slot with Craig Cmehil</a> and allows you to tail more than one file at once. Very useful for keeping an eye on all those log files in the instance work directory!</p>\n<p>And <a href=\"http://en.wikipedia.org/wiki/GNU_Screen\">screen</a> is one of those great utilities that I put in the same class as putty and vim: absolutely essential. It allows you to maintain multiple persistent sessions on a remote *nix host. Great for disconnecting and reconnecting (especially on dodgy ‘net connections) and being able to continue exactly where you left off.</p>\n<p>I realised that people might benefit from these too, so I thought I’d offer them for you to download in binary form, so you can avoid going through the hassle of firing up the package manager and wrestling with repositories and dependencies, or building from source. I built them from source on an 64bit SUSE Linux VM ‘nplhost’ straight from SAP, so they should work if you’re using the same as the standard VM recommended for the trial. If you’ve decided on a Windows VM to run Gateway, then you’re out of luck, in more ways than one :-)</p>\n<p>They’re available here: <a href=\"http://www.pipetree.com/~dj/2012/04/nplhost/\">http://www.pipetree.com/~dj/2012/04/nplhost/</a></p>\n<p><img src=\"https://qmacro.org/blog/img/2012/04/nplhost.png\" alt=\"image\" /></p>\n<p>Download them to npladm’s home directory to run them from there. Don’t forget to (a) chmod +x each of the binaries, and (b) rename the _ to .  for each of the dotfiles.</p>\n<p>Share and enjoy!</p>\n",
      "date_published": "2012-04-17T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/16/4/on-enterprise-geeks-podcast/",
      "url": "https://qmacro.org/blog/2012/16/4/on-enterprise-geeks-podcast/",
      "title": "On Enterprise Geeks Podcast",
      "content_html": "<p>Last month at SAP DKOM, where I rediscovered <a href=\"https://qmacro.org/2012/04/01/the-developer-connection-connect-like-never-before/\">SAP’s Developer Connection</a>, I bumped into an old friend, <a href=\"https://wiki.sdn.sap.com/wiki/display/profile/Craig+Cmehil\">Craig Cmehil</a>. Craig is one part of the <a href=\"http://enterprisegeeks.com/blog/about/\">Enterprise Geeks</a>, a loose collective of geeks and hackers whose friendships were formed in the SAP space. The Enterprise Geeks are famous for their podcasts, and I was very honoured to be a guest on that very show.</p>\n<p>Here’s the post: “<a href=\"http://enterprisegeeks.com/blog/2012/04/16/dj-adams-and-a-trip-down-technology-lane/\">DJ Adams and a trip down technology lane</a>“. If you’re after the audio file directly, it’s <a href=\"http://enterprisegeeks.com/blog/podcasts/eGeeks_DJAdams_March_2012.m4a\">here</a>.</p>\n<p>I had a lot of fun. Thanks Craig!</p>\n",
      "date_published": "2012-04-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/15/4/firebase-and-sapui5/",
      "url": "https://qmacro.org/blog/2012/15/4/firebase-and-sapui5/",
      "title": "Firebase and SAPUI5",
      "content_html": "<p>I took a look at <a href=\"http://www.firebase.com/\">Firebase</a> this weekend, approaching it within the context of the relatively new concept of “backend as a service” (BaaS) as exemplified by <a href=\"http://parse.com/\">Parse</a> and others. Add server-side storage to your HTML application. Parse has a focus on the mobile app platform, whereas Firebase is a more generalised service. But that’s not the only difference.</p>\n<p><strong>Everything is a resource</strong></p>\n<p>There’s an idea that has been a long time in gestation – the idea of a loose coupling of data storage, front end apps, and backend command line environments. Firebase, an offering still in beta, <a href=\"http://www.firebase.com/faq.html\">with some features pending</a>, has come along and seems to be delivering that. With style. Style not only in the actual UX, but in the design approach. In a recent talk on <a href=\"http://scn.sap.com/community/netweaver-gateway\">SAP NetWeaver Gateway</a> at the SAP Developers Kick-Off Meeting (<a href=\"http://www.youtube.com/watch?v=6Opmj8M_tBw\">DKOM</a>) in Karlsruhe, I had a slide that simply said:</p>\n<blockquote>\n<p>Everything is a resource</p>\n</blockquote>\n<p>This is a key tenet that underpins the values of REST and related directions in information architecture: that if a piece of data (or, indirectly, a business function, for that matter) is important, you should give it a name, an address – <a href=\"https://qmacro.org/2009/06/29/information-vs-behaviour/\">make it a first class citizen on the web</a>. From there, everything else follows. You can manipulate it, you can describe it, and you can link to it.</p>\n<p>With Firebase, each piece of JSON data you store in the backend gets its own URL. Each object, array, element and attribute is automatically given an address, as you create them. You can manipulate the data via the <a href=\"http://www.firebase.com/docs/\">Javascript library</a>, through a <a href=\"http://www.firebase.com/docs/rest-api.html\">REST API</a> and also through a lovely graphical debugger that looks like this:</p>\n<div class=\"wp-caption alignnone\" id=\"attachment_1401\" style=\"width: 310px\">![image](/blog/img/2012/04/FirebaseGraphicalDebugger.png)Firebase Graphical Debugger\n</div>**Firebase Graphical Debugger**\n<p>With the debugger you can manipulate the data directly too. What I’m guessing, through the way that the Debugger operates, is that the Debugger itself is powered by Firebase. When data in the data set that you’re viewing is changed – whether that change is initiated via the REST API or activity in a Firebase-powered application, the view in the debugger is automatically updated to show that change.</p>\n<p><strong>Event system</strong></p>\n<p>Which brings me on to the other part of Firebase that’s important – the event system. Reading data from Firebase in your Javascript application is done by attaching asynchronous callbacks to a data location. These callbacks are triggered on data events like ‘value’, ‘child_added’, ‘child_changed’ and so on. So a very simple setup to be able to show when a new record was added to a dataset would be as simple as:</p>\n<ul>\n<li>Instantiating a new Firebase object, pointing to the URL of the data set</li>\n<li>Associating a callback function to the ‘child_added’ event, to receive, unpack and use the new record</li>\n</ul>\n<p>Like this:</p>\n<pre><code>var dataRef = new Firebase('http://demo.firebase.com/[...]299148/[...]QULZ4snBB/');\ndataRef.on('child_added', function(snapshot) { var data = snapshot.val(); // ... }\n</code></pre>\n<p><strong>Screencast: Stupid Firebase and SAPUI5 Tricks</strong></p>\n<p>On Saturday evening I had a little hack around, and found developing with Firebase fun as well as interesting. I put together a little screencast “<a href=\"http://www.youtube.com/watch?v=Obh2LW7CCKY\">Stupid Firebase and SAPUI5 tricks</a>“. I have been investigating the <a href=\"http://www.sdn.sap.com/irj/sdn/index?rid=/webcontent/uuid/20a34ae7-762d-2f10-c994-db2e898d5f70\">SAP UI Development Toolkit for HTML5</a> (aka SAPUI5) for a short while now, and thought it would be an interesting exercise to hook up some data events powered by Firebase with an SAPUI5 <a href=\"http://www.pipetree.com/~dj/sapui5/demokit/#docs/api/symbols/sap.ui.table.DataTable.html\">DataTable</a>. And throw my favourite environment – the Unix command line – into the mix too.</p>\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"315\" src=\"http://www.youtube.com/embed/Obh2LW7CCKY\" width=\"560\"></iframe>  \n    \n As I didn’t speak over the screencast, I thought I’d provide an annotation here.\n<ol>\n<li>We start out with a view of the Firebase Graphical Debugger showing a data set at a given URL. The data set contains a number of nodes, each node has an identifier which is used in forming that node’s unique URL</li>\n<li>On the Unix command line, I use <a href=\"http://curl.haxx.se/\">cURL</a> – a great command line HTTP client – to effectively remove the data, by making an HTTP PUT to the data set’s URL, supplying an empty JSON stucture as the payload. As you can see, the data disappeared immediately in the Graphical Debugger, as the event triggered the Javascript function to remove the data from the display to reflect the snapshot stored at the backend</li>\n<li>A simple SAPUI5 DataTable is revealed in another window, empty, with three columns for some data we’re going to see appear there; data based on the standard Apache access log (source IP address, relative path of URL requested, and status code)</li>\n<li>We go back to the Unix command line, and use a combination of tail, perl and some core bash shell features to pull some data out of my web server’s access log, turn it into JSON, and make HTTP POST requests to the data set stored by Firebase</li>\n<li>Before we actually complete and execute that command pipeline, we have a quick look at the SAPUI5 and Firebase Javascript behind the DataTable, showing the relationship between the DataTable fields and what we’re expecting in the ‘child_added’ Firebase data event</li>\n<li>Finally we execute the command pipeline and see immediately that not only the Graphical Debugger is updated to show the records that were added to the data set at that URL, but also the DataTable receives the data as intended.</li>\n</ol>\n<p>There really is little merit in this experiment; what was important for me was to see Firebase in action, and to learn something about the philosophy of the framework. I really liked what I’ve seen so far.</p>\n<p>As I mentioned at the start, there are some features still missing from Firebase – most notably security. So you’re completely at liberty right now to read those URLs from the screencast and start hacking with my demo data. But why do that? Better to get yourself down to the <a href=\"http://www.firebase.com/tutorial/\">Firebase tutorial pages</a> and build some samples for yourself.</p>\n<p>Share and enjoy!</p>\n<p></p>\n",
      "date_published": "2012-04-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/1/4/the-developer-connection-connect-like-never-before/",
      "url": "https://qmacro.org/blog/2012/1/4/the-developer-connection-connect-like-never-before/",
      "title": "The Developer Connection: Connect Like Never Before",
      "content_html": "<p>At SAP TechEd Madrid (November last year) I wrote about the <a href=\"https://qmacro.org/2011/11/10/the-developer-renaissance/\">Developer Renaissance</a>, covering my interview with Aiaz Kazi from the Technology &amp; Innovation Platform, and SAP’s re-focus on developers.</p>\n<p>This week I had the great honour of being invited to, and <a href=\"http://www.flickr.com/photos/finnern/6880455744/\">speaking at</a> SAP <a href=\"http://www.youtube.com/watch?v=6Opmj8M_tBw\">DKOM</a> (Development Kick-Off Meeting) in Karlsruhe. It was a truly great event – thousands of SAP developers attending many tracks and sessions on everything from Analytics, through Database &amp; Technology, to Cloud, and more besides. As I sit here in Frankfurt airport on my way home, I’ve been reflecting on perhaps the best single takeaway from this event. Yes the content of the talks was great (and I enjoyed giving my session on SAP NetWeaver Gateway too). Yes the venue and organisation was second to none. Yes it was great to see the SAP Mentor wolfpack and our illustrious leader Mark Finnern.</p>\n<p>But most of all, I saw, felt, and experienced something that I last remember from over 20 years ago in my SAP career: <em>The Developer Connection</em>.</p>\n<p>Back in the day, when I was (more) innocent, certainly a lot younger, and waist-deep in IBM mainframe tech, I moved around implementing and supporting R/2 installations in the UK and Europe. Esso Petroleum in London, Deutsche Telekom in Euskirchen, and so on. In those days you could catch up with all the OSS notes on your favourite topics over a couple of coffees. Most importantly however, you had connections to the developers at SAP who were building and shipping the code that you were implementing. We knew each other’s names, and in many cases, shared phone numbers or email addresses too. There was a strong bond between customers and developers – and we worked together to make the software better.</p>\n<p>That connection lost its way over the next few years, when SAP (consciously or unconsiously) built barriers between us. It became almost impossible in some cases to even find out the name of the developer or team responsible, let alone contact them directly.</p>\n<p>Well – that connection is back. And better than ever before. Both at SAP TechEd Madrid, and this week at DKOM, developers were coming and saying hello. Developers who are building the great stuff we’re exploring and using, like <a href=\"http://www.sdn.sap.com/irj/sdn/index?rid=/webcontent/uuid/20a34ae7-762d-2f10-c994-db2e898d5f70\">SAPUI5</a> and <a href=\"http://scn.sap.com/community/netweaver-gateway\">NetWeaver Gateway</a>. People like you and me. We are connecting again. I think there are a number of reasons for this.</p>\n<p>First, there’s the amazing community called the <a href=\"http://scn.sap.com/welcome\">SAP Community Network</a> (SCN – although for me it will always be the SAP Developer Network – SDN) that brings together developers from all sources. Then there’s SAP’s re-focus on developers, and the corresponding coupling of empowerment and responsibility that SAP is giving directly to those developers. Further, there’s the inexorable turning inside out manoeuvre that SAP began a few years ago now, moving cautiously at first but now gathering pace as more and more technology directions that SAP are following are from outside the SAP universe, not inside. SAP developers naturally are connecting with the wider development community in general.</p>\n<p>Whatever the reason, it’s a great sign that the future looks exciting for SAP development as a whole. Connections, collaboration and cooperation is returning. The Developer Connection is here again.</p>\n",
      "date_published": "2012-04-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/25/3/sapui5-powered-scn-forum-finder/",
      "url": "https://qmacro.org/blog/2012/25/3/sapui5-powered-scn-forum-finder/",
      "title": "SAPUI5 Powered SCN Forum Finder",
      "content_html": "<p>With the advent of the new <a href=\"http://www.sdn.sap.com/irj/scn\">SAP Community Network</a> platform, people have been wondering where the old SDN forums have gone. To this end, there’s a very useful “<a href=\"http://scn.sap.com/docs/DOC-18971\">Forum Finder for the New SCN</a>” which details the forum names, along with links to their new URL homes.</p>\n<p>I thought it would be a nice exercise to take one of the <a href=\"http://www.sdn.sap.com/irj/sdn/index?rid=/webcontent/uuid/20a34ae7-762d-2f10-c994-db2e898d5f70\">SAPUI5</a> controls for a spin, namely the <a href=\"http://www.pipetree.com/~dj/sapui5/demokit/#docs/api/symbols/sap.ui.commons.SearchField.html\">SearchField</a>. It has a great many options, and wraps some jQuery functions to provide a comfortable way to expose ‘intellisense’ style results as you type. It’s over there on the right, in the sidebar.</p>\n<div class=\"wp-caption alignnone\" id=\"attachment_1378\" style=\"width: 374px\">![image](/blog/img/2012/03/forumsearch1.png)SDN Forum Search\n</div>From the Javascript, here’s the instantiation:\n<p>var oSdnSearch = new sap.ui.commons.SearchField(&quot;sdnSearch&quot;, { startSuggestion: 2, search: function (oEvent) { var topic = oEvent.getParameter(&quot;query&quot;); window.open(oSdnAreaMap[topic], '_blank'); }, suggest: doSuggest });</p>\n<p>Simple as that. I’ve pulled the SDN Forum names and URLs into an object oSdnAreaMap, and have a doSuggest() function that handles the suggest event by deriving matches and filling the search results.</p>\n<p>This was a short hack started on the hotel room balcony and finished off in the airport. One thing I haven’t got to the bottom of yet is controlling the number of displayed matches. Hope to get that nailed down soon.</p>\n<p><strong>Update 30 Mar 2012</strong></p>\n<p>After some collaboration with <a href=\"http://twitter.com/esjewett\">Ethan Jewett</a> I’ve put the <a href=\"https://github.com/qmacro/sdnforumsearch\">code on github</a>, and it now also matches anywhere in the string, rather than the match being anchored at the start. Share and enjoy!</p>\n<p>**<br />\n**</p>\n",
      "date_published": "2012-03-25T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/15/3/new-omniversity-course-video/",
      "url": "https://qmacro.org/blog/2012/15/3/new-omniversity-course-video/",
      "title": "New Omniversity Course Video!",
      "content_html": "<p>As I <a href=\"https://qmacro.org/2012/01/25/sap-icf-course-marketing-video/\">mentioned earlier this year</a>, we were going to create a new video for my course “<a href=\"https://docs.google.com/document/pub?id=1lX_X95LIaNBxlOsXxO_DFxYZfz4AxGyennxMNKIaaJE\">Web Programming with SAP’s Internet Communication Framework</a>” at the <a href=\"http://omniversity.madlab.org.uk/\">Omniversity</a> of Manchester at <a href=\"http://madlab.org.uk/\">Madlab</a>. And we did! Boy, was it fun. <a href=\"http://vimeo.com/prohyena\">Maria</a>, Madlab’s semi-resident video expert injected her creative genius into the shoot and I must say, apart from the dorky looking person in the main shot, the new video is an absolute triumph. Brilliant overtones and influence from <em>2001: A Space Odyssey</em>, too. Here’s the video:</p>\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"225\" mozallowfullscreen=\"\" src=\"http://player.vimeo.com/video/36828893?title=0&byline=0&portrait=0\" webkitallowfullscreen=\"\" width=\"400\"></iframe>\n<p><a href=\"http://vimeo.com/36828893\">Web Programming with SAP’s Internet Communication Framework with DJ Adams</a> from <a href=\"http://vimeo.com/prohyena\">Prohyena</a> on <a href=\"http://vimeo.com/\">Vimeo</a>.</p>\n<p>If you’re interested in attending the next instance of the course, which is in May this year, please <a href=\"http://s.madlab.org.uk/sap3/\">sign up</a>!</p>\n<p></p>\n",
      "date_published": "2012-03-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/25/1/sap-icf-course-marketing-video/",
      "url": "https://qmacro.org/blog/2012/25/1/sap-icf-course-marketing-video/",
      "title": "SAP ICF course marketing: video!",
      "content_html": "<p>I dropped by <a href=\"http://madlab.org.uk/\">Madlab</a> and the <a href=\"http://omniversity.madlab.org.uk/\">Omniversity</a> yesterday evening to see <a href=\"http://twitter.com/hwayoung\">Hwayoung </a>and <a href=\"http://twitter.com/davemee\">Dave</a> and talk about the upcoming <a href=\"https://docs.google.com/document/pub?id=1lX_X95LIaNBxlOsXxO_DFxYZfz4AxGyennxMNKIaaJE\">Web Programming with the SAP Internet Communication Framework</a> course in early March. (<a href=\"http://s.madlab.org.uk/sap2\">Sign up!</a>)</p>\n<p>In preparation for the previous instance of the course last year, we shot a video with yours truly explaining what the course was about and why you should attend.</p>\n<iframe allowfullscreen=\"\" frameborder=\"0\" height=\"225\" mozallowfullscreen=\"\" src=\"http://player.vimeo.com/video/27779382?title=0&byline=0&portrait=0\" webkitallowfullscreen=\"\" width=\"400\"></iframe>\n<p><a href=\"http://vimeo.com/27779382\">Omniversity : Web Programming with SAP’s Internet Communication Framework</a> from <a href=\"http://vimeo.com/madlabuk\">Madlab</a> on <a href=\"http://vimeo.com/\">Vimeo</a>.</p>\n<p>Madlab have their own semi-resident video expert and in the run up to the next course we’re going to shoot a new video with lots of exciting content! Well, I guess you might call it exciting if you are into SAP tech and seeing debugging activity in slow motion.</p>\n<p>Anyway, watch this space – next week I’m over at Madlab again for the shoot. Perhaps I should get a haircut. Or a wig.</p>\n",
      "date_published": "2012-01-25T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2012/3/1/on-the-information-diet/",
      "url": "https://qmacro.org/blog/2012/3/1/on-the-information-diet/",
      "title": "On the Information Diet",
      "content_html": "<div><div><div><div><div><div>There seems to be a movement currently gaining momentum from the flurry of New Year resolutions, a movement on information consumption. Last week, I read about a noble and desirable goal to consume less and produce more. Consume 10%, produce 90% seemed to be the general metric. I aspire to that, but I know it’s difficult to achieve. This morning, on the train to London, the first thing I read is an article by Clay Johnson called “[How to Start Your Information Diet](http://www.informationdiet.com/blog/read/how-to-start-your-information-diet)“. There’s an accompanying [book](http://shop.oreilly.com/product/0636920019978.do), also. Notable 2.0 space luminaries such as Gina Trapani, Tim O’Reilly and Ev Williams, amongst others, are looking to go on an Information Diet. What is an Information Diet? Slightly worried that I’m doing exactly what other people are trying to avoid (consuming), and wondering whether it’s a trap, I read the article.\n<div>Clay Johnson’s [Information Diet](http://www.informationdiet.com) is about reducing your consumption of information, and actively making time to produce. Resonating with the earlier goal, so far so good. The article tells you to cut down on TV viewing, and by use of certain apps and utilities, reduce the number of interruptions and temptations to divert you from producing: turning off notifications from your email system, Google+, Twitter, and the like. This is good stuff. After watching a Peepcode episode on managing your inbox (“[Control Your Email Inbox](http://peepcode.com/products/email)” – recommended), I turned off all email notifications at work, and scheduled a thrice-daily email check, rather than have myself driven to doing it by a popup, interrupting my flow. It works well.\n<p>But there’s something about the general term ‘Information Diet’ that has me concerned, and has caused me to write this post (and therefore produce – win!). Yes, reduce your TV viewing (I don’t watch much anyway, and we don’t have satellite or cable). Yes, reduce your general browsing, and certainly try to move away from ‘<a href=\"http://en.wikipedia.org/wiki/Continuous_partial_attention\">continuous partial attention</a>‘ towards ‘managed full attention’ (perhaps using <a href=\"http://www.pomodorotechnique.com/\">Pomodoro</a> or similar techniques). But don’t treat this like a typical diet. Just like your body, your mind needs energy, and what’s more, it needs feeding. With the right sources. Don’t think you have to <em>reduce</em> your information intake. Rather, make sure that the information you consume is protein, good carbs, fibre and the like. Last year I started to exercise in earnest again, and am consuming more than before. But I’m consuming the right foods – oily fish, fruit, veg, nuts, and so on. And I’m feeling pretty healthy on it.</p>\n<p>Don’t worry about consuming less. Don’t worry about <em>dieting</em>. Concern yourself about the <em>quality</em> of what you consume. I have a Kindle, and combined with <a href=\"http://www.instapaper.com/\">Instapaper</a>, consume more excellent, stimulating, educational and thought-provoking articles than ever (here’s <a href=\"http://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/16597\">some background</a> that goes some way to explaining my reading appetite). And just as my consumption of the right foodstuffs (with exercise) has increased my health and wellbeing, so my consumption of the right infostuff has increased my knowledge, and exercised my brain. Yes, certainly aim to produce more, but look to <em>what</em> you consume, rather than how much.</p>\n</div></div></div></div></div></div></div>\n",
      "date_published": "2012-01-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/10/11/the-developer-renaissance/",
      "url": "https://qmacro.org/blog/2011/10/11/the-developer-renaissance/",
      "title": "The Developer Renaissance",
      "content_html": "<p>At <a href=\"http://www.sapteched.com/emea\">SAP TechEd in Madrid</a> this year, I had the privilege of interviewing SAP’s Head of Technology &amp; Innovation Platform (TIP) Marketing,﻿ <a href=\"http://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251736460\">Aiaz Kazi</a>, on the <a href=\"http://www.sapteched.com/online\">SAP TechEd Live</a> TV channel. The interview is available <a href=\"http://www.sapvirtualevents.com/teched/sessiondetails.aspx?sId=841\">here</a>.</p>\n<p>His team has an enormous scope, covering Mobile, In-Memory, On-Demand, HANA and more. While the word “Marketing” might be auto-filtered by a techie’s radar-filter, what became clear very quickly is that this group is totally developer focused. His group is already building a brand-new Developer Center (<a href=\"https://qmacro.org/2011/11/08/sap-developer-center/\">I wrote about this earlier this week</a>) and is focused on helping the developer help themselves. What’s more, the group is staffed with developers. I’ve not managed to find anyone in TIP yet that doesn’t have a developer background.</p>\n<p><img src=\"https://qmacro.org/blog/img/2011/11/interview_screengrab-300x171.png\" alt=\"DJ Adams interviews Aiaz Kazi at SAP TechEd Live 2011\" /></p>\n<p>Hasso is reported to have said “developers are the key to success”, and of course, we all know that <a href=\"http://www.google.co.uk/search?gcx=c&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=%22developers+are+the+new+kingmakers%22\">Developers Are The New Kingmakers</a>. What becomes clear in this interview, is that there’s a re-focus on the developer in the space that spans the distance between mobile and enterprise. This re-focus is long overdue in our industry, so I applaud SAP for having the courage to lead on this. Yes, SAP will benefit because one of the keys to a successful mobile platform is a host of developers in the non traditional-SAP space. But if the message and focus builds, the developer at large will benefit even more.</p>\n<p>Perhaps this is a milestone along the way to the upcoming Developer Renaissance?</p>\n<p>The interview is here: <a href=\"http://www.sapvirtualevents.com/teched/sessiondetails.aspx?sId=841\">http://www.sapvirtualevents.com/teched/sessiondetails.aspx?sId=841</a></p>\n<p></p>\n",
      "date_published": "2011-11-10T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/9/11/html5-sap/",
      "url": "https://qmacro.org/blog/2011/9/11/html5-sap/",
      "title": "HTML5 @ SAP",
      "content_html": "<p>Over the years SAP has been slowly but surely turning itself inside out towards the wider, open community. Open as in open source, open protocols and open data. One facet of this long-term tanker maneuver was very evident today; I attended session EXP443 “HTML5 @ SAP”. With tens of thousands of developers across the continents, it’s no surprise to find that some group, somewhere in SAP will be working on the same technology as you are, whatever that is.</p>\n<p><a href=\"http://www.html5rocks.com/\">HTML5</a> is one of those technologies. While not so much a surprise, what’s more revealing, and encouraging, is that it’s being given decent coverage at <a href=\"http://www.sapteched.com/emea/\">SAP TechEd</a> this year. The adoption of HTML5 as the core of a new UI library (originally codenamed “Phoenix”) for app front-ends is something that has a voice here. Look at the TechEd sessions available:</p>\n<ul>\n<li>CD202 HTML5 for Lightweight SAP Applications</li>\n<li>MOB264 Building &amp; Customising a Mobile Application Without Writing Code</li>\n<li>MM220 How to Customise a Mobile Application with HTML5 and Javascript</li>\n<li>EXP443 HTML5 @ SAP</li>\n</ul>\n<p>That’s not to say that this is breaking news – <a href=\"http://wiki.sdn.sap.com/wiki/display/profile/Thomas+Jung\">Thomas Jung</a> (an SAP Mentor from SAP Labs) made reference to Phoenix <a href=\"http://www.erpexecutive.com/2011/08/next-generation-abap-development-the-erp-executive-interview/\">in an interview with Jon Reed</a> a few months ago. Furthermore, in a very useful chat with SAP’s <a href=\"http://wiki.sdn.sap.com/wiki/display/profile/Chris+Whealy\">Chris Whealy</a> on Monday after InnoJam, I got to understand more about the philosophy and approach of SAP NetWeaver Gateway’s exposure of data objects and their relationships in a way that would make <a href=\"http://en.wikipedia.org/wiki/HATEOAS\">HATEOAS</a> pay attention. And Chris used an early version of the UI library to present the exposed data. This seems to be a common theme internally in SAP, at least.</p>\n<p>So what’s the deal? In EXP443 I learned that the library is built upon <a href=\"http://jquery.com/\">jQuery</a>. So SAP are avoiding the NIH syndrome, that’s good. But there were other attendees that were questioning SAP’s decision to build Yet Another Javascript Ui Library. At the very least, the model implementation of the library’s MVC framework gives the wily Javascript hacker a head-start on using and consuming Gateway services. And in my opinion that’s the deal. Yes, we have a very nice UI library (and no, it’s not available until 2Q12, before you ask!) but we also have code that speaks the language of thousands of front-end developers on the one hand, and eases the connection to the proprietary back-end on the other.</p>\n<p>SAP’s future lies with developers, and they’re embracing those developers in many different ways (the Technology &amp; Innovation Platform team is one group that is making seriously good moves in this direction — but that’s a story for another time). HTML5 adoption by SAP was most likely part of a scratching of an internal itch, but it implicitly embraces non-SAP developers in potentially far-reaching ways. Great stuff.</p>\n",
      "date_published": "2011-11-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/8/11/sap-developer-center/",
      "url": "https://qmacro.org/blog/2011/8/11/sap-developer-center/",
      "title": "SAP Developer Center",
      "content_html": "<p>At <a href=\"http://www.sapteched.com/emea/\">SAP TechEd Madrid 2011</a> I stopped by booth 104 in the Technology Innovation area of Hall 10 after lunch and chatted to David Brutman, from SAP’s Technology and Innovation Platform Marketing. SAP already have enjoyed tremendous success in terms of takeup and social engagement with their <a href=\"http://www.scn.sap.com/\">SAP Community Network</a> (which grew from the original <a href=\"http://www.sdn.sap.com/\">SAP Developer Network</a>) but until now, there hasn’t been a consistent place for developers to go and enjoy “Discover, Learn, Build” activities. In other words, while there has been a huge amount of two-way discussion and sharing of ideas amongst the wider developer community, the next step — to be fair, a <em>parallel</em> step — is to offer a resource centre for developers who want to Get On And Do It.</p>\n<div class=\"wp-caption alignnone\" style=\"width: 557px\">[![](https://lh3.googleusercontent.com/--rg5nHDoWdY/TrknPWX3YcI/AAAAAAAAGAs/_MFVjCgbivs/s912/IMAG0442.jpg \"David Brutman\")](https://plus.google.com/u/0/photos/110526626182299357893/albums/5672256376647909457/5672645397795974882)David Brutman - Technology Platforms Developer Programs\n</div>Tangible at this year’s TechEd is the explosion of concepts, tools and technologies all fighting for primary position in the finite developer mindspace. HANA, NetWeaver Gateway, SUP, and the rest. And perhaps I’m not a typical developer these days, but I’m looking for guidance: some focused documentation, some tutorials, and perhaps most importantly, a platform to try this stuff out on.\n<p>Enter the SAP Developer Center (I’ll keep to the US spelling of this for consistency!) – which is pretty much exactly what I’m looking for. It’s not live yet, but when it is (we’re talking 1Q12), it looks to be a killer resource centre. Right now it’s in beta testing, specifically with HANA. Think <a href=\"http://code.google.com/\">code.google.com</a> / <a href=\"http://developer.google.com/\">developer.google.com</a> with a cloud-based offering of trial instances on demand. A go-to resource centre for building your skills in the new era of SAP’s technology platform.</p>\n<p>Sounds good? I think it sounds great! Look out for it appearing as part of the SAP Community Network soon.</p>\n<p><em>Update 06 Feb 2012: See the article “<a href=\"http://sapinsider.wispubs.com/Article/What-Would-You-Like-to-Develop-Today-/6280\">What Would You Like To Develop Today?</a>” in the Jan 2012 edition of SAP Insider for more on The Developer Center.</em></p>\n",
      "date_published": "2011-11-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/8/11/movember-please-donate/",
      "url": "https://qmacro.org/blog/2011/8/11/movember-please-donate/",
      "title": "Movember - please donate!",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2011/11/movember.jpg\" alt=\"image\" /></p>\n<p>I’m taking part in <a href=\"http://uk.movember.com/\">Movember</a>, a fun and serious movement where moustaches are grown, ridicule is thrown, and hopefully people become more aware of men’s health in general, and prostate and testicular cancer in particular.</p>\n<p><a href=\"https://qmacro.org/blog/img/2011/11/movember.jpg\"></a></p>\n<p>The idea is that you start clean-shaven on 1st Nov, and grown your moustache through the month, raising money along the way. I have a Movember page here:</p>\n<p><a href=\"http://mobro.co/qmacro\">http://mobro.co/qmacro</a></p>\n<p>Please visit and donate what you can – I’ll be very grateful, thank you!</p>\n<p></p>\n",
      "date_published": "2011-11-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/5/11/web-programming-with-sap-s-icf-new-course-dates/",
      "url": "https://qmacro.org/blog/2011/5/11/web-programming-with-sap-s-icf-new-course-dates/",
      "title": "Web Programming with SAP&#39;s ICF: new course dates",
      "content_html": "<p>I’m pleased to announce that my 2-day <a href=\"http://omniversity.madlab.org.uk/\">Omniversity</a> course <a href=\"https://docs.google.com/document/pub?id=1lX_X95LIaNBxlOsXxO_DFxYZfz4AxGyennxMNKIaaJE&amp;pli=1\">Web Programming with SAP’s Internet Communication Framework</a> is coming up again a couple of times in the first half of next year.</p>\n<p>SAP’s Internet Communication Framework (ICF) is the platform that underpins the majority of SAP’s offerings in this space, even SAP NetWeaver Gateway. This 2-day course will help you gain a detailed understanding of the framework, harness its power, and unleash your own resource orientated web service masterpieces!</p>\n<p>Dates in March and May are available; follow the links to find out more and to book a place:</p>\n<p><a href=\"http://s.madlab.org.uk/sap2\">Sat 03 – Sun 04 March 2012</a></p>\n<p><a href=\"http://s.madlab.org.uk/sap3\">Wed 09 – Thu 10 May 2012</a></p>\n<p><strong>Alternative Dispatcher Layer</strong></p>\n<p><a href=\"https://docs.google.com/document/pub?id=1lX_X95LIaNBxlOsXxO_DFxYZfz4AxGyennxMNKIaaJE&amp;pli=1#h.bz5oteq9itkk\">One of the topics covered in Day 2</a> on this course is the Alternative Dispatcher Layer (ADL), a lightweight alternative approach to building web applications, an approach informed and influenced by other libraries and frameworks such as the Python <a href=\"http://code.google.com/appengine/docs/python/tools/webapp/\">webapp framework</a> in Google App Engine. Read more about the origins of ADL in this SAP Developer Network post: <a href=\"http://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/15899\">A new REST handler / dispatcher for the ICF</a>.</p>\n<p>If you’re after more background, see this post from earlier this year: <a href=\"https://qmacro.org/2011/07/20/stand-steady-on-the-shoulders-of-giants/\">Stand Steady on the Shoulders of Giants</a></p>\n<p>Looking forward to seeing you on the course!</p>\n",
      "date_published": "2011-11-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/2/11/moving-on-to-bluefin-solutions/",
      "url": "https://qmacro.org/blog/2011/2/11/moving-on-to-bluefin-solutions/",
      "title": "Moving on ... to Bluefin Solutions",
      "content_html": "<p>Since moving back to the North West in 2005 I’ve been contracting most of the time at <a href=\"http://www.astrazeneca.com/Home\">AstraZeneca</a>, in Macclesfield, Alderley Edge and Chorlton. I’ve been involved in a number of great projects, from invoice automation, through HCP honoraria systems, ERP integration (REST-informed, of course) and latterly the first truly global-scale travel &amp; expense system, which we now have running in 70 countries, with over 60,000 users. The integration hubs I’ve built pump tens of thousands of transactions daily through the systems, and hundreds of thousands of master data records without a murmur. I’ve hacked on SAP, Ariba and Infor systems as well as building these custom integration hubs, and I designed and built a credit card feed processing system that’s become almost self-aware.</p>\n<p>Life at AstraZeneca has been great; it’s one of the friendliest places to work, the people are great, and the location and facilities are second to none. I also met my wife and theoretical childhood sweetheart <a href=\"https://qmacro.org/blog/2011/2/11/moving-on-to-bluefin-solutions/www.pipetree.com/michelleadams/\">Michelle</a> here. It’s not all been a bed of roses of course (nowhere is!) at times the work has been frustrating and increasingly there are too many layers between me and the code surface.</p>\n<p>At heart I’m a coder and builder, driven by curiosity and the desire to learn, teach and implement.</p>\n<p>So it’s with great excitement that, in January 2012, I’m joining <a href=\"http://www.bluefinsolutions.com/\">Bluefin Solutions</a> as a permanent member of the team. I’ve known many of the gang at Bluefin for a while, and feel as though I already have a lot in common with them. I’ve spoken at the<a href=\"http://lanyrd.com/2010/northern-it-directors-round-table-november/\"> Northern IT Directors’ Round Table</a> for them, was their first <a href=\"http://www.bluefinsolutions.com/insights/guest_blog/\">guest blogger</a>, and have bumped into many of them during SAP orientated events from <a href=\"http://lanyrd.com/2009/manchester-sap-evening-november/\">SAP Evenings</a> to <a href=\"http://lanyrd.com/2010/sapteched-berlin/\">SAP TechEds</a> and beyond.</p>\n<p>My official title will be “Senior SAP Development Architect” but there’s also an “Evangelist” flavour to my role, which I’ll be embracing and making my own. What attracts me to Bluefin in addition to the quality of their people is their drive, their leadership and their embrace of technology, and with that in mind, I’m really looking forward to helping research, steer and shape innovation in the Enterprise in the near future.</p>\n<p>Hooray!</p>\n",
      "date_published": "2011-11-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/16/10/reading-list-mark-2-part-5/",
      "url": "https://qmacro.org/blog/2011/16/10/reading-list-mark-2-part-5/",
      "title": "Reading List Mark 2 - Part 5",
      "content_html": "<p>This is Part 5, the last part in a series about an example app that I put together to demonstrate and describe the use of various Google Apps Script features. See <a href=\"https://qmacro.org/2011/10/08/reading-list-mark-2-part-1/\">Part 1</a> for an introduction. This part is &quot;Putting it all together and using the OnOpen event to insert a new 2-item menu entry on the spreadsheet’s page&quot;.</p>\n<p><strong>Parts Overview</strong></p>\n<ol>\n<li><a href=\"https://qmacro.org/2011/10/08/reading-list-mark-2-part-1/\">Introduction to the app, and a short screencast showing the features</a></li>\n<li><a href=\"https://qmacro.org/2011/10/10/reading-list-mark-2-part-2/\">Using the Tasks API to retrieve and insert tasklists, and the Ui Services to build the tasklist chooser component</a></li>\n<li><a href=\"https://qmacro.org/2011/10/14/reading-list-mark-2-part-3/\">Using the UrlFetch Services to interact with the Google+ API and grab info on articles pointed to by users in their activity stream</a></li>\n<li><a href=\"https://qmacro.org/2011/10/15/reading-list-mark-2-part-4/\">Synchronising the URL list in the spreadsheet with corresponding tasks in the chosen tasklist</a></li>\n<li><a href=\"https://qmacro.org/2011/10/16/reading-list-mark-2-part-5/\">Putting it all together and using the OnOpen event to insert a new 2-item menu entry on the spreadsheet’s page</a> &lt;– you are here</li>\n</ol>\n<p><strong>Putting it all together</strong></p>\n<p>So at this stage we’ve done pretty much everything required for this example app. The final task is to extend the standard Spreadsheet menu to give the user access to the custom features of selecting a tasklist, and kicking off an update (URL pull and synchronisation). It’s very easy to extend the menu; in a few lines of code we’re going to end up with something like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2017/12/menu.png\" alt=\"\" /></p>\n<p>It’s as simple as this:</p>\n<pre><code>function onOpen() { \n  var ss = SpreadsheetApp.getActiveSpreadsheet(); \n  var menuEntries = [\n    {name: &quot;Update&quot;, functionName: &quot;update&quot;},\n    {name: &quot;Select Task List&quot;, functionName: &quot;taskListUi&quot;}\n  ]; \n  ss.addMenu(&quot;Articles&quot;, menuEntries); \n}\n</code></pre>\n<p>We use the <a href=\"http://code.google.com/googleapps/appsscript/class_spreadsheet.html#addMenu\">addMenu</a>() method of the Spreadsheet class to create a new menu entry with an array of objects representing menu items. And the function name? onOpen() is one of a number of <a href=\"http://code.google.com/googleapps/appsscript/guide_events.html\">built-in simple event handler functions</a>; this one runs automatically when a spreadsheet is opened – an ideal time to extend the menu.</p>\n<p><strong>The complete script</strong></p>\n<p>So we’re done with the final part! Let’s celebrate with the script in its entirety. And a beer. Cheers!</p>\n<pre><code>// -------------------------------------------------------------------------\n// Constants\n// -------------------------------------------------------------------------\nAPIKEY = 'AIzaSyANY6ebMr2bi1Fzn-53kysp0y4LsbZA488';\nACTIVITYLISTURL = 'https://www.googleapis.com/plus/v1/people/{userId}/activities/{collection}';\nREADINGLISTCELL = 'C1';\nUSERIDCELL = 'D1'\nUSERID = '106413090159067280619'; // Mahemoff\n\n// -------------------------------------------------------------------------\n// update()\n// Pulls in article links into sheet and synchronises with task list\n// -------------------------------------------------------------------------\nfunction update() {\n  // First, check that we have a tasklist id already; it's stored in\n  // the comment section of the 'readinglistcell'\n  var sh = SpreadsheetApp.getActiveSpreadsheet().getActiveSheet();\n  var taskListId = sh.getRange(READINGLISTCELL).getComment();\n  // If we don't have an id, tell the user to choose a tasklist\n  if(taskListId === '') {\n    SpreadsheetApp.getActiveSpreadsheet().toast(\n      &quot;Use Articles -&gt; Select Task List to choose a task list&quot;,\n      &quot;No Task List&quot;, \n      5\n    );\n  // Otherwise, we know which task list to synchronise with, so\n  // go and update the reading list with URLs from the Google+ activity\n  // list, and then sync that with the task list items\n  } else {\n    retrieveActivityUrls_();\n    synchronise_(taskListId); \n  }\n}\n\n// -------------------------------------------------------------------------\n// taskListUi()\n// Displays a Ui to allow the user to select a tasklist to manage\n// the reading tasks. Can select an existing task list or create a new one\n// -------------------------------------------------------------------------\nfunction taskListUi() {\n  var doc = SpreadsheetApp.getActiveSpreadsheet();\n  var app = UiApp.createApplication();\n  app.setTitle('Task Lists');\n\n  // We'll have a grid and a button in this\n  // vertical panel\n  var panel = app.createVerticalPanel();\n\n  // Use a listbox to display a choice of existing tasklists\n  var lb = app.createListBox(false);\n  lb.setName('existingList');\n  var tasklists = getTasklists_();\n  for (var tl in tasklists) {\n    lb.addItem(tasklists[tl].getTitle());\n  }  \n\n  // Use the grid to layout the listbox, a textbox for a new list,\n  // and some corresponding labels\n  var grid = app.createGrid(2, 2);\n  grid.setWidget(0,0, app.createLabel(&quot;Existing:&quot;));\n  grid.setWidget(0,1, lb);\n  grid.setWidget(1,0, app.createLabel(&quot;Or new:&quot;));\n  grid.setWidget(1,1, app.createTextBox().setName('newList'));\n\n  // The only button; handler will be linked to this button click event\n  // Remember to add the grid contents to the callback context\n  var button = app.createButton(&quot;Choose&quot;);  \n  var chooseHandler = app.createServerClickHandler('handleChooseButton_');\n  chooseHandler.addCallbackElement(grid);\n  button.addClickHandler(chooseHandler);\n  \n  // Put it all together and show it\n  panel.add(app.createLabel(&quot;Select existing or create new list&quot;));\n  panel.add(grid);\n  panel.add(button);\n  app.add(panel);\n  doc.show(app);\n}  \n\n// -------------------------------------------------------------------------\n// handleChooseButton_(e)\n// Handler for 'Choose' button on taskListUi Ui; creates a new task list\n// if a new one has been specified; grabs the ID of the chosen task list\n// and stores the task list name and id in the TASKLISTCELL\n// -------------------------------------------------------------------------\nfunction handleChooseButton_(e) {\n  \n  // Assume an existing list was chosen\n  var selectedList = e.parameter.existingList;\n\n  // But check for a new list being specified; if it as, create\n  // a new task list\n  if(e.parameter.newList != '') {\n    selectedList = e.parameter.newList;\n    var newTaskList = Tasks.newTaskList().setTitle(selectedList);\n    Tasks.Tasklists.insert(newTaskList);\n  }\n\n  // Grab the list of tasklists, because we'll need the id\n  var taskLists = getTasklists_();\n  var taskListId = -1;\n  for(tl in taskLists){\n    if(taskLists[tl].getTitle() === selectedList) { \n      taskListId = taskLists[tl].getId();\n      break;\n    }\n  }\n\n  // Record the list name and id\n  var sh = SpreadsheetApp.getActiveSheet();\n  var cell = sh.getRange(READINGLISTCELL);\n  cell.setValue(selectedList);\n  cell.setComment(taskListId);\n\n  // Close the Ui popup and display the name of the chosen list\n  var app = UiApp.getActiveApplication();\n  app.close();\n  SpreadsheetApp.getActiveSpreadsheet().toast(selectedList, &quot;Selected List&quot;, 3);\n  return app;\n}\n\n// -------------------------------------------------------------------------\n// onOpen()\n// Event-based function called when the spreadsheet is opened; adds items\n// to the menu\n// -------------------------------------------------------------------------\nfunction onOpen() {\n  var ss = SpreadsheetApp.getActiveSpreadsheet();\n  var menuEntries = [ {name: &quot;Select Task List&quot;, functionName: &quot;taskListUi&quot;},\n                     {name: &quot;Update&quot;, functionName: &quot;update&quot;} ];\n  ss.addMenu(&quot;Articles&quot;, menuEntries);\n}\n\n// -------------------------------------------------------------------------\n// getTasklists()\n// Retrieve a list of the user's tasklists (uses the APIs Services)\n// Note that the Tasks Services docu is not accurate here; we would\n// expect to be able to use the TasklistsCollection class.\n// -------------------------------------------------------------------------\nfunction getTasklists_() {\n  var tasklistsList = Tasks.Tasklists.list();\n  return tasklistsList.getItems();\n}\n\n// -------------------------------------------------------------------------\n// retrieveActivityUrls_()\n// Use UrlFetch to retrieve a Google+ API resource: activities for a person\n// Use Javascript data structures; restrict the number of API calls\n// -------------------------------------------------------------------------\nfunction retrieveActivityUrls_() {\n\n  // Grab existing list of URLs\n  var sh = SpreadsheetApp.getActiveSheet();\n  var lastRow = sh.getLastRow();\n  var urlList = sh.getRange(2, 1, lastRow - 1) .getValues();\n  var list = {'old': {}, 'new': []};\n  for (var i in urlList){\n    list['old'][urlList[i]] = 1;\n  }\n\n  // Use the userid in the sheet, fallback to a favourite :)\n  var userid = sh.getRange(USERIDCELL).getValue() || USERID;\n\n  // Build Google+ API resource and retrieve it; parse JSON content\n  var actListUrl = buildActivityListUrl_(userid, 'public', APIKEY);\n  var jsonString = UrlFetchApp.fetch(actListUrl).getContentText()\n  var activities = Utilities.jsonParse(jsonString);\n\n  // We're looking for the item object attachments, where the \n  // attachment's objectType is 'article'. We want the url and displayName\n  for (var i in activities.items) {\n    var attachments = activities.items[i].object.attachments;\n    for (var a in attachments) {\n      var attachment = attachments[a];\n      // We've got a URL and title; store it as new if it doesn't \n      // already exist. Store it as list of lists, ready for \n      // a setValues([][]) insert\n      if (attachment.objectType == 'article') {\n        if (! (attachment.url in list['old'])) {\n          list['new'].push([attachment.url, attachment.displayName]);\n        }\n      }\n    }    \n  }\n\n  // Blammo!\n  if (list['new'].length) {\n    sh.getRange(lastRow + 1, 1, list['new'].length, 2).setValues(list['new']);\n  }\n\n}\n\n\n// -------------------------------------------------------------------------\n// synchronise(taskListId)\n// Synchronise the URLs in the spreadsheet with items in the chosen tasklist\n// The task list item id for a URL is stored in the comment for that URL cell\n// -------------------------------------------------------------------------\nfunction synchronise_(taskListId) {\n\n  // Grab list of all URLs, and associated comments\n  var sh = SpreadsheetApp.getActiveSheet();\n  var urlRange = sh.getRange(2, 1, sh.getLastRow() - 1, 1);\n  var urls = urlRange.getValues();\n  var comments = urlRange.getComments();\n  \n  // For each URL, check the status of the associated task.\n  // If there isn't an associated task, create one.\n  for (var i = 0, j = urls.length; i &lt; j; i++) {\n    if (comments[i] == &quot;&quot;) {\n      Logger.log(&quot;New task&quot;);\n      var task = Tasks.newTask(); \n      task.setTitle(urls[i]);\n      var newTask = Tasks.Tasks.insert(task, taskListId);\n      sh.getRange(i + 2, 1).setComment(newTask.getId());\n    } else {\n      Logger.log(&quot;Existing task&quot;);\n      var existingTask = Tasks.Tasks.get(taskListId, comments[i][0]);\n      if (existingTask.getStatus() === &quot;completed&quot;) {\n        sh.getRange(i + 2, 1, 1, 2).setFontLine('line-through');\n      }\n    }\n  }\n}\n\n// -------------------------------------------------------------------------\n// buildActivityListUrl_(userId, collection, apiKey)\n// Creates a specific resource address (URL) for the public activities\n// for a given person in Google+\n// See https://developers.google.com/+/api/latest/activities/list\n// This will be obsolete when there are direct Google+ Services for \n// Apps Script\n// -------------------------------------------------------------------------\nfunction buildActivityListUrl_(userId, collection, apiKey) {\n\n  var actListUrl = ACTIVITYLISTURL;\n  actListUrl = actListUrl.replace(/{userId}/, userId);\n  actListUrl = actListUrl.replace(/{collection}/, collection);\n  actListUrl = actListUrl + '?key=' + apiKey;\n\n  return actListUrl;\n}    \n</code></pre>\n",
      "date_published": "2011-10-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/15/10/reading-list-mark-2-part-4/",
      "url": "https://qmacro.org/blog/2011/15/10/reading-list-mark-2-part-4/",
      "title": "Reading List Mark 2 - Part 4",
      "content_html": "<p>This is Part 4 in a series about an example app that I put together to demonstrate and describe the use of various Google Apps Script features. See <a href=\"https://qmacro.org/2011/10/08/reading-list-mark-2-part-1/\">Part 1</a> for an introduction. This part is “<strong>Synchronising the URL list in the spreadsheet with corresponding tasks in the chosen tasklist</strong>“.</p>\n<p><strong>Parts Overview</strong></p>\n<ol>\n<li><a href=\"https://qmacro.org/2011/10/08/reading-list-mark-2-part-1/\">Introduction to the app, and a short screencast showing the features</a></li>\n<li><a href=\"https://qmacro.org/2011/10/10/reading-list-mark-2-part-2/\">Using the Tasks API to retrieve and insert tasklists, and the Ui Services to build the tasklist chooser component</a></li>\n<li><a href=\"https://qmacro.org/2011/10/14/reading-list-mark-2-part-3/\">Using the UrlFetch Services to interact with the Google+ API and grab info on articles pointed to by users in their activity stream</a></li>\n<li><a href=\"https://qmacro.org/2011/10/15/reading-list-mark-2-part-4/\">Synchronising the URL list in the spreadsheet with corresponding tasks in the chosen tasklist</a><strong>&lt;– You Are Here</strong></li>\n<li><a href=\"https://qmacro.org/2011/10/16/reading-list-mark-2-part-5/\">Putting it all together and using the OnOpen event to insert a new 2-item menu entry on the spreadsheet’s page</a></li>\n</ol>\n<p><strong>Putting this into context: the Update request</strong></p>\n<p>We’ve covered a lot of ground in the previous three parts in this series. Now we’re at the stage where we have the functions for</p>\n<ul>\n<li>creating a Ui for choosing an existing / creating a new tasklist</li>\n<li>handling the button event on the Ui</li>\n<li>getting a list of tasklists</li>\n<li>retrieving URLs from a Google+ activity stream</li>\n</ul>\n<p>So the one main piece of work outstanding is synchronising the retrieved URLs as tasks on the chosen tasklist.</p>\n<p>If you watch the <a href=\"http://www.youtube.com/watch?v=F08qS8ZmlZ0\">screencast</a> shown in <a href=\"https://qmacro.org/2011/10/08/reading-list-mark-2-part-1/\">Part 1</a> you’ll see that the synchronisation is part of a more general ‘update’ request, that includes the fetching of new URLs from Google+ and synchronising them with the tasklist. So let’s have a look at the function that binds those two things together.</p>\n<p>Here’s the update() function, which we’ll allow the user to call from a menu item (we’ll cover this in the next instalment).</p>\n<p>READINGLISTCELL = 'D1'; function update() { // First, check that we have a tasklist id already; it's stored in // the comment section of the 'readinglistcell' var sh = SpreadsheetApp.getActiveSpreadsheet().getActiveSheet(); var taskListId = sh.getRange(READINGLISTCELL).getComment(); // If we don't have an id, tell the user to choose a tasklist if(taskListId === '') { SpreadsheetApp.getActiveSpreadsheet().toast( &quot;Use Articles -&gt; Select Task List to choose a task list&quot;, &quot;No Task List&quot;, 5 ); // Otherwise, we know which task list to synchronise with, so // go and update the reading list with URLs from the Google+ activity // list, and then sync that with the task list items } else { retrieveActivityUrls_(); synchronise_(taskListId); } }</p>\n<p>This function grabs a reference to the active sheet, and pulls the comment from the cell that we’ve designated as where the reading list tasklist info is stored: READINGLISTCELL. The name is stored in the cell, and the ID is stored in the cell’s comment. If there isn’t an ID, then we’ll ask the user to choose a tasklist using the Ui we built in <a href=\"https://qmacro.org/2011/10/10/reading-list-mark-2-part-2/\">Part 2</a>. The <a href=\"http://code.google.com/googleapps/appsscript/class_browser.html\">Browser</a> class in Google Apps Script’s <a href=\"http://code.google.com/googleapps/appsscript/service_base.html\">Base Services</a> gives us a nice dialog box that looks like this:</p>\n<div class=\"wp-caption alignnone\" id=\"attachment_1198\" style=\"width: 316px\">![image](/blog/img/2011/10/notamessage1.png)Message Box\n</div>But there’s also a nice visual message feature that’s available in the [Spreadsheet Services](http://code.google.com/googleapps/appsscript/service_spreadsheet.html), specific to a spreadsheet: [toast()](http://code.google.com/googleapps/appsscript/class_spreadsheet.html#toast). Calling this causes a popup to appear in the lower right of the screen, which stays visible for a short while. This is what it looks like:\n<div class=\"wp-caption alignnone\" id=\"attachment_1177\" style=\"width: 269px\">![image](/blog/img/2011/10/notasklist.png)Toast message\n</div>Because the ‘toast’ name is so evocative, we’ll use it in our function to prompt the user to choose a tasklist.\n<p>If there’s already a tasklist chosen, then we go straight into retrieving the URLs (see <a href=\"https://qmacro.org/2011/10/14/reading-list-mark-2-part-3/\">Part 3</a>) and then call the synchronise_() function, passing the ID of the tasklist.</p>\n<p><strong>Synchronising URLs and Tasks</strong></p>\n<p>Ok, so what do we need to do to synchronise the URLs? It’s similar to the technique described in the great article “<a href=\"http://code.google.com/googleapps/appsscript/articles/google_apis_reading_list.html\">Integrating with Google APIs – Creating a simple reading list</a>“. There are a couple of differences: I’m not going to use the <a href=\"http://code.google.com/googleapps/appsscript/service_urlshortener.html\">UrlShortener Services</a>, and I’m going to try and reduce the number of API calls by bulk-grabbing the cell data.</p>\n<p>First, we get a range reference on the active sheet, which equates to the list of URLs already there. We get all of the URLs (urlRange.getValues()) and all of the corresponding comments (urlRange.getComments()).</p>\n<p>function synchronise_(taskListId) { // Grab list of all URLs, and associated comments var sh = SpreadsheetApp.getActiveSheet(); var urlRange = sh.getRange(2, 1, sh.getLastRow() - 1, 1); var urls = urlRange.getValues(); var comments = urlRange.getComments();</p>\n<p>We go through each of the URLs, and create a new task in the tasklist if there isn’t already something in the comment for that URL:</p>\n<ul>\n<li>instantiate a new task object: Tasks.newTask()</li>\n<li>add the title: task.setTitle()</li>\n<li>add the task to the tasklist: Tasks.Tasks.insert()</li>\n<li>insert the new task’s ID into the comment for the URL: setComment()</li>\n</ul>\n<p>Otherwise we’ve already created a task for the URL, so we grab the task to get the status, and if it’s marked as completed, we format the URL and corresponding description (in the next column) to set strike-through text.</p>\n<p>// For each URL, check the status of the associated task. // If there isn't an associated task, create one. for (var i = 0, j = urls.length; i &lt; j; i++) { if (comments[i] == &quot;&quot;) { Logger.log(&quot;New task&quot;); var task = Tasks.newTask(); task.setTitle(urls[i]); var newTask = Tasks.Tasks.insert(task, taskListId); sh.getRange(i + 2, 1).setComment(newTask.getId()); } else { Logger.log(&quot;Existing task&quot;); var existingTask = Tasks.Tasks.get(taskListId, comments[i][0]); if (existingTask.getStatus() === &quot;completed&quot;) { sh.getRange(i + 2, 1, 1, 2).setFontLine('line-through'); } } } }</p>\n<p>That’s it. Stop by next time for the last part in this series, where we put everything together and insert a 2-item menu entry to tie it all together. Thanks for reading!</p>\n<p></p>\n",
      "date_published": "2011-10-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/14/10/reading-list-mark-2-part-3/",
      "url": "https://qmacro.org/blog/2011/14/10/reading-list-mark-2-part-3/",
      "title": "Reading List Mark 2 - Part 3",
      "content_html": "<p>This is Part 3 in a series about an example app that I put together to demonstrate and describe the use of various Google Apps Script features. See <a href=\"https://qmacro.org/2011/10/08/reading-list-mark-2-part-1/\">Part 1</a> for an introduction. This part is “<strong>Using the UrlFetch Services to interact with the Google+ API (after all, it’s REST-based!) and grab info on articles pointed to by users in their activity stream</strong>“.</p>\n<p><strong>Parts Overview</strong></p>\n<ol>\n<li><a href=\"https://qmacro.org/2011/10/08/reading-list-mark-2-part-1/\">Introduction to the app, and a short screencast showing the features</a></li>\n<li><a href=\"https://qmacro.org/2011/10/10/reading-list-mark-2-part-2/\">Using the Tasks API to retrieve and insert tasklists, and the Ui Services to build the tasklist chooser component</a></li>\n<li><a href=\"https://qmacro.org/2011/10/14/reading-list-mark-2-part-3/\">Using the UrlFetch Services to interact with the Google+ API and grab info on articles pointed to by users in their activity stream</a> <strong>&lt;– You Are Here</strong></li>\n<li><a href=\"https://qmacro.org/2011/10/15/reading-list-mark-2-part-4/\">Synchronising the URL list in the spreadsheet with corresponding tasks in the chosen tasklist</a></li>\n<li><a href=\"https://qmacro.org/2011/10/16/reading-list-mark-2-part-5/\">Putting it all together and using the OnOpen event to insert a new 2-item menu entry on the spreadsheet’s page</a></li>\n</ol>\n<p><strong>UrlFetch Services</strong></p>\n<p>If you’ve ever used an HTTP client library in other contexts, you’ll be completely at home with the base classes available in the <a href=\"http://code.google.com/googleapps/appsscript/service_urlfetch.html\">UrlFetch Services</a>. Following the <a href=\"http://c2.com/xp/DoTheSimplestThingThatCouldPossiblyWork.html\">simplest thing that could possibly work</a> philosophy, all we need to do to fetch a resource and grab the payload is to use the UrlFetchApp class, specifically the fetch() method. It returns an <a href=\"http://code.google.com/googleapps/appsscript/class_httpresponse.html\">HTTPResponse</a> object, which has everything you need: content, headers and response code.</p>\n<p>Here’s an example of getting the signature from the server that serves this site:</p>\n<p>var response = UrlFetchApp.fetch('<a href=\"http://www.pipetree.com/\">http://www.pipetree.com/</a>'); Logger.log(response.getHeaders()['Server']);</p>\n<p>--&gt; Apache/2.2.14 (Ubuntu)</p>\n<p>The Google+ API largely follows a RESTful design, which means that we can use the UrlFetch Services to interact with it.</p>\n<p><strong>The Google+ API</strong></p>\n<p>The <a href=\"https://developers.google.com/+/api/\">Google+ API</a> is relatively new, and at the moment, read-only. This is fine for what we want to use it for in this example. There are two aspects of the API that are relevant for us:</p>\n<ul>\n<li>The REST-based nature means that we see the Google+ objects such as People, Activities and Comments as resources that we retrieve with HTTP</li>\n<li>To use the API we need either an OAuth 2.0 token or an API key</li>\n</ul>\n<p>The UrlFetch Services provides us with a facility in the form of the OAuthConfig class for configuring and managing OAuth in a client context. But we’ll go for the simpler approach and use an API key, which we can obtain by using the Google API Console – see the previous instalment of this series for more details about this: <a href=\"https://qmacro.org/2011/10/10/reading-list-mark-2-part-2/\">Using the Tasks API to retrieve and insert tasklists, and the Ui Services to build the tasklist chooser component</a>.</p>\n<p>The idea for this example app is to capture a list of URLs that a person on Google+ has posted, and perhaps commented on. We can get this info from the <a href=\"https://developers.google.com/+/api/latest/activities\">Activities</a> part of the API.</p>\n<p>To get the activity stream for a given person, we need to retrieve the following resource:</p>\n<p><a href=\"https://www.googleapis.com/plus/v1/people/%7BuserId%7D/activities/%7Bcollection%7D\">https://www.googleapis.com/plus/v1/people/{userId}/activities/{collection}</a></p>\n<p>The {userId} is the Google+ ID of the person, and {collection} in this case is “public”, the only collection available right now. In addition we need to specify our API key on a ‘key’ parameter in the query string. The default representation is JSON. This is what we get back as a result (heavily elided for brevity):</p>\n<p>{ &quot;kind&quot;: &quot;plus#activityFeed&quot;, &quot;title&quot;: &quot;Plus Public Activity Feed for Martin Hawksey&quot;, &quot;id&quot;: &quot;tag:google.com,2010:/plus/people/1146628[...]/activities/public&quot;, &quot;items&quot;: [ { &quot;kind&quot;: &quot;plus#activity&quot;, &quot;title&quot;: &quot;Latest post from me. Elevator pitch: [...]&quot;, &quot;id&quot;: &quot;z12cxlppixzwjbqzi04cdnvg1wbyflbz3r00k&quot;, &quot;url&quot;: &quot;<a href=\"https://plus.google.com/1146628%5B...%5D\">https://plus.google.com/1146628[...]</a>&quot;, &quot;verb&quot;: &quot;post&quot;, &quot;object&quot;: { &quot;objectType&quot;: &quot;note&quot;, &quot;content&quot;: &quot;Latest post from me. Elevator pitch: Service [...]&quot;, &quot;originalContent&quot;: &quot;&quot;, &quot;url&quot;: &quot;<a href=\"https://plus.google.com/1146628%5B...%5D\">https://plus.google.com/1146628[...]</a>&quot;, &quot;attachments&quot;: [ { &quot;objectType&quot;: &quot;article&quot;, &quot;displayName&quot;: &quot;SpreadEmbed: Turning a Google Spreadsheet [...]&quot;, &quot;url&quot;: &quot;<a href=\"http://mashe.hawksey.info/2011/10/spreadembed/\">http://mashe.hawksey.info/2011/10/spreadembed/</a>&quot; }, { &quot;objectType&quot;: &quot;photo&quot;, &quot;image&quot;: { &quot;url&quot;: &quot;<a href=\"http://images0-focus-opensocial.google/\">http://images0-focus-opensocial.google</a>[...]&quot;, &quot;type&quot;: &quot;image/jpeg&quot; }, &quot;fullImage&quot;: { &quot;url&quot;: &quot;<a href=\"http://mcdn.hawksey.info/content/images/%5B...%5D\">http://mcdn.hawksey.info/content/images/[...]</a>&quot;, &quot;type&quot;: &quot;image/jpeg&quot;, &quot;height&quot;: 204, &quot;width&quot;: 350 } [...]</p>\n<p>Even after heavy eliding for this blog post, that’s still an awful lot of JSON, but we’re only actually interested in the URLs that the person links to. We can spot these in the “plus#activity” items array, as attachments with objectType “article” – they have url and displayName attributes:</p>\n<p>{ &quot;items&quot;: [ { &quot;kind&quot;: &quot;plus#activity&quot;, &quot;object&quot;: { &quot;attachments&quot;: [ { &quot;objectType&quot;: &quot;article&quot;, &quot;displayName&quot;: &quot;SpreadEmbed: Turning a Google Spreadsheet [...]&quot;, &quot;url&quot;: &quot;<a href=\"http://mashe.hawksey.info/2011/10/spreadembed/\">http://mashe.hawksey.info/2011/10/spreadembed/</a>&quot; }, [...]</p>\n<p><strong>Partial Responses</strong></p>\n<p>And it just so happens that in the interests of efficiency, Google offers <a href=\"https://developers.google.com/+/api/#partial-response\">partial responses</a>, in the form of a fields parameter. So we can add this parameter to the query string, with an XPath-style value like this:</p>\n<p>fields=items/object/attachments(url,displayName)</p>\n<p><span style=\"font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; font-size: 13px; line-height: 19px; white-space: normal;\">So the resulting JSON representation is a lot lighter, like this:</span></p>\n<p>{ &quot;items&quot;: [ { &quot;object&quot;: { &quot;attachments&quot;: [ { &quot;displayName&quot;: &quot;SpreadEmbed: Turning a Google Spreadsheet[...]&quot;, &quot;url&quot;: &quot;<a href=\"http://mashe.hawksey.info/2011/10/spreadembed/\">http://mashe.hawksey.info/2011/10/spreadembed/</a>&quot; } ] } }, ] }</p>\n<p>Much better!</p>\n<p><strong>Retrieving the Activity Data</strong></p>\n<p>So now it’s time to have a look at the code that will retrieve the activity info and insert the URLs into the spreadsheet. We’ll do this in a single function retrieveActivityUrls_(), which will</p>\n<ul>\n<li>grab any existing URLs listed in the sheet, so we can work out whether each new one retrieved with the API call is already there or not</li>\n<li>Determine the ID of the person on Google+ we want to follow</li>\n<li>Build the name of the Google+ activity resource (the Google+ API URL), fetch it and parse the content</li>\n<li>Look through the parsed content and note any new URLs that the person has linked to on Google+</li>\n<li>Insert those new URLs into the sheet</li>\n</ul>\n<p>Let’s go!</p>\n<p>First, some constants.</p>\n<p>APIKEY = 'AIza[...]drBs'; // (get your own!) ACTIVITYLISTURL = '<a href=\"https://www.googleapis.com/plus/v1/people/%7BuserId%7D/activities/%7Bcollection%7D\">https://www.googleapis.com/plus/v1/people/{userId}/activities/{collection}</a>'; USERIDCELL = 'B1'; USERID = '106413090159067280619'; // Fallback: Mahemoff!</p>\n<p>Now for the function. We get a handle on the active sheet, note the last row (which denotes where the list of URLs currently ends), and gets those URLs. We’re assuming that the list starts at row 2, i.e. there’s a header line in row 1. The resulting urlList array is two dimensional, although as we’ve specified we only want 1 column width of values, the data will look something like this:</p>\n<p>[[<a href=\"http://cloud9ide.com/\">http://cloud9ide.com</a>], [<a href=\"http://jsconf.eu/\">http://jsconf.eu</a>], [...]]</p>\n<p>We create an object to hold the existing (‘old’) URLs, and the eventual ‘new’ URLs about to be retrieved. We’re using an object ‘old’ for the existing URLs so we can easily check whether a new one is in the list or not. We just need to use an array for the ‘new’ URLs.</p>\n<p>function retrieveActivityUrls_() { // Grab existing list of URLs var sh = SpreadsheetApp.getActiveSheet(); var lastRow = sh.getLastRow(); var urlList = sh.getRange(2, 1, lastRow - 1 || 1) .getValues(); var list = {'old': {}, 'new': []}; for (var i in urlList){ list['old'][urlList[i]] = 1; }</p>\n<p>We’re going to retrieve the activity for a Google+ person, and the person is identified by an ID either in a cell in the sheet identified by the range in constant USERIDCELL, (see the screencast in <a href=\"https://qmacro.org/2011/10/08/reading-list-mark-2-part-1/\">Part 1</a>) or a default specified in constant USERID.</p>\n<p>// Use the userid in the sheet, fallback to a favourite var userid = sh.getRange(USERIDCELL).getValue() || USERID;</p>\n<p>Now we have enough information to build the Google+ API resource URL, so we call a helper function buildActivityListUrl_() passing it the user ID, the collection (‘public’), and our API key. (We’ll look at buildActivityListUrl_() shortly.) We use the UrlFetchApp fetch() method to grab the resource, calling getContentText() to obtain the JSON content. And with a JSON parser available in the <a href=\"http://code.google.com/googleapps/appsscript/service_utilities.html\">Utilities Services</a>, we quickly have all we need to retrieve those URLs posted in the activity list in the ‘activities’ object.</p>\n<p>// Build Google+ API resource and retrieve it; parse JSON content var actListUrl = buildActivityListUrl_(userid, 'public', APIKEY); var jsonString = UrlFetchApp.fetch(actListUrl).getContentText(); var activities = Utilities.jsonParse(jsonString);</p>\n<p>From examining the JSON representation of the activities earlier in this post, we know we’ll be expecting items, and within each item an object member, and within that object member a number of attachments. We’re only interested in those attachments of type ‘article’, and if we find one, we want the url and the displayName.</p>\n<p>If we’ve got an article attachment, we then need to determine whether it’s a new URL or one we have already. That’s where the list object comes in. Unless we can find the URL in the ‘old’ object, it’s a new one so we need to add it to the ‘new’ list.</p>\n<p>// We're looking for the item object attachments, where the // attachment's objectType is 'article'. We want the url and displayName for (var i in activities.items) { var attachments = activities.items[i].object.attachments; for (var a in attachments) { var attachment = attachments[a]; // We've got a URL and title; store it as new if it doesn't // already exist. Store it as list of lists, ready for // a setValues([][]) insert if (attachment.objectType == 'article') { if (! (attachment.url in list['old'])) { list['new'].push([attachment.url, attachment.displayName]); } } } }</p>\n<p>At this stage, we’re ready to add any new URLs to the list in the sheet. Note that when we pushed onto the ‘new’ list, we pushed an array of the url and displayName. This is the ideal two dimensional array ([[a, b], [c, d], [...]) to specify as the value in the <a href=\"http://code.google.com/googleapps/appsscript/class_range.html#setValues\">setValues()</a> call on a two dimensional cell Range. And useful if we want to follow the sage advice in “<a href=\"http://code.google.com/googleapps/appsscript/guide_common_tasks.html\">Common Programming Tasks</a>” on using batch operations where possible: we can add all the new URL info to the sheet in a single getRange() and setValues() call pair:</p>\n<p>// Blammo! if (list['new'].length) { sh.getRange(lastRow + 1, 1, list['new'].length, 2).setValues(list['new']); } }</p>\n<p>Now that’s the retrieveActivityUrls_()  function out of the way, let’s just have a look at the helper function buildActivityListUrl_() that we called earlier. It takes three parameters: the ID of the person on Google+, the collection we want to retrieve (‘public’ in this case), and the API key. It uses a URL template in the ACTIVITYLISTURL constant and replaces the placeholders. It also adds the API key, and the XPath fields statement.</p>\n<p>function buildActivityListUrl_(userId, collection, apiKey) { var actListUrl = ACTIVITYLISTURL; actListUrl = actListUrl.replace(/{userId}/, userId); actListUrl = actListUrl.replace(/{collection}/, collection); actListUrl += '?key=' + apiKey; actListUrl += '&amp;fields=items/object/attachments(url,displayName)'; return actListUrl; }</p>\n<p>That brings us to the end of this part in the series. At this stage we have covered the tasklist determination using a user interface and pulled the URLs posted on a Google+ activity stream, storing them in the sheet.</p>\n<p>In the next part, we’ll look at synchronising the URLs in the sheet with tasks on the chosen tasklist.</p>\n<p>Stay tuned!</p>\n",
      "date_published": "2011-10-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/10/10/reading-list-mark-2-part-2/",
      "url": "https://qmacro.org/blog/2011/10/10/reading-list-mark-2-part-2/",
      "title": "Reading List Mark 2 - Part 2",
      "content_html": "<p>This is Part 2 in a series about an example app that I put together to demonstrate and describe the use of various Google Apps Script features. See <a href=\"https://qmacro.org/2011/10/08/reading-list-mark-2-part-1/\">Part 1</a> for an introduction. This part is “<strong>Using the Tasks API to retrieve and insert tasklists, and the Ui Services to build the tasklist chooser component</strong>“.</p>\n<p><strong>Parts Overview</strong></p>\n<ol>\n<li><a href=\"https://qmacro.org/2011/10/08/reading-list-mark-2-part-1/\">Introduction to the app, and a short screencast showing the features</a></li>\n<li><a href=\"https://qmacro.org/2011/10/10/reading-list-mark-2-part-2/\">Using the Tasks API to retrieve and insert tasklists, and the Ui Services to build the tasklist chooser component</a><strong>&lt;– You Are Here</strong></li>\n<li><a href=\"https://qmacro.org/2011/10/14/reading-list-mark-2-part-3/\">Using the UrlFetch Services to interact with the Google+ API and grab info on articles pointed to by users in their activity stream</a></li>\n<li><a href=\"https://qmacro.org/2011/10/15/reading-list-mark-2-part-4/\">Synchronising the URL list in the spreadsheet with corresponding tasks in the chosen tasklist</a></li>\n<li><a href=\"https://qmacro.org/2011/10/16/reading-list-mark-2-part-5/\">Putting it all together and using the OnOpen event to insert a new 2-item menu entry on the spreadsheet’s page</a></li>\n</ol>\n<p><strong>Tasks API</strong></p>\n<p>The availability of the Tasks API within the Google Apps Script context was <a href=\"http://googlecode.blogspot.com/2011/09/three-new-apis-for-google-apps-script.html\">announced recently on the Google Code blog</a>. Using the Google APIs Discovery Service makes it easier to build client libraries for the myriad APIs available; this is what Google have done to make the <a href=\"http://code.google.com/googleapps/appsscript/googleapisservices.html\">BigQuery, UrlShortener, Prediction and Tasks APIs</a> available for us in Google Apps Script. Collectively they’re known as Google APIs Services.</p>\n<p>Unlike the other services already available — such as those pertaining directly to the Google Apps platform like Spreadsheet, Gmail, DocsList and Calendar — you need to use the <a href=\"https://code.google.com/apis/console/?pli=1\">Google API Console</a> to turn on these new APIs within the context of a project, agree to the terms &amp; conditions, and note the courtesy call limits available to you.</p>\n<div class=\"wp-caption alignnone\" id=\"attachment_1092\" style=\"width: 606px\">![image](/blog/img/2011/10/TasksOn.png)Tasks API selected for use in the API Console\n</div>You can see here a shot of the Tasks API selected for use within a project I created in the Google API Console, and a courtesy limit of 5000 calls per day. Check out a previous blog post “[Automated Email-to-Task Mechanism with Google Apps Script](/2011/10/04/automated-email-to-task-mechanism-with-google-apps-script/)” for more background on this Tasks API and the Google article “[Integrating with Google APIs – Creating a simple reading list](http://code.google.com/googleapps/appsscript/articles/google_apis_reading_list.html)“ for a step-by-step account of enabling the API itself  (called Tasks Services in Google Apps Script).\n<p><strong>Working with Tasklists and Tasks</strong></p>\n<p>So, what do we need to do with the Tasks Services? As you can gather from watching the screencast in the Part 1, we need to retrieve a list of existing tasklists, we might need to create a new tasklist, and we need to be able to add tasks to a specific tasklist. We also need to build a Ui component to present the list of the user’s tasklists, so a tasklist can be chosen, plus an option to create a new tasklist.</p>\n<p><strong>Retrieving the Tasklists</strong></p>\n<p>Let’s start with retrieving a list of tasklists.  While this is pretty simple, we’ll encapsulate it in a function as we’ll be calling it a couple of times within this example.</p>\n<p>function getTasklists_() { var tasklistsList = Tasks.Tasklists.list(); return tasklistsList.getItems(); }</p>\n<p>We use the Tasklists member of the Tasks class which gives us a TasklistsCollection class. We call call the list() method to retrieve a <a href=\"http://code.google.com/googleapps/appsscript/class_tasks_v1_schema_tasklists.html\">Tasklists</a> object – which represents a list of all the authenticated user’s tasklists. Calling getItems() on this object gives us an array of Tasklist objects – which is the list of tasklists that we need.</p>\n<p><strong>Building the Ui</strong></p>\n<p>We’ll need the list of tasklists to show in the Ui component. So let’s look at building that Ui component next. Building user interfaces in Google Apps Script can appear somewhat daunting at first glance, but don’t worry – it’s actually very straightforward. You have the choice between building the Ui in code (by using <a href=\"http://code.google.com/googleapps/appsscript/service_ui.html\">Ui Services</a> calls) or using a visual editor much like you might in other IDEs. This latter approach was <a href=\"http://googleappsdeveloper.blogspot.com/2011/06/building-ui-in-apps-script-just-got.html\">announced and described in detail on the Google Apps Developer blog</a>, following this year’s Google I/O.</p>\n<p>We’ll build our Ui in code. If you need an intro to this, have a look at the Google Apps Script “<a href=\"http://code.google.com/googleapps/appsscript/guide_user_interfaces.html\">Building a User Interface</a>” documentation.</p>\n<p>We want to be able to display to the user a list of their existing tasklists so they can choose one, and also give them a chance to enter the name of a new tasklist instead. So we need a dropdown list (otherwise known as a listbox), a textbox, some text labels, and a button. This is what the end result should look like:</p>\n<div class=\"wp-caption alignnone\" id=\"attachment_1101\" style=\"width: 269px\">![image](/blog/img/2011/10/tasklists.png)Task Lists Ui\n</div>It’s showing the Ui title (“Task Lists”), some labels, a dropdown list with the two existing tasklists that the authenticated user has already, an empty textbox (behind the dropdown) where a new tasklist name can be entered and a button to which we can attach an event handler.\n<p>Layout is achieved using Panels and Grids, both containers for elements. Here, we’ll use a <a href=\"http://code.google.com/googleapps/appsscript/class_verticalpanel.html\">VerticalPanel</a>, where the elements are arranged vertically, and a <a href=\"http://code.google.com/googleapps/appsscript/class_grid.html\">Grid</a>, where we can arrange elements in a 2-dimensional way.</p>\n<p>Schematically, this is what we’re going to do:</p>\n<div class=\"wp-caption alignnone\" id=\"attachment_1104\" style=\"width: 310px\">![image](/blog/img/2011/10/TaskListsUiLayoutSchematic1.png)Task Lists Ui Layout Schematic\n</div>So, let’s look at the code that builds this Ui. We start by getting a handle on the active spreadsheet (doc), and creating a new Ui application (app), giving it a title. At the end of this function we’ll be passing the Ui application to the active spreadsheet to show.\n<p>function taskListUi() { var doc = SpreadsheetApp.getActiveSpreadsheet(); var app = UiApp.createApplication(); app.setTitle('Task Lists');</p>\n<p>Next, we create a vertical panel (panel), and a listbox (lb), both of which exist independently. We set a name for the listbox (‘existingList’) so we can refer to it later in the callback context. After using the getTasklists_() function described earlier, we fill the listbox with those tasklist names (or ‘titles’) retrieved.</p>\n<p>// We'll have a grid and a button in this // vertical panel var panel = app.createVerticalPanel(); // Use a listbox to display a choice of existing tasklists var lb = app.createListBox(false); lb.setName(&quot;existingList&quot;); var tasklists = getTasklists_(); for (var tl in tasklists) { lb.addItem(tasklists[tl].getTitle()); }</p>\n<p>Once we’ve got the listbox populated, it’s time to create the grid (a 2 x 2 layout) and fill the cells with labels, the listbox, and a textbox. We give a name to the textbox (‘newList’) so we can refer to it later in the callback context, in the same way as for the listbox.</p>\n<p>// Use the grid to layout the listbox, a textbox for a new list, // and some corresponding labels var grid = app.createGrid(2, 2); grid.setWidget(0,0, app.createLabel(&quot;Existing:&quot;)); grid.setWidget(0,1, lb); grid.setWidget(1,0, app.createLabel(&quot;Or new:&quot;)); grid.setWidget(1,1, app.createTextBox().setName(&quot;newList&quot;));</p>\n<p>Finally we have the button element. Simple enough, but we also need to add a click handler to it in the form of a <a href=\"http://code.google.com/googleapps/appsscript/class_serverclickhandler.html\">serverClickHandler</a>. This handler exists as a function in this same script: handleChooseButton_() which is defined after this. The important thing to notice here is that we create an independent serverClickHandler, give it some element context (in this case the grid element we created earlier) so that the element values are available in the context of the handling function, and then assign that handler as a click handler to the button element.</p>\n<p>// The only button; handler will be linked to this button click event // Remember to add the grid contents to the callback context var button = app.createButton(&quot;Choose&quot;); var chooseHandler = app.createServerClickHandler(&quot;handleChooseButton_&quot;); chooseHandler.addCallbackElement(grid); button.addClickHandler(chooseHandler);</p>\n<p>Once we’ve created the button element and sorted out how the click event will be handled, it’s time to put the Ui together. We add the elements one by one to the vertical panel: a label, the 2 x 2 grid, then the button. Then we add the actual panel to the app, hand it over to the active spreadsheet to be displayed, and let go!</p>\n<p>// Put it all together and show it panel.add(app.createLabel(&quot;Select existing or create new list&quot;)); panel.add(grid); panel.add(button); app.add(panel); doc.show(app); }</p>\n<p><strong>Handling the Button Click</strong></p>\n<p>The handling of the click is performed by handleChooseButton_(), as determined by the call to <a href=\"http://code.google.com/googleapps/appsscript/class_uiinstance.html#createServerClickHandler\">createServerClickHandler()</a> earlier. Let’s examine handleChooseButton_() step by step.</p>\n<p>We start by assuming that the user has chosen an existing tasklist – we get the value from the listbox via its name within the parameter attribute of the event object passed to the function, i.e. e.parameter.existingList. Then again, if we’ve got a value in the textbox representing the option to create a new tasklist, we create a new tasklist using the Tasks.newTaskList() method of the Tasks Services, and give that new tasklist the title that was specified in the textbox.</p>\n<p>Note that setTitle() was called directly in a ‘chain’ from newTaskList(), and the result assigned to the newTaskList variable. This is possible due to the way the Tasks API has been designed, with most TaskList methods returning the TaskList object itself; this is known as the ‘bean’ object.</p>\n<p>function handleChooseButton_(e) { // Assume an existing list was chosen var selectedList = e.parameter.existingList; // But check for a new list being specified; if it as, create // a new task list if(e.parameter.newList != '') { selectedList = e.parameter.newList; var newTaskList = Tasks.newTaskList().setTitle(selectedList); Tasks.Tasklists.insert(newTaskList); }</p>\n<p>Now we’ve determined the chosen tasklist (either an existing one or a newly created one) we grab the complete list with getTasklists_() and have a look through them to find the corresponding tasklist id, which we’ll need when we want to insert new tasks into that tasklist.</p>\n<p>// Grab the list of tasklists, because we'll need the id var taskLists = getTasklists_(); var taskListId = -1; for(tl in taskLists){ if(taskLists[tl].getTitle() === selectedList) { taskListId = taskLists[tl].getId(); break; } }</p>\n<p>Ok, we’ve determined and retrieved the id for the chosen tasklist, so now it’s time to save that info. We’ll do that by writing both the tasklist name and id into a cell; the tasklist name into the cell itself, and the id into the cell’s comment. This is a common idiom and is quite useful – you can store related information in a single cell, and don’t use up too much cell ‘real estate’. The cell we’re going to use is stored as a constant: READINGLISTCELL; in my spreadsheet that’s cell D1.</p>\n<p>// Record the list name and id var sh = SpreadsheetApp.getActiveSheet(); var cell = sh.getRange(READINGLISTCELL); cell.setValue(selectedList); cell.setComment(taskListId);</p>\n<p>Once we’ve stored the information, it’s time for the handler to make sure the Ui is closed, and to acknowledge to the user that a selected list has been recognised. We do this by closing the active Ui application, and using the Spreadsheet’s generic ‘<a href=\"http://code.google.com/googleapps/appsscript/class_spreadsheet.html#toast\">toast</a>‘ mechanism to pop up a message.</p>\n<p>// Close the Ui popup and display the name of the chosen list var app = UiApp.getActiveApplication(); app.close(); SpreadsheetApp.getActiveSpreadsheet().toast(selectedList, &quot;Selected List&quot;, 3); return app; }</p>\n<p>Hurray – that’s the Ui component and the handler all taken care of!</p>\n<p>Tune in next time when in Part 3 we look at retrieving information from the Google+ activity stream via the Google+ API, using nothing more than our trusty Google Apps Script HTTP client, <a href=\"http://code.google.com/googleapps/appsscript/class_urlfetchapp.html\">UrlFetchApp</a>.</p>\n",
      "date_published": "2011-10-10T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/8/10/reading-list-mark-2-part-1/",
      "url": "https://qmacro.org/blog/2011/8/10/reading-list-mark-2-part-1/",
      "title": "Reading List Mark 2 - Part 1",
      "content_html": "<p>Over on the Google Apps Scripts articles section of the Google Code site there’s a great article “<a href=\"http://code.google.com/googleapps/appsscript/articles/google_apis_reading_list.html\">Integrating with Google APIs – Creating a simple reading list</a>” which takes the reader through a nice example of using a couple of APIs that have recently been made available to Google Apps Script via the <a href=\"http://code.google.com/googleapps/appsscript/googleapisservices.html\">Google APIs Services</a> – the UrlShortener API and the Tasks API. Inspired by the article, I decided to take the idea a little bit further and build something I could demo and then explain at our <a href=\"http://madlab.org.uk/content/manchester-google-technology-user-group-13/\">Manchester GTUG meetup</a>.</p>\n<p>I used the same idea of a reading list, but added a Ui component to allow the user to select a task list interactively, and instead of using the UrlShortener API, I explored the relatively young <a href=\"https://developers.google.com/+/api/\">Google+ API</a>, in that I pulled in articles to read automatically from URLs posted by people on Google+.</p>\n<p>Also, in revisiting some of the original reading list features, I tried to approach the coding differently, to be mindful of the advice in the “Optimising Scripts for Better Performance” section of the “<a href=\"http://code.google.com/googleapps/appsscript/guide_common_tasks.html\">Common Programming Tasks</a>” guidelines.</p>\n<p>Here’s a short screencast that shows the ‘Reading List Mark 2′ in action:</p>\n<p><iframe allowfullscreen=\"\" frameborder=\"0\" height=\"315\" src=\"http://www.youtube.com/embed/F08qS8ZmlZ0\" width=\"420\"></iframe></p>\n<p>I’ll describe how everything is put together over the next few blog posts:</p>\n<ol>\n<li>This introduction</li>\n<li><a href=\"https://qmacro.org/2011/10/10/reading-list-mark-2-part-2/\">Using the Tasks API to retrieve and insert tasklists, and the Ui Services to build the tasklist chooser component</a></li>\n<li><a href=\"https://qmacro.org/2011/10/14/reading-list-mark-2-part-3/\">Using the UrlFetch Setvices to interact with the Google+ API and grab info on articles pointed to by users in their activity stream</a></li>\n<li><a href=\"https://qmacro.org/2011/10/15/reading-list-mark-2-part-4/\">Synchronising the URL list in the spreadsheet with corresponding tasks in the chosen tasklist</a></li>\n<li><a href=\"https://qmacro.org/2011/10/16/reading-list-mark-2-part-5/\">Putting it all together and using the OnOpen event to insert a new 2-item menu entry on the spreadsheet’s page</a></li>\n</ol>\n<p>Stay tuned!</p>\n",
      "date_published": "2011-10-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/4/10/automated-email-to-task-mechanism-with-google-apps-script/",
      "url": "https://qmacro.org/blog/2011/4/10/automated-email-to-task-mechanism-with-google-apps-script/",
      "title": "Automated email-to-task mechanism with Google Apps Script",
      "content_html": "<p><a href=\"http://madlab.org.uk/content/manchester-google-technology-user-group-13/\">Last night at the Manchester Google Technology User Group (GTUG) meetup</a> we looked in detail at an <a href=\"https://plus.google.com/110526626182299357893/posts/CetQyVtLKy8\">example script</a> that used various Google Apps Script services. More on that another time.</p>\n<p>At the end of the meetup, I suggested an example of something that would be really easy to put together using Google Apps Script, and very useful: a mechanism to convert incoming emails automatically into tasks.</p>\n<p>You can of course convert an email into a task <em>manually</em> using the Gmail UI like this:<br />\n<img src=\"https://qmacro.org/blog/img/2017/05/AddToTasks1.jpg\" alt=\"Manually adding a task from an email\" /></p>\n<p>But rather than have to open Gmail, find the task email, select it and then choose More Actions -&gt; Add to Tasks, I wanted a hands-off facility where I could, say from my work email, fire off a quick one-liner task that would be added to my list of tasks automatically, silently and without fuss.</p>\n<p>With effective use of Gmail’s filter facility, labels and a little bit of Apps Script using the Gmail Services, I was able to create a mechanism in the time it took to enjoy my morning coffee.</p>\n<p></p>\n<p><strong>Building the Automated Email-to-Task Mechanism</strong></p>\n<p>Here’s how I saw it working:</p>\n<ol>\n<li>create a couple of new labels: ‘newtask’ and ‘newtaskdone’</li>\n<li>specify a Gmail filter to assign the label ‘newtask’ to emails coming from my work email address, and with the recipient being ‘qmacro+task@gmail.com’</li>\n<li>write a script to process messages in threads assigned to the ‘newtask’ label by parsing the subject out, creating a new task, and inserting that task into my tasklist</li>\n<li>schedule this script to run hourly</li>\n</ol>\n<p>Then I could fire off an email to <a href=\"mailto:qmacro+task@gmail.com\">qmacro+task@gmail.com</a> from work, with the task 1-liner in the Subject, and have that task automatically show up on my task list. Ideal!</p>\n<p></p>\n<p><strong>The Filter</strong></p>\n<p>Once you have the labels, create the filter. This is what the action part of my filter looks like:</p>\n<p><img src=\"https://qmacro.org/blog/img/2017/05/CreateAFilter.jpg\" alt=\"Specifying the filter actions\" /></p>\n<p>I’m specifying that the email be assigned to the label ‘newtask’, that it should marked as read immediately, and not appear in the inbox. That way, I don’t get distracted by the noise of task emails in my inbox. If you’re wondering about the ‘newtaskdone’ label, we’ll get to that in a minute.</p>\n<p></p>\n<p><strong>The Script Context</strong></p>\n<p>Now we’re all set up – we can write the script to process the relevant emails, i.e. all those assigned the label ‘newtask’.</p>\n<p>Start by creating a new Spreadsheet  – the script can live attached to that. Add the text ‘Processed tasks’ to cell A1. We’ll use this to show how many tasks the script has processed. Use the menu option Tools -&gt; Script editor to get to the Google Apps Script editor.</p>\n<p><img src=\"https://qmacro.org/blog/img/2017/05/MailManagementSheet.jpg\" alt=\"Mail Management sheet\" /></p>\n<p>You can call your project ‘Mail Management’, or whatever you want:</p>\n<p><img src=\"https://qmacro.org/blog/img/2017/05/MailManagementScript-1.jpg\" alt=\"Mail Management script\" /></p>\n<p><strong>The Script Code</strong></p>\n<p>Ok, let’s run through the script step by step.</p>\n<p>We start with a few constants: the name of the tasklist into which we want our new tasks inserted, and the two labels.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token constant\">TASKLIST</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"DJ's list\"</span><span class=\"token punctuation\">;</span><br /><span class=\"token constant\">LABEL_PENDING</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"newtask\"</span><span class=\"token punctuation\">;</span><br /><span class=\"token constant\">LABEL_DONE</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"newtaskdone\"</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Next we have a helper function <code>getTasklistId_</code> which uses the Tasks Services from the new <a href=\"http://code.google.com/googleapps/appsscript/googleapisservices.html\">Google APIs Services</a> in Apps Script. You’ll need to explicitly state you want to use the Google APIs Services from the File menu, which will lead you to a popup where you can switch on the Tasks API and use the <a href=\"http://code.google.com/apis/console-help/\">Google API Console</a> to create a project and generate an API key which you’ll need. All of this is described in ample detail in a great article “<a href=\"http://code.google.com/googleapps/appsscript/articles/google_apis_reading_list.html\">Integrating with Google APIs – Creating a simple reading list</a>“.</p>\n<p>This <code>getTasklistId_</code> function returns a tasklist ID for a given tasklist name — in this case we’ll be asking for the ID of the tasklist called “DJ’s list”. It’s early days for the Tasks API and there are a few oddities: In theory we should be able to use the simple API call :</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">Tasks<span class=\"token punctuation\">.</span>Tasklists<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>tasklistName<span class=\"token punctuation\">)</span></code></pre>\n<p>but this is currently resulting in an error. So instead we’ll grab a list of all the tasklists, and iterate over them looking for our tasklist name. I’ve suffixed the name of this function, and others in this script, with an underscore; this prevents them from showing up in the dropdown list of runnable functions at the top of the editor.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getTasklistId_</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tasklistName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">var</span> tasklistsList <span class=\"token operator\">=</span> Tasks<span class=\"token punctuation\">.</span>Tasklists<span class=\"token punctuation\">.</span><span class=\"token function\">list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  <span class=\"token keyword\">var</span> taskLists <span class=\"token operator\">=</span> tasklistsList<span class=\"token punctuation\">.</span><span class=\"token function\">getItems</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>tl <span class=\"token keyword\">in</span> taskLists<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">var</span> title <span class=\"token operator\">=</span> taskLists<span class=\"token punctuation\">[</span>tl<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTitle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>title <span class=\"token operator\">==</span> tasklistName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />      <span class=\"token keyword\">return</span> taskLists<span class=\"token punctuation\">[</span>tl<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />    <span class=\"token punctuation\">}</span><br />  <span class=\"token punctuation\">}</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>Next we have another helper function <code>addTask_</code> which will create a new task, given a string, and add that new task to a tasklist, given a tasklist ID. Note the separation of concerns – a task is created independently of a tasklist, then inserted into that tasklist.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">addTask_</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">title<span class=\"token punctuation\">,</span> tasklistId</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">var</span> newTask <span class=\"token operator\">=</span> Tasks<span class=\"token punctuation\">.</span><span class=\"token function\">newTask</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  Tasks<span class=\"token punctuation\">.</span>Tasks<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>newTask<span class=\"token punctuation\">,</span> <span class=\"token function\">getTasklistId_</span><span class=\"token punctuation\">(</span>tasklistId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>We then come to the definition of <code>processPending_</code>, which does the bulk of the mechanism’s work. This function gets a handle on each of the two labels we mentioned earlier (labels in the <a href=\"http://code.google.com/googleapps/appsscript/service_gmail.html\">Gmail Services</a> are one of three main classes, along with threads and messages). The idea is that we will process ‘pending’ emails assigned to the ‘newtask’ label, and then switch the thread to the ‘newtaskdone’ label so it won’t get processed a second time. With a call to the getThreads() method of the pending label object, we get a list of threads. We’re assuming that there’s only one email in each thread (task emails are separate and different each time), and so we grab the subject from the first message in each thread to use as the 1-liner task title, and use the addTask_ helper function to insert a new task into the tasklist.</p>\n<p>Once this is done we remove the ‘newtask’ label and assign the ‘newtaskdone’ label to the thread.</p>\n<p>Finally, we increment the ‘Processed tasks’ counter in the sheet, for a quick indication of how many email-to-task conversions have taken place.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">processPending_</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">sheet</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br /><br />  <span class=\"token keyword\">var</span> label_pending <span class=\"token operator\">=</span> GmailApp<span class=\"token punctuation\">.</span><span class=\"token function\">getUserLabelByName</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LABEL_PENDING</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  <span class=\"token keyword\">var</span> label_done <span class=\"token operator\">=</span> GmailApp<span class=\"token punctuation\">.</span><span class=\"token function\">getUserLabelByName</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LABEL_DONE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br />  <span class=\"token comment\">// The threads currently assigned to the 'pending' label</span><br />  <span class=\"token keyword\">var</span> threads <span class=\"token operator\">=</span> label_pending<span class=\"token punctuation\">.</span><span class=\"token function\">getThreads</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br />  <span class=\"token comment\">// Process each one in turn, assuming there's only a single</span><br />  <span class=\"token comment\">// message in each thread</span><br />  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> t <span class=\"token keyword\">in</span> threads<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />    <span class=\"token keyword\">var</span> thread <span class=\"token operator\">=</span> threads<span class=\"token punctuation\">[</span>t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br /><br />    <span class=\"token comment\">// Grab the task data</span><br />    <span class=\"token keyword\">var</span> taskTitle <span class=\"token operator\">=</span> thread<span class=\"token punctuation\">.</span><span class=\"token function\">getFirstMessageSubject</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br />    <span class=\"token comment\">// Insert the task</span><br />    <span class=\"token function\">addTask_</span><span class=\"token punctuation\">(</span>taskTitle<span class=\"token punctuation\">,</span> <span class=\"token constant\">TASKLIST</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br />    <span class=\"token comment\">// Set to 'done' by exchanging labels</span><br />    thread<span class=\"token punctuation\">.</span><span class=\"token function\">removeLabel</span><span class=\"token punctuation\">(</span>label_pending<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />    thread<span class=\"token punctuation\">.</span><span class=\"token function\">addLabel</span><span class=\"token punctuation\">(</span>label_done<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  <span class=\"token punctuation\">}</span><br /><br />  <span class=\"token comment\">// Increment the processed tasks count</span><br />  <span class=\"token keyword\">var</span> processedRange <span class=\"token operator\">=</span> sheet<span class=\"token punctuation\">.</span><span class=\"token function\">getRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"B1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  processedRange<span class=\"token punctuation\">.</span><span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span>processedRange<span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> threads<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>This last function, <code>main_taskconverter</code>, is more a matter of personal style rather than necessity – it’s the main function that we will start the whole mechanism off with, and the function that we’ll specify in the trigger so this script will run on a regular basis. We get a reference to the active spreadsheet, set the first sheet to be the active one (it usually is anyway) and call the <code>processPending_</code> function.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">main_taskconverter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br /><br />  <span class=\"token comment\">// Get the active spreadsheet and make sure the first</span><br />  <span class=\"token comment\">// sheet is the active one</span><br />  <span class=\"token keyword\">var</span> ss <span class=\"token operator\">=</span> SpreadsheetApp<span class=\"token punctuation\">.</span><span class=\"token function\">getActiveSpreadsheet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br />  <span class=\"token keyword\">var</span> sh <span class=\"token operator\">=</span> ss<span class=\"token punctuation\">.</span><span class=\"token function\">setActiveSheet</span><span class=\"token punctuation\">(</span>ss<span class=\"token punctuation\">.</span><span class=\"token function\">getSheets</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><br />  <span class=\"token comment\">// Process the pending task emails</span><br />  <span class=\"token function\">processPending_</span><span class=\"token punctuation\">(</span>sh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span></code></pre>\n<p>And that’s all there is to it!</p>\n<p></p>\n<p><strong>Scheduling Regular Execution</strong></p>\n<p>We want this mechanism to run regularly in the background, so that it converts all incoming task emails to tasks without our intervention. So we’ll use a trigger – we can set up a <a href=\"http://code.google.com/googleapps/appsscript/guide_events.html\">time-driven event trigger</a> so that the script – via the main_taskconverter function, runs every hour.</p>\n<p><img src=\"https://qmacro.org/blog/img/2017/05/CurrentProjectsTriggers.jpg\" alt=\"Current Project's Triggers\" /></p>\n<p>With a coffee (and biscuit) down, I now have a very slick way of remembering things I have to do. Nice!</p>\n<p>Here’s the script in its entirety, with comments.</p>\n<script src=\"https://gist.github.com/qmacro/821cdbd498fe772447165ad95a4cc470.js\"></script>\n",
      "date_published": "2011-10-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/19/9/ad-hoc-data-workflows-with-google-apps-script/",
      "url": "https://qmacro.org/blog/2011/19/9/ad-hoc-data-workflows-with-google-apps-script/",
      "title": "Ad-hoc Data Workflows with Google Apps Script",
      "content_html": "<p>At <a href=\"http://madlab.org.uk/content/manchester-google-technology-user-group-12/\">tonight’s Manchester Google Technology User Group’s meetup</a> at Madlab, I gave a talk on building ad-hoc data workflows with <a href=\"http://code.google.com/googleapps/appsscript/\">Google Apps Script</a>.</p>\n<p>The Google Apps application set, combined with the universally accessible and always-on nature of Google Apps Script, with its access to a ridiculously large set of useful APIs (in the form of <a href=\"http://code.google.com/googleapps/appsscript/guide.html\">Services</a>), makes an ideal platform for rich collaborative data workflow solutions that can be quickly prototyped, and built into robust, reliable and incredibly useful mashups for you and your users.</p>\n<p>I’ve become a big fan of the technology, the platform and the approach, and Google are introducing more features all the time – just this week access to <a href=\"http://code.google.com/googleapps/appsscript/googleapisservices.html\">API services</a> have been introduced, starting with BigQuery, Prediction, UrlShortener and Tasks APIs.</p>\n<iframe frameborder=\"0\" height=\"342\" src=\"https://docs.google.com/present/embed?id=dcjt66v8_412dhv638d6\" width=\"410\"></iframe>\n",
      "date_published": "2011-09-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/20/7/stand-steady-on-the-shoulders-of-giants/",
      "url": "https://qmacro.org/blog/2011/20/7/stand-steady-on-the-shoulders-of-giants/",
      "title": "Stand steady on the shoulders of giants",
      "content_html": "<p><strong>Or: <em>Why you should attend my 2-day <a href=\"http://omniversity.madlab.org.uk/\">Omniversity</a> course “<a href=\"http://s.madlab.org.uk/sap1\">Web Programming with the SAP Internet Communication Framework</a>“</em></strong></p>\n<p>Last week I had the opportunity to attend an SAP Mentor Webinar on <a href=\"http://www.sdn.sap.com/irj/sdn/gateway\">SAP Netweaver Gateway</a>, entitled “Gateway Consumption”. Gateway is something I have a good deal of interest in, and have <a href=\"http://www.bluefinsolutions.com/insights/guest_blog/project_gateway_a_call_to_arms_or_at_least_to_data/\">written about it in the past</a>. The webinar was a fascinating hour filled with information about how consumption of data and services in your backend SAP systems will be facilitated with SAP’s new Gateway product; the webinar included discussion of code generation for <a href=\"http://developer.apple.com/technologies/tools/\">Xcode</a>, libraries for BlackBerry apps, and of course Android. Not to mention web-native apps. And don’t forget – <a href=\"http://twitter.com/#!/qmacro/status/91174743809593344\">SAP Gateway is not just for mobile!</a> :-)</p>\n<p>The whole Gateway consumption experience is fronted at the sharp (HTTP) end with well-known standards <a href=\"http://en.wikipedia.org/wiki/Atom_(standard)\">Atom &amp; the Atom Publishing Protocol (APP)</a>, and the <a href=\"http://www.odata.org/\">Open Data Protocol (oData)</a>. Whether they’re also well-loved I’ll leave for you to decide. Payloads are in XML or JSON (although again, some would say it’s the ugliest and un-JSON-like JSON they’ve ever seen, but that’s another story). The Gateway system itself is an ABAP-stack SAP system, running the Internet Communication Manager, wrapped of course with our beloved <a href=\"http://help.sap.com/saphelp_nw70ehp1/Helpdata/EN/36/020d3a0154b909e10000000a114084/frameset.htm\">Internet Communication Framework</a>.</p>\n<p>And there’s the thing.</p>\n<p>While slowly but surely the promise of* lightweight over heavyweight*, <em>simplicity over complexity</em>, and <em>open over proprietary protocols</em> continues to be delivered, you’ve got to admit that’s a heck of a lot of layers of stuff that’s already building up! Your application, on top of generated libraries, on top of oData, on top of APP, on top of HTTP, on top of ICF, in an SAP system. Gosh!</p>\n<p>So what does the desperate enterprise hacker have to do? Walk strong! Learn to walk properly and steadily, before you can run. Stand firm upon this stack of technologies, and understand the fundamentals of the ICF, the core HTTP mechanisms that underpins everything.</p>\n<p>Not only that, but sometimes, oData is too much! Sometimes, you just want a controlled but ad-hoc exposure of SAP functionality through a simple HTTP interface that you can connect to and interact with using <a href=\"http://curl.haxx.se/\">curl</a>! In a Unix style command pipeline! Is that heresy? I don’t care, I do it often! With text/plain! Yes! Sometimes you want to use the power of the ABAP development and debugging environment, the data dictionary and abstracted storage layer, and just whip up a data collection service in a coffee break, instead of trying to shoehorn records into a silly Access database using a batch script.</p>\n<p>So.</p>\n<p>If you want to understand the solid platform that Gateway and many other technologies are built upon, if you want to use that platform to build your own ‘native’ HTTP based applications, if you want to differentiate yourself from the rest of the SAP developers who are rushing headlong into Gateway and HTTP, or if you just want to be able to <strong>stand steady on the shoulders of giants</strong> and confidently debug the core layers when things don’t go to plan, then get to know the ICF. More specifically, get to know it on <a href=\"http://s.madlab.org.uk/sap1\">my course</a>! It’ll be fun, too!</p>\n<p><strong>GET /course/info HTTP/1.1 Accept: text/plain Host: <a href=\"http://omniversity.madlab.org.uk/\">omniversity.madlab.org.uk</a></strong></p>\n<p><strong>200 OK Content-Type: text/plain Title: <a href=\"http://s.madlab.org.uk/sap1\">Web Programming with the SAP Internet Communication Framework </a>When: Mon 5th and Tue 6th September Cost: £300 Where: <a href=\"http://maps.google.co.uk/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=36-40+Edge+St,+Manchester,+M4+1HN&amp;sll=53.484215,-2.236311&amp;sspn=0.000833,0.001617&amp;g=m4+1hn&amp;ie=UTF8&amp;hq=&amp;hnear=36-38+Edge+St,+Manchester,+Lancashire+M4+1HN,+United+Kingdom&amp;ll=53.484118,-2.236311&amp;spn=0.001666,0.003235&amp;z=18\">Madlab, 34-40 Edge St, Manchester M4 1HN </a></strong></p>\n",
      "date_published": "2011-07-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/3/6/beer-review-dark-star-s-saison/",
      "url": "https://qmacro.org/blog/2011/3/6/beer-review-dark-star-s-saison/",
      "title": "Beer review: Dark Star&#39;s Saison",
      "content_html": "<p>I was honoured to be asked by the folks at <a href=\"http://portstreetbeerhouse.co.uk/\">Port Street Beer House</a> to review one of their cask beers, Saison, from the West Sussex brewery Dark Star. I went down last Saturday, received a pint, sat down, and wrote this:</p>\n<p><a href=\"http://portstreetbeerhouse.co.uk/blog/2011/05/31/review-dark-star-saison-by-dj-adams\">http://portstreetbeerhouse.co.uk/blog/2011/05/31/review-dark-star-saison-by-dj-adams</a></p>\n<p>A thoroughly enjoyable time! And of course, I <a href=\"http://untappd.com/user/qmacro/checkin/981650\">checked it in</a>; fitting, as <a href=\"http://untappd.com/\">Untappd</a> is celebrating its <a href=\"http://blog.untappd.com/post/5904712435/untappd-milestone-celebration\">one millionth check in</a> this week!</p>\n",
      "date_published": "2011-06-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/1/6/soa-scaffolding-and-development-architects/",
      "url": "https://qmacro.org/blog/2011/1/6/soa-scaffolding-and-development-architects/",
      "title": "SOA scaffolding and development architects",
      "content_html": "<p>In “<a href=\"http://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/24796\">Quo vadis SOA</a>“, <a href=\"http://twitter.com/steinermatt\">Matthias Steiner</a> has written a very readable blog post about where SOA is today, in SAP and beyond, casting a critical but balanced eye on what the service orientation approach has delivered. In the section “Did SOA deliver on its promise?”, the words (some quoted) that stand out are “critics”, “disillusionment”, “dead” and “reality”. I think to some extent these words are justified, but not necessarily for the obvious reasons. Service Orientation as an architectural approach is certainly valid and one cannot argue that the theory is unsound, or that it has no place in enterprise computing.</p>\n<p>The biggest problem, and the biggest enemy of SOA, appears to have sprung from within the SOA bubble itself. Hordes of cargo-cult ridden ERP architects and consultants have swept into organisations, egged on by respected analyst firms, and declared “SOA is the answer! Now, what is the question?” Before detailed analysis of the challenge at hand, they appear, armed to the teeth with SOA white papers and acronyms, and plonk down their SOA scaffolding superstructure, proudly stating “Whatever solution we end up with must fit in that framework”. And so implementations get off on the wrong foot, noses are put out of joint, integrations are brittle by design, and costs shoot way past the budget, like an HTTP request tunneling to a solitary, unidentifable endpoint forever out of reach.</p>\n<p>What’s the answer? In my humble opinion, it’s the **re-**coupling of archtecture with development. In a comment to Matthias’s post, <a href=\"http://twitter.com/mattharding\">Matt Harding</a> mentions the concept of a “Development Architect”. This resonates with me tremendously; I set <a href=\"http://www.linkedin.com/in/djadams\">my title on LinkedIn</a> to include “Coding Architect”, which tries to convey a similar concept. Get the people who are thinking hard about architecture to think hard about development, and vice versa, and the correct and appropriate strategies will emerge.</p>\n",
      "date_published": "2011-06-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/31/5/danger-graduate-conveyor-belt/",
      "url": "https://qmacro.org/blog/2011/31/5/danger-graduate-conveyor-belt/",
      "title": "Danger! Graduate Conveyor-belt!",
      "content_html": "<p>John Appleby wrote a thought-provoking piece on university degree courses and how they relate to the IT industry in “<a href=\"http://peopleprocesstech.com/2011/05/30/when-will-graduates-learn-to-monetize-their-education/\">When will graduates learn to monetize their education?</a>“. I thought it was worth writing a few thoughts down to help re-balance the view.</p>\n<p>To a large extent I agree with John’s sentiments, especially on the context of the cost of education, and perhaps the beginning of the end of “vocational” degrees. Competition in the graduate job market, cost of living, and tuition fees are all increasing at an alarming rate, and John is calling for universities to make their degree courses relevant to industry, in particular IT consulting, and for students to seriously consider career-orientated courses (rather than subjects they might otherwise wish to study).</p>\n<p>The problem is that this drives us dangerously down the path of clone production. Often in my career have I come across graduates of computer-related degree courses, unable to think for themselves, unwilling to consider solutions that involve approaches beyond what they’ve already studied, and — while having a tremendously impressive pedigree in, say, compiler design or even XML processing — not able to translate their skills and knowledge into practical application thereof.</p>\n<p>I graduated with a Classics degree, which was made up of Latin, Ancient Greek, Sanskrit and Philology. But beyond the questionable ability to translate Ovid into Ancient Greek, or understand how Phrygian influenced later language grammars, I graduated with the skills to think logically, work independently, think outside the box and, most importantly, to <em>learn</em> and assimilate new ideas and approaches and apply them to current problems. This particular set of skills is not specific to Classics by any means, but is a good illustration of soft skills that are wider and deeper than any particular vertical slice of IT.</p>\n<p>Yes, I agree that students face serious problems in higher education, but let’s not move towards a solution that denies the richness that a traditional non-tech degree affords.</p>\n",
      "date_published": "2011-05-31T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/28/3/json-and-other-animals-talk-at-manchester-jquery-meetup/",
      "url": "https://qmacro.org/blog/2011/28/3/json-and-other-animals-talk-at-manchester-jquery-meetup/",
      "title": "JSON and Other Animals - talk at Manchester jQuery Meetup",
      "content_html": "<p>The <a href=\"http://madlab.org.uk/\">Manchester Digital Laboratory</a> (<a href=\"http://twitter.com/madlabuk\">MadLab</a> for short) is the arts-craft-tech gravity centre of Manchester, and our gracious hosts for the <a href=\"http://www.gtugs.org/chapter.jsp?id=1023\">Manchester Google Technology User Group</a>. Recently a new group sprung up there – the <a href=\"http://www.meetup.com/jQuery-Manchester/\">jQuery Manchester Meetup</a>, run by <a href=\"http://twitter.com/webvines\">Jon Vines</a>. I gave a talk there earlier this month, on JSON, JSONP and AJAX. Here are the slides, and I’ve also created a <a href=\"http://qmacro-demos.appspot.com/demos/manjquery-20110308/index.html\">talk page</a> for this, with links to these slides and the code examples.</p>\n<iframe frameborder=\"0\" height=\"342\" src=\"https://docs.google.com/present/embed?id=dcjt66v8_234fw68jqfp\" width=\"410\"></iframe>\n",
      "date_published": "2011-03-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/28/3/gmail-contextual-gadgets-talk-at-manchester-gtug/",
      "url": "https://qmacro.org/blog/2011/28/3/gmail-contextual-gadgets-talk-at-manchester-gtug/",
      "title": "Gmail Contextual Gadgets - talk at Manchester GTUG",
      "content_html": "<p>I gave a talk at the <a href=\"http://www.gtugs.org/chapter.jsp?id=1023\">Manchester Google Technology User Group</a> March <a href=\"http://www.meetup.com/mangtug/events/16557449/\">meetup</a> on <a href=\"https://qmacro.org/2010/06/21/getting-started-with-gmail-contextual-gadgets/\">Gmail Contextual Gadgets</a>. Partly so I can keep track of what slides I’ve used where, and partly to share them with a wider audience, here they are.</p>\n<iframe frameborder=\"0\" height=\"342\" src=\"https://docs.google.com/present/embed?id=dcjt66v8_235cp9kttfs\" width=\"410\"></iframe>\n",
      "date_published": "2011-03-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/4/3/my-browser-a-z/",
      "url": "https://qmacro.org/blog/2011/4/3/my-browser-a-z/",
      "title": "My browser A-Z",
      "content_html": "<p>Inspired by a post “<a href=\"http://www.tbray.org/ongoing/When/201x/2011/03/03/ABC\">Letter Sweep</a>” by <a href=\"http://twitter.com/timbray\">Tim Bray</a>, here’s my browser A-Z, a list of the URLs that appear when the browser tries to guess, on a single letter press, where I want to go, based on past locations.</p>\n<p>A: <a href=\"http://appengine.google.com/\">appengine.google.com</a> – unsurprising, as I’m a big fan of Google’s App Engine.</p>\n<p>B: <a href=\"http://bbc.co.uk/\">bbc.co.uk</a> – where I go to get the news, although mostly I listen to <a href=\"http://www.bbc.co.uk/radio4/\">Radio 4</a> via my <a href=\"http://www.logitech.com/speakers-audio/wireless-music-systems/devices/5847\">Squeezebox Radio</a>.</p>\n<p>C: <a href=\"http://coastandcountryholidays.co.uk/\">coastandcountryholidays.co.uk</a> – Michelle and I are taking a holiday in Norfolk later this month.</p>\n<p>D: <a href=\"http://docs.google.com/\">docs.google.com</a> – I’m a big Google Docs user.</p>\n<p>E: <a href=\"http://enterprisegeeks.com/\">enterprisegeeks.com</a> – where I go for some excellent ERP / SAP banter.</p>\n<p>F: <a href=\"http://flickr.com/\">flickr.com</a> – I’ve been on Flickr for as long as I can remember.</p>\n<p>G: <a href=\"http://google.co.uk/\">google.co.uk</a> – well, duh!</p>\n<p>H: <a href=\"http://www.google.co.uk/\">http://www.google.co.uk</a> – interesting! Isn’t using the scheme in the URL cheating?</p>\n<p>I: <a href=\"https://qmacro.org/blog/2011/4/3/my-browser-a-z/imdb.com\">imdb.com</a> – we’re <a href=\"http://www.lovefilm.com/\">Lovefilm</a> members, but I still use IMDB for film geekery.</p>\n<p>J: <a href=\"http://jsonformatter.curiousconcept.com/\">jsonformatter.curiousconcept.com</a> – <a href=\"http://www.json.org/\">JSON</a> is my poison, and this excellent site is the sweetener.</p>\n<p>K: <a href=\"https://www.amazon.co.uk/gp/digital/fiona/manage/ref=docs_dim_box\">www.amazon.co.uk/gp/digital/fiona/manage/ref=docs_dim_box</a> – where I manage my Kindle. I think this is linked to K as I have a bookmark titled “K” pointing here.</p>\n<p>L: <a href=\"http://linkedin.com/\">linkedin.com</a> – essential!</p>\n<p>M: <a href=\"http://m.untappd.com/\">m.untappd.com</a> – even more essential! Also, perhaps more alarming, <a href=\"http://untappd.com/\">Untappd</a> is the only site that appears more than once, apart from Google’s home page.</p>\n<p>N: <a href=\"http://natwest.com/\">natwest.com</a> – where I do some of my banking. National Westminster Bank.</p>\n<p>O: <a href=\"http://omniversity.madlab.org.uk/\">omniversity.madlab.org.uk</a> – The Manchester Digital Laboratory’s Omniversity. Excellent!</p>\n<p>P: <a href=\"http://pipetree.com/\">pipetree.com</a> – my main domain.</p>\n<p>Q: <a href=\"http://qmacro.appspot.com/\">qmacro.appspot.com</a> – not been here for a while, this was a general play area on App Engine.</p>\n<p>R: <a href=\"http://router/\">router</a> – my Vigor router, to do the occasional port management.</p>\n<p>S: <a href=\"http://slashdot.org/\">slashdot.org</a> – old but still ‘lesenswert’.</p>\n<p>T: <a href=\"http://twitter.com/\">twitter.com</a> – I’m a fan of <a href=\"http://seesmic.com/w/\">Seesmic’s web client</a>, but still use the mothership app for lookups and the like.</p>\n<p>U: <a href=\"http://untappd.com/user/qmacro\">untappd.com/user/qmacro</a> – ahem. Beer ahoy!</p>\n<p>V: <a href=\"http://vmlu02:8080/\">vmlu02:8080</a> – one of my servers; a virtual machine running on a micro-desktop on the shelves behind me. This is a port where I have an App Engine dev server listening.</p>\n<p>W: <a href=\"http://www.google.co.uk/\">www.google.co.uk</a> – three out of three!</p>\n<p>X: nothing!</p>\n<p>Y: <a href=\"http://youtube.com/\">youtube.com</a> – I thought I was happy when the interweb was just text. But I was wrong.</p>\n<p>Z: <a href=\"http://zino:9000/\">zino:9000</a> – zino is the micro-desktop that hosts vmlu02. Listening on port 9000 is my <a href=\"http://en.wikipedia.org/wiki/Squeezebox_Server\">Squeezebox server</a>.</p>\n",
      "date_published": "2011-03-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2011/3/2/the-past-and-future-of-sap-integration-guest-bluefin-blog-post/",
      "url": "https://qmacro.org/blog/2011/3/2/the-past-and-future-of-sap-integration-guest-bluefin-blog-post/",
      "title": "The past and future of SAP integration: guest Bluefin blog post",
      "content_html": "<p>I was honoured to be invited to write the first guest blog post on <a href=\"http://www.bluefinsolutions.com/\">Bluefin</a>‘s website. To start the ball rolling, I decided to take a whirlwind history tour of data and function integration with SAP’s enterprise systems, ending up a few clicks into the future with SAP’s <a href=\"http://en.sap.info/gateway-apps-mobile-rest-duet-enterprise/43463/2\">Project Gateway</a>, which promises to bring a great deal of openness to SAP data. With terms such as Atom, Atom Publishing Protocol and resource orientation appearing in descriptions of what Gateway is to bring, it certainly has my attention!</p>\n<p>Here’s the post: “<a href=\"http://www.bluefinsolutions.com/insights/guest_blog/project_gateway_a_call_to_arms_or_at_least_to_data/\">Project Gateway. A call to arms. Or at least to data.</a>“</p>\n",
      "date_published": "2011-02-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2010/9/11/hacking-the-delicious-extension-for-chrome/",
      "url": "https://qmacro.org/blog/2010/9/11/hacking-the-delicious-extension-for-chrome/",
      "title": "Hacking the Delicious extension for Chrome",
      "content_html": "<p>I’ve recently moved from Firefox to Chrome. I use Delicious for managing my public and private bookmarks, and have installed the <a href=\"http://www.delicious.com/help/tools\">plugins</a> for both browsers.</p>\n<p>In moving to Chrome and installing the <a href=\"https://chrome.google.com/extensions/detail/gclkcflnjahgejhappicbhcpllkpakej\">Delicious Tools</a> extension, one thing I really missed from the Firefox-based add-on was the ability to set a <a href=\"http://kenyarmosh.com/delicious-firefox-add-on-always-mark-as-private/\">simple configuration option</a> to set the “Mark as private” checkbox on by default. There seemed to be a lot of forum-based discussion on making this work for the Chrome extension, but it seemed no solution was immediately evident. So I decided to investigate, and found out what I could do. This post is as much an aide memoire as anything else.</p>\n<p>The Chrome extensions can be administered by entering <a href=\"chrome://extensions\">chrome://extensions</a> into the address bar. This is what you can see for the Delicious Tools extension, when you have the Developer Mode expanded:</p>\n<p><img src=\"https://qmacro.org/blog/img/2010/11/screenshot-extensions-google-chrome.png\" alt=\"Chrome extension details\" /></p>\n<p>There are a couple of interesting things that we can see:</p>\n<ul>\n<li>the ID of this extension is <em>gclkcflnjahgejhappicbhcpllkpakej</em>, which is the same as part of the URL that points to the extension’s home page:<br />\n<a href=\"https://chrome.google.com/extensions/detail/gclkcflnjahgejhappicbhcpllkpakej\">https://chrome.google.com/extensions/detail/gclkcflnjahgejhappicbhcpllkpakej</a></li>\n<li>there’s a reference to the active view ‘background.html’, which, on inspection, contains a Javascript function addDelicious() which builds up the URL that will retrieve the Delicious page to save a bookmark</li>\n</ul>\n<p>A find and grep later, I find this background.html component’s home:</p>\n<pre><code>~/.config/google-chrome/Default/Extensions/ gclkcflnjahgejhappicbhcpllkpakej/1.0.4_0/\n</code></pre>\n<p>It’s not just integration mechanisms that can be built in a loosely-coupled way. Applications built with HTTP, HTML, CSS and Javascript are also, almost by definition, beautifully loosely coupled; on inspecting the Javascript source in this file, we see:</p>\n<pre><code> // Show delicious pop-up window addDelicious = function(conf) { var c = conf || {}, doc = c.document || document, url = c.url || doc.location, title = c.title || doc.title, notes = c.notes || '', w = c.width || 550, h = c.height || 550, deliciousUrl = c.deliciousUrl || &quot;http://delicious.com/save?v=5&amp;noui&amp;jump=close&amp;url=&quot;, fullUrl; fullUrl = deliciousUrl + encodeURIComponent(url) + '&amp;title=' + encodeURIComponent(title) + '&amp;notes=' + encodeURIComponent(notes); window.open( fullUrl, [...]\n</code></pre>\n<p>A simple addition of</p>\n<pre><code>fullUrl = fullUrl + &quot;&amp;share=no&quot;;\n</code></pre>\n<p>before the call to window.open() will add the query parameter “share=no” to the Delicious URL that is requested, resulting in the HTML form being rendered with the “Mark as private” checkbox already ticked.</p>\n<p><img src=\"https://qmacro.org/blog/img/2010/11/screenshot-save-a-bookmark-on-delicious-google-chrome.png\" alt=\"Saving a bookmark, with private as default\" /></p>\n<p>Result!</p>\n",
      "date_published": "2010-11-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2010/1/11/google-visualization-api-manchester-gtug-talk/",
      "url": "https://qmacro.org/blog/2010/1/11/google-visualization-api-manchester-gtug-talk/",
      "title": "Google Visualization API: Manchester GTUG Talk",
      "content_html": "<p>I gave a talk at this month’s <a href=\"https://qmacro.org/blog/2010/1/11/google-visualization-api-manchester-gtug-talk/www.gtugs.org/chapter.jsp?id=1023\">Manchester Google Technology User Group</a> meetup on the <a href=\"http://code.google.com/apis/charttools/index.html\">Google Visualization API</a>.</p>\n<iframe frameborder=\"0\" height=\"342\" src=\"https://docs.google.com/present/embed?id=dcjt66v8_195f4r5c6gd\" width=\"410\"></iframe>\n",
      "date_published": "2010-11-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2010/11/10/not-your-father-s-sap/",
      "url": "https://qmacro.org/blog/2010/11/10/not-your-father-s-sap/",
      "title": "Not your father&#39;s SAP",
      "content_html": "<p>I had the good fortune to be invited to SAP’s <a href=\"http://wiki.sdn.sap.com/wiki/display/events/Innovation+Weekend\">Innovation Weekend 2010</a> in Berlin, a pre-cursory hackfest and idea exchange in the two days prior to the main <a href=\"http://www.sapteched.com/emea/\">SAP TechEd</a> event at Messe Berlin. Walking around talking to people thinking, discussing, designing and building innovative prototypes covering a huge range of topics, I <a href=\"http://twitpic.com/2wnjre\">came across</a> Phil Kisloff (<a href=\"http://twitter.com/kisloff\">@kisloff</a>) and Fred Verheul (<a href=\"http://twitter.com/fredverheul\">@fredverheul</a>) who were building something using Composite Designer (part of the <a href=\"http://www.sap.com/platform/netweaver/cafindex.epx\">Composite Application Framework</a>). “That doesn’t look much like SE38!” I thought.</p>\n<p>Sure, SAP have been developing non-core software, services and processes for years now. But it hasn’t been until today that the realisation has truly hit home for me. The only team I’ve found that’s building anything in ABAP here is … ours. Ok, <a href=\"http://twitter.com/wolf_gregor\">Gregor Wolf</a> told me about some very interesting work on <a href=\"https://qmacro.org/tag/webhooks/\">Webhooks</a> last night which involved some ABAP coding, but that was probably more out of necessity rather than anything else. BPM is on everyone’s lips. Moreover, to speak of SAP’s Java server offering is already passé and almost uninteresting.</p>\n<p>And then there’s River.</p>\n<p>River is a project that has been collaboratively built by the SAP Labs teams in Israel and Palo Alto. I talked to Lior Schejter who told me more about it. It’s a platform-as-a-service offering that’s remotely related to Google’s App Engine (although with more UI) and that allows the development, customisation, hosting and running of “small” applications. It’s hosted on Amazon EC2 and uses Tomcat to serve. Applications are built in the flow-logic style of BPM, and consist of user interfaces (what I saw was Flash-based) with business logic controlling the processes in the back end. There’s a UI builder, and the business logic can be built and modified either diagramatically or with Javascript, which runs on the server.</p>\n<p>Even though River is arguably in beta right now, what I saw was very impressive. It’s also fair to say that there are a number of milestones that the team are working towards. Online editing and development is essentially a <textarea> element right now. There’s no source code repository integration or version control. Yes, I know what you’re saying, and I agree: River could learn and take from the fascinating and fabulous <a href=\"https://bespin.mozillalabs.com/\">Bespin</a> (now ‘<a href=\"https://mozillalabs.com/skywriter/\">SkyWriter</a>‘) project. In fact, there’s a loose connection already: at last year’s SAP TechEd in Vienna I got Bespin connected to, and checking in and out from, <a href=\"http://wiki.sdn.sap.com/wiki/display/CodeExchange/Code+Exchange+Platform\">SAP’s Code Exchange</a> platform. Furthermore, offering the ability to debug Javascript than runs on the server is not a simple task (even <a href=\"http://code.google.com/googleapps/appsscript/\">Google Apps Script</a> doesn’t have that yet, and developing and debugging for apps destined for Google’s App Engine is done locally using the <a href=\"http://code.google.com/appengine/downloads.html\">SDK</a>). Lior told me of a very interesting and so far successful approach to solving this problem: run and debug the Javascript locally and use a proxy for the River-specific API calls.</textarea></p>\n<p>There is of course plenty more to say about River, as you can imagine. The project is very interesting and they’re attempting to address hard problems and built a very current offering. But what struck me the most about River is the technologies they’re using, and the audiences and customers that SAP are addressing. These are expanding all the time. Lior even related to me that it had been difficult for his team to find a person who knew ABAP, to help with some of the (minor!) experimental BAPI backend integration!</p>\n<p>A far cry from the days of old. <a href=\"http://twitter.com/qmacro/status/27016657285\">This is not your father’s SAP</a>.</p>\n",
      "date_published": "2010-10-11T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2010/21/6/getting-started-with-gmail-contextual-gadgets/",
      "url": "https://qmacro.org/blog/2010/21/6/getting-started-with-gmail-contextual-gadgets/",
      "title": "Getting started with Gmail Contextual Gadgets",
      "content_html": "<p><a href=\"http://code.google.com/apis/gmail/gadgets/contextual/\">Gmail contextual gadgets</a> were announced by Google a few months back and were <a href=\"http://googleenterprise.blogspot.com/2010/05/putting-email-in-context-with-gmail.html\">made available to developers in May this year</a>, just before making a <a href=\"http://code.google.com/events/io/2010/sessions/deep-dive-gmail-contextual-gadgets.html\">strong appearance at Google IO</a>.</p>\n<p>Expanding upon the concept of an earlier contextual project called <a href=\"https://qmacro.org/2003/07/11/dashboard-a-compelling-articulation-for-realtime-contextual-information-2/\">Dashboard</a>, Gmail contextual gadgets give a clear message that email, as a universal information carrier and workflow pipeline, is not only here to stay, but is being given a new lease of life as it plays a foundational role in Google’s enterprise scale application platform strategy. A Gmail contextual gadget enhances email messages by providing information or functionality that is relevant to the context of that email … right inside the email itself. Context is exposed by content extractors in the form of ‘clues’ in Gmail (akin to Dashboard’s ‘<a href=\"http://www.ibm.com/developerworks/xml/library/x-desktop/index.html#h2\">cluepackets</a>‘) and matched content is provided to the gadget at runtime.</p>\n<p>Extractors, optional filters, and scope declarations (used by the installer of a gadget to decide whether to install or not based upon privacy and security requirements) are defined in a manifest, along with references to the gadgets themselves, via gadget spec files, that are to be triggered.</p>\n<p><img src=\"https://qmacro.org/blog/img/2010/06/additnow.png\" alt=\"additnow\" /></p>\n<p>What makes these Gmail contextual gadgets even more attractive is the Google Apps Marketplace, where developers can make gadgets available, and consumers can use the “<a href=\"https://www.google.com/support/a/bin/answer.py?hl=en&amp;answer=172482\">Add it now</a>” button to start using them in their own domains.</p>\n<p>Developing Gmail contextual gadgets is relatively straightforward, but there are a few things that might cause you to stumble, such as documentation (we’re early adopters!), cacheing issues and not being completely aware of what match information is provided.</p>\n<p>Despite the advent of Wave and Buzz, it’s obvious that Google sees, rightly in my opinion, a tremendous amount of value in the venerable email application, and I thought I’d take the opportunity to document my first attempt at enhancing the contextual experience with a Twitter-flavoured Gmail contextual “Hello World” gadget.</p>\n<p><strong>Twitter User Info</strong></p>\n<p>‘Twitter User Info’ is a Gmail contextual gadget that provides basic info about Twitter users whose Twitter handles appear in the email Subject line. In this example, the profile image and basic Twitter user info is shown for Joseph, whose Twitter handle <a href=\"http://twitter.com/@jcla1\">@jcla1</a> appears in the Subject of the email from Michelle:</p>\n<p><img src=\"https://qmacro.org/blog/img/2010/06/twitteruserinfoannotated.png\" alt=\"Twitter User Info for @jcla1\" /></p>\n<p>The contextual gadget appears directly below the email body, and starts with the title and description “Twitter – User Info” (defined in the gadget spec) and contains HTML showing the Twitter info.</p>\n<p><strong>Components and hosting</strong></p>\n<p>What are the components that make up this gadget? First of all, we need the manifest and the gadget spec itself. To support the dynamic creation of contextual content in the email, we will be using <a href=\"http://jquery.com/\">jQuery</a>, not only because it’s a fantastically useful and powerful library for manipulating web page content, but also because of Google’s intention to use <a href=\"http://code.google.com/p/google-caja/\">Caja</a> to provide a layer of protection for the user of Javascript-based apps. The jQuery library is listed as one of the development frameworks that will be compatible with Caja. There’s also a tiny bit of CSS.</p>\n<p>Beyond that, we will of course be making a call to one of the <a href=\"http://dev.twitter.com/\">Twitter API</a> endpoints, and calling upon one of my favourite HTTP tools <a href=\"http://postbin.org/\">PostBin</a>, to dump Google gadget libary method return values for inspection.</p>\n<p>While the manifest is uploaded to Google when you make your gadget available in the Marketplace, your gadget spec needs to be accessible online (so the gadget container can pull it in at the appropriate moment). There are many options for hosting content online, but for this experiment I decided to create a new App Engine application ‘<a href=\"http://qmacro-contextual.appspot.com/\">qmacro-contextual</a>‘ and host the gadget and CSS as static files there (I’m also storing the manifest there too). This might appear as overkill, but as I progress further into contextual gadget development, I will most definitely want to do some of the heavy app lifting outside of the actual gadget spec, and for this, App Engine is ideal.</p>\n<p>Here’s part of the app.yaml file showing the handler declarations for the static manifest, gadget and CSS resources:</p>\n<pre><code>application: qmacro-contextual version: 1 runtime: python api_version: 1 handlers: - url: /manifests static_dir: manifests expiration: 1m - url: /gadgets static_dir: gadgets expiration: 1m - url: /css static_dir: css - url: .* script: main.py&lt;span style=&quot;font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; line-height: 19px; white-space: normal; font-size: 13px;&quot;&gt; &lt;/span&gt;\n</code></pre>\n<p>Note that I’ve specified an expiration period of 1 minute for the manifest and gadget spec directories. This is for development only, so that I can be sure that at least App Engine will serve up the resources with a very short shelf life, so that I can tweak the definitions and code and have them reloaded by the gadget container.</p>\n<p>Incidentally, there’s also a URL query string parameter you can specify that causes gadget cacheing to be turned off – just append “?nogadgetcache=1″ to the Gmail URL and this should do the trick.</p>\n<p><strong>The Manifest</strong></p>\n<p>I followed the Developer’s Guide to construct the manifest, which you can see here in full:</p>\n<p><a href=\"http://qmacro-contextual.appspot.com/manifests/twitter-user-info.manifest.xml\">http://qmacro-contextual.appspot.com/manifests/twitter-user-info.manifest.xml</a></p>\n<p>The interesting parts of the manifest which relate to Gmail contextual gadgets are the Extractor, Gadget and Scope declarations.</p>\n<p>The Extractor declaration looks like this:</p>\n<pre><code>&lt;!-- EXTRACTOR --&gt; &lt;Extension id=&quot;SubjectExtractor&quot; type=&quot;contextExtractor&quot;&gt; &lt;Name&gt;Twitter IDs in Subject&lt;/Name&gt; &lt;Url&gt;google.com:SubjectExtractor&lt;/Url&gt; &lt;Param name=&quot;subject&quot; value=&quot;.*@[a-z]+.*&quot;/&gt; &lt;Triggers ref=&quot;TwitterUserInfoGadget&quot;/&gt; &lt;Scope ref=&quot;emailSubject&quot;/&gt; &lt;Container name=&quot;mail&quot;/&gt; &lt;/Extension&gt;\n</code></pre>\n<p>Each extractor (there can be more than one for any given manifest) is defined with an id and name and references a particular Extractor ID which does the work of pulling the info out of the email. Here we’re referencing <a href=\"http://code.google.com/apis/gmail/gadgets/contextual/#extractor\">google.com:SubjectExtractor</a>, which is an extractor provided by Google for pulling out the Subject line. Google will be opening up opportunities for developers to build their own extractors if the pre-defined ones don’t provide what we need.</p>\n<p>The <a href=\"http://google.com/\">google.com</a>:SubjectExtractor is defined as returning one output field, @subject, which is made available to the gadget to do with as it wishes – more on that later. It also has one scope defined, tag:google.com,2010:auth/contextual/extractor/SUBJECT, which must be linked with a scope definition in a later section of the manifest.</p>\n<p>We can see the reference to the @subject output field in the <Param> tag. This is a filter definition, which says here that we only want the extractor to trigger the gadget if the email subject matches the given regular expression – i.e. if it contains a Twitter handle. Clearly, we want to avoid triggering gadgets when there’s nothing for the gadget to do; not only to avoid unnecessary almost-empty gadget displays, but also for performance reasons; without a filter, this extractor would fire for every email you looked at. The filter is optional, but Google recommends that even if you want to match on every occurrence, you put an explicit catch-all regular expression “.*” to make that clear.</Param></p>\n<p>The reference to “TwitterUserInfoGadget” points to the next declaration, that of the gadget itself:</p>\n<pre><code>&lt;!-- GADGET --&gt; &lt;Extension id=&quot;TwitterUserInfoGadget&quot; type=&quot;gadget&quot;&gt; &lt;Name&gt;Twitter User Info contextual gadget&lt;/Name&gt; &lt;Url&gt;http://qmacro-contextual.appspot.com/gadgets/twitter-user-info.gadget.xml&lt;/Url&gt; &lt;Container name=&quot;mail&quot;/&gt; &lt;/Extension&gt;\n</code></pre>\n<p>The id of the gadget, “TwitterUserInfoGadget” is what is referred to in the <Triggers> tag of the previous Extractor declaration. The gadget is a resource, located at</Triggers></p>\n<p><a href=\"http://qmacro-contextual.appspot.com/gadgets/twitter-user-info.gadget.xml\">http://qmacro-contextual.appspot.com/gadgets/twitter-user-info.gadget.xml</a></p>\n<p>and this is what will be requested by the Gmail contextual gadget container to pull in the gadget spec. Here’s part of an App Engine log record showing the gadget spec being fetched:</p>\n<p><img src=\"https://qmacro.org/blog/img/2010/06/feedfetcherpullsgadget1.png\" alt=\"Google Feedfetcher pulls gadget spec\" /></p>\n<p>The name declared in this Gadget declaration (“Twitter User Info contextual gadget”), along with the name in the Extractor declaration (“Twitter IDs in Subject”) and the general name and description from elsewhere in the manifest, are text items that appear to the Google Apps domain administrator when selecting the gadget for installation, like this:</p>\n<p><img src=\"https://qmacro.org/blog/img/2010/06/appoverview.png\" alt=\"App Overview\" /></p>\n<p>Finally, we have the Scope declaration, which was indicated in the Extractor declaration earlier. This is “emailSubject”, and contains the scope URI defined for the extractor being used. There may be more than one scope for a given extractor; if this is the case, they must be each defined separately and explicitly.</p>\n<!-- SCOPE --> <Scope id=\"emailSubject\"> <Url>tag:google.com,2010:auth/contextual/extractor/SUBJECT</Url> <Reason>This application looks at the subject of each email looking for Twitter handles</Reason> </Scope>\n<p>This information appears during gadget installation, where the administrator can review what the gadget will access, and decide whether or not to proceed:</p>\n<p><img src=\"https://qmacro.org/blog/2010/21/6/getting-started-with-gmail-contextual-gadgets/NaN\" alt=\"Grant Data Access\" /></p>\n<p><strong>The Gadget Spec – Declarations</strong></p>\n<p>Now we’ve dealt with the manifest, it’s time to turn our attention to the gadget spec. Remember that the gadget is triggered when we get a Subject line that contains one or more Twitter handles. If you’ve developed a gadget before, for iGoogle, for example, this should be familiar to you. First we have the ModulePrefs section where we declare basic gadget information and the features that we require. There’s a feature specific to Gmail contextual gadgets that we must declare here. Then we have the gadget code itself, in a CDATA section.</p>\n<p>Here’s what the ModulePrefs section looks like:</p>\n<pre><code> &lt;ModulePrefs title=&quot;Twitter&quot; description=&quot;User Info&quot; height=&quot;50&quot; author=&quot;DJ Adams&quot; author_email=&quot;dj.adams@pobox.com&quot; author_location=&quot;Manchester&quot;&gt; &lt;Require feature=&quot;dynamic-height&quot;/&gt; &lt;Require feature=&quot;google.contentmatch&quot;&gt; &lt;Param name=&quot;extractors&quot;&gt; google.com:SubjectExtractor &lt;/Param&gt; &lt;/Require&gt; &lt;/ModulePrefs&gt;\n</code></pre>\n<p>The title and description in the module prefs shows up (”Twitter – User Info”) when the gadget is displayed at the bottom of the email. We define a height for the gadget which can be auto-adjusted later with the dynamic-height feature declared in this section too. A feature that’s specific to Gmail contextual gadgets, and that must be declared for all such gadgets, is google.contentmatch. In declaring this feature, you must list the Extractor id (or ids) that will be triggering this gadget.</p>\n<p>The google.contentmatch feature gives us the facility we need to avail ourselves of the, ahem, content that was matched in this context. As you will see, we use the getContentMatches() method to do this.</p>\n<p><strong>The Gadget Spec – Code</strong></p>\n<p>With the ModulePrefs declarations out of the way, we get to the Javascript that breathes life into our gadget. The Javascript is defined in the <Content> tag. The view type “card” is the only one supported by Gmail contextual gadgets right now.</Content></p>\n<pre><code>&lt;script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js'&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; // Expect subject as first element keyed by 'subject' matches = google.contentmatch.getContentMatches(); jQuery.post('http://qmacro-postbin.appspot.com/1jd620g', 'matches:' + JSON.stringify(matches)); var subject = matches[0]['subject']; // Only do something if we actually have a subject to work with if (subject) { // Pick out the twitter @handles and process them var handles = subject.match(/@[a-z0-9_]+/g); if (handles) { $('head').append('&lt;link rel=&quot;stylesheet&quot; href=&quot;http://qmacro-contextual.appspot.com/css/twitter-user-info.css&quot; /&gt;'); for (var i = 0; i &lt; handles.length; i++) { var user_resource = 'http://api.twitter.com/users/show/' + handles[i] + '.json?callback=?'; $.getJSON(user_resource, function(data) { jQuery.post('http://qmacro-postbin.appspot.com/1jd620g', 'userinfo:' + JSON.stringify(data)); var loc = &quot;&quot;; if (data.location) { loc = ' (' + data.location + ')'; } var tw_info = '&lt;table border=&quot;0&quot;&gt;' + '&lt;tr&gt;' + '&lt;td&gt;' + '&lt;a href=&quot;' + data.url + '&quot;&gt;' + '&lt;img src=&quot;' + data.profile_image_url + '&quot; /&gt;' + '&lt;/a&gt;' + '&lt;/td&gt;' + '&lt;td class=&quot;userinfo&quot;&gt;' + '&lt;a href=&quot;http://twitter.com/' + data.screen_name + '&quot;&gt;@' + data.screen_name + '&lt;/a&gt;' + '&lt;br /&gt;' + data.name + loc + '&lt;br /&gt;' + data.description + '&lt;/td&gt;' + '&lt;/tr&gt;&lt;/table&gt;'; jQuery(tw_info).appendTo('body'); }); } gadgets.window.adjustHeight(100); } } &lt;/script&gt;&lt;span style=&quot;font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; font-size: small;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;\n</code></pre>\n<p>First, we pull in the jQuery library with a <code>&lt;script/&gt;</code> tag, and then we’re off with our gadget code.</p>\n<p>We use the google.contentmatch.getContentMatches() method to pull in the matches supplied to us by the Extractor. One of my favourite phrases is “<a href=\"http://en.wikiquote.org/wiki/Only_Fools_and_Horses#Chain_Gang_.5B6.3.5D\">let the dog see the rabbit</a>” – let’s have a look at the data, in this case. What does the getContentMatches() actually return? What does it look like? This is where the rather useful PostBin comes in to play. When we get the response from the call to getContentMatches(), encode it into a JSON string form with JSON.stringify() and bung the whole lot to a Postbin too see. Easy! Of course, this is only appropriate for development and debugging – I’d remove it for a production gadget. By the way, I’m running my own instance of Postbin – you can <a href=\"http://github.com/progrium/postbin\">run you own instance</a> too.</p>\n<p><img src=\"https://qmacro.org/blog/img/2010/06/matchesinpostbin1.png\" alt=\"Matches in Postbin\" />So from looking at what we get, we can see that what we’re after is the value of the ’subject’ key in the first element of the matches array.</p>\n<p>By definition, we’re only instantiated because there was a Twitter handle in the Subject. There could be more than one, of course. After collecting them into a handles array, we’re ready to process each one. First, though – we pull in the CSS resource to the current document. The resource is served as a static file from the App Engine app:</p>\n<p><a href=\"http://qmacro-contextual.appspot.com/css/twitter-user-info.css\">http://qmacro-contextual.appspot.com/css/twitter-user-info.css</a></p>\n<p>For each of the Twitter handles, we want to display some basic info, as shown in the screenshot earlier. To retrieve this, we make a simple call to the Twitter API. Specifically,</p>\n<p><a href=\"http://apiwiki.twitter.com/Twitter-REST-API-Method:-users%C2%A0show\">http://api.twitter.com/users/show/[Twitter-handle].json?callback=</a>?</p>\n<p>will give us a nice chunk of JSON with the information we want, like this:</p>\n<pre><code>{ &quot;description&quot;:&quot;Developer and Linux Expert&quot;, &quot;screen_name&quot;:&quot;Jcla1&quot;, &quot;url&quot;:&quot;http://www.pipetree.com/josephadams&quot;, &quot;name&quot;:&quot;Joseph Adams&quot;, &quot;profile_image_url&quot;:&quot;http://a1.twimg.com/profile_images/106288960/JosephWithLomaxCar_normal.jpg&quot;, &quot;location&quot;:&quot;Krefeld,Germany&quot;, ... }\n</code></pre>\n<p>I’d originally started with the<a href=\"http://plugins.jquery.com/project/jtwitter\"> jTwitter</a> jQuery plugin but found that it didn’t quite do what I wanted, and in any case using the Twitter API from jQuery is straightforward anyway. But thank you <a href=\"http://plugins.jquery.com/user/9986\">uzbekjon</a> for getting me started.</p>\n<p>You can see from the code that I’m making more use of Postbin, by gratuitously dumping the results of the Twitter API call in there too. I like to see what I’m dealing with. <a href=\"http://search.cpan.org/perldoc?Data::Dumper\">Data::Dumper</a> is my alltime favourite Perl module, if you hadn’t guessed.</p>\n<p>Once we have the info from Twitter, it’s just a simple matter of constructing some HTML, making use of the CSS via the ‘userinfo’ class, and appending that to the email. Job done!</p>\n<p>I’ve pushed my fledgeling <a href=\"http://github.com/qmacro/qmacro-contextual\">qmacro-contextual App Engine project to Github</a>, so you can take a look and create your own “Hello World” Gmail contextual gadget.</p>\n<p>Share and enjoy!</p>\n",
      "date_published": "2010-06-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2010/4/3/scratching-an-itch-magic-the-gathering-card-info/",
      "url": "https://qmacro.org/blog/2010/4/3/scratching-an-itch-magic-the-gathering-card-info/",
      "title": "Scratching an itch - Magic The Gathering card info",
      "content_html": "<p>Well over 10 years ago I bought a box set of <a href=\"http://www.magicthegathering.com/\">Magic The Gathering</a> (MTG) cards. <img src=\"https://qmacro.org/blog/img/2010/03/mtg-215x300.jpg\" alt=\"image\" /> I wasn’t really sure what they were, but they looked fascinating. Unfortunately, they gathered dust after a while, mostly because there wasn’t anyone else to play against, and I didn’t understand the rules properly anyway. Fast forward to 2009. My son <a href=\"http://www.pipetree.com/josephadams/\">Joseph</a>, having discovered and dusted off the box set, taught me how to play, at at Starbucks cafe over a few hot chocolates and cappuccinos on a cold winter afternoon.</p>\n<p>Hooked!</p>\n<p>Since then we’ve been fans of the game of endless possibilities and ever changing scope and interest, and almost regulars at our local MTG store, <a href=\"http://www.fanboy3.co.uk/\">Fan Boy Three</a> on Newton St in Manchester.</p>\n<p>So to educate myself in all thing Magic, I turned to MTG’s official website, Wizards of the Coast’s <a href=\"http://www.wizards.com/Magic/Multiverse/\">The Multiverse</a>, and in particular, to their incredibly prolific set of column authors on the <a href=\"http://www.wizards.com/Magic/Magazine/Default.aspx\">Daily MTG</a>. More <a href=\"http://www.wizards.com/Magic/Magazine/Archive.aspx?tag=news,feature,column,event\">articles</a>on design, deck construction, strategy and match reports than you could shake a <a href=\"http://www.wizards.com/Magic/TCG/Article.aspx?x=magic/planeswalkers/week4\">Planeswalker</a> card at.</p>\n<p>But while I <a href=\"http://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/16597\">read a lot</a>, the majority of it is on paper, in the bath, on the train, and <img src=\"https://qmacro.org/blog/img/2010/03/skirkridgeexhumer-215x300.jpg\" alt=\"image\" /> soaking up the countless minutes lost at the start of every meeting, while you wait for people to get started, fail to get the projector working, fetch coffees or fiddle with the air conditioning. And on paper, the MTG articles are good, but for a novice like me, there’s something missing. The articles make lots of references to cards by name, and when reading online, there’s a nice popup of the card details so you can see what the author is talking about. But on paper?</p>\n<p>So I had an itch to scratch. What I wanted was an accompanying printout of the cards mentioned in any given Daily MTG article. So when the author referred to <a href=\"http://gatherer.wizards.com/Pages/Card/Details.aspx?name=Hedron%20Crab\">Hedron Crab</a>, <a href=\"http://gatherer.wizards.com/Pages/Card/Details.aspx?name=Baloth%20Woodcrasher\">Baloth Woodcrasher</a> or <a href=\"http://gatherer.wizards.com/Pages/Card/Details.aspx?name=Oran-Rief,%20the%20Vastwood\">Oran-Rief, the Vastwood</a> I would know what they were talking about.</p>\n<p>I decided to use <a href=\"http://code.google.com/appengine\">Google App Engine</a>, and have my Python HTTP responder in the cloud. I created a very simple app “mtgcardinfo”, part of my Github-hosted scratchpad area <a href=\"http://github.com/qmacro/gae-qmacro\">gae-qmacro</a>. Given the URL of an MTG article, the app uses urlfetch() to go and get it, parses out the card names, and produces an HTML response with a whole load of image references. Luckily the card detail popups in the articles are powered by Javascript and are great indicators of card names for anyone who cares to wield a regex to look for them.</p>\n<p>And of course to glue it all together, I used a <a href=\"http://en.wikipedia.org/wiki/Bookmarklet\">bookmarklet</a>, so I could jump to the list of cards while directly in the article.</p>\n<p>So if you’re interested, have a go: <a href=\"http://qmacro.appspot.com/mtgcardinfo\">http://qmacro.appspot.com/mtgcardinfo</a>.</p>\n<p>The combination of App Engine, Python, HTTP and Javascript is rapidly becoming my new Swiss Army Knife of choice in the web-based online world. And the best thing? I’m teaching Joseph this stuff, and not only is he incredibly good at it, he <em>loves</em> it!</p>\n",
      "date_published": "2010-03-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/9/9/mainframes-and-the-cloud-everything-old-is-new-again/",
      "url": "https://qmacro.org/blog/2009/9/9/mainframes-and-the-cloud-everything-old-is-new-again/",
      "title": "Mainframes and the cloud - everything old is new again",
      "content_html": "<p>Cloud computing, virtual machines. It’s big business. Amazon has its <a href=\"http://aws.amazon.com/ec2/\">Elastic Compute Cloud</a> (EC2) which provides “<em>resizable compute capacity in the cloud</em>“, Microsoft has <a href=\"http://www.microsoft.com/azure/default.mspx\">Azure</a>, providing “<em>on-demand compute and storage to host, scale, and manage Web applications on the Internet</em>” and Google’s offering is <a href=\"http://code.google.com/appengine/\">App Engine</a> which offers “<em>the ability to build and host web applications on <em>Google’s</em> infrastructure</em>“. As you might know, I’m personally very <a href=\"https://qmacro.org/tag/appengine/\">taken with</a> App Engine.</p>\n<p>The offerings are slightly different – for example, while EC2 is bare virtual hardware, App Engine is a web application platform in the cloud. But they all have similar pricing arrangements, based generally on uptime or CPU time, I/O  and storage.</p>\n<p>Does this seem familiar to you? It does to me, but then again, I did just turn 0x2B this month. In 1988 I was working in the Database Support Group at a major energy company in London, looking after the SAP R/2 databases, which were powered by IMS DB/DC, on MVS – yes, IBM big iron mainframes. I still look back on those days with <a href=\"http://radar.oreilly.com/2005/11/burn-in-7-dj-adams.html\">fond memories</a>.</p>\n<p>In reviewing some 3rd party software, I wrote a document entitled “<strong>BMC Software’s Image Copy Plus: An Evaluation</strong>“. BMC’s Image Copy Plus was a product which offered faster image copies of our IMS DB (VSAM) databases. (Image Copy Plus, as well as IMS, is <a href=\"http://www.bmc.com/products/product-listing/23026-2064-1201.html\">still around</a>, over 20 years on! But that has to be the subject of another post).</p>\n<p>One of the sections of the evaluation was to compare costs, as well as time — by how much would the backup costs be reduced using BMC’s offering?</p>\n<p>And have a guess on what the cost comparison was based? Yes. CPU time, I/O (disk and tape <a href=\"http://www.reference.com/browse/wiki/EXCP\">EXCP</a>s) and actual tapes.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/08/IMG_20180806_100115.jpg\" alt=\"mainframe job billing comparison\" /></p>\n<p>Everything old is new again.</p>\n",
      "date_published": "2009-09-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/8/9/sap-and-google-wave-conversation-augmentation/",
      "url": "https://qmacro.org/blog/2009/8/9/sap-and-google-wave-conversation-augmentation/",
      "title": "SAP and Google Wave - Conversation Augmentation",
      "content_html": "<p>It’s been pretty much six years to the day since <a href=\"https://qmacro.org/tag/dashboard/\">I last wrote here about Dashboard</a>, Nat Friedman’s project and implementation of a realtime contextual information system. So I thought it fitting to make a short demo showing integration between Google Wave and SAP, inspired by the cluepacket-driven style shown so nicely with Dashboard.</p>\n<p>I got my Wave Sandbox account a week or so ago, and have had a bit of time to have a look at how robots and gadgets work — the two main Wave extension mechanisms. To get my feet wet, I built a robot, which is hosted in the cloud using Google App Engine, another <a href=\"https://qmacro.org/tag/appengine/\">area of interest to me</a>, and the subject of this weblog entry. I used Python, but there’s also a Java client library available too. You can get more info in the <a href=\"http://code.google.com/apis/wave/guide.html\">API Overview</a>.</p>\n<p>What this robot does is listen to conversations in a Wave, automatically recognising SAP entities and augmenting the conversation by inserting extra contextual information directly into the flow. In this example, the robot can recognise transport requests, and will insert the request’s description into the conversation, lending a bit more information to what’s being discussed.</p>\n<p>The robot recognises transport requests by looking for a pattern:</p>\n<p>trkorr_match = re.search(' (SAPKw{6}|[A-Z0-9]{3}Kd{6}) ', text)</p>\n<p>In other words, it’s looking for something starting SAPK followed by six further characters, or something starting with 3 characters, followed by a K and six digits (the more traditional customer-orientated request format). In either case, there must be a space before and a space following, to be more sure of it being a ‘word’.</p>\n<p>How does it retrieve the description for a recognised transport request? Via a simple REST-orientated interface, of course :-) I use the excellent Internet Communication Framework (ICF) to build and host HTTP handlers so I can <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/584\">expose SAP functionality and data as resources in a uniform and controlled way</a>. Each piece of data worth talking about is a <a href=\"https://qmacro.org/2009/06/29/information-vs-behaviour/\">first class citizen on the web</a>; that is, each piece of data is a resource, and has a URL.</p>\n<p>So the robot simply fetches the default representation of the recognised request’s ‘description’ resource. If the request was NSPK900115, the description resource’s URL would be something like:</p>\n<p><a href=\"http://hostname/\">http://hostname</a>:port/transport/request/NSPK900115/description</p>\n<p>Once fetched, the description is inserted into the conversation flow.</p>\n<p><object data=\"http://www.youtube.com/v/G7W2M6H3OQo&hl=en&fs=1&\" height=\"340\" type=\"application/x-shockwave-flash\" width=\"560\"><param name=\"allowFullScreen\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"src\" value=\"http://www.youtube.com/v/G7W2M6H3OQo&hl=en&fs=1&\" /><param name=\"allowfullscreen\" value=\"true\" /></object></p>\n<p><a href=\"http://www.youtube.com/watch?v=G7W2M6H3OQo\">http://www.youtube.com/watch?v=G7W2M6H3OQo</a></p>\n<p>(<a href=\"http://weblogs.sdn.sap.com/pub/wlg/15721\">Originally written on SDN</a> but republished here because of portal access issues)</p>\n",
      "date_published": "2009-09-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/31/8/book-review-sap-business-one-implementation/",
      "url": "https://qmacro.org/blog/2009/31/8/book-review-sap-business-one-implementation/",
      "title": "Book review: &quot;SAP Business ONE Implementation&quot;",
      "content_html": "<p>A short while ago I was sent a review copy of “<a href=\"http://www.packtpub.com/sap-business-1-implementation/book\">SAP Business ONE Implementation</a>”, by Wolfgang Niefert, published by Packt Publishing. On receipt, I skimmed through it, and my first impressions were very favourable. I’m now reading through it a second time as I sit with a cup of tea and a slice of cake in North Wales on a Bank Holiday weekend, and I’m happy to say that my opinion hasn’t changed.</p>\n<p>To give you a bit of background, I’m <a href=\"https://qmacro.org/about/\">an SAP veteran</a> of 22 years – starting out with R/2 version 4.1d in 1987, moving through R/3 in the mid-90’s and on to Enterprise and beyond. But this is the first time I’ve studied SAP Business ONE in any detail. So while I have a lot of experience of SAP’s traditional products, I’m approaching SAP Business ONE, and “SAP Business ONE Implementation” more as the potential owner of a small business.</p>\n<p>I certainly haven’t been disappointed. “SAP Business ONE Implementation” is written “for technically savvy business owners, entrepreneurs and departmental managers”. And I think by and large the book does a great job of reaching out to and connecting with exactly that audience. I <span style=\"text-decoration: none;\"><span><em>was</em> expecting the book to be a fairly technically orientated implementation how-to. But it is more than that. It takes you from business first principles, connecting well at the level of sales, delivery, inventory, warehousing, manufacturing and other business challenges. It explains how SAP Business ONE is designed to address those challenges, and guides you through installation, implementation and some configuration of the system. Once the basics have been established, it moves further to cover project planning, reporting and analysis, business process analysis, customer relationship management, logistics &amp; supply chain management, contract management, and ends up addressing, albeit briefly, more complex reporting tools and topics, data migration, and electronic commerce.</span></span></p>\n<p>The book has fewer than 300 pages. A book that addresses the areas that this book does could easily be twice that size. But that’s where this book does well. It’s an approachable, undaunting and really rather good introduction to running your business with SAP Business ONE. The writing style is very easygoing, and informative without being patronising. There are plenty of examples, and all the screenshots you’d need. It doesn’t try to be a reference book. It does try to be a sort of hybrid guide to solving the business <em>and</em> technical challenges of running a small or medium sized company using SAP software, and I would say that it succeeds.</p>\n<p>If you’re a small business owner considering stepping up and taking control of your business with SAP Business ONE, if you’ve already got SAP Business ONE and want to explore more application features at a high level, or if even if (like me) you’re an SAP hacker wanting to learn about what SAP Business ONE can do, then you could do a lot worse than grab a copy of this book.</p>\n",
      "date_published": "2009-08-31T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/28/8/dealing-with-blogtheft-from-sap-s-developer-network/",
      "url": "https://qmacro.org/blog/2009/28/8/dealing-with-blogtheft-from-sap-s-developer-network/",
      "title": "Dealing with &quot;#blogtheft&quot; from SAP&#39;s Developer Network",
      "content_html": "<p>Recently it has <a href=\"http://search.twitter.com/search?q=%23blogtheft\">come to people’s attention</a> that there is a website <a href=\"http://www.sap-abap4.com/\">www.sap-abap4.com</a> out there with a lot of very interesting content … which seems to have been <em>completely</em> “lifted” from the <a href=\"http://www.sdn.sap.com/\">SAP Developer Network</a> (SDN) and reproduced verbatim, except that in each case the original author name has been removed!</p>\n<p>Lots of discussion is taking place how best to deal with this. One way (and I’m posting it as a blog entry as much for my memory’s sake as anything else) is to conditionally rewrite requests for images. I’m using Apache and therefore the <a href=\"http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html\">mod_rewrite</a> extension is my tool of choice.</p>\n<p>It just so happens that there are a couple of screenshots in a recent SDN blog entry of mine “<a href=\"https://blogs.sap.com/2009/05/27/a-return-to-the-sdn-community-and-a-touch-of-javascript/\">A return to the SDN community, and a touch of Javascript</a>” and these images are hosted on my own server.</p>\n<p>So as a little test, I can control the requests for these images, rewriting those requests so that a different image is served depending on the request’s referrer — the URL of the page that the images are referenced on with an <code>&lt;img /&gt;</code> tag.</p>\n<p>So with some mod_rewrite voodoo in a local <code>.htaccess</code> file:</p>\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_REFERER} ^http://www.sap-abap4.com\nRewriteBase /qmacro/x\nRewriteRule ^SdnPageTitle(Fixed|Broken)_small.jpg$ StolenContent.png [L]\n</code></pre>\n<p>I can send a <code>StolenContent.png</code> image, if the referrer is from the rogue site.</p>\n<p>The result of the rewrite is that when viewed on SDN, the blog entry looks fine, and the screenshot images look as they’re supposed to:</p>\n<p><img src=\"https://qmacro.org/blog/img/2009/08/screenshot-sdn3.jpg\" alt=\"Images appear as they're supposed to\" /></p>\n<p>But when the images are used on <a href=\"http://www.sap-abap4.com/\">www.sap-abap4.com</a>, they will appears differently:</p>\n<p><img src=\"https://qmacro.org/blog/img/2009/08/screenshot-sap-abap41.jpg\" alt=\"Image appears differently\" /></p>\n<p>So there you have it. It’s not a complete solution to the problem by any means, but it at least will alert unsuspecting readers of that website to what's happening (if you’re testing yourself, you might have to refresh the pages in your browser, as it will probably have cached the first version of each image). Perhaps the SAP community network team can apply this technique for the images hosted on SDN.</p>\n",
      "date_published": "2009-08-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/21/8/command-lines-of-the-future-and-simplicity-of-integration/",
      "url": "https://qmacro.org/blog/2009/21/8/command-lines-of-the-future-and-simplicity-of-integration/",
      "title": "Command lines of the future, and simplicity of integration",
      "content_html": "<p>This is a bit of a hand-wavy post, but I wanted to get my thoughts down. Recently there’s been a spate of interest around interaction with devices, applications and systems ... via a chat-style interface. This is nothing new, of course. Bots have existed on the IRC networks for a long time. The venerable <a href=\"http://www.foo.be/docs/tpj/issues/vol3_2/tpj0302-0002.html\">Purl</a>, an <a href=\"http://en.wikipedia.org/wiki/Infobot\">infobot</a>, was a particular favourite of mine. When instant messaging (IM) came along, we had a new chat interface – which took the form of one-on-one or conference (‘group’) chat. With <a href=\"http://www.jabber.org/\">Jabber</a> (XMPP), ‘Chatbot’ was a favourite in the various conference rooms. Back in late 2002, I even wrote about Chatbot in a 2-part series “The Command Line of the Future” (“<a href=\"http://web.archive.org/web/20040203121753/http://www.openp2p.com/pub/a/p2p/2002/01/11/jabber_bots.html\">Is Jabber’s Chatbot the Command Line of the Future?</a>” and The “<a href=\"http://web.archive.org/web/20031203031620/http://www.openp2p.com/pub/a/p2p/2002/02/08/chatbot_two.html\">Command Line of the Future Part 2: Expanding Chatbot’s Repertoire</a>“):</p>\n<blockquote>\n<p>Consider for a moment what this command line of the future might look like. More and more people are online. More and more people are permanently connected, whether it be through DSL, cable, or 802.11 technology. And more and more of these people are communicating. Talking. Having conversations. In addition to email and Internet Relay Chat, or IRC, the (relatively) new kid on the block, Instant messaging (IM), is playing a huge part in facilitating these conversations. And in the same way that it’s common for us to have a command prompt or three sitting on our graphical desktop, it’s also becoming common to have chat windows more or less permanently open on the desktop too.</p>\n</blockquote>\n<blockquote>\n<p>But when thinking of IM, why stop at conversations with people? The person-to-application (P2A) world isn’t the exclusive domain of the Web. Bots, applications or utilities that have their interface as a projection of a persona into the online chat world, are a great and fun way to bring people and applications together in a conversational way.</p>\n<p>Interacting with a bot is the same as interacting with a person: type something to it and it replies. And what’s more, because of the similarities between a classic command-line prompt and that of a chat window, where you’re talking with a bot — both scenarios are text-based — interaction with a bot is scriptable.</p>\n</blockquote>\n<p>Forward to the present.</p>\n<p>Just the other day, <a href=\"http://twitter.com/davemee\">@davemee</a> and <a href=\"http://twitter.com/technicalfault\">@technicalfault</a> alerted me to <a href=\"http://twitter.com/manairport\">@manairport</a>, Manchester Airport’s online persona on Twitter, obviously yet another chat-style interface. You can interact with it via direct messages (DMs). You follow it, it will follow you back, and you’re away.</p>\n<blockquote>\n<p>me: d manairport be7217</p>\n<p>manairport: Received request for information: be7217 manairport: Status of 17:40 flight BE7217 to Dusseldorf departing T3: Scheduled 17:40</p>\n</blockquote>\n<p>Nice and <a href=\"http://www.dopplr.com/trip/qmacro/825806\">useful</a>!</p>\n<p>And then just this morning, I read a weblog post on <a href=\"http://www.sdn.sap.com/\">SDN</a> entitled “<a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/15521\">SAP Enterprise Service and Google Wave</a>“. In it, the author talks about connecting Google Wave (you guessed it, yet another chat-style interface, amongst other things) with SAP, in particular enterprise ‘services’. In the short demo, order information from an SAP system is retrieved in a conversational way. The concept is great. The obvious issue with what’s shown in the demo (and I know it’s only a proof of concept) is that the bot responds with a data structure dump of information. What we’re looking for is something more, well, consumable by humans. Smaller, more distinct and addressable pieces of information that can be returned and be useful.</p>\n<p>But what was more telling, at least to me, were the difficulties he described in connecting to the complex Enterprise Service backend in SAP:</p>\n<blockquote>\n<p>“… find the webservice … create a proxy … I did have some problems with calling the ES … On Appengine there are some limitations on what you can call of Java classes … From an architectural point I’m not real proved of the solution…”</p>\n</blockquote>\n<p>Hmm. Why does architecture have to be complex? Using Enterprise Services, using SOA, is more complex than it needs to be. There’s a reason why the web works. There’s a reason why Google designed App Engine’s backend infrastructure (including <a href=\"http://googleappengine.blogspot.com/2009/06/new-task-queue-api-on-google-app-engine.html\">asynchronous task queues</a>) in a simple HTTP-orientated way. There’s a reason why the Wave robot protocol is based on simple HTTP mechanisms. There’s a reason why mechanisms like <a href=\"http://code.google.com/p/pubsubhubbub/\">PubSubHubBub</a> and <a href=\"http://webhooks.pbworks.com/\">Webhooks</a> are based on HTTP as an application protocol. Because simple works, and it works well.</p>\n<p>Let’s come back to the “smaller, more distinct and addressable” issue. If we let ourselves be guided by a Resource Orientated Architecture (ROA) approach, rather than a Service Orientated Architecture (SOA) approach, we end up with simpler application protocols, flexible, reliable and transparent integration, and pieces of information that are addressable — and <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/584\">usable</a> — first class citizens on the web. This is Twitter’s <a href=\"https://qmacro.org/2009/05/18/twitters-success/\">killer feature</a>.</p>\n<p>Enterprises suffer enough with complexity paralysis. We should endeavour to embrace the design of HTTP as an application protocol (which is what I’m doing with <a href=\"http://wiki.github.com/qmacro/coffeeshop\">Coffeeshop</a>), rather than fight against it.</p>\n",
      "date_published": "2009-08-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/20/8/coffeeshop-screencast-http-conneg-resource-representations-and-json/",
      "url": "https://qmacro.org/blog/2009/20/8/coffeeshop-screencast-http-conneg-resource-representations-and-json/",
      "title": "Coffeeshop screencast: HTTP conneg, resource representations and JSON",
      "content_html": "<p>After <a href=\"https://qmacro.org/2009/08/19/2nd-coffeeshop-resthttp-screencast/\">yesterday’s screencast</a> showing the use of <a href=\"http://wiki.github.com/qmacro/coffeeshop\">coffeeshop</a> from the command line, here’s one that expands upon the direction I’m taking the implementation, following the <a href=\"http://en.wikipedia.org/wiki/Representational_State_Transfer\">REST</a>/HTTP philosophy. It shows, I hope, that embracing REST-orientated HTTP features, such as <a href=\"http://en.wikipedia.org/wiki/Content_negotiation\">content negotiation</a> (“conneg”), and the concepts of <a href=\"http://bitworking.org/news/How_to_create_a_REST_Protocol\">resources and representations</a>, gives you a fantastically flexible and straightforward application protocol to work with and be guided by. (I’m <a href=\"http://twitter.com/qmacro/status/3306694041\">not</a> doing full-blown conneg, that will come later. But what I am doing works well for me).</p>\n<p><object data=\"http://www.youtube.com/v/NhAWH2-Quuk&hl=en&fs=1&\" height=\"340\" type=\"application/x-shockwave-flash\" width=\"560\"><param name=\"allowFullScreen\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"src\" value=\"http://www.youtube.com/v/NhAWH2-Quuk&hl=en&fs=1&\" /><param name=\"allowfullscreen\" value=\"true\" /></object></p>\n<p><a href=\"http://www.youtube.com/watch?v=NhAWH2-Quuk\">http://www.youtube.com/watch?v=NhAWH2-Quuk</a></p>\n<p>In this shorter screencast, I continue on from where I left off — viewing the message detail resource in the web browser. I use conneg to request that same resource in <a href=\"http://www.json.org/\">JSON</a> instead of HTML, and show how the JSON representation can be easily parsed, and the data reused, further along the <a href=\"https://qmacro.org/2009/05/18/twitters-success/\">pipeline</a>.</p>\n",
      "date_published": "2009-08-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/19/8/2nd-coffeeshop-rest-http-screencast/",
      "url": "https://qmacro.org/blog/2009/19/8/2nd-coffeeshop-rest-http-screencast/",
      "title": "2nd coffeeshop REST/HTTP screencast",
      "content_html": "<p>To follow on from the <a href=\"https://qmacro.org/2009/07/28/first-coffeeshop-demo-screencast/\">first coffeeshop demo screencast</a>, I thought I’d make another. This time it’s to highlight the fact that <a href=\"http://wiki.github.com/qmacro/coffeeshop\">coffeeshop</a> is fundamentally a REST-orientated, HTTP-based pubsub application at the core, and not just a web-based application. Hopefully this comes across through the use of command-line HTTP tools to manipulate Channel, Subscriber and Message resources.</p>\n<p>This time, the <a href=\"http://wiki.github.com/qmacro/coffeeshop\">coffeeshop</a> instance I’m using is one running on Google’s <a href=\"http://code.google.com/appengine/\">App Engine</a> cloud infrastructure — on <a href=\"http://appgallery.appspot.com/\">appspot.com</a>.</p>\n<p><object data=\"http://www.youtube.com/v/TI48cdpWOBg&hl=en&fs=1&\" height=\"340\" type=\"application/x-shockwave-flash\" width=\"560\"><param name=\"allowFullScreen\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"src\" value=\"http://www.youtube.com/v/TI48cdpWOBg&hl=en&fs=1&\" /><param name=\"allowfullscreen\" value=\"true\" /></object></p>\n<p><a href=\"http://www.youtube.com/watch?v=TI48cdpWOBg\">http://www.youtube.com/watch?v=TI48cdpWOBg</a></p>\n<p>In the screencast, I also make use of <a href=\"http://progrium.com/\">Jeff Lindsay</a>‘s great <a href=\"http://www.postbin.org/\">Postbin</a> tool for creating the recipient resources for the Subscribers. It was originally created to help debug <a href=\"http://blog.webhooks.org/\">Webhooks</a>, but of course, a Subscriber is a sort of Webhook as well. (Postbin runs on App Engine too!).</p>\n",
      "date_published": "2009-08-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/9/8/google-wave-xmpp-and-complexity/",
      "url": "https://qmacro.org/blog/2009/9/8/google-wave-xmpp-and-complexity/",
      "title": "Google Wave, XMPP and complexity",
      "content_html": "<p>Anil Dash provides food for thought in his post “<a href=\"http://dashes.com/anil/2009/08/what-works-the-web-way-vs-the-wave-way.html\">What Works: The Web Way vs The Wave Way</a>“. While I agree with him on the importance of the incremental approach to technology progression on the web (“The Web Way”), I do profess to have an intense interest in the pollination of XMPP into the HTTP space.</p>\n<p>However, I must call him on this small statement:</p>\n<blockquote>\n<p>“<span class=\"caps\">XMPP </span>is way too complicated for any normal human to deploy”</p>\n</blockquote>\n<p>Compared to what? I’m getting the idea that he’s referring to ‘simpler’ mechanisms such as HTTP or SMTP servers. Simpler? Has Anil modified a sendmail config file recently?</p>\n<p>These days setting up an XMPP server is pretty straightforward. Then again, I am perhaps somewhat <a href=\"http://oreilly.com/catalog/9780596002022/\">biased</a> :-)</p>\n",
      "date_published": "2009-08-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/5/8/webhooks-postbin-example-for-coffeeshop/",
      "url": "https://qmacro.org/blog/2009/5/8/webhooks-postbin-example-for-coffeeshop/",
      "title": "Webhooks postbin example for Coffeeshop",
      "content_html": "<p>There’s an interesting article “<a href=\"http://www.igvita.com/2009/06/29/http-pubsub-webhooks-pubsubhubbub/\">HTTP PubSub: Webhooks and PubSubHubBub</a>” that covers working with webhooks and points to a great HTTP / webhook developer utility “<a href=\"http://www.postbin.org/\">PostBin</a>“, which:</p>\n<blockquote>\n<p>“lets you debug web lets you debug web hooks by capturing and logging the asynchronous requests made when events happen. Make a PostBin and register the URL with a web hook provider. All POST requests to the URL are logged for you to see when you browse to that URL.”</p>\n</blockquote>\n<p>The article also shows a very simple pubsub “Hello, World” script, <em>postbin.rb</em>, that nicely demonstrates the basic features of <a href=\"http://watercoolr.nuklei.com/\">Watercoolr</a> — another HTTP-based pubsub mechanism.</p>\n<p>So I thought I’d write the equivalent to <em>postbin.rb</em>, this time demonstrating the same features in <a href=\"http://wiki.github.com/qmacro/coffeeshop\">Coffeeshop</a>. This way, we can see how things compare. It’s in Python, but that’s neither here nor there.</p>\n<p>import httplib, urllib, sys</p>\n<p>hubconn = httplib.HTTPConnection('localhost:8888')</p>\n<p>hubconn.request(&quot;POST&quot;, &quot;/channel/&quot;) channel = hubconn.getresponse().getheader('Location') print &quot;Created channel %s&quot; % channel</p>\n<p>hubconn.request(&quot;POST&quot;, channel + &quot;subscriber/&quot;,  urllib.urlencode({'resource': sys.argv[1]})) subscriber = hubconn.getresponse().getheader('Location') print &quot;Added subscriber %s&quot; % subscriber</p>\n<p>while True:   print &quot;Post message:&quot;   msg = sys.stdin.readline()   hubconn.request(&quot;POST&quot;, channel, msg)   message = hubconn.getresponse().getheader('Location')   print &quot;Message published: %s&quot; % message</p>\n<p>I’ve added some print statements to show what’s going on, and to highlight the HTTP resources created and utilised.</p>\n<p>Here’s a sample execution:</p>\n<blockquote>\n<p><strong>python <a href=\"http://postbin.py/\">postbin.py</a> <a href=\"http://www.postbin.org/1a5m8w0\">http://www.postbin.org/1a5m8w0</a></strong> Created channel /channel/1/ Added subscriber /channel/1/subscriber/2/ Post message: <strong>Hello, Webhooks World!</strong> Message published: /channel/1/message/ahFxbWFjcm8tY[...]RgDDA Post message:</p>\n</blockquote>\n<p>This message <a href=\"http://www.postbin.org/1a5m8w0\">appears in the PostBin bucket</a> as expected. Nice!</p>\n<p>As well as showing how useful PostBin is, I hope this demonstrates how the basic features of <a href=\"http://wiki.github.com/qmacro/coffeeshop\">Coffeeshop</a> work, and perhaps more importantly, shows you that the REST-orientated approach is straightforward and works well.</p>\n",
      "date_published": "2009-08-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/28/7/first-coffeeshop-demo-screencast/",
      "url": "https://qmacro.org/blog/2009/28/7/first-coffeeshop-demo-screencast/",
      "title": "First coffeeshop demo screencast",
      "content_html": "<p>To demonstrate some of the basic <a href=\"http://wiki.github.com/qmacro/coffeeshop\">coffeeshop</a> features, I put together a screencast, and after getting over the shock of hearing my own voice in the recorded voiceover (<a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/1669\">last time</a> I chickened out and just typed what I wanted to say), I put it up on YouTube:</p>\n<p><object data=\"http://www.youtube.com/v/1E_1B8TD6Kw&hl=en&fs=1&rel=0\" height=\"340\" type=\"application/x-shockwave-flash\" width=\"560\"><param name=\"allowFullScreen\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"src\" value=\"http://www.youtube.com/v/1E_1B8TD6Kw&hl=en&fs=1&rel=0\" /><param name=\"allowfullscreen\" value=\"true\" /></object></p>\n<p><a href=\"http://www.youtube.com/watch?v=1E_1B8TD6Kw\">http://www.youtube.com/watch?v=1E_1B8TD6Kw</a></p>\n<p>The screencast shows the creation of a channel, the addition of a couple of subscribers to that channel, the publishing of a message to that channel, and the subsequent delivery of that message to the subscribers. I draw attention to the use of the browser-based part of the implementation, and to the asynchronous nature of the message distribution (I had to do this anyway, as on the App Engine SDK development server, tasks are not executed automatically — you have to start them manually in the admin console).</p>\n",
      "date_published": "2009-07-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/27/7/coffeeshop-lightweight-http-based-pubsub/",
      "url": "https://qmacro.org/blog/2009/27/7/coffeeshop-lightweight-http-based-pubsub/",
      "title": "&#39;Coffeeshop&#39; - lightweight HTTP-based pubsub",
      "content_html": "<p>‘<em><a href=\"http://wiki.github.com/qmacro/coffeeshop\">Coffeeshop</a></em>‘ is a lightweight, REST-orientated HTTP-based publish/subscribe implementation that I’ve been working on for the last few days. It is a culmination of:</p>\n<ul>\n<li>an <a href=\"http://www.pipetree.com/jabber/jep-0024.html\">early</a> and long-standing interest in pubsub</li>\n<li>a fascination with using HTTP properly, i.e. as an application protocol, not a transport protocol</li>\n<li>an excuse to experiment in the area of <a href=\"http://blog.webhooks.org/\">webhooks<br />\n</a></li>\n<li>a desire to learn more about Google’s <a href=\"http://code.google.com/appengine/\">App Engine</a> as a cloud platform, and more specifically as an HTTP runtime platform, much like SAP’s Internet Communication Framework (ICF)</li>\n</ul>\n<p>There seems to be a growing interest in pubsub and webhooks; one recent article in particular – “<a href=\"http://dashes.com/anil/2009/07/the-pushbutton-web-realtime-becomes-real.html\">The Pushbutton Web: Realtime Becomes Real</a>” conveys a lot of the ideas behind these concepts.</p>\n<p>With <a href=\"http://wiki.github.com/qmacro/coffeeshop\"><em>coffeeshop</em></a>, entities — Channels, Subscribers and Messages — are resources, with URLs. You interact with entities using the appropriate HTTP methods. The implementation, being HTTP, is both browser-based (human-facing), and agent-based (program-facing). You can navigate the resources with your web-browser. You can interact with the resources with <a href=\"http://curl.haxx.se/\">cURL</a>, <a href=\"http://search.cpan.org/~gaas/libwww-perl-5.830/bin/lwp-request\">POST</a>, or your favourite HTTP library.</p>\n<p>Here’s a simple example:</p>\n<blockquote>\n<h1 id=\"create-channel:-greater-echo-&quot;test-channel&quot;-or-post-se-http:giant:8888channel-post-http:giant:8888channel-greater-201-created-location:-channel5-greater-add-to-channel-a-new-subscriber-with-greater-a-callback-resource-of-http:atom:8081subscriberalpha-greater-**echo-&quot;namealphaandresourcehttp:giant:8081subscriberalpha&quot;-**-greater-or-post-se-http:giant:8888channel1subscriber-post-http:giant:8888channel1subscriber-greater-201-created-location:-channel1subscriber2-greater-publish-a-message-to-the-channel-greater-echo-&quot;hello-world&quot;-or-post-se-http:giant:8888channel1-post-http:giant:8888channel1-greater-302-moved-temporarily-location:-http:giant:8888channel1messageahfxbwfjcm8ty29mzmvlc...rgida\" tabindex=\"-1\">Create Channel: &gt; <strong>echo &quot;Test Channel&quot; | POST -Se <a href=\"http://giant:8888/channel/\">http://giant:8888/channel/</a></strong> POST <a href=\"http://giant:8888/channel/\">http://giant:8888/channel/</a> --&gt; 201 Created Location: /channel/5/ &gt; # Add to Channel a new Subscriber with &gt; # a callback resource of <a href=\"http://atom:8081/subscriber/alpha\">http://atom:8081/subscriber/alpha</a> &gt; **echo &quot;name=alpha&amp;resource=http://giant:8081/subscriber/alpha&quot; ** &gt; <strong>| POST -Se <a href=\"http://giant:8888/channel/1/subscriber/\">http://giant:8888/channel/1/subscriber/</a></strong> POST <a href=\"http://giant:8888/channel/1/subscriber/\">http://giant:8888/channel/1/subscriber/</a> --&gt; 201 Created Location: /channel/1/subscriber/2/ &gt; # Publish a Message to the Channel &gt; <strong>echo &quot;hello, world&quot; | POST -Se <a href=\"http://giant:8888/channel/1/\">http://giant:8888/channel/1/</a></strong> POST <a href=\"http://giant:8888/channel/1/\">http://giant:8888/channel/1/</a> --&gt; 302 Moved Temporarily Location: <a href=\"http://giant:8888/channel/1/message/ahFxbWFjcm8tY29mZmVlc%5B...%5DRgIDA\">http://giant:8888/channel/1/message/ahFxbWFjcm8tY29mZmVlc[...]RgIDA</a> <a class=\"direct-link\" href=\"https://qmacro.org/blog/2009/27/7/coffeeshop-lightweight-http-based-pubsub/#create-channel:-greater-echo-%22test-channel%22-or-post-se-http:giant:8888channel-post-http:giant:8888channel-greater-201-created-location:-channel5-greater-add-to-channel-a-new-subscriber-with-greater-a-callback-resource-of-http:atom:8081subscriberalpha-greater-**echo-%22namealphaandresourcehttp:giant:8081subscriberalpha%22-**-greater-or-post-se-http:giant:8888channel1subscriber-post-http:giant:8888channel1subscriber-greater-201-created-location:-channel1subscriber2-greater-publish-a-message-to-the-channel-greater-echo-%22hello-world%22-or-post-se-http:giant:8888channel1-post-http:giant:8888channel1-greater-302-moved-temporarily-location:-http:giant:8888channel1messageahfxbwfjcm8ty29mzmvlc...rgida\" aria-hidden=\"true\">#</a></h1>\n</blockquote>\n<p>As you can see from this example, POSTing to the Channel container resource</p>\n<p>/channel/</p>\n<p>creates a new Channel, POSTing to the Channel 1 subscriber container resource</p>\n<p>/channel/1/subscriber/</p>\n<p>creates a new Subscriber, and POSTing to the Channel 1 channel resource</p>\n<p>/channel/1/</p>\n<p>creates a new Message, which is delivered to the Channel’s Subscribers. The resource returned to a Message POST is that Message’s unique address</p>\n<p>/channel/1/message/ahFxbWFjcm8tY29mZmVlc[...]RgIDA</p>\n<p>where the details of that Message, including the Delivery status(es), can be seen.</p>\n<p>For more information on the resources and methods, have a look at the <a href=\"http://wiki.github.com/qmacro/coffeeshop/resourceplan\">ResourcePlan</a> page.</p>\n<p>I’m using Google App Engine’s <a href=\"http://googleappengine.blogspot.com/2009/06/new-task-queue-api-on-google-app-engine.html\">Task Queue API</a> to have the Messages delivered to their (webhook-alike) endpoints <strong>asynchronously</strong>.</p>\n<p>The code is early and rough, and <a href=\"http://wiki.github.com/qmacro/coffeeshop\">available on github</a>. You can download it and try it out for yourself locally or create an app on App Engine cloud domain <a href=\"http://appspot.com/\">appspot.com</a>. I’ll probably publish a public-facing instance of this implementation in the next few days. All comments and feedback appreciated.</p>\n<p>One last thing: I know of at least a couple of HTTP-based pubsub implementations: <a href=\"http://code.google.com/p/pubsubhubbub/\">pubsubhubbub</a>, and <a href=\"http://watercoolr.nuklei.com/\">Watercoolr</a>. Both are great, but for me, the former is a little complex (and ATOM-orientated), whereas the latter I thought could be more RESTian in its approach (hence <a href=\"http://wiki.github.com/qmacro/coffeeshop\"><em>coffeeshop</em></a>).</p>\n",
      "date_published": "2009-07-27T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/29/6/information-vs-behaviour/",
      "url": "https://qmacro.org/blog/2009/29/6/information-vs-behaviour/",
      "title": "Information vs Behaviour",
      "content_html": "<p>I read a couple of chapters of two different books recently:</p>\n<ul>\n<li>Ch.5 of O’Reilly’s “<a href=\"http://oreilly.com/catalog/9780596517984/\">Beautiful Architecture</a>“: <em>Resource-Oriented Architectures: Being ‘In The Web’</em> by Brian Sletten</li>\n<li>Ch.1 of Manning’s “<a href=\"http://www.manning.com/rotem/\">SOA Patterns</a>“: <em>Solving SOA Pains With Patterns</em> by Arnon Rotem-Gal-Oz, Eric Bruno, and Udi Dahan (from a free online Early Access Program)</li>\n</ul>\n<div>In these chapters, there were points made that stood out for me and underlined the fact that the two approaches of Resource Oriented Architecture (ROA) and Service Oriented Architecture (SOA) are mostly diametrically opposed, along the axes of **information** and **behaviour**.</div><div>I’ve been saying for a while, and indeed [recently](http://twitter.com/qmacro/status/2332492780), that the data in an enterprise is a key asset of any corporation, and should be treated as such. Information should be secure, available, and above all *addressable*. As Brian says:</div>> <div>“We like giving names to things because we are fundamentally name-oriented beings”</div>\n<div>Information elements should be first class citizens on the web, not relegated to anonymous lumps of data only accessible indirectly through opaque service endpoints. Those IT departments that enable uniform, transparent, controlled and consistent access to a corporation’s data, especially across a complex system landscape, are the ones that are in line to give their business the greatest benefit.</div><div>So it was with great delight (and fervent agreement) that I read, in “Beautiful Architecture”, Brian’s eloquent description of how the IT industry uses</div>> <div>“the wrong abstractions internally, overemphasising our software and services and underemphasising our data”</div>\n<div>and proceeds to describe how an information centric approach is more appropriate.</div><div>Then, only a day later, I read, in “SOA Patterns”, about the challenges of SOA — in particular:</div>> <div>“how do you solve the BI / SOA impedance mismatch of getting a centralised view of the data in an architectural style that encourages encapsulation and privacy?”</div>\n<div>Impedance mismatch! Yes, my point entirely!</div><div>The *behaviour-focused* approach of SOA, diametrically opposed to the *information-focused* approach of ROA, is a natural barrier to leveraging an enterprise’s key asset — information, and in this case *Business Intelligence*.</div>\n",
      "date_published": "2009-06-29T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/21/5/tarpipe-rest-connector-in-5-minutes/",
      "url": "https://qmacro.org/blog/2009/21/5/tarpipe-rest-connector-in-5-minutes/",
      "title": "Tarpipe REST connector in 5 minutes",
      "content_html": "<p>Tarpipe implemented a REST connector a short while ago. This is something that I and others have been wanting for a while now, so it’s great news. The <a href=\"http://getsatisfaction.com/tarpipe/topics/a_rest_connector#reply_1059544\">announcement</a> was quite short and didn’t have much detail. I like to see things visually, and I’m guessing others do too, so I decided to write a little handler to receive a sample request from the REST connector to dump it for inspection.</p>\n<p>As Bruno showed in the announcement, this is what the REST connector looks like:</p>\n<p><img src=\"https://qmacro.org/blog/img/2009/05/tarpiperestconnector.png\" alt=\"Tarpipe REST connector\" /></p>\n<p>It will take whatever values it receives in the <strong>title</strong>, <strong>description</strong> and <strong>link</strong> input fields on the left hand side of the connector, and construct a piece of <a href=\"http://www.json.org/\">JSON</a> which it then sends in an <a href=\"http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.1\">application/x-www-form-urlencoded</a> format as a data=<JSON> name/value pair in the message body of an HTTP POST request to the resource specified in the <strong>serviceUrl</strong> field.</JSON></p>\n<p>So if we pass the values “<em>DJ’s Weblog</em>” into the title, “<em>Reserving the right to be wrong</em>” into the description, “<em>/</em>” into the link fields, and pass “<em><a href=\"http://example.org/bucket/\">http://example.org/bucket/</a></em>” into the serviceUrl field, the following HTTP request is made on the <a href=\"http://example.org/bucket/\">http://example.org/bucket/</a> resource like this:</p>\n<pre><code>POST /bucket/ HTTP/1.1 Content-Length: 218 Content-Type: application/x-www-form-urlencoded Host: example.org Accept: */* data=%7B%22items%22%3A%5B%7B%22title%22%3A%22DJ%27s+Weblog%22%2C%22description %22%3A%22Reserving+the+right+to+be+wrong%5Cn%22%2C%22link%22%3A%22http%3A %5C%2F%5C%2Fwww.pipetree.com%5C%2Fqmacro%5C%2Fblog%5C%2F%22%7D%5D%7D\n</code></pre>\n<p>(whitespace added by me for readability).</p>\n<p>When decoded and pretty-printed, that message body looks like this</p>\n<pre><code>data=```\n&lt;code class=&quot;block&quot; id=&quot;output&quot;&gt;{\n    &quot;items&quot;:[\n       {\n           &quot;title&quot;:&quot;DJ's+Weblog&quot;,\n           &quot;description&quot;:&quot;Reserving+the+right+to+be+wrong&quot;,\n           &quot;link&quot;:&quot;/&quot;\n       }\n    ]\n}```\n</code></pre>\n<p>This is what your app gets to process.</p>\n<p>Bruno said that the format was chosen to be compatible with the Yahoo! Pipes Web Service Module, and it sure is — look at this example from the <a href=\"http://pipes.yahoo.com/pipes/docs?doc=operators#WebService\">Web Service Module</a> documentation:</p>\n<pre><code>data={ &quot;items&quot;:[ { &quot;title&quot;: &quot;First Title&quot;, &quot;link&quot;: &quot;http://example.com/first&quot;, &quot;description&quot;: &quot;First Description&quot; }, { &quot;title&quot;: &quot;Last Title&quot;, &quot;link&quot;: &quot;http://example.com/last&quot;, &quot;description&quot;: &quot;Last Description&quot; } ] }\n</code></pre>\n<p>And what about those three output fields on the right hand side of the REST connector? Well, if your app returns a response with JSON in the body — this time not as a name/value pair, but as pure JSON — like this:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span> <span class=\"token property\">\"items\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span>   <span class=\"token punctuation\">{</span>  <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"The response!\"</span><span class=\"token punctuation\">,</span>  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Long text description of the response\"</span><span class=\"token punctuation\">,</span>  <span class=\"token property\">\"link\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://example.org/banana/\"</span>  <span class=\"token punctuation\">}</span>   <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span></code></pre>\n<p>then the workflow can continue and you can connect those values in the corresponding <strong>title</strong>, <strong>description</strong> and <strong>link</strong> output fields as input to further connectors.</p>\n<p>Happy tarpiping!</p>\n",
      "date_published": "2009-05-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/18/5/twitter-s-success/",
      "url": "https://qmacro.org/blog/2009/18/5/twitter-s-success/",
      "title": "Twitter&#39;s success",
      "content_html": "<p>Yes yes, I know I’m late to the game, and everyone and his dog has given their angle on why Twitter is so successful, but I’d like to weigh in with a few thoughts too. The thoughts are those that came together when I was <a href=\"http://twitter.com/qmacro/status/1782050968\">chatting</a> to Ian Forrester (<a href=\"http://twitter.com/cubicgarden\">@cubicgarden</a>), at a <a href=\"http://geekup.org/events/130\">GeekUp event</a> in Manchester last week.</p>\n<h3 id=\"messaging-systems\" tabindex=\"-1\">Messaging Systems <a class=\"direct-link\" href=\"https://qmacro.org/blog/2009/18/5/twitter-s-success/#messaging-systems\" aria-hidden=\"true\">#</a></h3>\n<p>Back in the day, I talked about, wrote about and indeed built interconnected messaging systems based around the idea of a <em>message bus</em>, that has human, system and bot participation. The fundamental idea was based around one or more channels, rooms or groupings of messages; messages which could be originated from any participant, and likewise filtered, consumed and acted upon by any other. I wrote a <a href=\"http://www.openp2p.com/pub/a/p2p/2002/01/11/jabber_bots.html\">couple</a> of <a href=\"http://www.openp2p.com/pub/a/p2p/2002/02/08/chatbot_two.html\">articles</a> positing that bots might be the command line of the future.</p>\n<p>Using my <a href=\"http://www.xmpp.org/\">favourite messaging protocol</a>, I built such a messaging system for an enterprise client. This system was based around a series of rooms, and had a number of small-but-perfectly-formed agents that threw information onto the message bus, information such as messages resulting from monitoring systems across the network (“disk space threshold reached”, “System X is not responding”, “File received from external source”, etc) and messages from SAP systems (“Sales Order nnn received”, “<a href=\"https://www.sdn.sap.com/irj/scn/go/portal/prtroot/docs/library/uuid/7ce5c590-0201-0010-388e-cc28510abb89\">Transport xxx released</a>“, “Purchase Order yyy above value z created”, etc). It also had a complement of agents that listened to that <a href=\"http://www.oreillynet.com/xml/blog/2003/01/rss_the_web_service_we_already.html\">RSS/ATOM-sourced</a> stream of enterprise consciousness and acted upon messages they were designed to filter — sending an SMS message here, emailing there, re-messaging onto a different bus or system elsewhere.</p>\n<p>So what does this have to do with Twitter? Well, Twitter is a messaging system too. And Twitter’s ‘timeline’ concept is similar to the above message groupings. People, systems and bots can and do (I hesitate to say ‘publish’ and ‘subscribe to’ here) create, share and consume messages very easily.</p>\n<h3 id=\"killer-feature\" tabindex=\"-1\">Killer Feature <a class=\"direct-link\" href=\"https://qmacro.org/blog/2009/18/5/twitter-s-success/#killer-feature\" aria-hidden=\"true\">#</a></h3>\n<p>But the killer feature is that Twitter espouses the guiding design principle:</p>\n<p><a href=\"http://www.google.co.uk/search?q=%22everything+has+a+url%22\"><strong>Everything has a URL</strong></a></p>\n<p>and everything is available via the lingua franca of today’s interconnected systems — HTTP. Timelines (message groupings) have URLs. Message producers and consumers have URLs. Crucially, <em>individual messages have URLs</em> (this is why I could refer to a particular tweet at the start of this post). All the moving parts of this microblogging mechanism are <a href=\"https://qmacro.org/2002/09/02/rest-google-and-idempotency/\">first class citizens on the web</a>. Twitter exposes message data as feeds, too.</p>\n<p>Even Twitter’s API, while not <em>entirely</em> RESTful, is certainly facing in the right direction, exposing information and functionality via simple URLs and readily consumable formats (XML, JSON). The <a href=\"http://c2.com/xp/DoTheSimplestThingThatCouldPossiblyWork.html\">simplest thing that could possibly work</a> usually does, enabling the “<a href=\"http://www.smallpieces.com/\">small pieces, loosely joined</a>” approach that lets you <a href=\"http://radio.weblogs.com/0100887/2002/03/27.html\">pipeline the web</a>, like this:</p>\n<p>dj@giant:~$ <span style=\"color: #008000;\">GET <a href=\"http://twitter.com/users/show/qmacro.json\">http://twitter.com/users/show/qmacro.json</a> |  perl -MJSON -e &quot;print from_json(&lt;&gt;)-&gt;{'location'},qq/n/&quot;</span> Manchester, England dj@giant:~$</p>\n<p>None of this opaque, heavy and expensive SOA stuff here, thank you very much.</p>\n<h3 id=\"other-microblogging-systems-and-decentralisation\" tabindex=\"-1\">Other Microblogging Systems and Decentralisation <a class=\"direct-link\" href=\"https://qmacro.org/blog/2009/18/5/twitter-s-success/#other-microblogging-systems-and-decentralisation\" aria-hidden=\"true\">#</a></h3>\n<p>And does this feature set apply only to Twitter? Of course not. Other microblogging systems, notably <a href=\"http://laconi.ca/trac/\">laconi.ca</a> — most well known for the public instance <a href=\"http://identi.ca/\">identi.ca</a> — follow these guiding design principles too.</p>\n<p>What’s fascinating about <a href=\"http://laconi.ca/\">laconi.ca</a> is that just as a company that wants to keep message traffic within the enterprise can run their own mail server (SMTP) and instant messaging &amp; presence server (Jabber/XMPP), so also can <a href=\"http://laconi.ca/\">laconi.ca</a> be used within a company for instant and flexible enterprise social messaging, especially when combined with <a href=\"http://www.oreillynet.com//cs/user/view/cs_msg/12476\">enterprise RSS</a>. But that’s a story for another post :-)</p>\n",
      "date_published": "2009-05-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/8/5/analysing-cv-searches-with-delicious/",
      "url": "https://qmacro.org/blog/2009/8/5/analysing-cv-searches-with-delicious/",
      "title": "Analysing CV searches with Delicious",
      "content_html": "<p>I put my <a href=\"https://qmacro.org/about/CV.html\">CV online</a> recently, and having the machine that serves this website (an iMac running Ubuntu Linux) sitting in the study, I can almost ‘feel’ the HTTP requests entering the house, going down the wire, and being served, like lumps travelling down a pipe in a Tom &amp; Jerry cartoon.</p>\n<p>So I was thinking about doing something useful with Apache’s access log, more than what I already have with the excellent <a href=\"http://www.mrunix.net/webalizer/\">Webalizer</a>. Inspired (as ever) by <a href=\"http://blog.jonudell.net/about/\">Jon Udell</a>‘s “<a href=\"http://blog.jonudell.net/2009/02/26/collaborative-curation-as-a-service/\">ongoing fascination with Delicious as a user-programmable database</a>“, I decided to pipe the access log into a Perl script and pull all the Google search referrer URLs that led to /qmacro/CV.html. For every referrer URL found, I grabbed the query string that was used and split it into words, removing noise. I also made a note of the top level domain for the Google hostname – a very rough indication of where queries were coming from.</p>\n<p>But rather than create a database, or even an application, to analyse the results, I just posted the information as bookmarks to <a href=\"http://delicious.com/qmacro\">Delicious</a> (after a simple incantation of *perl -MCPAN -e ‘install <a href=\"http://search.cpan.org/dist/Net-Delicious/\">Net::Delicious</a>‘ *- just what I needed, thanks!).</p>\n<p>Delicious <em>is</em> a database, and by its very nature and purpose has a flavour that lends itself very well to loosely coupled data processing and manipulation. It’s about URLs and tags. It’s about adding data, replacing data, removing data. Basic building blocks and functions. Every item in the database has, and is keyed by, a URL, and as such, every item is recognised and treated as a first class citizen on the web. Even the metadata (tag information) is treated the same.</p>\n<p>So what did I end up with? Well, for a start, I have a useful collection of referring CV search URLs, the collection being made via a common grouping tag ‘<a href=\"http://delicious.com/qmacro/cvsearchkeywords\">cvsearchkeywords</a>‘ that I assigned to each Delicious post in addition to the tags derived from the query string.</p>\n<p><a href=\"http://www.flickr.com/photos/qmacro/3511806669/\" title=\"CV search keywords on Delicious by qmacro, on Flickr\"><img src=\"http://farm4.static.flickr.com/3341/3511806669_662fb2f906.jpg\" alt=\"CV search keywords on Delicious\" /></a></p>\n<p>I also have a useful analysis of the search keywords, in the list of “Related Tags” – tags related to the common grouping tag. I can see right now for example that beyond the obvious ones such as “cv”, popular keywords are <a href=\"http://delicious.com/qmacro/cvsearchkeywords+abap\">abap</a>, <a href=\"http://delicious.com/qmacro/cvsearchkeywords+architect\">architect</a> and <a href=\"http://delicious.com/qmacro/cvsearchkeywords+developer\">developer</a>. What’s more, that analysis is interactive. Delicious’s UI design, and moreover its excellent URL design, means that I can drill down and across to find out what keywords were commonly used with others, for example.</p>\n<p>That collection, and that analysis, will grow automatically as soon as I add the script to the logrotate mechanism on the server. That is, of course, assuming people remain interested in my CV!</p>\n<p>And my favourite referrer search string so far? “<a href=\"http://www.google.co.uk/search?hl=en&amp;rlz=1G1GGLQ_ENUK324&amp;q=how+to+write+a+CV+of+a+DJ&amp;meta=\">How to write a CV of a DJ</a>” :-)</p>\n",
      "date_published": "2009-05-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/25/4/sap-everywhere/",
      "url": "https://qmacro.org/blog/2009/25/4/sap-everywhere/",
      "title": "SAP everywhere!",
      "content_html": "<p>I remember back in the ’90s joking with my friend <a href=\"http://www.piersharding.com/blog\">Piers</a></p>\n<blockquote>\n<p>When I see the first book on SAP hit the bookstores, it’s time to move on :-)</p>\n</blockquote>\n<p>In those days there were no books on SAP, and I was still in shock from receiving SAP documentation properly printed and bound — in the early days we had SAP install guides on green and white striped fanfold paper from daisywheel printers, with sentences literally half in German, half in English.</p>\n<p>How things have changed. Beyond the <a href=\"http://www.sdn.sap.com/\">SAP Developer Network</a>, which I can proudly say I had a hand in forming and nurturing, I’ve just seen a <a href=\"http://www.youtube.com/watch?v=cJ-NbF4Nw8A\">video</a> on YouTube by <a href=\"http://jonerp.com/\">Jon Reed</a> on how to find and follow SAP people on Twitter! I’ve also just added myself to the <a href=\"http://wiki.zsapping.com/pub:twitter:groups:sap:index\">SAP Affinity Group</a>. A long way from <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/1973\">SAP-R3-L</a>!</p>\n<p>Perhaps it’s time to rebuild <a href=\"https://qmacro.org/undefined/\">Planet SAP</a>?</p>\n",
      "date_published": "2009-04-25T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/24/4/an-http-connector-for-tarpipe-tarbridge/",
      "url": "https://qmacro.org/blog/2009/24/4/an-http-connector-for-tarpipe-tarbridge/",
      "title": "An HTTP connector for Tarpipe: &#39;tarbridge&#39;",
      "content_html": "<p>One thing that Tarpipe would really benefit from is a connector that would enable an HTTP request (I’m thinking of POST, here) to be made on an arbitrary resource (URL). This is something that <a href=\"http://getsatisfaction.com/tarpipe/topics/a_rest_connector\">other people have already mentioned</a> — and the Tarpipe folks are certainly working on it.</p>\n<p>I couldn’t wait, however, and thought I’d have a bit of fun building an HTTP connector. I don’t have access to Tarpipe’s sources, so I had to go a roundabout route. Tarpipe has a Mailer connector, which enables emails to be sent from within a workflow. So I built a very simple email-to-HTTP-POST mechanism ‘tarbridge’. This way, you can use the Mailer connector to send an email like this:</p>\n<pre><code>Recipient: tarbridge+&lt;token&gt;@pipetree.com\n Subject: the URL to POST to and an optional content-type\n Body: the payload of the HTTP POST\n</code></pre>\n<p>and an HTTP POST will be made to the URL specified. You’ll even get an email reply with the HTTP response.</p>\n<p>Here’s an example workflow that receives an email containing something to bookmark in Delicious. It uses the Delicious connector, and also makes an HTTP POST to a little test application (running on a local devserver version of the excellent <a href=\"http://code.google.com/appengine/\">Google AppEngine</a>, fwiw) via tarbridge.</p>\n<p><img src=\"https://qmacro.org/blog/img/2009/04/tarpipebridgetest1-300x134.jpg\" alt=\"image\" /></p>\n<p>The Subject of the email contains the URL to make the HTTP POST to. By default the Content-Type will be set to application/x-www-form-urlencoded, but you can override this by specifying a different content type (here I’ve specified text/plain) as a second parameter in the Subject.</p>\n<p>The addressee of the email is ‘tarbridge+<some token=\"\">@pipetree.com’. I’ve used this approach so I can control what goes through this tarbridge mechanism. A token is associated with an email address, to which the HTTP response is sent in reply.</some></p>\n<p>The body of the email is what’s send as the payload in the HTTP request.</p>\n<p>So sending this email to the Tarpipe workflow above:</p>\n<p>From: DJ Adams <a href=\"mailto:dj@pipetree.com\">dj@pipetree.com</a> To: <a href=\"mailto:bury69xxxx@tarpipe.net\">bury69xxxx@tarpipe.net</a> Subject: <a href=\"http://blog.tarpipe.com/\">http://blog.tarpipe.com</a> Tarpipe blog</p>\n<p>results in this Delicious entry:</p>\n<p><img src=\"https://qmacro.org/blog/img/2009/04/tarpipeblogurlondelicious-300x196.png\" alt=\"image\" /></p>\n<p>and this email sent, via the Mailer connector, to the tarbridge mechanism:</p>\n<pre><code>To: tarbridge+token@pipetree.com Subject: http://www.pipetree.com:8888/feed/ text/plain From: tarpipe mailer &lt;mailer@tarpipe.net&gt; http://blog.tarpipe.com http://del.icio.us/url/95948a42d8777b46278d4da333345473\n</code></pre>\n<p>which in turn results in an HTTP POST being made like this:</p>\n<pre><code>POST /feed/ HTTP/1.1 User-Agent: tarbridge/0.1 libwww-perl/5.812 Host: www.pipetree.com:8888 Content-Type: text/plain [...] http://blog.tarpipe.com http://del.icio.us/url/95948a42d8777b46278d4da333345473\n</code></pre>\n<p>The result of the HTTP POST is emailed back like this:</p>\n<pre><code>Subject: Re: http://www.pipetree.com:8888/feed/ text/plain To: DJ Adams &lt;dj.adams@pobox.com&gt; From: tarbridge+token@pipetree.com\n\nHTTP/1.0 201 Created Date: Fri, 24 Apr 2009 10:06:55 GMT Location: http://www.pipetree.com:8888/feed/test-feed-1/agtmZWVkYnVpbGRlc[...] [...]\n</code></pre>\n<p>So if you were really crazy you could even feed that response back into the Tarpipe loop, using a second workflow (hmm, Tarpipe could do with a string parsing connector too :-)</p>\n<p>The tarbridge mechanism is just a little Perl script that’s triggered via <a href=\"http://www.procmail.org/\">Procmail</a>. I’m running <a href=\"http://www.ubuntu.com/\">Ubuntu</a> on <a href=\"http://pipetree.com/\">pipetree.com</a> so it was just a question of configuring <a href=\"http://www.postfix.org/\">Postfix</a> to use Procmail for delivery, and writing a .procmailrc rule like this:</p>\n<p>:0 c | ~/handler.pl 2&gt;&gt; ~/tarbridge.log</p>\n<p>If you’re interested in trying this out using my (pipetree) instance of this tarbridge, please email me and I’ll set you up with a token. Usual caveats apply. And remember, this is only in lieu of a real HTTP connector which I hope is coming soon from Tarpipe!</p>\n",
      "date_published": "2009-04-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/21/4/tarpipe-com-programming-2-0/",
      "url": "https://qmacro.org/blog/2009/21/4/tarpipe-com-programming-2-0/",
      "title": "tarpipe.com - Programming 2.0?",
      "content_html": "<p>Is <a href=\"http://tarpipe.com/\">tarpipe.com</a> an early example of a “Programming 2.0″ concept?</p>\n<p>I first read about Tarpipe from Curt Cagle’s &quot;Analysis 2009&quot;. In turn, Curt points to <a href=\"http://jeff-barr.com/2008/12/31/tarpipe-rocks-a-quick-review/\">Jeff Barr’s post</a> which describes the concept and the implementation very well. It’s a fascinating concoction of Web 2.0 services and visual programming (in the style of <a href=\"https://en.wikipedia.org/wiki/Yahoo!_Pipes/\">Yahoo! Pipes</a>), and in its beta infancy has that great “wow, imagine the full potential!” feel to it.</p>\n<p>Here’s an example of what I’ve been playing around with. With my phone — and with the Google G1 phone it’s so easy — I can snap a picture of the beer I’m drinking, and email that picture to a Tarpipe workflow, along with the name of the beer in the subject line and a list of tags rating the beer in the body.</p>\n<p>The workflow uses the existing Tarpipe connectors to:</p>\n<ul>\n<li>post the picture on <a href=\"http://www.flickr.com/photos/qmacro/\">Flickr</a> with the beer name as the title and the rating words as tags, including a statically added ‘<a href=\"http://www.flickr.com/photos/qmacro/tags/beerrating/\">beerrating</a>‘</li>\n<li>have a short URL constructed via <a href=\"http://tinyurl.com/\">TinyURL</a> for the new Flickr picture page (ok this is pre Kellan’s <a href=\"http://revcanonical.appspot.com/\">rev=”canonical”</a>, and while Flickr already has such links the URLs are not exposed by Tarpipe’s Flickr connector)</li>\n<li><a href=\"http://identi.ca/qmacro\">dent the rating</a>, with the short picture URL, on <a href=\"http://identi.ca/\">identi.ca</a> (which in turn, re-dents to <a href=\"http://twitter.com/qmacro\">Twitter</a> too)</li>\n<li>reply to the original email confirming that the beer was successfully rated</li>\n</ul>\n<p>All in the space of a few clicks and drags! Here’s a shot of that workflow (with a couple of connectors partially obscured — it’s a <a href=\"http://getsatisfaction.com/tarpipe/topics/connector_moved_to_high_and_now_unable_to_delete_edit_it\">known bug in Tarpipe</a>):</p>\n<p><img src=\"https://qmacro.org/blog/img/2009/04/tarpipebeerrater.png\" alt=\"tarpipebeerrater\" /></p>\n<p>But what’s more fabulous: Tarpipe has been ideal for my son <a href=\"http://jcla1.com/\">Joseph</a> to start up with programming, with me. And he finds it really interesting. Visual, direct feedback, using and connecting things and services he understands. Gone are the days of</p>\n<pre><code>10 PRINT &quot;HELLO WORLD&quot;\n20 GOTO 10\n</code></pre>\n<p>on black and white low-res displays.</p>\n<p>After explaining a few concepts, Joseph was totally up and away, building <a href=\"http://www.flickr.com/photos/8583308@N05/3392375982/\">his first workflow</a> which is pretty impressive! (I’m a biased, <a href=\"http://www.flickr.com/photos/qmacro/3397440933/\">proud dad</a> of course :-) And now we’re off looking at <a href=\"https://en.wikipedia.org/wiki/Yahoo!_Pipes\">Yahoo! Pipes</a> too, and he’s asking how we can link the two services together.</p>\n<p>Hello, new programming world.</p>\n",
      "date_published": "2009-04-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/15/4/old-feed-urls-fixed-with-a-bit-of-mod-rewrite-voodoo/",
      "url": "https://qmacro.org/blog/2009/15/4/old-feed-urls-fixed-with-a-bit-of-mod-rewrite-voodoo/",
      "title": "Old feed URLs fixed with a bit of mod_rewrite voodoo",
      "content_html": "<p>As <a href=\"http://identi.ca/notice/2941485\">feeds are the new blogs</a> (quoting myself, oh dear!) I thought it important to make sure that the feed bots that have been continuously polling my weblog’s feed and getting 404s (since 2005, I guess) are sent to the right place. My Apache access.log file was showing that 404s were being returned for /index.rdf and /index.xml, and /qmacro/xml for that matter … all old locations for the weblog feed.</p>\n<p>The power of HTTP, and the voodoo of <a href=\"http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html\">mod_rewrite</a>, allow me to fix things. Inserting these lines into the relevant .htaccess files does the trick:</p>\n<p>RewriteRule ^index.(xml|rdf)$ /feed/atom/ [R=301,L]</p>\n<p>RewriteRule ^xml$ /feed/atom/ [R=301,L]</p>\n<p>Now the bots are redirected to this weblog’s <a href=\"https://qmacro.org/feed/atom/\">shiny new feed</a>. And I’ll <a href=\"http://www.w3.org/Provider/Style/URI\">try not to change the URL again</a> :-)</p>\n",
      "date_published": "2009-04-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2009/15/4/back-from-real-life/",
      "url": "https://qmacro.org/blog/2009/15/4/back-from-real-life/",
      "title": "Back from Real Life",
      "content_html": "<p>I’m back online, after an eXtended Away in Real Life. I don’t think my online presence will ever be what it was (I can’t believe how much I posted in the past few years) but blogging isn’t the same anyway. Even the new <a href=\"http://www.wired.co.uk/\">UK edition of Wired magazine</a> (I’ve subscribed, btw) lists blogging under “Tired”. Now there’s microblogging (<a href=\"http://identi.ca/qmacro\">identi.ca</a> and <a href=\"http://twitter.com/qmacro\">Twitter</a> spring to mind immediately) and people seem to be <em>emailing</em> each other on Facebook these days! That’s the equivalent of the heinous corporate crime of using Excel for everything, like sending screenshots to each other, or writing simple lists (<em>shudder</em>).</p>\n<p>What’s more, my son Joseph is <a href=\"http://www.pipetree.com/josephadams/\">online</a> now too, complete with <a href=\"http://whitegolem.blogspot.com/\">blog</a>, <a href=\"http://identi.ca/jcla1\">identi.ca</a> &amp; <a href=\"http://twitter.com/jcla1\">Twitter</a> accounts, and more!</p>\n<p>Anyway, I’ve got myself a local copy of <a href=\"http://www.wordpress.org/\">WordPress</a>, and am slowly retrieving my past with the help of <a href=\"http://www.archive.org/web/web.php\">The Wayback Machine</a>. It’s a slow and not entirely painless process, but I’m getting there. I’m doing a month at a time, and am up to <a href=\"https://qmacro.org/2003/01/\">Jan 2003</a>. Nothing’s properly categorised or tagged yet, nor are all the links working perfectly. There are even <a href=\"https://qmacro.org/1970/01/\">some posts</a> that aren’t properly datestamped yet! More importantly, I haven’t yet put the <a href=\"http://httpd.apache.org/docs/2.0/mod/mod_rewrite.html\">mod_rewrite</a> magic in place to reduce the 404s that I’m seeing in my HTTP access log.</p>\n<p>Watch this space.</p>\n",
      "date_published": "2009-04-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/16/12/java-and-gosling-s-fud-madness-or-desperation/",
      "url": "https://qmacro.org/blog/2005/16/12/java-and-gosling-s-fud-madness-or-desperation/",
      "title": "Java and Gosling&#39;s FUD - madness or desperation?",
      "content_html": "<p>For a while now, people have been talking about the <a href=\"http://blog.dave.org.uk/archives/000874.html\">fall</a> <a href=\"http://www.businessweek.com/technology/content/dec2005/tc20051213_042973.htm\">from</a> <a href=\"http://www.onjava.com/pub/a/onjava/2005/10/19/challenging-java-dominance.html\">favour</a> of Java (aka <a href=\"http://www.oreillynet.com/pub/a/oreilly/editors/java_1004.html\">the new COBOL</a>).</p>\n<p>Today <a href=\"http://jroller.com/page/obie?entry=gosling_fud_is_laughable\">Obie Fernandez points to</a> some <a href=\"http://blogs.sun.com/roller/page/jag?entry=radlab_scripting_and_scale\">hopelessly weak arguments</a> against scripting / dynamic languages … from the father of Java himself, James Gosling.</p>\n<p>Is Gosling’s post just a moment of madness, or a sign of hopeless desperation?</p>\n",
      "date_published": "2005-12-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/28/11/sap-and-open-source-the-debate-continues/",
      "url": "https://qmacro.org/blog/2005/28/11/sap-and-open-source-the-debate-continues/",
      "title": "SAP and Open Source: the debate continues",
      "content_html": "<p>I wrote a blog entry on <a href=\"http://www.sdn.sap.com/\">SDN</a> almost two weeks ago entitled “<a href=\"https://www.sdn.sap.com/irj/sdn/weblogs?blog=/pub/wlg/2687\">SAP and Open Source: an analysis and letter to SAP and Shai</a>“. It followed the <a href=\"http://blogs.adobe.com/matthiaszeller/2005/11/sap_slams_open_1.html\">flurry</a> <a href=\"http://sapventures.typepad.com/main/2005/11/sap_slams_open_.html\">of</a> <a href=\"http://linux.slashdot.org/article.pl?sid=05/11/11/0613255\">comment</a> that was made after Shai made some alarming statements regarding SAP and Open Source <a href=\"http://www.churchillclub.org/eventDetail.jsp?EVT_ID=682\">at the Churchill Club</a>. My angle was that Shai was complaining that people were twisting his words and taking what he said out of context, so I transcribed the <a href=\"http://i.i.com.com/cnwk.1d/i/z/e/200511/110905_CHC_EVENT.mp3\">MP3 recording</a> of what he said, and it was worrying reading, even when you ignored his statements on “IP socialism” and innovation (I concentrated on the source code context).</p>\n<p>Anyway, I’m glad to say that the conversation is still continuing, as it needs to. Shai hasn’t responded yet, but I won’t hold my breath. There have been (other) SAP employees that have given their comments, which I value greatly. If you’ve got something to add, don’t forget to add your comment to the post! There are a handful of critical debates for people to have in the SAP world. Critical for SAP, and critical for us. Open Source is one of those debates.</p>\n<p><strong>Update:</strong> Discussion about Open Source covers the current <a href=\"http://www.flickr.com/photos/qmacro/72559493/\">top three weblog posts</a> on SDN right now. That said, Shai still hasn’t responded.</p>\n",
      "date_published": "2005-11-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/26/11/acorn-atom-and-my-start-in-computing/",
      "url": "https://qmacro.org/blog/2005/26/11/acorn-atom-and-my-start-in-computing/",
      "title": "Acorn Atom and my start in computing",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2005/11/atom.png\" alt=\"Acorn Atom screen\" /></p>\n<p>I wrote a little piece for the <a href=\"http://radar.oreilly.com/\">O’Reilly Radar</a> on <a href=\"http://radar.oreilly.com/2005/11/burn-in-7-dj-adams.html\">how I got into computers</a>. It brought back lots of memories, a strong one of which was the hours, days, weeks I spent on my <a href=\"http://en.wikipedia.org/wiki/Acorn_Atom\">Acorn Atom</a>. I have my original Atom in storage, so I turned to <a href=\"http://www.mess.org/\">MESS</a> for help in getting an emulated Atom booted up. Ahhh, even now the font and cursor size are whisking me back in time …</p>\n",
      "date_published": "2005-11-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/17/11/moonoverfailsworth/",
      "url": "https://qmacro.org/blog/2005/17/11/moonoverfailsworth/",
      "title": "MoonOverFailsworth",
      "content_html": "<div style=\"float: right; margin-left: 10px; margin-bottom: 10px;\">[![](http://static.flickr.com/32/63833935_b287b1a5cd_m.jpg)](http://www.flickr.com/photos/qmacro/63833935/ \"photo sharing\")  \n<span style=\"font-size: 0.9em; margin-top: 0px;\">  \n[MoonOverFailsworth](http://www.flickr.com/photos/qmacro/63833935/)  \n<p>Originally uploaded by <a href=\"http://www.flickr.com/people/qmacro/\">qmacro</a>.<br />\n</p></span></div>The moon was huge and very present as I drove up the M6 the other night. It was still hanging around in the morning, as you can see. In the distance you can see Salton Mill. There was another mill, when I was a lad, in the middle distance (where the new houses can be seen) – Argyll Mill, I think.<p></p>\n",
      "date_published": "2005-11-17T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/21/7/whither-sap/",
      "url": "https://qmacro.org/blog/2005/21/7/whither-sap/",
      "title": "Whither SAP?",
      "content_html": "<p>I’ve been thinking a lot recently about where SAP is going and what SAP is doing today, especially in the light of where it went and what it did in the past. To be honest, the thinking has been triggered by frustration at the nuts and bolts of SAP technical matters, particularly in the area of service support and basis work.</p>\n<p>SAP found success with R/2 and R/3 for many reasons, one of which was abstraction. Because they wanted to offer a set of uniform facilities across a range of vastly different platforms, they built abstractions for basic services such as jobs (background processing), spooling, process and session management, database access, and so on. These abstractions, these inventions of layers on top of OS-level services contributed a great deal to the success of SAP implementations.</p>\n<p>However, this culture of abstraction, combined with decades of being <em>the</em> original and best wall-to-wall ERP software solution, is causing problems since SAP started the long process of shaking off its monolith mantle and starting to compete and coexist more with the rest of the software world, and the internet (most particularly the web). SAP are used to designing, building and delivering things on their own terms, according to their own culture, and based on their view of the rest of the world. The problem is, the tech world in which SAP deliver software and services today is vastly different to what it was ten or twenty years ago, and SAP’s size is making it difficult for them to adapt quickly enough.</p>\n<p>Let’s take the web as an example (which clearly didn’t exist then, but has for a good while now). And within the web example, let’s take a bread and butter service – <a href=\"http://service.sap.com/notes\">OSS Notes</a>, within the larger context of the service portal. Essentially, an OSS note is a document that describes a particular issue, typically with Symptom, Cause, Solution and other sections (including links to software corrections). Pretty straightforward. An OSS note has versions, a status, belongs to an application area, and has other data associated with it, but can be essentially represented as a web page.</p>\n<p>The power of the web is vast, but how that power is presented is subtle. Hyperlinks, addressing (URLs), reliable navigation, and so on. And at the user end, we have the UI (the browser) that contains basic but important tools such as bookmarking, browsing history, and simple features like showing what the address of a hyperlink is when you hover over it.</p>\n<p>But what SAP has done in implementing OSS notes on the web (they were previously only available on an SAP system that you had to connect to with SAPGUI) shows all the signs of the abstraction (re-invention) culture, and the struggle SAP still has in embracing the rest of the world.</p>\n<p>First of all, the OSS notes are available from within the service portal, which is beset with all manner of navigation difficulties and breaks many of the cardinal rules of web design (<a href=\"http://www.flickr.com/photos/qmacro/23720154/\">frames</a>, popups and new windows, impossibly long URLs, overuse of Javascript, <a href=\"http://www.flickr.com/photos/qmacro/27319450/\">pages that don’t fit in your browser</a> even at 1024×768, but I digress … ) – in fact the most telling symptom of the portal’s problems is the fact that SAP never refer to specific URLs for things in the portal, you always receive instructions such as<br />\n“<em>Go to this base URL, then click here, then here, then here, then here to get what you’re looking for</em>” and of course invariably the texts and hyperlinks that you click through one month have been changed by the next month and this sort of navigation description breaks down entirely (ever tried to find a specific version of, say, SAPINST?)</p>\n<p>But the main problem is that the OSS notes are only on the web in the letter of the law. In the spirit of the law, they’re not. The frameset-induced misery means that you can’t use basic browser tools to bookmark and otherwise organise OSS notes the way <em>you</em> want to. But it’s even more interesting than that – on the top frame of each OSS note page, there are Javascript powered ‘favourites’ and ‘subscribe’ links. Why can’t I just use the power of the web – URLs, to manage my own favourites, either in my browser, or using <a href=\"http://del.icio.us/\">external tools</a>?</p>\n<p>Furthermore, even if you overlook the problems caused by overengineering — this abstraction layer of web upon web — you can’t escape the fact that the machine-translation of OSS note content into HTML is beset with problems. Formatting issues mean that you soon lose your way in a long OSS note when it has nested bullet points. Also, none of the things referred to, which are available somewhere in the SAP portal, are hyperlinked (in fact, <em>nothing</em> is hyperlinked).</p>\n<p>Finally, there is actually a unique URL for each OSS note but each one is extremely long, bears no relation to the OSS note number, and isn’t easy to exchange in, say, an IM/IRC or email-based chat.</p>\n<p>You might think I’m particularly picking on OSS notes. I’m not; it’s just that it’s a tangible (and in-your-face) example of how things can go wrong when the culture of abstraction and the oil tanker-like momentum cause SAP programmers to over-engineer a solution. (And it’s been <a href=\"https://qmacro.org/archives/2005/07/hacking_the_sap.html\">on my mind</a> recently too). There are plenty of other examples where SAP is unnecessarily re-inventing stuff – take SAPtutor for example – there are plenty of platform-independent ways of presenting slides, video and audio on the web. Why, then, invent yet another format that needs a special player, that’s only available on a single platform? But I digress (again) …</p>\n<p>So, to the title of this post, then. Where is SAP going? They’ve made good progress in opening up to the world (albeit with a number of wrong turns, in the past and more recently), but there’s a lot to do. I know there’s a lot to do, as I’ve seen it first hand while performing some Basis activities recently, and having to use the service portal to get to where we need to be.</p>\n<p>Can SAP adapt? Can they start to embrace, rather than resist, the environments in which they find themselves today? Can they tune their complex culture (of complexity) to deliver a better service and better software?</p>\n<p>I have faith in them. But sometimes, when you’re making a living as a SAP-hacking footsoldier, it’s hard.</p>\n<p>Update:</p>\n<p>Shortly after posting this, Piers wrote an <a href=\"http://www.piersharding.com/blog/archives/2005/07/sap_a_closed_cu.html\">interesting followup</a> on how the closed culture may end in doom. Also, I spotted a well-written post by Ryan Tomayko called <a href=\"http://lesscode.org/2005/07/21/motherhood-and-apple-pie/\">Motherhood and Apple Pie</a> today which spookily touches on the core point of this post – that SAP are resisting the very tools and technologies and design axioms that make the most scalable and widely distributed meta-application tick.</p>\n",
      "date_published": "2005-07-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/11/7/hacking-the-sap-service-portal-to-make-oss-notes-better/",
      "url": "https://qmacro.org/blog/2005/11/7/hacking-the-sap-service-portal-to-make-oss-notes-better/",
      "title": "Hacking the SAP service portal to make OSS notes better",
      "content_html": "<p>Using OSS notes on SAP’s service portal is extremely cumbersome. I used <a href=\"http://greasemonkey.mozdev.org/\">Greasemonkey</a> to hack the UI to make it a little better. I had written it up on my <a href=\"http://www.sdn.sap.com/sdn/weblogs.sdn?blog=/pub/u/3294\">SDN blog</a>:</p>\n<p><a href=\"http://www.sdn.sap.com/sdn/weblogs.sdn?blog=/pub/wlg/1669\">Hacking the SAP service portal to make OSS notes better</a></p>\n<p>but forgot to mention it here. <a href=\"http://www.piersharding.com/\">Piers</a> had just complained to me that he couldn’t find any reference to it here, hence this post.</p>\n<p>For the impatient, there’s the <a href=\"http://www.pipetree.com/~dj/2005/05/OssNoteFix/screencast.html\">screencast</a>, and the <a href=\"http://www.pipetree.com/~dj/2005/05/OssNoteFix/ossnotefix.user.js\">ossnotefix.user.js</a> script.</p>\n",
      "date_published": "2005-07-11T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/5/7/sdn-blogging-and-planet-sap/",
      "url": "https://qmacro.org/blog/2005/5/7/sdn-blogging-and-planet-sap/",
      "title": "SDN, Blogging, and Planet SAP",
      "content_html": "<p>In May I was approached by a chap at SAP in Walldorf who wanted to ask me some questions on blogging (I <a href=\"http://scn.sap.com/people/dj.adams/content\">have a blog</a> over on the <a href=\"http://www.sdn.sap.com/\">SAP Developer Network</a>) for an article he was writing for an SAP-internal magazine.</p>\n<p>One of the questions was “<strong>Why do you write two blogs?</strong>“. I wrote a longish reply, and thought it was worth putting up here (mostly because he didn’t use any of it ;-)</p>\n<p>My answer:</p>\n<ul>\n<li></li>\n</ul>\n<p>Well, there are many reasons. Here are the main ones: *</p>\n<p>(a) History</p>\n<p>I was writing on my blog before SDN came along. SDN came along, and I<br />\nwas invited to write some posts there. I did. I continue to post on my<br />\nblog while contributing to the collective SDN one too.</p>\n<p>(b) Freedom</p>\n<p>The web is a great leveller. There’s no ‘us and them’ anymore. And<br />\nwith weblogs crystallising the essence of publishing at the individual<br />\nlevel, everyone benefits. Get a weblog, express your voice. It’s<br />\nyour individual press. I’m a member of SDN, but like everyone else,<br />\nstill a guest there. SDN is run by, hosted by, and funded by SAP. So<br />\nnaturally I feel restricted in what I can, or should, say. There have<br />\nbeen occasions when what people have written on SDN has ruffled a few<br />\nfeathers. Sometimes because what they wrote is ridiculous and negative,<br />\nand others because what they wrote flies in the face of where SAP is<br />\ngoing, in a technology context (I experienced the latter first hand).</p>\n<p>Writing in my own blog means that I know that I’m not going to be<br />\ncensored, or have my posts pulled. This isn’t by any means a criticism<br />\nof SAP or SDN. It’s just the way it is.</p>\n<p>(c) Technology</p>\n<p>When SDN first came along, it wasn’t properly on the web. It was an<br />\nisland, blocked off by the requirement to register and log on with a<br />\nuserid and password. Many people (including me) hassled the SDN team<br />\ninto removing the registration and authentication restriction (at least<br />\nfor people who just wanted to <em>read</em> stuff). And they did. Kudos to<br />\nthose who made the wheels turn (and they know who they are).</p>\n<p>Now it’s time, in my opinion, for SDN to embrace community technologies<br />\neven more, and use the power of RSS (and / or Atom) to aggregate weblog<br />\nposts into one big ‘Planet SAP’. Syndicate blogs from around the<br />\nweb-o-sphere into a single place. Many communities do this to great<br />\neffect. If SDN doesn’t do it, I’m sure someone else will come along<br />\nand do it eventually. Embrace, don’t resist :-)</p>\n<p>So if there was a ‘Planet SAP’ weblog aggregation mechanism, I’d only<br />\nhave to write on one blog, my own, and the SAP stuff would appear in SDN.</p>\n<p>Actually, I write on three blogs. The third is a shared “Mr Angry” type<br />\nweblog where I rant. And rant. And rant.</p>\n<p>As I was writing the bit about aggregation, I thought “Why don’t I do that?”. So I did. Using the excellent <a href=\"http://www.planetplanet.org/\">Planet Planet</a> aggregation software, I put together <a href=\"http://www.pipetree.com/planetsap\">Planet SAP</a>.</p>\n<p>It’s in the early stages, gathering posts from only a small number of feeds. If you have SAP related things to say, and a feed for it, give me a shout, and I can add it. It’s just an experiment right now … let’s see how it goes.</p>\n",
      "date_published": "2005-07-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/30/5/turnkey-mvs-3-8j-on-hercules-s-370-screenshot/",
      "url": "https://qmacro.org/blog/2005/30/5/turnkey-mvs-3-8j-on-hercules-s-370-screenshot/",
      "title": "Turnkey MVS 3.8J on Hercules S/370 Screenshot",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2005/05/16264534_127c972adf_n.jpg\" alt=\"Screenshot of Turnkey\" /></p>\n<p>As an ex MVS chap (I managed VSAM (DL/1) based SAP R/2 systems on IMS DB/DC at the start of my career) I was amazed some months back to find <a href=\"http://www.hercules-390.org/\">Hercules</a>, the open source S/370 emulator.</p>\n<p>So imagine my delight when I revisited Hercules the other day, to find a chap called Volker Bandke had put together an <a href=\"http://www.bsp-gmbh.com/turnkey\">MVS 3.8J Turnkey system</a> that you can install and run on your emulated mainframe.</p>\n<p>Using the ISPF-alike <a href=\"http://www.bsp-gmbh.com/hercules/herc_rpf.html\">RPF</a>, and <a href=\"http://www.prycroft6.com.au/vs2sw/index.html\">QUEUE</a>, a facility similar to SDSF, I am in oldtimer-heaven.</p>\n<p>And of course, the first thing I tried (after a bit of jiggery pokery setting things up) had to be the inevitable:</p>\n<pre><code>//HWORLD JOB CLASS=A,MSGCLASS=A,MSGLEVEL=(1,1),REGION=256K\n//STEP1 EXEC PGM=IEBGENER\n//SYSUT1 DD * HELLO WORLD!\n//SYSUT2 DD SYSOUT=A\n//SYSPRINT DD SYSOUT=A\n//SYSIN DD DUMMY\n</code></pre>\n<p>Welcome back JCL, my long lost friend.</p>\n<p><strong>Update</strong></p>\n<p>I found some great pictures of real vintage terminals connected up to contemporary emulators (of vintage hardware) at <a href=\"http://www.corestore.org/emuterm.htm\">Corestore Collection</a>. This is what the site’s owner calls “technological hooliganism” :-) Seeing this <a href=\"http://www.corestore.org/3278-3.jpg\">picture of a 3278</a> takes me back – I spent a good part of the start of my IT career in front of one of these…</p>\n",
      "date_published": "2005-05-30T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/20/5/sap-temporary-loss-of-touch-with-reality/",
      "url": "https://qmacro.org/blog/2005/20/5/sap-temporary-loss-of-touch-with-reality/",
      "title": "SAP: temporary loss of touch with reality?",
      "content_html": "<p>At this year’s Sapphire in Boston, Shai Agassi came out with some <a href=\"http://xml.sys-con.com/read/86130.htm\">astounding and questionable views on free and open source software</a>: “<em>Open-source technologies such as Python and PHP, to name just two, are of great interest to college students and younger people with a passion.</em>“</p>\n<p>He goes on to point out the distance between that, and what I presume he thinks of as “grown up” ERP software.</p>\n<p>How do we interpret what he said? Was it a temporary slip? Or did he really mean it? Either way, it’s worrying. Perhaps it’s the Java lobby and their puzzling stance on (not) making Java open source – is he trying to protect SAP’s investment in the <a href=\"http://www.oreilly.com/pub/a/oreilly/editors/java_1004.html\">new COBOL</a>?</p>\n<p>Perhaps it’s a momentary loss of touch with reality; to bring yourself back, Shai, ask yourself this (especially bearing in mind SAP’s attempt to move closer to open standards and “Web Services”) – what do you think 90% of the world’s largest scale web services are written in, and run on? Yes – open source and free software!</p>\n<p>SAP’s dominance of the business software market combined with the sheer size and momentum of the company and its developers sometimes make it hard for those inside to see the reality outside. So I can understand why statements like those of Agassi and Kagermann are made.</p>\n<p>Nevertheless, it makes me sad to think that they’re perhaps forgetting the enormous cooking pot, the catalyst, that is the ABAP language and the business applications that have been delivered, in an open source fashion (the source is available to see and modify), to customers for the past decade or so. Both SAP developers and SAP customers have benefitted from this cooking pot; the former due to <a href=\"http://www.catb.org/~esr/writings/cathedral-bazaar/cathedral-bazaar/ar01s04.html\">Linus’s law</a> (“given enough eyeballs, all bugs are shallow”), and the latter due to the fact that customers can learn from, build upon, and fix code delivered from SAP.</p>\n<p>Anyway, let’s see where this debate leads. SAP’s stance on open source is one thing; the stance on IP and software patents in Europe (read to the end of the article to find out what I’m referring to) is something else entirely more worrying. Come on chaps, do we really want a patent system that’s as ridiculously messed up as the one in the U.S.?</p>\n<p><strong>Update:</strong><a href=\"http://www.gadgetguy.de/index.php/2005/05#SAP__PHP_just_for_college_students_\">Frank K</a> looks at the quote differently, and also mentions SAP’s involvement with Zend. Of course, this is one of many initiatives (MaxDB and contributions by SAP’s <a href=\"http://www.sap.com/linux\">LinuxLab</a> to the GNU/Linux kernel to name a couple of others) that SAP are undertaking. Don’t get me wrong – the reason why I was so shocked is that it was such a left-of-centre stance all of a sudden. I’ve <a href=\"https://weblogs.sdn.sap.com/cs/user/view/cs_msg/258\">defended SAP’s open source initiatives</a> in the past, and I’ll do it again.</p>\n<p>In all, I’m still quite confounded by the implication that open source is for students and not for ‘serious’ software. In our SAP landscape, we have <em>major</em> SAP-powered applications that are written in Perl (with Apache, running on Linux). Perhaps it’s me. I dunno. Time for a beer. Cheers!</p>\n",
      "date_published": "2005-05-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/25/4/ubuntu-thanks-but-no-thanks/",
      "url": "https://qmacro.org/blog/2005/25/4/ubuntu-thanks-but-no-thanks/",
      "title": "Ubuntu? Thanks. But no thanks.",
      "content_html": "<p>Lots of <a href=\"http://www.intertwingly.net/blog/2005/04/22/Ubuntu-Live-on-T40\">people</a> seem to be very impressed with <a href=\"http://www.ubuntulinux.org/\">Ubuntu</a>, the slick new Linux distro based on Debian, running Gnome. Even my friend and colleague <a href=\"http://www.piersharding.com/\">Piers</a> has been bitten by the bug.</p>\n<p>To provide balance for all the good press it’s getting, I thought I’d share my experiences. And they’re all bad, unfortunately.</p>\n<p>Downloaded the latest release (Hoary Hedgehog) as a live CD image. Burnt to CD. Booted my Dell Latitude X200 laptop with it. No video (apart from the initial 80×25 setup screens). Even trying the VGA=771 had limited but ultimately intermittent success. On the few occasions when I did actually get a Gnome screen, it would only work in 640×480. (<a href=\"http://www.knoppix.org/\">Knoppix</a>, and other live CDs work fine on this laptop).</p>\n<p>No bother, I thought, I’ll go for an install CD this time, and try it out on my trusty but recently retired old server in the basement. It’s as bog standard as you could get, and has had all manner of Linux distributions running fine on it (RedHat, Fedora, Slackware, and so on).</p>\n<p>Four attempts at an install later, and no success in sight. Don’t ask me what the problems were, because I was so annoyed I erased them from my memory as I chucked the newly burnt CD in the bin. I was planning to put Ubuntu, with the nice Gnome interface, on to that old server, and use it to replace my mum’s ageing W98 machine. But no joy.</p>\n<p>A shame. I really wanted Ubuntu to work. I’m sure a hell of a lot of work went into putting Ubuntu together. And I’m sure it must be me that’s doing something wrong. But I’ve installed / booted my fair share of OSes in the past (it’s a long-term hobby with me) so I wonder what it could be. I’m after the ease of Knoppix, with the slickness and completeness of Gnome. Hmm, perhaps I should have another look at <a href=\"http://www.gnoppix.org/\">Gnoppix</a>, but it seems that they’re based on Ubuntu (now?) as well.</p>\n",
      "date_published": "2005-04-25T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/22/4/europe-sap-and-two-way-conferences/",
      "url": "https://qmacro.org/blog/2005/22/4/europe-sap-and-two-way-conferences/",
      "title": "Europe, SAP, and two-way conferences",
      "content_html": "<p>It’s the end of the week that saw the <a href=\"https://qmacro.org/archives/2005/04/sdn_meets_labs.html\">SDN Meets Labs</a> down in Walldorf. There was plenty of interest (apparently over 300 people attended, way more than in the similar event held in Palo Alto earlier this year) during, before and after (lots of reviews on the <a href=\"http://www.sdn.sap.com/sdn/weblogs.sdn\">‘planet’ SDN weblog collective</a>).</p>\n<p>But despite this interest, and despite the great efforts of those behind the scenes (thanks Karl and Mark) to get the behemoth to provide blanket Internet access for the conference location, there was something, well, lacking. It’s something that <a href=\"http://www.koehntopp.com/frank/index.php\">some</a> <a href=\"http://www.silentpenguin.com/\">people</a> have noticed and talked about before now, something that’s particularly European (or rather, non-U.S.). Whereas at U.S.-based events (for example, O’Reilly’s <a href=\"http://conferences.oreillynet.com/os2005/\">OSCON</a>, or more pertinently, the <a href=\"https://www.sdn.sap.com/sdn/index.sdn?page=sdnmeetslabs_sessions.htm\">SDN Meets Labs in Palo Alto</a>) there’s a parallel conversation, a parallel conference going on in the ether, via IM, IRC, and weblogging, there’s a noticeable silence at some events in Europe. For example, at the Palo Alto event, there was active participation from people not actually there (with a lot of help from the webcasts), and plenty of conversation in the #sdnmeetslabs backchannel. In Walldorf this week, you could see the digital tumbleweed roll by in there – partly due to the fact that the Internet connectivity didn’t extend to the actual session rooms.</p>\n<p>I think it’s partly the environment (Internet availability at SAP events have been poor to non-existent <a href=\"https://www.sdn.sap.com/sdn/weblogs.sdn?blog=/pub/wlg/175\">in the past</a>), but it’s also culture. <a href=\"http://www.silentpenguin.com/archives/2005/04/building_a_euro.html\">Matthew</a> has talked about before – conferences are two-way, not one-way. In other words, events are read/write, not read-only. The culture in Europe needs to change. Change from within the corporate mind, and from within the minds of event attendees. I think it is changing. And the more companies realise the benefit of two-way interaction at technical events, the quicker the change will happen.</p>\n<p>Roll on <a href=\"http://conferences.oreillynet.com/cs/eurooscon/create/e_sess\">Euro-OSCON</a>!</p>\n",
      "date_published": "2005-04-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/20/4/flickr-pro-from-robert/",
      "url": "https://qmacro.org/blog/2005/20/4/flickr-pro-from-robert/",
      "title": "Flickr Pro from Robert",
      "content_html": "<p>Wow, <a href=\"http://se71.org/blog\">Robert</a> just gave me a Flickr Pro account, thanks Robert!</p>\n<p>I’m going to have to think of ways to make use of the extra bandwidth and picture storage capabilities, aren’t I?</p>\n<p>This comes in handy right now as I was talking to <a href=\"http://finnern.com/\">Mark</a> yesterday at the SDN Meets Labs and he was trying to figure out how to get a whole load of pictures, identified by one or more tags, into a pool, all at once. It seemed from the UI that you couldn’t do it directly; looking however at the <a href=\"http://www.flickr.com/services/api/\">API</a> a little script making use of a combination of <a href=\"http://www.flickr.com/services/api/flickr.photos.search.html\">flickr.photos.search</a> and <a href=\"http://www.flickr.com/services/api/flickr.groups.pools.add.html\">flickr.groups.pools.add</a> might do the trick.</p>\n",
      "date_published": "2005-04-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/19/4/sdn-meets-labs/",
      "url": "https://qmacro.org/blog/2005/19/4/sdn-meets-labs/",
      "title": "SDN Meets Labs",
      "content_html": "<p>Rain. Lots of it. And I drove through it all this morning, all the way down the A61, to get to SAP University in Rot, near Walldorf. I’m at the <a href=\"https://www.sdn.sap.com/sdn/index.sdn?page=sdnmeetslabs_walldorf_agenda.htm\">SDN Meets Labs</a> event that’s taking place today and tomorrow. The event is a part of the <a href=\"https://www.sdn.sap.com/sdn/index.sdn?page=sdnmeetslabs.htm\">SAP NetWeaver Technology Tour</a>, which serves to bring together SAP technologies and SAP hackers (inside and outside of SAP) in the style of a mini-conference.</p>\n<p>The event is just getting underway, and thankfully, this time, there’s access to the interweb available to one and all.</p>\n<p>Right now Klaus Kreplin, an SDN bigwig, is talking about ROI and NetWeaver, and the reality of IT. It’s a similar presentation, using some of the same slides, as the one that Shai Agassi gave at TechEd last year in Munich. So I don’t have to concentrate too much right now.</p>\n<p>But a quick glance at the <a href=\"https://www.sdn.sap.com/sdn/index.sdn?page=sdnmeetslabs_sessions_walldorf.htm\">sessions</a> that are coming up, I’ll have to get my brain in gear. Actually, another glance around the auditorium just now and it’s <a href=\"http://www.flickr.com/photos/qmacro/9888561/\">full to overflowing</a>. Excellent. Lots of chat and geek-exchanges to come, I hope.</p>\n<p>Anyway, I’ve added some photos of the opening day (pictures from registration) to the <a href=\"http://www.flickr.com/groups/55589891@N00/\">SAP Developer Network</a> group at <a href=\"http://www.flickr.com/\">Flickr</a>.</p>\n<p>By the way, I’m sure that one of the chaps sitting over to my right is <a href=\"http://www.koehntopp.com/frank/index.php\">Frank Koehntopp</a> – Frank – is that you? Perhaps I’ll ask him via the IRC backchannel for this event – which is the #sdnmeetslabs channel on <a href=\"http://irc.freenode.net/\">irc.freenode.net</a>. See you there!</p>\n",
      "date_published": "2005-04-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/7/4/muscle-cars/",
      "url": "https://qmacro.org/blog/2005/7/4/muscle-cars/",
      "title": "Muscle cars",
      "content_html": "<div style=\"float: right; margin-left: 10px; margin-bottom: 10px;\">[![](http://photos7.flickr.com/8499955_30a62fd651_m.jpg)](http://www.flickr.com/photos/qmacro/8499955/ \"photo sharing\")  \n<span style=\"font-size: 0.9em; margin-top: 0px;\">  \n[Muscle cars](http://www.flickr.com/photos/qmacro/8499955/)  \n<p>Originally uploaded by <a href=\"http://www.flickr.com/people/qmacro/\">qmacro</a>.<br />\n</p></span></div>Driving down from Manchester to Midhurst, I stopped at the Oxford services on the M40, and parked up next to these monster-engined cars. Being still a kid at heart, I went over and had a long look at the cars and a chat with the owners.<p></p>\n<p>They were on their way up from London to the <a href=\"http://www.shakespearecountyraceway.com/\">Shakespeare County Raceway</a> for a few races and time trials. It was great to see cars like this, and even better to hear them start up as they left. I have a fondness for old (’60s and ’70s) American cars, having had a lovely <a href=\"http://www.flickr.com/photos/qmacro/4258539/\">’73 Chevrolet Caprice</a> for many years.</p>\n<p>That reminds me, <a href=\"http://www.advogato.org/person/mallum/\">mallum</a> has a great looking <a href=\"http://www.butterfeet.org/mustang/Picture046_12May04.jpg\">Mustang</a> and I’m really jealous :-)</p>\n",
      "date_published": "2005-04-07T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/28/2/an-overcorrection-too-far/",
      "url": "https://qmacro.org/blog/2005/28/2/an-overcorrection-too-far/",
      "title": "An overcorrection too far?",
      "content_html": "<p>Norman Walsh <a href=\"http://norman.walsh.name/2005/02/24/wsdl\">gives up ‘wrestling his way through the arcana of WSDL’</a>. He describes his frustrations with WSDL complexities and the difficulty of getting things done.</p>\n<p>He goes on:</p>\n<blockquote>\n<ul>\n<li></li>\n</ul>\n<p>Now suppose the implementation of great_circle_distance was a web service. It could be a straight-forward REST web service or it could be some sort of RPC or it could be something else. As a programmer writing WITW, I don’t care! What has to happen is, I declare the function and then I use it. A little boilerplate is OK, <strong>but making me understand URIs or GET or POST</strong> or XML isn’t. [Emphasis mine]<br />\n*</p>\n</blockquote>\n<p>Allow me to paraphrase taking the world of SQL as an example: <em>“…but making me understand which tables are which, and the difference between SELECT and UPDATE … isn’t”</em>.</p>\n<p>Surely that’s going a little too far in the other direction?</p>\n<p><em>Later:</em></p>\n<p>Sam Ruby, linking to this post, <a href=\"http://www.intertwingly.net/blog/2005/02/28/Secular-Simplicity\">ponders object relational mapping frameworks and simplicity</a>, while reminiscing on concise cylinder and head placement of data in the days of yore.</p>\n<p>(I too remember calculating optimum cylinder and track positions on separate spindles for the data in the (then) DL/1-based SAP R/2 databases I worked with, while scoffing at the new kid on the block, DB2, with its newfangled ‘relational’ model, which was obviously not going to last…)</p>\n<p>Anyway, his question and statement</p>\n<blockquote>\n<ul>\n<li></li>\n</ul>\n<p>What is simplicity? We all think we know what it is.<br />\n*</p>\n</blockquote>\n<p>succinctly puts the finger on one of the real reasons for a lot of the debates that wax and wane as technologies and ideas come and go.</p>\n",
      "date_published": "2005-02-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/26/2/postcode-bookmarklet/",
      "url": "https://qmacro.org/blog/2005/26/2/postcode-bookmarklet/",
      "title": "Postcode bookmarklet",
      "content_html": "<p>We’ve been spending time recently looking at <a href=\"http://del.icio.us/qmacro/property\">property</a> in the North West. I found myself often cutting and pasting a property’s postcode from the property particulars page into <a href=\"http://www.multimap.com/\">Multimap</a> to see exactly where it was.</p>\n<p>I’d been meaning to get around to making that easier when I saw <a href=\"http://erikbenson.com/\">Erik Benson</a> point at <a href=\"http://www.kokogiak.com/gedankengang/2005/02/flickr-toy.html\">FlickReplacr</a>, a cool bookmarklet toy. I had a look at the Javascript inside, and on seeing this bit,</p>\n<blockquote>\n<p>var g=window.getSelection();</p>\n</blockquote>\n<p>I realised that it was exactly what I could use to make my postcode lookups smoother.</p>\n<p>So herewith a little bookmarklet: [Postcode](javascript:location.href='<a href=\"http://uk.multimap.com/map/browse.cgi?pc=%27+encodeURIComponent(window.getSelection()\">http://uk.multimap.com/map/browse.cgi?pc='+encodeURIComponent(window.getSelection()</a>)). As with other bookmarklets, just drag this link to your toolbar; then whenever you see a postcode on a page, select it with the mouse, and click the bookmarklet.</p>\n",
      "date_published": "2005-02-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/25/2/weblog-happy-in-new-home-note-new-urls/",
      "url": "https://qmacro.org/blog/2005/25/2/weblog-happy-in-new-home-note-new-urls/",
      "title": "Weblog happy in new home - note new URLs!",
      "content_html": "<p>If you subscribed to my weblog via RSS and read it solely in RSS readers, you might have wondered what had happened recently when the RSS feeds disappeared. Well, it’s moved. I’m having <a href=\"https://qmacro.org/2005/02/18/a-fresh-start/\">a fresh start</a>, with different blog software, with slightly different URLs. You can find this weblog now at <a href=\"https://qmacro.org/blog/2005/25/2/weblog-happy-in-new-home-note-new-urls/\"></a>, and the (single, version 1.0) RSS feed at <a href=\"https://qmacro.org/index.rdf\">/index.rdf</a>.</p>\n<p>So if you’re subscribing via the old RSS feed URLs (<a href=\"https://qmacro.org/about/xml\">//qmacro.org/about/xml</a> or <a href=\"http://www.pipetree.com/~dj/qmacro.rss10\">http://www.pipetree.com/~dj/qmacro.rss10</a>) please change to <a href=\"https://qmacro.org/index.rdf\">/index.rdf</a>.</p>\n<p>Thank you. And sorry for any inconvenience and confusion.</p>\n",
      "date_published": "2005-02-25T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/24/2/ralphm-on-sjabber/",
      "url": "https://qmacro.org/blog/2005/24/2/ralphm-on-sjabber/",
      "title": "Ralphm on sjabber",
      "content_html": "<p><img src=\"http://farm4.static.flickr.com/3310/3487763403_c59fc601e4_t.jpg\" alt=\"sjabber running on a Wyse terminal\" /></p>\n<p>I had a nice conversation with <a href=\"http://ralphm.net/\">Ralph Meijer</a> this afternoon; he had grabbed a very old program that I’d written — <a href=\"https://qmacro.org/jabber/sjabber\">sjabber</a>, a console-based Jabber groupchat client — because he’d been having some issues with his current client.</p>\n<p>As Ralph <a href=\"http://ralphm.net/blog/2005/02/24/sjabber\">explained in his blog</a> just now, it only took a single-line modification to get it up and running with the newer <a href=\"http://mu-conference.jabberstudio.org/\">mu-conference</a> protocol. And if you look at the line:</p>\n<blockquote>\n<p>Type =&gt; 'headline', # why did I do this?</p>\n</blockquote>\n<p>it was fairly questionable, even to me, from the start ;-) (The line was commented out.) Clearly it should have been ‘groupchat’ from the beginning. Early days…</p>\n<p>BTW, Ralph’s speaking this weekend at <a href=\"http://www.fosdem.org/\">FOSDEM</a>, in Brussels. Irritatingly I’m otherwise engaged on the Saturday and can’t make it then; but I’m hoping to be able to pop down in the car on the Sunday and spend the day there. It’s a great event.</p>\n",
      "date_published": "2005-02-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/24/2/honest-application-requirements/",
      "url": "https://qmacro.org/blog/2005/24/2/honest-application-requirements/",
      "title": "Honest application requirements",
      "content_html": "<p>Working, as I do, on large (<a href=\"http://www.sap-ag.de/\">SAP</a>-based) projects, I get my fair share of ridiculous and badly-thought-out requirements. So it was nice to see this in the design goals list for <a href=\"http://spacepants.org/src/julie/\">julie</a>, an MP3 and OGG jukebox:</p>\n<blockquote>\n<ul>\n<li>Simplicity: julie should be easy to use when you’re drunk. *</li>\n</ul>\n</blockquote>\n<p>How … refreshing.</p>\n",
      "date_published": "2005-02-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/23/2/blosxom-entries-into-mt/",
      "url": "https://qmacro.org/blog/2005/23/2/blosxom-entries-into-mt/",
      "title": "Blosxom entries into MT",
      "content_html": "<p>After setting up this blog, it was only natural to bring across my earlier blog posts that were previously served with <a href=\"http://www.blosxom.com/\">Blosxom</a>. (I haven’t fallen out with Blosxom, I just wanted a change of scenery and a fresh start). Blosxom blog entries are simple .txt files where the first line is the post title and the rest of the lines are the body. The files are arranged in directories that reflect a category hierarchy.</p>\n<p>As a MT-novice I looked around and considered how I might best bring those Blosxom based post into MT. I mused upon a script revolving around <a href=\"http://www.movabletype.org/docs/mtapi_mt_entry.html\">MT::Entry</a>, then one that used XML-RPC, before discovering the <em><a href=\"http://www.sixapart.com/movabletype/docs/mtmanual_importing\">import</a></em> feature from reading the documentation to <a href=\"http://scott.yang.id.au/2002/12/mtsendpy/\">mtsend.py</a>. A simple file format to mass-load into MT. Perfect.</p>\n<p>So I hacked up <a href=\"https://qmacro.org/~dj/2005/02/MakeMtImportEntries.py\">MakeMtImportEntries.py</a>, a script that takes a filename (of a Blosxom .txt entry) and produces the blog post in the import format consumable by MT.</p>\n<p>This is the sort of format I’m talking about:</p>\n<p>TITLE: The Blog Post Title ALLOW COMMENTS: 0 ALLOW PINGS: 1 CONVERT BREAKS: 0 DATE: 04/27/2002 08:57:14 ----- BODY: The blog post body ...</p>\n<p>You can therefore use this script in a find loop, like this:</p>\n<p>find ./blog/ -name '*.txt' -exec ./MakeMtImportEntries.py &gt; import.dat</p>\n<p>and then move import.dat to where the MT import function expects it. Pretty straighforward.</p>\n<p>(I’m not interested right now in re-creating the categories in MT from the hierarchical categories in Blosxom, so hacking the script to include category-specific ‘headers’ in the template is left as an exercise for the reader.)</p>\n<p>Share and enjoy.</p>\n",
      "date_published": "2005-02-23T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/18/2/claphamjunction2/",
      "url": "https://qmacro.org/blog/2005/18/2/claphamjunction2/",
      "title": "ClaphamJunction2",
      "content_html": "<p><a href=\"http://www.flickr.com/photos/qmacro/4954887/\" title=\"ClaphamJunction2 by qmacro, on Flickr\"><img src=\"http://farm1.static.flickr.com/5/4954887_dae11bc094_t.jpg\" alt=\"ClaphamJunction2\" title=\"Clapham Junction\" /></a>I spend a lot of time at Clapham Junction. And as much as I don’t like waiting around for trains, there definitely is something about that station that appeals.</p>\n",
      "date_published": "2005-02-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2005/18/2/a-fresh-start/",
      "url": "https://qmacro.org/blog/2005/18/2/a-fresh-start/",
      "title": "A fresh start",
      "content_html": "<p><a href=\"http://www.flickr.com/photos/qmacro/4995324/\" title=\"PiersAtMailbox by qmacro, on Flickr\"><img src=\"http://farm1.static.flickr.com/5/4995324_f3a8b64ded_t.jpg\" alt=\"PiersAtMailbox\" title=\"gnu at Mailbox\" /></a></p>\n<p>A couple of weeks ago, Piers and I noticed some odd system messages on <a href=\"http://gnu.pipetree.com/\">gnu.pipetree.com</a>’s console. It looked like we might be under attack. Following some oddness all round, including the network interface not coming up after a reboot, we decided that the best thing to do was a fresh install of everything. So after a quick dash out at lunchtime to buy a new HDD and install the OS and applications, we went down to see the friendly and helpful folks at <a href=\"http://web.archive.org/web/20060313005353/http://www.mailbox.net.uk/\">Mailbox</a> and performed surgery on the patient.</p>\n<p>Now back up and running, we’re slowly reconfiguring stuff. A move to using <a href=\"http://web.archive.org/web/20060313005353/http://www.moveabletype.org/\">Moveable Type</a> as a shrinkwrapped piece of commodity software seemed like a good idea. I like tinkering as much as the next person, but I think we’ve reached a level where certain applications should ‘just work’ – after all, I don’t worry how Apache works inside (much), why should I spend time hacking on blogging software? I should just <em>write</em>. Moreover, fewer Internet cafes offer anything more than web access, so I need a web-based front end to things more and more (I’m still holding on to <a href=\"http://web.archive.org/web/20060313005353/http://www.mutt.org/\">Mutt</a> for now, though).</p>\n<p>Anyway, <a href=\"http://web.archive.org/web/20060313005353/http://se71.org/blog\">Robert</a> had recently started using MT, so I thought I’d give it a go. I tried <a href=\"http://web.archive.org/web/20060313005353/http://www.wordpress.org/\">WordPress</a> too. WordPress was a breeze to install and get going with – 10 minutes all told. But it didn’t seem to have ‘proper’ RSS (1.0) [Later: I found Morten talking about <a href=\"http://web.archive.org/web/20060313005353/http://www.wasab.dk/morten/blog/archives/2004/05/20/improving-rss-output-from-wordpress\">how to turn RSS 1.0 on</a>], and I couldn’t immediately use it with some other software and applications I had in mind. MT was more of a pain. I just about managed it in an hour, but that involved looking at Perl code, tailing server logs, and lots of head scratching. Not very impressive. But now it’s running, I’m happy.</p>\n",
      "date_published": "2005-02-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2004/30/9/sap-teched-here-i-come-with-session-slides/",
      "url": "https://qmacro.org/blog/2004/30/9/sap-teched-here-i-come-with-session-slides/",
      "title": "SAP TechEd here I come ... with session slides!",
      "content_html": "<p><a href=\"http://emea.sapteched.com/\">SAP TechEd</a> is looming large, and this year it’s in Munich. (If you’re not in Europe, then SAP are holding TechEd events in Bangalore, Tokyo, and San Diego too). I went last year (in Basel), and was both impressed – by the quality of the session and tutorial content – and disappointed – at the lack of wifi and ‘net access in general. One thing that was lacking overall last year was a sense of community;<br />\neveryone was there on their own, with the whole event feeling more like an exhibition or computer fair, rather than a conference. That, or everyone was avoiding me ;-)</p>\n<p>This year, it’s going to be different. There’s a <a href=\"http://wiki.sdn.sap.com/teched04/\">wiki</a>, there will be <a href=\"http://wiki.sdn.sap.com/teched04/index.cgi?MunichBOF\">Birds Of a Feather sessions</a>, including a <a href=\"http://wiki.sdn.sap.com/teched04/index.cgi?SapAndOpenSourceBof\">SapAndOpenSourceBof</a> run by me and my good friend <a href=\"http://www.piersharding.com/blog/\">Piers</a>. Wifi and ‘net access has even been promised too. (Although when I compare the bullet points on the <a href=\"http://emea.sapteched.com/\">Munich</a> and <a href=\"http://www.sapteched.com/\">San Diego</a> pages, there’s a distinct difference – no wireless at Munich?)</p>\n<p>But the biggest change this year for me is that I’ll be speaking. I’m giving a one hour session:<br />\n**</p>\n<blockquote>\n<p><em><strong>The Internet Communication Framework: Into Context and Into<br />\nAction!</strong></em></p>\n</blockquote>\n<blockquote>\n<p>*Business Server Pages (BSP) technology is a great way to put together<br />\nABAP powered web-based applications. But that’s not the only way; in<br />\nthe grander scheme of things, BSP technology is ‘just’ a layer that<br />\nsits on top of the Internet Communication Framework (ICF), the Web<br />\nApplication Server’s core foundation that provides a full set of<br />\nobject-orientated APIs for handling HTTP requests and responses.<br />\nThis talk will put the ICF not only into context – what it is, how<br />\nit works, why it’s important – but also into action, with a live<br />\ndemonstration where we build, debug and run a simple web-based service.<br />\nIf you’re interested in looking under the hood at the engine that<br />\nconnects the Internet Communication Manager with the ABAP Personality<br />\nworld, and learning how to use it yourself, then this talk is for you! *</p>\n</blockquote>\n<p>**</p>\n<p>I’m really excited at the chance to ramble and rant about some great parts of the Web Application Server; in many ways, the ICF is a bridge between the traditional walled world of SAP and the world of open standards. And this particular bridge is constructed with blocks that have ‘HTTP’ stamped through them.</p>\n",
      "date_published": "2004-09-30T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2004/29/9/the-integration-irony-of-sap-s-technology-directions/",
      "url": "https://qmacro.org/blog/2004/29/9/the-integration-irony-of-sap-s-technology-directions/",
      "title": "The integration irony of SAP&#39;s technology directions",
      "content_html": "<p>I’ve finally realised what it is that’s been bugging me about the new arena of SAP technology. I’ve felt slightly uneasy, or unbalanced, by something that I couldn’t quite put my finger on.</p>\n<p><strong>From integration to de-integration</strong></p>\n<p>But while attending a (rather poor, I have to say) training course at SAP UK last week, it finally struck me. SAP have been selling enterprise level software for a very long time. And one of the key selling points was that the data, and the business processes, were <em>integrated</em>. Indeed, for a good while, SAP’s slogan (at least here in the UK) was “Integrated Software. Worldwide”.</p>\n<p>But funnily enough, that slogan disappeared, in favour of another, that didn’t focus on integration. I can’t remember what it was (it was certainly less memorable), and now it’s changed again (to “The best-run businesses run SAP”). Anyway, back to integration. The dream presented by SAP in the 80s and 90s showed companies that they could escape the headaches of separate systems and integrate their data and processes into one single system (R/2 and later R/3). This was indeed the reality too.</p>\n<p>But what’s happening today? Every way you turn, there are SAP systems doing different things, managing different processes, and storing different data (sometimes sharing it with other SAP systems). Customer Relationship Management (CRM) systems handling sales-related activities; Supplier Relationship Management (SRM) systems handling supplier activities; there’s the IPC system for pricing and configuration, and the APO system for planning and optimisation activities. And data is moved to a business warehouse for reporting purposes. And so it goes on.</p>\n<p>Data and process <strong>de-integration</strong>, anyone?</p>\n<p>I don’t know whether the term should be ‘deintegration’ or ‘disintegration'; all I know is that it seems a different road that SAP is travelling down than they did before. On the course I attended last week, the reality of managing data between different SAP systems in one installation was rather worrying. Just as it was 20 years ago. Or so it seems. And right now, at least with CRM and BI, there doesn’t seem to be a set of uniform data exchange tools for managing the exchange – for example, while Bdocs are used to manage master data between a CRM system and an R/3 (‘legacy’ :-) system, they’re not used for the same purpose between a CRM system and a BI system. Perhaps I haven’t drunk enough kool-aid yet.</p>\n<p><strong>A different rule for the client side</strong></p>\n<p>So what was the purpose of this post? It wasn’t directly to point out the about-turn SAP seem to be making in this area. It was actually to point out the juxtaposition that SAP’s new de-integrated direction has with … their vision for front-ends. While de-integration is where it’s at on the server side, we have <em>total integration</em> on the client side. Enterprise Portal (EP) 6.0, WebDynpro, PeopleCentric design (don’t get me started on that) – every function that a user might need is lumped together in one homogenised “web” client. Email, discussion groups, graphics, reports, transactions, IM, and so on. All on one page in your browser. What happened to ‘best of breed’ on the desktop? I’m a great believer in the right tools for each job. That’s why I run a proper email client (for email and threaded forum-style discussions), a separate IM client, a separate newsreader, and a browser. Each one excels in its own domain. Trying to achieve everything in a browser window is doomed.</p>\n<p>So if best of breed, focused application platforms is what SAP is aiming for at the server end, why go in the other direction at the client end? A single screen looking extremely busy with lots of little application windows, flashing lights, tables, graphics, and so on, is <em>great</em> for screenshots and brochures. But what about the real end user? I’m an end user as well as a developer, and can imagine productivity taking a huge dive if we were forced to use this.</p>\n<p>Of course, the browser-based applications served from the EP are a lot different from what I imagine browser based applications to be. You know, ones that allow you to use your browser as, well, <em>a browser</em>, with old fashioned things like bookmarking, navigation, proper page titles, and so on. And ones that work <em>in browsers</em>, not just in a specific combination of Microsoft Windows and Internet Explorer – I’m having a nigh-on impossible time getting in to the <a href=\"http://www.sdn.sap.com/\">SAP Developer Network </a>site right now, because of recent changes that cause the site not to ‘work’ at my end with Firefox and / or Epiphany on Linux.</p>\n<p>But that (‘browser abuse’, as also <a href=\"http://bitworking.org/news/3270_Redux\">noted in more general terms by Joe Gregorio</a>) is a story for another time ;-)</p>\n",
      "date_published": "2004-09-29T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2004/6/9/the-curious-incident-of-the-dog-in-the-night-time/",
      "url": "https://qmacro.org/blog/2004/6/9/the-curious-incident-of-the-dog-in-the-night-time/",
      "title": "The Curious Incident Of The Dog In The Night-Time",
      "content_html": "<p>I bought three books at Manchester airport yesterday. One of them was <a href=\"http://www.amazon.co.uk/exec/obidos/ASIN/0099450259/\">The Curious Incident Of The Dog In The Night-Time</a> by Mark Haddon. I started reading it this afternoon, and have just stopped to slow down. It’s about a young boy with an “emotionally dissociated mind” (a phrase that Ian McEwan used, which I like), who is investigating the death of a dog. The book is written as if by the young boy. The writing is exquisite. I think that is the word that consistently comes to mind when I try to think of a way to describe it. So that’s the word I’ve used here.</p>\n<p>The writing is simple. Straightforward. It reflects the exact, black and white reasoning of this autistic child. Sad and funny at the same time. And as I read each sentence, I feel that a lot of work has gone into every one of them. Exactly the right words, the right number, and the right punctuation. It’s almost as if the words on the page, at a level above the story, tell a story themselves. I think the choice of font, which annoyingly is not mentioned in the impressum at the front like fonts used to be (“Printed in some-such-font by some-company in Bungay, Suffolk”), but is a very clean and light sans-serif one, adds to the clarity and directness of thought.</p>\n<p>When you eat a bar of chocolate, you eat it chunk by chunk and there’s not much to think about. When you eat a truffle, or some delicate hand-made chocolate assortment, you eat it slowly, bit by bit, enjoying the flavours and appreciating the work that’s gone into making it. But sometimes you just shove it in your gob and it’s gone. I’m trying desperately not to do the latter with this book. It’s too good for that.</p>\n",
      "date_published": "2004-09-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2004/21/8/is-this-thing-still-on/",
      "url": "https://qmacro.org/blog/2004/21/8/is-this-thing-still-on/",
      "title": "Is this thing still on?",
      "content_html": "<p>Tap, tap … cough</p>\n",
      "date_published": "2004-08-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2004/21/2/tim-o-reilly-and-the-three-c-s/",
      "url": "https://qmacro.org/blog/2004/21/2/tim-o-reilly-and-the-three-c-s/",
      "title": "Tim O&#39;Reilly and the three &#39;C&#39;s",
      "content_html": "<p>Well, I made it to <a href=\"http://www.fosdem.org/\" title=\"FOSDEM\">FOSDEM</a> this morning with time to spare. Bumped into <a href=\"https://qmacro.org/~dj/2004/02/Fosdem/SarahAndJosette.jpg\">Sarah and Josette</a> setting up the O’Reilly book stand. <a href=\"http://use.perl.org/%7Edavorg/journal\" title=\"Dave Cross\">Dave Cross</a> is here, as are <a href=\"http://use.perl.org/%7Eacme/journal\" title=\"Leon Brocard\">Leon Brocard</a> and Richard Kilmer, whom I <a href=\"https://qmacro.org/~dj/2004/02/Fosdem/LeonAndRichard.jpg\">snapped</a> during Tim O’Reilly’s keynote “The Open Source Paradigm Shift”.</p>\n<p><a href=\"https://qmacro.org/~dj/2004/02/Fosdem/TimAndTheThreeCs.jpg\"><img src=\"https://qmacro.org/~dj/2004/02/Fosdem/small.TimAndTheThreeCs.jpg\" alt=\"Tim talking about the three Cs\" /></a></p>\n<p>Tim’s talk was very interesting, especially coming at this stage in Open Source’s lifetime (early on). He mentioned afterwards that he’s given that talk a few times now, and people are starting to catch on to what he’s saying. What is he saying? Well, it’s nothing particularly radical, nor is it anything that’s not been discussed before by Tim or others. But what was great about the talk is the way it put all the pieces together, and provided the audience with a view above the parapet.</p>\n<p>Tim talked about how the focus is, or should be, moving away from software as a product, and further towards being a commodity. Pieces of software become merely components in undertakings that are larger than the code itself. Citing the usual suspects (Amazon, Google, EBay), he pointed out that what was important today was:</p>\n<dl><dt>**C**ommodity</dt><dd> Software is a commodity. Licencing becomes less important where open source software doesn’t get distributed further, whereas the applications that build on that software are the things that get ‘distributed’ (across the Web). </dd><dt>**C**ustomisation</dt><dd> People inside Google are the people inside the black box, inside the [Mechanical Turk](http://www.theturkbook.com/preface.php&e=7317). They’re the people who make the difference between a piece of software, and a software-based *service*. They make the applications *dynamic*. Remove those people from Google, and leave the source code. Do you still have Google? No. </dd><dt>**C**ollaboration</dt><dd> Usenet was arguably the birthplace of collaboration. What it’s become today encompasses many things. Adhocracy, social software, users contributing to Amazon with their book reviews. Napster brought automatic participation through its architecture, making it easy (compulsory!) for users to participate. “The architecture of participation” is a nice way of putting it. So with a focus on collaboration and users contributing with information, we have to be careful of where we put data and what the terms and conditions are. (I immediately think of [Orkut](http://www.orkut.com/), and the nasty business of what happened to [CDDB](http://www.cddb.org/).) </dd></dl>Tim rounded his talk off with something that rang true with me, certainly.\n<blockquote>\n<p><em>“Interoperability and open data formats may be more important than source code availability”</em></p>\n</blockquote>\n<p>It’s something I’ve said many times before: what’s perhaps even more important than open source is <strong>open protocols</strong>.</p>\n<p>(More pictures from Fosdem 2004 <a href=\"https://qmacro.org/~dj/2004/02/Fosdem\">here</a>.)</p>\n",
      "date_published": "2004-02-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2004/14/1/venus-soul-and-fun-k/",
      "url": "https://qmacro.org/blog/2004/14/1/venus-soul-and-fun-k/",
      "title": "Venus Soul and Fun(k)",
      "content_html": "<p>I went out with my skiing friends last night, to work out who’s driving with whom on the way to Ischgl (“… du mein Traum!”) at the end of the month. We ended up at Kurios, a live music bar in Krefeld, where Venus was playing a set. We had a fun time, some great tracks too, from Chic, early Police, James Brown (ok, I’m older than I look, alright? :-) and so on. Played really well by the band.</p>\n<p>Nice one, Venus!</p>\n",
      "date_published": "2004-01-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2004/12/1/fosdem-and-brussels-here-i-come/",
      "url": "https://qmacro.org/blog/2004/12/1/fosdem-and-brussels-here-i-come/",
      "title": "FOSDEM and Brussels, here I come!",
      "content_html": "<p>I’ve been umming and arring over <a href=\"https://qmacro.org/kwiki/ConferenceDates\">conferences</a> this year. One that I don’t want to miss is <a href=\"http://www.fosdem.org/\">FOSDEM</a> – the Free and Open source Software Developers European Meeting, on a weekend next month in Brussels.</p>\n<p>FOSDEM is a great grass-roots event that is full of friendly hackers. Add a wonderful city to the mix, and what more do you want? I attended FOSDEM a couple of years ago, when I was invited as a speaker – my talk was on “<a href=\"https://qmacro.org/~dj/fosdem2002/\">Understanding Jabber Components</a>“, which went down well.</p>\n<p><a href=\"http://www.pipetree.com/~dj/fosdem2002-1.jpg\"><br />\n<img src=\"http://www.pipetree.com/~dj/small.fosdem2002-1.jpg\" alt=\"me talking at FOSDEM with a branch\" /><br />\n</a><br />\nI remember noticing that other speakers in earlier talks were having difficulties with the huge size of the projector displays (they couldn’t reach to point to anything in the top halves of the slides) so just before the start of my talk I rushed outside and grabbed a fallen branch to use as a pointer. It turned out to be a great ice breaker, and <a href=\"https://qmacro.org/~dj/fosdem2002-1.jpg\">rather</a> <a href=\"https://qmacro.org/~dj/fosdem2002-2.jpg\">useful</a> too (<a href=\"http://www.ralphm.net/blog\">Ralph Meijer</a>, who’s done some cool things with Jabber, took the pictures – thanks Ralph).</p>\n<p>In the run up to that conference in 2002, I also introduced O’Reilly UK to the FOSDEM organisers, with a view to sponsorship. Seems to have turned out well.</p>\n<p>And I’ve just noticed that Dave Cross, a fellow <a href=\"http://london.pm.org/\">London Perl Monger</a>, is <a href=\"http://use.perl.org/~davorg/journal/16563\">speaking at FOSDEM</a> this time around. (Ok, I’m unfortunately only an occasional monger these days, because I’m never in the right place at the right time). Nice one Dave!</p>\n",
      "date_published": "2004-01-12T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2004/11/1/hawo-s-queen-of-grain-mills/",
      "url": "https://qmacro.org/blog/2004/11/1/hawo-s-queen-of-grain-mills/",
      "title": "Hawo&#39;s Queen of Grain Mills",
      "content_html": "<p><img src=\"https://qmacro.org/blog/img/2018/02/Screen-Shot-2018-02-28-at-14.28.22.png\" alt=\"bread\" /></p>\n<p>I’ve been baking bread now for quite a while now. The bread baking bug first got ahold of me when visiting friends. They had a bread making machine – something that you put all the basic ingredients into, hit a button, and presto. Naturally we bought one soon after, and I was, well, &quot;hooked&quot;.</p>\n<p>But sometime last year I decided there was too much plastic and electronics between me and the bread, and started making it by hand. Just the ingredients, a bowl, time, <a href=\"http://www.bbc.co.uk/radio4/\">Radio 4</a>, and me. What a difference. It’s become my number one way to relax – especially after a session at the keyboard. I love making bread. All sorts. And I also love not going to to the bakers to buy bread. It’s a nano-step <a href=\"https://qmacro.org/2003/01/20/a-new-year-and-a-new-approach/\">closer</a> to self-sufficiency. And a very rewarding one.</p>\n<p>So this Christmas I progressed backwards even more. I received a fantastic present – a <a href=\"https://qmacro.org/~dj/2004/01/GrainMill.jpg\">grain mill</a> – Hawo’s <a href=\"http://www.hawos.de/pages/engl/muhl8a.htm\">Queen 1</a> model. Beautifully simple and rock solid. The millstones are corundum, 10cm in diameter.</p>\n<p><img src=\"https://qmacro.org/blog/img/2018/02/hawo.jpg\" alt=\"Hawo Queen 1 grain mill\" /></p>\n<p>As well as giving you the <a href=\"http://www.hawos.de/engl/alles2.htm\">total health benefit</a> that only freshly milled wheat (and other grain) can, milling your own on a loaf-by-loaf basis is fun, and gives me my daily fix for the simpler things in life. I guess the next step is to grow my own. I’m just not sure I have the <a href=\"https://qmacro.org/~dj/2003/09/vegplot.jpg\">space</a>!</p>\n",
      "date_published": "2004-01-11T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2004/9/1/hello-2004/",
      "url": "https://qmacro.org/blog/2004/9/1/hello-2004/",
      "title": "Hello, 2004",
      "content_html": "<p>2004 is here. Neues Spiel, neues Glück. Although I’ve tried to avoid meta-blogging, I’ll make an exception this time. For whatever reason my blogging went quiet towards the end of last year. Work and home life kept me nicely busy.</p>\n<p>Actually, as you can see from a few recent posts here, what online time I’ve had has been taken up with <a href=\"http://www.sdn.sap.com/\" title=\"SAP Developer Network\">SDN</a>, the SAP Developer Network, a new venture from SAP and others to build an online community along the lines of MSDN or <a href=\"http://www.oreillynet.com/\">O’ReillyNet</a>. Forums, developer areas, articles, that sort of thing. It’s certainly a great step in the right direction, but IMO has still some way to go from the usability point of view. You know the sort of thing – use of frames, unwieldy URLs, web-based forums that are difficult to navigate efficiently (as most web-based forums are) – a mailing list or NNTP gateway wouldn’t go amiss here – and so on.</p>\n<p>It’s a particular shame about the forums; there are interesting conversations going on there, but it’s so hard to get around the messages (<em>“click”, “click”, “click”, “click”, “errr”, “click”, “damn, now where am I?”</em>) I simply can’t be bothered to fight to get to the right posts. I guess I’m not just ‘modern’ enough. I’d already made my concerns known to the powers that be, so at least I have a moral right to go on about it here now ;-)</p>\n<p>I’ve started to automatically pull in my SDN weblog posts into the /tech/sap category as there’s a nice <a href=\"http://www.purl.org/rss/1.0/\" title=\"RDF Site Summary 1.0\">RSS</a> feed provided for each weblogger there.</p>\n<p>I’ve also written two or three articles so far, the most recent of which:</p>\n<blockquote>\n<p><em><a href=\"https://www.sdn.sap.com/irj/servlet/prt/portal/prtroot/com.sapportals.km.docs/documents/a1-8-4/Set%20Your%20WAS%206%2010%20System%20To%20Work%20-%20Transport%20Tracking%20with%20RSS\">Set Your WAS 6.10 System To Work – Transport Tracking with RSS</a></em></p>\n</blockquote>\n<p>shows you how to use the <a href=\"http://www.sap.com/solutions/netweaver/linux/eval/was/\">evaluation</a><acronym title=\"Web Application Server\">WAS</acronym> 6.10 system and build a <acronym title=\"Business Server Pages\">BSP</acronym> application to provide an RSS feed of your <acronym title=\"Correction and Transport System\">CTS</acronym> transports so you can track system developments and customisations in the comfort of your own RSS reader. (As you can see, if you’re fortunate enough not to have to use Internet Explorer – or other browsers on MS-Windows platforms – you’ll see that the conversion of the article into HTML has a few problemettes. I’m reliably informed that the formatting problems will be addressed soon.)</p>\n<p>Anyway, my battery’s low, so I’ll stop here. It’s frightening really, once I get round to opening a new blog post in the editor, words just splurge out. I don’t know whether that’s good or bad.</p>\n",
      "date_published": "2004-01-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/18/12/evaluation-was-6-40-on-linux-top-reason-for-attending-cebit-2004/",
      "url": "https://qmacro.org/blog/2003/18/12/evaluation-was-6-40-on-linux-top-reason-for-attending-cebit-2004/",
      "title": "Evaluation WAS 6.40 on Linux - top reason for attending CeBIT 2004",
      "content_html": "<p>It’s always great to be able to attend CeBIT – and this year there’s an extra reason to go: SAP are hoping to have a new Linux 6.40 evaluation WAS system available.</p>\n<p><a href=\"https://www.sdn.sap.com/sdn/weblogs.sdn?blog=/pub/wlg/275\">Continued …</a></p>\n<p>[From <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251850060\">SAP Developer Network SAP Weblogs by DJ Adams</a>]</p>\n",
      "date_published": "2003-12-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/14/11/food-for-thought-ldbs-and-abap-objects/",
      "url": "https://qmacro.org/blog/2003/14/11/food-for-thought-ldbs-and-abap-objects/",
      "title": "Food for thought: LDBs and ABAP Objects",
      "content_html": "<p>In a TechEd session last month on ABAP Objects, I came across a wonderful example of an LDB implemented using methods and events. While the re-implementation of the classic PUT/GET relationship is just an example to illustrate ABAP Objects’ explicitness, it nevertheless is a thing of beauty.</p>\n<p><a href=\"http://weblogs.sdn.sap.com/pub/wlg/236\">Continued …</a></p>\n<p>[From <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251850060\">SAP Developer Network SAP Weblogs by DJ Adams</a>]</p>\n",
      "date_published": "2003-11-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/2/11/powergen-fails-to-get-the-interweb/",
      "url": "https://qmacro.org/blog/2003/2/11/powergen-fails-to-get-the-interweb/",
      "title": "Powergen fails to &#39;get&#39; the Interweb",
      "content_html": "<p>For whatever reason, our gas and electricity company is changing to <a href=\"http://www.powergen.co.uk/\" title=\"Powergen home page\">Powergen</a>. It promised the ability to manage our account online and listed useful features which I looked forward to using.</p>\n<p><a href=\"https://qmacro.org/~dj/2003/10/powergen.png\" title=\"link to bigger picture\"><img src=\"https://qmacro.org/~dj/2003/10/small.powergen.png\" alt=\"screenshot of useless Powergen webpage\" title=\"Powergen fails to support my run-of-the-mill browser\" /></a></p>\n<p>Unfortunately, on going to the website for the first time to activate my account, I received proof that Powergen has its head in the sand (or somewhere else) when it comes to customer service.</p>\n<p>Yes, the old classic “your browser is not supported by this website”. Aaargh. Perpetrated by many companies including my mortgage company <a href=\"http://www.woolwich.co.uk/\" title=\"The Woolwich homepage\">The Woolwich</a>, who annoyingly refuse to acknowledge me as an online customer because of my choice of browser (with the result that I can’t avail myself of some of the services I need online), this issue shouldn’t exist in this millenium.</p>\n<p>Of course, my browser is a nice up-to-date <a href=\"http://galeon.sourceforge.net/\" title=\"Galeon home page\">Galeon</a> (an extremely normal browser for the <a href=\"http://www.gnome.org/\">Gnome</a> environment) and not “Netscape 1.3.5″ as Powergen seems to think. To Powergen’s slight credit, they do at least acknowledge non-MS platforms and browsers. But it’s still extremely frustrating. Good grief.</p>\n<p>Powergen joins <a href=\"http://usefulinc.com/edd/notes/SinBin\" title=\"Edd's SinBin\">others</a> in the hall of shame in this respect.</p>\n",
      "date_published": "2003-11-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/17/10/bsp-mangled-url-decoder/",
      "url": "https://qmacro.org/blog/2003/17/10/bsp-mangled-url-decoder/",
      "title": "BSP: Mangled URL Decoder",
      "content_html": "<p>Brian gave us a great rundown of URL mangling by the BSP engine, and mentioned the ‘decode_url’ BSP application which showed you what the gunk in the rewritten URL means. ‘decode_url’ isn’t in my (Linux-based) WAS 6.10 system (and therefore perhaps not in yours either) so I hacked one up as curiosity got the better of me.</p>\n<p><a href=\"http://weblogs.sdn.sap.com/pub/wlg/196\">Continued …</a></p>\n<p>[From <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251850060\">SAP Developer Network SAP Weblogs by DJ Adams</a>]</p>\n",
      "date_published": "2003-10-17T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/29/9/sap-teched-collaborative-notes/",
      "url": "https://qmacro.org/blog/2003/29/9/sap-teched-collaborative-notes/",
      "title": "SAP TechEd: Collaborative notes",
      "content_html": "<p>I’m off to SAP TechEd in Basel this week – hurrah! Let’s hope there’s ‘net connectivity there.</p>\n<p><a href=\"http://weblogs.sdn.sap.com/pub/wlg/175\">Continued …</a></p>\n<p>[From <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251850060\">SAP Developer Network SAP Weblogs by DJ Adams</a>]</p>\n",
      "date_published": "2003-09-29T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/8/9/dashboard-as-extension-to-r-3-and-sapgui-client/",
      "url": "https://qmacro.org/blog/2003/8/9/dashboard-as-extension-to-r-3-and-sapgui-client/",
      "title": "Dashboard as extension to R/3 and SAPGUI client",
      "content_html": "<p>Dashboard is an intriguing project from one of the founders of Ximian. It seems to be crying out for integration with data from R/3.</p>\n<p><a href=\"http://weblogs.sdn.sap.com/pub/wlg/136\">Continued …</a></p>\n<p>[From <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251850060\">SAP Developer Network SAP Weblogs by DJ Adams</a>]</p>\n",
      "date_published": "2003-09-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/1/9/plums-and-the-antithesis-of-technology/",
      "url": "https://qmacro.org/blog/2003/1/9/plums-and-the-antithesis-of-technology/",
      "title": "Plums and the antithesis of technology",
      "content_html": "<p>I haven’t been online much recently. As well as enjoying a relaxing family holiday in England (where better when the weather’s right?), I’ve been living in a world distant from technology. Maybe it’s my mental state trying to re-balance itself, maybe I’m getting old, but I find I get more and more enjoyment from simple things.</p>\n<p>Making bread is a pastime (is something more than a pastime when it goes on every day?) that gets easier, more fun, and more interesting the more you do it. Making preserves is a current hit too.</p>\n<p>Yesterday I pulled potatoes, carrots, parsnips, pastinaken, and onions from the ground and roasted them with some delicious cumberland sausages from <a href=\"http://www.burymarkettraders.co.uk/\">Bury market</a>.</p>\n<p><a href=\"http://www.pipetree.com/~dj/2003/08/Plums.jpg\"><img src=\"http://www.pipetree.com/~dj/2003/08/Plums.sm.jpg\" alt=\"Plums\" /></a></p>\n<p>Today I spent a wonderful couple of hours up a tree picking plums. I think it was a sort of meditation. No radio, no walkman, no wifi, no bluetooth, no technology whatsoever, save for a ladder. The more intense things get at work and online, technologically speaking, the more refuge I find in nature and simple ways. It puts things into perspective.</p>\n",
      "date_published": "2003-09-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/30/7/improving-the-oss-note-experience/",
      "url": "https://qmacro.org/blog/2003/30/7/improving-the-oss-note-experience/",
      "title": "Improving the OSS note experience",
      "content_html": "<p>Some thoughts on improving the OSS experience.</p>\n<p><a href=\"http://weblogs.sdn.sap.com/pub/wlg/75\">Continued …</a></p>\n<p>[From <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251850060\">SAP Developer Network SAP Weblogs by DJ Adams</a>]</p>\n",
      "date_published": "2003-07-30T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/29/7/sap-infotag-on-web-application-server/",
      "url": "https://qmacro.org/blog/2003/29/7/sap-infotag-on-web-application-server/",
      "title": "SAP InfoTag on Web Application Server",
      "content_html": "<p>Is the InfoTag on WAS going to be worth it?</p>\n<p><a href=\"http://weblogs.sdn.sap.com/pub/wlg/70\">Continued …</a></p>\n<p>[From <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251850060\">SAP Developer Network SAP Weblogs by DJ Adams</a>]</p>\n",
      "date_published": "2003-07-29T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/27/7/sap-talk-at-oscon-and-rss/",
      "url": "https://qmacro.org/blog/2003/27/7/sap-talk-at-oscon-and-rss/",
      "title": "SAP talk at OSCON, and RSS",
      "content_html": "<p>Our talk on SAP R/3 and Open Source went down well at OSCON this year. Especially of interest was the section on producing RSS from R/3 to carry business data.</p>\n<p><a href=\"http://weblogs.sdn.sap.com/pub/wlg/69\">Continued …</a></p>\n<p>[From <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251850060\">SAP Developer Network SAP Weblogs by DJ Adams</a>]</p>\n",
      "date_published": "2003-07-27T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/18/7/google-pocket-guide-out-now/",
      "url": "https://qmacro.org/blog/2003/18/7/google-pocket-guide-out-now/",
      "title": "Google Pocket Guide out now",
      "content_html": "<p>I don’t think I mentioned it directly here (perhaps partly a cause <em>and</em> effect of the recent blogging hiatus) but the <a href=\"http://www.oreilly.com/catalog/googlepg\" title=\"Google Pocket Guide\">Google Pocket Guide</a> has recently been released. Hurrah! It’s a book I worked on with <a href=\"http://www.raelity.org/\" title=\"Rael Dornfest\">Rael</a> and <a href=\"http://www.oreillynet.com/cs/catalog/view/au/873\" title=\"Tara Calishain\">Tara</a> (nice work, you two!). Talking to people at <a href=\"http://www.oreilly.com/\" title=\"O'Reilly and Associates\">O’Reilly</a> last week at <a href=\"http://conferences.oreilly.com/os2003\">OSCON</a>, it seems the guide is selling well. Hurrah again!</p>\n<p>It was a very interesting time. Rather than mainly authoring, most of my work was editing, restructuring, and adding some new content. In the past, I have denied the existence of a somewhat strenuous attention to prose detail, but I guess I finally have to admit that it’s there. I really enjoyed the challenge, although it was hard work using a combination of <a href=\"http://www.openoffice.org/\">Open Office</a>‘s word processing program and MS-Word. Give me <a href=\"http://www.docbook.org/\">DocBook</a> and a <a href=\"http://www.vim.org/\">proper editor</a> any day (I wrote <a href=\"http://www.oreilly.com/catalog/jabber\" title=\"Programming Jabber\">Programming Jabber</a> this way).</p>\n",
      "date_published": "2003-07-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/17/7/another-great-oscon/",
      "url": "https://qmacro.org/blog/2003/17/7/another-great-oscon/",
      "title": "Another great OSCON",
      "content_html": "<p>Well, <a href=\"http://conferences.oreilly.com/oscon2003\">OSCON 2003</a> is over, and I guess all the attendees are more or less home by now. I got home on Monday night, after a detour to work in London. Tons of ideas and inspiration came forth during and between sessions this year, like the last two years I’ve attended. It’s a double-whammy — if you go to a session, you get a chunk of very interesting info about subject X. If you don’t go to a session, you get to exchange ideas with likeminded people; ideas that you’d be hard-pressed to find otherwise. Great stuff.</p>\n<p>It was lovely to meet old friends and make new acquaintances. Amongst others, I met some of the <a href=\"http://www.jabber.org/\">Jabber</a> guys (<a href=\"http://www.flickr.com/photos/qmacro/3473111485/in/set-72157617306067120/\" title=\"pic of some of the Jabber guys\">pic</a>), plus <a href=\"http://www.silent-penguin.com/\" title=\"Matthew Langham\">Matthew</a>, <a href=\"http://fooworks.com/\" title=\"Steve Mallett\">Steve</a>, <a href=\"http://use.perl.org/%7Egnat/journal/\" title=\"Nat Torkington\">Gnat</a> (and family), <a href=\"http://www.prescod.net/\" title=\"Paul Prescod\">Paul</a> (<a href=\"http://www.flickr.com/photos/qmacro/3473113509/in/set-72157617306067120/\" title=\"pic of Paul Prescod and DJ Adams\">pic</a>), <a href=\"http://www.rjray.org/\" title=\"Randy J Ray\">Randy</a>, <a href=\"http://usefulinc.com/edd/blog\" title=\"Edd Dumbill\">Edd</a>, <a href=\"http://www.ilrt.bristol.ac.uk/people/cmdjb/\" title=\"Dave Beckett\">Dave</a>, <a href=\"http://www.raelity.org/\" title=\"Rael Dornfest\">Rael</a>, <a href=\"http://www.devspace.com/index.idx\" title=\"Christian Gross\">Christian</a>, <a href=\"http://conferences.oreillynet.com/cs/os2003/view/e_spkr/681\" title=\"Geoff Young\">Geoff</a>, <a href=\"http://www.perl.com/pub/au/Christiansen_Tom\" title=\"Tom Christiansen\">Tom</a>, <a href=\"http://use.perl.org/%7Ejjohn/journal/\" title=\"Joe Johnston\">Joe</a>, <a href=\"http://use.perl.org/%7Eacme/journal\" title=\"Leon Brocard\">Leon</a>, <a href=\"http://www.askbjoernhansen.com/\" title=\"Ask Bjorn Hansen\">Ask</a>, <a href=\"http://search.cpan.org/author/JDUNCAN/\" title=\"James Duncan\">James</a>, and plenty of other Perl and O’Reilly folk. I even managed to say a brief “hi” to <a href=\"http://nat.org/\" title=\"Nat Friedman\">Nat</a>.</p>\n<p>Even when we weren’t having fun, we were having fun. The author signing event was great; Piers and I were drinking beer to celebrate the end of our talk (which had just finished) when we were <a href=\"http://www.oreillynet.com/pub/a/network/2003/07/10/photos1.html?page=2\" title=\"Piers and me relaxing after our talk\">snapped</a>.</p>\n<p><img src=\"https://qmacro.org/blog/img/2003/07/vaiosap.png\" alt=\"Me and the Sony Vaio runing SAP R/3\" /></p>\n<p>Our talk had included live demos against an SAP R/3 system, which I was running on the diminutive Sony Vaio laptop (128Mb RAM, PII-233, 12Gb HDD) that you can see in the picture. While preparing the system the day before in the speaker room, the work processes decided for some reason to recompile all the ABAP components, which almost killed the laptop. The HDD went mad for minutes on end, and made funny noises, which <a href=\"http://search.cpan.org/author/GBARR/\" title=\"Graham Barr\">Graham</a> promptly likened to the sound of a deep fat fryer in action. I’m thinking of renaming the laptop to “<a href=\"http://chip-pan.local.net/\">chip-pan.local.net</a>”.</p>\n",
      "date_published": "2003-07-17T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/12/7/thanks-randal/",
      "url": "https://qmacro.org/blog/2003/12/7/thanks-randal/",
      "title": "Thanks, Randal",
      "content_html": "<p>I’m sitting here in a wonderful arcade of 80s arcade games, listening to <a href=\"http://www.rushstuff.com/\">Rush</a>, arguably the best rock band ever, drinking beer, and enjoying WiFi, all courtesy of <a href=\"http://www.stonehenge.com/\">Stonehenge</a>, and in particular <a href=\"http://www.stonehenge.com/merlyn/\">Randal Schwartz</a>, the maverick entrepreneur who happens to be a great teacher of <a href=\"http://www.perl.com/\">Perl</a>.</p>\n<p>Stonehenge is hosting a post-<a href=\"http://conferences.oreillynet.com/\">OSCON</a> <a href=\"http://oscon.kwiki.org/index.cgi?FreeBeerAndGames\">free beer and games</a> afternoon/evening event here in Portland; the place is packed and everywhere I hear the sounds “oooh, I remember this” or “aah, I used to be good at this game” from people rediscovering Galaga, Donkey Kong, Centipede and many other classic computer games from the 1980s.</p>\n<p>I discovered Perl, and subsequently the power of Open Source, through Randal. Way back when, I discovered Randal’s <a href=\"http://www.stonehenge.com/merlyn/columns.html\">magazine columns on Perl</a>. I regularly printed a column out, and took it to lunch with me to study. Getting back to the office, I used to enthuse about what I’d just learnt about “this new language” to my work colleagues (including <a href=\"http://www.piersharding.com/\">Piers</a>). I got to know Perl well, and haven’t looked back.</p>\n<p>Thanks, Randal.</p>\n",
      "date_published": "2003-07-12T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/11/7/dashboard-a-compelling-articulation-for-realtime-contextual-information/",
      "url": "https://qmacro.org/blog/2003/11/7/dashboard-a-compelling-articulation-for-realtime-contextual-information/",
      "title": "Dashboard, a compelling articulation for realtime contextual information",
      "content_html": "<p><a href=\"http://primates.ximian.com/%7Emiguel/\">Miguel de Icaza</a> and <a href=\"http://nat.org/\">Nat Friedman</a> were keynoting at <a href=\"http://conferences.oreillynet.com/oscon2003\">OSCON</a> this morning. It was a great talk about the Mono project and a cool demo of <a href=\"http://nat.org/dashboard\">Dashboard</a>. I managed to <a href=\"http://mmcc.cx/DashboardOnStage\" title=\"log of #dashboard IRC channel during talk\">convey</a> some of the presentation to the <a href=\"irc://irc.gimp.net/dashboard\">#dashboard</a> folks who couldn’t be present. It was also really refreshing to see source code, system exceptions and actual open source on the big keynote display.</p>\n<p>I discovered dashboard this week thanks to <a href=\"http://usefulinc.com/edd/blog\">Edd</a>, who has been doing some <a href=\"http://usefulinc.com/edd/blog/2003/7/8#02:09\">neato hacking</a> with some dashboard front and backends already. Dashboard shows itself as a little GUI window on which information sensitive to what you’re currently doing (receiving an IM message, sending an email, looking at a webpage, for example) is shown.</p>\n<p>The heart of dashboard is a matching and sorting engine that receives information (in the form of “cluepackets” – how evocative is that?) from frontend applications (like your IM and email clients) and asks the plugged-in backends to find stuff relevant to that information, which is then displayed in the sidebar-style window, designed to be glanced at rather than pored over. It’s a lovely open architecture in that you can (build and) plug in whatever frontend or backend lumps of code you think of.</p>\n<p>I’ve been musing about an <a href=\"http://www.sap-ag.de/\">SAP</a> backend – wouldn’t it be interesting if the engine could get a match from R/3 on a purchase order number, for example? Of course, there’s nothing out of the box on the R/3 side that could be used, but as <a href=\"http://conferences.oreillynet.com/cs/os2003/view/e_sess/3759\" title=\"Integrating SAP R/3 with Open Source and Open Software\">our talk at OSCON</a> (hopefully) showed, there are plenty of opportunities for the wily hacker.</p>\n<p>And what about <a href=\"http://www.jabber.org/\">Jabber</a>? While glueing Jabber stuff onto the front end is one thing, building a pubsub style Jabber backend could get really interesting; coordinated matching, CRM style features … Ooo, the world definitely could get very lobster-like.</p>\n<p>And I know it annoys Nat, but I just had to point out that the GraphViz output for matching clues looks very arc-and-nodey … and we all know what <em>that</em><a href=\"http://www.w3.org/RDF/\" title=\"RDF\">leads to</a> :-)</p>\n",
      "date_published": "2003-07-11T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/7/7/sap-and-open-source-bof-at-oscon/",
      "url": "https://qmacro.org/blog/2003/7/7/sap-and-open-source-bof-at-oscon/",
      "title": "SAP and Open Source BOF at OSCON",
      "content_html": "<p>Birds Of a Feather session on SAP and Open Source</p>\n<p><a href=\"http://weblogs.sdn.sap.com/pub/wlg/50\">Continued …</a></p>\n<p>[From <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251850060\">SAP Developer Network SAP Weblogs by DJ Adams</a>]</p>\n",
      "date_published": "2003-07-07T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/7/7/bittersweet/",
      "url": "https://qmacro.org/blog/2003/7/7/bittersweet/",
      "title": "Bittersweet",
      "content_html": "<p>On each occasion I’ve travelled to the USA, either on business or for pleasure, I’ve entered the country with a rather bitter taste in my mouth. Each and every time I’ve been grilled by rather demeaning and unfriendly customs and security employees. I landed and went through security and customs in Minneapolis, and yet again was seething at the condescending nature of the person behind the desk. Even an attempt to make polite conversation with the person putting the bags through the scanner resulted in me leaving the area convinced the people were unable to see beyond their jobs.</p>\n<p>Does it have to be this way? We have airports and security in Europe too, you know. But what we also have is a sense of politeness and courtesy and the willingness to treat people like, well, people.</p>\n<p>Of course, it goes without saying that the sweetness comes from the excellent time I know I’m going to have this week with everyone at <a href=\"http://conferences.oreilly.com/oscon/\">OSCON</a>. I’m sitting here right now in the hotel lobby and I know a week-long brane-melting experience awaits me!</p>\n",
      "date_published": "2003-07-07T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/6/7/thinking-vs-doing/",
      "url": "https://qmacro.org/blog/2003/6/7/thinking-vs-doing/",
      "title": "Thinking vs doing",
      "content_html": "<p>In the past, I’ve mentioned to friends some of the thinking I’ve had about the Semantic Web, RDF, and related stuff (FOAF, RSS, and so on). <a href=\"https://qmacro.org/2003/07/some-ramblings-on-uris-and-identity/\" title=\"Some ramblings on URIs and identity\">Yesterday’s stuff</a>, for example. On more than one occasion the response has been along the lines of “where are the apps — why are you thinking instead of doing?”. They don’t get it. First of all, there <em>are</em> apps, toolkits, libraries, and so on. I don’t think I have to point them out.</p>\n<p>But secondly, and more importantly, whatever happened to knowledge and discourse for its own sake? From studying RDF, for example, even at the fairly superficial level that I have, I’ve exercised my mind thinking about hard questions of language, expression, relationships, identity and semantics. While the concept of a Semantic Web platform is simple (a vast homogenous database spanning the world of information), its nuts and bolts, the substructure of concrete, steel and ontological rivets are submerged under a sea of meaning, nuance and interpretation.</p>\n<blockquote>\n<ul>\n<li>Anyone can say anything about anything *</li>\n</ul>\n</blockquote>\n<p>Thinking about this stuff is rewarding. Did you go to college and learn only about stuff that directly related to the job you do now? No, I didn’t either. I may have written one or two Latin comments in my code in the past, but that’s as far as it goes :-)</p>\n<p>I’m grateful to all those people (the REST, #rdfig and #foaf people, plus people at the W3C and elsewhere) for being ever helpful, friendly, and enthusiastic in sharing their knowledge of such interesting topics.</p>\n",
      "date_published": "2003-07-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/6/7/some-ramblings-on-uris-and-identity/",
      "url": "https://qmacro.org/blog/2003/6/7/some-ramblings-on-uris-and-identity/",
      "title": "Some ramblings on URIs and identity",
      "content_html": "<p>Coming back from a short break from the tech world recently, I started to reacquaint myself with <a href=\"http://xmlns.com/foaf/0.1/\" title=\"FOAF: Friend Of A Friend Vocab\">FOAF</a> and <a href=\"http://www.w3.org/RDF/\" title=\"RDF (Resource Description Framework)\">RDF</a>, amongst other things. Looking at the FOAF data for various people, I was reminded of the model of indirection that is used to identify a person.</p>\n<p><a href=\"foaf:Person\">foaf:Person</a> <a href=\"foaf:mbox\">foaf:mbox</a><a href=\"mailto:dj.adams@pobox.com\">dj.adams@pobox.com</a>&lt;/foaf:mbox&gt; ... &lt;/foaf:Person&gt;</p>\n<p>Actually, while I think on, why not:</p>\n<p><a href=\"foaf:Person\">foaf:Person</a> &lt;foaf:mbox <a href=\"mailto:rdf:resource=%22mailto:dj.adams@pobox.com\">rdf:resource=&quot;mailto:dj.adams@pobox.com</a>&quot; /&gt; ... &lt;/foaf:Person&gt;</p>\n<p>Anyway. The idea is that rather than refer to a person directly, we refer to them indirectly: “<em>The person with the email address <a href=\"mailto:dj.adams@pobox.com\">dj.adams@pobox.com</a></em>“. Why do this? Well, for one thing, an email address is a fairly unambiguous property — there’s usually the same person consistently to be found behind an email address. The FOAF <a href=\"http://xmlns.com/foaf/0.1/index.html\">spec</a> uses <a href=\"http://www.daml.org/\" title=\"DAML: DARPA Agent Markup Language\">DAML</a> to annotate the mbox property as being unambiguous (you can see this in the <a href=\"http://xmlns.com/foaf/0.1/index.rdf\">RDF version of the spec</a>).</p>\n<p>In the arcs and nodes world of RDF, it would look something like this:</p>\n<p>+----------+ +---| | | +----------+ mbox | | V +---------------------------+ | <a href=\"mailto:dj.adams@pobox.com\">mailto:dj.adams@pobox.com</a> | +---------------------------+</p>\n<p>The box at the top represents the person, and is a blank node, in that it doesn’t have a (direct) identifier. The uniqueness is <em>indirect</em></p>\n<p>.</p>\n<p>Then I came across <a href=\"http://www.markbaker.ca/foaf.rdf\">Mark Baker’s FOAF file</a>, which starts:</p>\n<p>&lt;foaf:Person rdf:about=&quot;<a href=\"http://www.markbaker.ca/\">http://www.markbaker.ca/</a>&quot;&gt; <a href=\"foaf:name\">foaf:name</a>Mark Baker&lt;/foaf:name&gt; ...</p>\n<p>What’s this? Does this mean that the HTTP URI <a href=\"http://www.markbaker.ca/\">http://www.markbaker.ca</a> represents Mark? (What does “represents Mark” mean anyway?) We know about <a href=\"http://internet.conveyor.com/RESTwiki/moin.cgi/FrontPage\" title=\"The REST Wiki's front page\">REST</a>, and <em>representations</em> of <em>resources</em> that can be retrieved via HTTP URIs. If I specify a MIME type of ‘text/html’ when asking for a representation of the resource at that URI, I am sent some HTML (Mark’s home page). I wonder what MIME type I’d have to specify to get Mark himself disassembled into IP packets and reassembled next to my laptop? Of course, before you say anything, this is one of the differences between URIs and URLs, and I won’t expect to see Mark any time soon :-) Plus, there’s the concept of identity which must stand alone from the concept of resources and representations … if Mark comes down the wire, am I getting a representation of Mark, or Mark in person? At least I might get a picture of him if I specify ‘image/*’.</p>\n<p>In any case, Mark does assert that the URI does identify him, the person. Very interesting. Mark pointed me to an <a href=\"http://norman.walsh.name/2003/06/06/karma\" title=\"assigning URIs to people\">item</a> on Norman Walsh’s weblog which touches on this subject.</p>\n<p>So, what does, or could, an HTTP URI represent? Leigh Dodds recently expressed a desire to detail aspects of <a href=\"http://www.ldodds.com/blog/archives/000050.html\">his life in RDF</a> (and I like the idea of the Semantic Web’s “year zero” that he mentions). Films he’s seen, books he’s reading, and so on. Great!, I thought, and immediately perused <a href=\"http://erikbenson.com/\">Erik Benson</a>‘s <a href=\"http://allconsuming.net/\">allconsuming.net</a> API documentation (there’s a <a href=\"http://allconsuming.net/news/000042.html\">RESTful way of getting the book data</a> too, now) – I could pull out the data from there and construct some RDF statements about the CurrentlyReading book information.</p>\n<p>But before I started, I went all philosophical and thought about representations and abstractions for a bit; at least, as much as my limited knowledge would allow. I’d been thinking that the currently reading information might come out like this:</p>\n<p><a href=\"foaf:Person\">foaf:Person</a> &lt;foaf:mbox rdf:resource='<a href=\"mailto:dj.adams@pobox.com\">mailto:dj.adams@pobox.com</a>' /&gt; &lt;books:currentlyReading rdf:resource='<a href=\"http://allconsuming.net/item.cgi?isbn=0596002025\">http://allconsuming.net/item.cgi?isbn=0596002025</a>' /&gt; ...</p>\n<p>But surely that says that I’m currently reading <em>the <a href=\"http://allconsuming.net/\">allconsuming.net</a> page for that book</em>, not that book itself? It’s not a question of unique identity, as the ISBN in the URI disambiguates. It’s a question of what the URI represents. How do you refer to the book itself — the abstraction (funny how ‘abstract’ actually means ‘real’ here)? Perhaps here, as in FOAF, a level of indirection could be used:</p>\n<p><a href=\"foaf:Person\">foaf:Person</a> &lt;foaf:mbox rdf:resource='<a href=\"mailto:dj.adams@pobox.com\">mailto:dj.adams@pobox.com</a>' /&gt; <a href=\"books:currentlyReading\">books:currentlyReading</a> <a href=\"books:Book\">books:Book</a> &lt;books:describedAt rdf:resource='<a href=\"http://allconsuming.net/item.cgi?isbn=0596002025\">http://allconsuming.net/item.cgi?isbn=0596002025</a>' /&gt; ... &lt;/books:Book&gt; ...</p>\n<p>In other words, I’m currently reading <em>the book that’s described at that <a href=\"http://allconsuming.net/\">allconsuming.net</a> page</em>. Seems fair. And this is what it looks like:</p>\n<p>+----- Person | ------ +-------+ +-----| |----+ | +-------+ | mbox | | | | V | currentlyReading +---------------------------+ | | <a href=\"mailto:dj.adams@pobox.com\">mailto:dj.adams@pobox.com</a> | | +---------------------------+ | +----- Book V | ---- +-------+ +----| | | +-------+ describedAt | | V +--------------------------------------------------+ | <a href=\"http://allconsuming.net/item.cgi?isbn=0596002025\">http://allconsuming.net/item.cgi?isbn=0596002025</a> | +--------------------------------------------------+</p>\n<p>On the subject of identification and HTTP URIs, Tim Berners-Lee wrote a paper <a href=\"http://www.w3.org/DesignIssues/HTTP-URI.html\">“What do HTTP URIs Identify?”</a> where he discusses various angles on the difficulty regarding resources, identification and the real world. The paper refers to, and stems from, discussion on this in the <a href=\"http://www.w3.org/2001/tag/ilist#httpRange-14\">httpRange-14</a> issue in the <a href=\"http://www.w3.org/2001/tag/ilist\">TAG issues list</a>.</p>\n<p>In the book diagram above, I’ve included little class annotations for each of the two blank nodes (Person and Book). I wonder if, at least in RDF, classes can be used effectively to draw a distinction between Mark Baker and his home page? In other words, the snippet of Mark’s FOAF data:</p>\n<p>&lt;foaf:Person rdf:about=&quot;<a href=\"http://www.markbaker.ca/\">http://www.markbaker.ca/</a>&quot;&gt; <a href=\"foaf:name\">foaf:name</a>Mark Baker&lt;/foaf:name&gt; ...</p>\n<p>which is really shorthand for:</p>\n<p>&lt;rdf:Description rdf:about=&quot;<a href=\"http://www.markbaker.ca/\">http://www.markbaker.ca/</a>&quot;&gt; &lt;rdf:type rdf:resource=&quot;<a href=\"http://xmlns.com/foaf/0.1/Person\">http://xmlns.com/foaf/0.1/Person</a>&quot; /&gt; <a href=\"foaf:name\">foaf:name</a>Mark Baker&lt;/foaf:name&gt; ...</p>\n<p>says that the resource at <a href=\"http://www.markbaker.ca/\">http://www.markbaker.ca</a> is a Person.</p>\n<p>By the way, Mark is not alone in identifying himself, a person, with an HTTP URI. The <a href=\"http://www.w3.org/TR/2002/WD-rdf-primer-20020319/\">RDF Primer</a> does the same thing in an example (this time in N-Triple format):</p>\n<p><a href=\"http://www.example.org/index.html\">http://www.example.org/index.html</a> <a href=\"http://purl.org/dc/elements/1.1/creator\">http://purl.org/dc/elements/1.1/creator</a> <a href=\"http://www.example.org/staffid/85740\">http://www.example.org/staffid/85740</a> .</p>\n<p>This says that the document at <a href=\"http://www.example.org/staffid/87540\">http://www.example.org/staffid/87540</a> created the document at <a href=\"http://www.example.org/index.html\">http://www.example.org/index.html</a>.</p>\n<p>Or does it?</p>\n",
      "date_published": "2003-07-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/2/7/sap-stuff-at-oscon/",
      "url": "https://qmacro.org/blog/2003/2/7/sap-stuff-at-oscon/",
      "title": "SAP stuff at OSCON",
      "content_html": "<p>With a conference theme of “embracing and extending proprietary software”, it’s only right to talk about SAP and open source.</p>\n<p><a href=\"http://weblogs.sdn.sap.com/pub/wlg/48\">Continued …</a></p>\n<p>[From <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251850060\">SAP Developer Network SAP Weblogs by DJ Adams</a>]</p>\n",
      "date_published": "2003-07-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/30/5/the-sap-mysql-partnership/",
      "url": "https://qmacro.org/blog/2003/30/5/the-sap-mysql-partnership/",
      "title": "The SAP/MySQL Partnership",
      "content_html": "<p>SAP and MySQL’s partnership – why is the community unhappy?</p>\n<p><a href=\"http://weblogs.sdn.sap.com/pub/wlg/27\">Continued …</a></p>\n<p>[From <a href=\"https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/u/251850060\">SAP Developer Network SAP Weblogs by DJ Adams</a>]</p>\n",
      "date_published": "2003-05-30T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/20/4/how-do-i-get-plugin-y-to-run-before-plugin-x/",
      "url": "https://qmacro.org/blog/2003/20/4/how-do-i-get-plugin-y-to-run-before-plugin-x/",
      "title": "How do I get plugin Y to run before plugin X?",
      "content_html": "<p>It might be the case that you want plugin Y to run before plugin X, because of what X does with what Y is supposed to have already done. Blosxom loads plugins in filename order, so make sure the alphanumerical order of your plugin filenames reflects the order you want your plugins to run.</p>\n<p>A common way to do this is to prefix the plugin filenames with digits, like this:</p>\n<p>00pluginY 01pluginX</p>\n<p>and so on.</p>\n",
      "date_published": "2003-04-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/11/4/why-does-my-newly-installed-plugin-not-work-and-not-produce-errors-either/",
      "url": "https://qmacro.org/blog/2003/11/4/why-does-my-newly-installed-plugin-not-work-and-not-produce-errors-either/",
      "title": "Why does my newly installed plugin not work, and not produce errors either?",
      "content_html": "<p>It could be that the name of the plugin (from unpacking it) contains dashes or things like that. Blosxom only loads plugins whose names contain alphanumeric or underscore characters (i.e. A-Z, 0-9, and _).</p>\n<p>Check the filename and remove any offending characters.</p>\n",
      "date_published": "2003-04-11T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/10/4/why-don-t-my-readme-file-contents-show-up-in-my-blog/",
      "url": "https://qmacro.org/blog/2003/10/4/why-don-t-my-readme-file-contents-show-up-in-my-blog/",
      "title": "Why don&#39;t my readme file contents show up in my blog?",
      "content_html": "<p>When you create a readme or readme.html file, its contents will only be displayed when you navigate to that part of your blog:</p>\n<p><a href=\"http://www.example/food/italian/\">http://www.example/food/italian/</a></p>\n<p>should display any readme or readme.html dropped into</p>\n<p>$datadir/food/italian</p>\n",
      "date_published": "2003-04-10T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/10/4/how-can-i-access-the-entire-url-in-my-plugin/",
      "url": "https://qmacro.org/blog/2003/10/4/how-can-i-access-the-entire-url-in-my-plugin/",
      "title": "How can I access the entire URL in my plugin?",
      "content_html": "<p>Use the <a href=\"http://cgi.pm/\">CGI.pm</a> module in the plugin:</p>\n<p>use CGI qw/:standard/; $url = url(); $path_info = path_info()</p>\n<p>You, unfortunately, can’t get to the #entry bit since that’s never sent to the Web server. That’s handled by the browser alone.</p>\n",
      "date_published": "2003-04-10T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/5/4/where-do-i-have-to-put-the-tiki-pm-file-for-the-tiki-plugin-to-work/",
      "url": "https://qmacro.org/blog/2003/5/4/where-do-i-have-to-put-the-tiki-pm-file-for-the-tiki-plugin-to-work/",
      "title": "Where do I have to put the Tiki.pm file for the tiki plugin to work?",
      "content_html": "<p>The tiki plugin assumes you’ve placed <a href=\"http://tiki.pm/\">Tiki.pm</a> in a Text subdirectory of your $plugin_dir…</p>\n<p>$plugin_dir/lib/Text/Tiki.pm</p>\n",
      "date_published": "2003-04-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/5/4/how-do-i-detect-the-presence-of-another-plugin/",
      "url": "https://qmacro.org/blog/2003/5/4/how-do-i-detect-the-presence-of-another-plugin/",
      "title": "How do I detect the presence of another plugin?",
      "content_html": "<p>All installed plug-ins:</p>\n<p>keys %blosxom::plugins</p>\n<p>All “on” plug-ins:</p>\n<p>grep {$blosxom::plugins{$_} &gt; 0} keys %blosxom::plugins</p>\n<p>And if you’re interested in the order:</p>\n<p>print join ', ', @blosxom::plugins</p>\n",
      "date_published": "2003-04-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/4/4/speaking-at-oscon-2003/",
      "url": "https://qmacro.org/blog/2003/4/4/speaking-at-oscon-2003/",
      "title": "Speaking at OSCON 2003",
      "content_html": "<p><img src=\"http://conferences.oreillynet.com/images/os2003/banners/speakers/120x90.gif\" alt=\"OSCON 2003 speaker logo\" /><br />\nHurrah! <a href=\"http://www.piersharding.com/\">Piers</a> and I are giving a talk at <a href=\"http://conferences.oreilly.com/oscon/\">OSCON</a>, where the theme this year is “Embracing and Extending Proprietary Software”. Our talk is entitled “<a href=\"http://conferences.oreillynet.com/cs/os2003/view/e_sess/3759\">Integrating SAP R/3 and Open Source Software</a>“.</p>\n<p>I think it’s going to be a lot of fun.</p>\n",
      "date_published": "2003-04-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/4/4/a-brilliant-literary-mash-up/",
      "url": "https://qmacro.org/blog/2003/4/4/a-brilliant-literary-mash-up/",
      "title": "&quot;A brilliant literary mash-up&quot;...",
      "content_html": "<p>… is a great way to describe, as <a href=\"http://epeus.blogspot.com/2003_04_01_epeus_archive.html#200088180\">Kevin Marks did</a>, the fusion of Hogwarts and Molesworth by <a href=\"http://www.alice.dryden.co.uk/\">Alice Dryden</a>, who describes it thus:</p>\n<blockquote>\n<p>Wot hapen when nigel molesworth, the curse of st custards, find himself at hoggwarts skool for WITCHCRAFT and wizzardry? <a href=\"http://www.alice.dryden.co.uk/ho_for_hoggwarts.htm\">Read on!</a></p>\n</blockquote>\n<p>A must-read. It brings back many happy memories for me and I’m sure tons of other people of my generation. Molesworth is the creation of Geoffrey Willians and Ronald Searle, who wrote the <a href=\"http://allconsuming.net/item.cgi?isbn=1851459553\">Down With Skool!</a> collection, as any fule kno!</p>\n",
      "date_published": "2003-04-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/22/3/how-can-i-turn-off-a-plugin-for-a-certain-flavour/",
      "url": "https://qmacro.org/blog/2003/22/3/how-can-i-turn-off-a-plugin-for-a-certain-flavour/",
      "title": "How can I turn off a plugin for a certain flavour?",
      "content_html": "<p>Use the config plugin and create a config.flavour (for the flavour you’d like it off) containing:</p>\n<p>$blosxom::plugins{'smartypants'} = 0;</p>\n",
      "date_published": "2003-03-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/22/3/how-can-i-convert-moveable-type-entries-to-blosxom/",
      "url": "https://qmacro.org/blog/2003/22/3/how-can-i-convert-moveable-type-entries-to-blosxom/",
      "title": "How can I convert Moveable Type entries to Blosxom?",
      "content_html": "<p>There’s a script <a href=\"http://web.archive.org/web/20060313005210/http://www.10500bc.org/twiki/bin/view.cgi/Main/Mt2blosxom\">Mt2blosxom</a> available, described [[Yahoo:769 here]].</p>\n",
      "date_published": "2003-03-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/6/3/weblogs-and-wikis-blurring-the-boundaries/",
      "url": "https://qmacro.org/blog/2003/6/3/weblogs-and-wikis-blurring-the-boundaries/",
      "title": "Weblogs and Wikis - Blurring the Boundaries",
      "content_html": "<p>Early this morning <a href=\"http://www.oreillynet.com/%7Erael/\">Rael</a>‘s <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a> plugin ‘<a href=\"http://www.raelity.org/apps/blosxom/plugins/text/wikiwordish.html\">wikiwordish</a>‘ found its way to the <a href=\"http://www.raelity.org/apps/blosxom/plugins\">plugin registry</a>. And a very nice plugin it is too. It allows you to use ‘wikiwordish’ notation like [[this]] to point to other weblog entries; the plugin intercepts them and creates a suitable hyperlink to the right place. For example, I can refer to an older entry about the Tiki parser for MoinMoin by just typing the name of the entry (‘tikiparser’) inside double square brackets; in other words, [[tikiparser]] in my weblog item source gets turned into this: [[tikiparser]].</p>\n<p>I decided to expand on this lovely idea, by adding some more functionality to the plugin. With my <a href=\"https://qmacro.org/~dj/2003/03/wikiwordish\">expanded version of ‘wikiwordish’</a> (<a href=\"https://qmacro.org/~dj/2003/03/wikiwordish.diff\">diff here</a>) it is now possible to have <a href=\"http://twistedmatrix.com/users/jh.twistd/moin/moin.cgi/InterWiki\">InterWiki</a> style links automatically recognised and expanded too. (I also made a modification to the regex in <em>story()</em>, as it wasn’t behaving quite right). So I can refer to the, say, StartingPoints page of the <a href=\"http://www.usemod.com/cgi-bin/mb.pl?\">MeatBall Wiki</a> by using a link in my weblog entry like this: [[MeatBall:StartingPoints]], which would be turned into a link like this: [[MeatBall:StartingPoints]].</p>\n<p>The way it works is simple: you tell the plugin where to find an InterWiki ‘intermap’ file, which contains a list of InterWiki names and URLs. You can probably find this somewhere in your wiki installation. You can also add your own name/URL combinations in the configuration in case you’re not allowed to edit the intermap file; in my setup I’ve added the name ‘PipeSpace’ to refer to my MoinMoin-powered <a href=\"https://qmacro.org/blog/2003/space\">space</a> Wiki (see the ‘Configurable Variables section’ in the <a href=\"https://qmacro.org/blog/2003/%7Edj/2003/03/wikiwordish\">code</a>), so I can now create a link such as this: [[PipeSpace:AllConsumingRestIdeas]] which is turned into this: [[PipeSpace:AllConsumingRestIdeas]]. If you don’t want an icon to appear next to the link, you can turn that off in the configuration.</p>\n<p>What’s more, some standard <a href=\"http://twistedmatrix.com/users/jh.twistd/moin/moin.cgi/InterWiki\">InterWiki</a> links are not to wikis, but to other popular sites; for example [[IMDB:0088846 Brazil]] gives [[IMDB:0088846 Brazil]], and [[Dictionary:alliteration]] gives [[Dictionary:alliteration]].</p>\n<p>Fun! Here’s to more weblog/wiki fusion.</p>\n",
      "date_published": "2003-03-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/5/3/new-blosxom-plugin-submission/",
      "url": "https://qmacro.org/blog/2003/5/3/new-blosxom-plugin-submission/",
      "title": "New Blosxom plugin &#39;submission&#39;",
      "content_html": "<p>I’ve just written a plugin ‘<a href=\"https://qmacro.org/~dj/2003/03/submission\">submission</a>‘ which provides <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a> with a mechanism for accepting content POSTed to it. I wrote it initially as a mechanism for people to submit plugin information to the <a href=\"http://www.raelity.org/apps/blosxom/plugins\">plugin registry</a>, but made it a bit more generic.</p>\n<p>The idea is that you can have Blosxom accept submitted entries and treat them as ‘pending’, using a ‘.txt-‘ file extension, so they’re not immediately viewable in the weblog output. You can then review the entries and publish them by changing the extension to ‘.txt’ (or not, as the case may be).</p>\n<p>The mechanism will kick in in one of two modes:</p>\n<dl><dt>*Accepting POSTed HTML form content*</dt><dd>Form data is received, formatted by a chosen ‘formatter’ (specify via the ‘-format’ parameter in the form, or allow to fall back to to the default formatter built into the plugin itself), and written as a pending entry in Blosxom’s datadir path. A display of the currently pending entries is then displayed.</dd><dt>*Listing pending entries*</dt><dd>You can also get to the list of currently pending entries by suffixing the query string ‘?pending’ onto the end of the weblog’s URL.</dd></dl>The plugin uses a special ‘pending’ flavour so you can have the pending entries displayed differently to the regular entries.\n<p>There’s also a separate directory where you can add your own formatters; this is the ‘formatlib’ that should be created in the plugin directory itself. I’ve written a simple formatter that lives in this directory, called ‘<a href=\"https://qmacro.org/~dj/2003/03/plugin\">plugin</a>‘ that accepts a plugin submission (name, category, URL, description, author) and formats it into an entry (body) style similar to those shown in the registry at the moment.</p>\n<p>It’s a basic bit of code, works for me. I’ve already got a few mods in mind, such as, perhaps, accepting payloads in other formats such as an <acronym title=\"Rich Site Summary\">RSS</acronym> item (it could then be parsed and appropriately formatted by an RSS-item-aware formatter). That’s for later, though.</p>\n",
      "date_published": "2003-03-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/28/2/conneg-and-the-duality-of-weblogs/",
      "url": "https://qmacro.org/blog/2003/28/2/conneg-and-the-duality-of-weblogs/",
      "title": "&#39;Conneg&#39; and the duality of weblogs.",
      "content_html": "<p>Q: <em>When is a blog not a blog?</em></p>\n<p>A: <em>When it’s an <acronym title=\"Rich Site Summary\">RSS</acronym> feed.</em></p>\n<p>I’ve <a href=\"https://qmacro.org/2002/10/05/notes-to-self-what-should-the-rdfabout-point-to/\">pondered the relationship between weblog and RSS before</a>, and in an <a href=\"http://www.oldspeckledhen.co.uk/introduction.htm\">Old Speckled Hen</a>-induced philosophical state of mind, have decided for experimental purposes that for all URI intents and purposes they are one and the same.</p>\n<p>With that in mind, my thoughts turned (naturally) to connection negotiation, or ‘conneg’. My weblog, whether HTML or RSS, is my weblog. Same thing, different representation. So perhaps both representations should actually have the same URI, <a href=\"https://qmacro.org/\">/</a>. Clients could use conneg to specify which representation they wanted, for example:</p>\n<p><acronym title=\"Rich Site Summary\">RSS</acronym> 0.91:</p>\n<pre><code>[dj@cicero dj]$ GET -H&quot;Accept: application/rss+xml&quot; -Use /\nGET //qmacro.org/about \nAccept: application/rss+xml \n200 OK \nContent-Type: application/rss+xml \n&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!-- name=&quot;generator&quot; content=&quot;bloxsom&quot; --&gt; \n&lt;rss version=&quot;0.91&quot;&gt; \n&lt;channel&gt; &lt;title&gt;DJ's Weblog&lt;/title&gt; ...\n[dj@cicero dj]$ \n</code></pre>\n<p>Or <acronym title=\"Rich Site Summary\">RSS</acronym> 1.0:</p>\n<pre><code>[dj@cicero dj]$ curl -H&quot;Accept:application/rdf+xml&quot; /\n&lt;?xml version=&quot;1.0&quot;?&gt; \n&lt;rdf:RDF xmlns=&quot;http://purl.org/rss/1.0/&quot; ... &gt; \n&lt;channel rdf:about=&quot;//qmacro.org/about&quot;&gt; \n&lt;title&gt;DJ's Weblog&lt;/title&gt; ...\n[dj@cicero dj]$ \n</code></pre>\n<p>Or even simply HTML:</p>\n<pre><code>[dj@cicero dj]$ GET -Use / \n200 OK \nContent-Type: text/html; charset=ISO-8859-1   \n&lt;title&gt;DJ's Weblog&lt;/title&gt; ...\n[dj@cicero dj]$ \n</code></pre>\n<p>In other words, specify what representation you want in the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.1\">Accept</a> header. Here’s a quick summary of how (90% of) the Accept: header is used:</p>\n<blockquote>\n<p>As an HTTP client, you say what media types (which roughly translates to ‘representations’ here) you’re willing to accept for a given resource (URI). You can specify multiple media types, and with the aid of a sort of ranking mechanism, you can say which media types you prefer over others, if given the choice. You do this by assigning values, so that “<em>application/rdf+xml, application/rss+xml;q=0.5, <em>/</em>;q=0.1</em>” means “I’d love application/rdf+xml, but if you haven’t got that, then send me application/rss+xml; failing that, anything will do. The values used are between 0 and 1 (in ascending preference), any media type without a value is assumed to have a value of 1.</p>\n</blockquote>\n<p>So, as a first offering to the <a href=\"http://www.raelity.org/apps/blosxom/plugin.shtml#registry\">Blosxom plugin love-in</a>, I wrote <a href=\"https://qmacro.org/~dj/2003/02/conneg\">conneg</a>, a plugin with which you can determine the flavour required according to the HTTP Accept header. Here’s how it works:</p>\n<ol>\n<li>You define the flavours you want to have ‘available’ via connection negotiation in a configurable variable</li>\n<li>In a new plugin event, ‘flavour’, control is given to the <a href=\"https://qmacro.org/~dj/2003/02/conneg\">conneg</a> plugin to determine the flavour according to the connection negotiation</li>\n<li>The content types are determined for each flavour specified, and ‘scored’ according to the client’s Accept preferences</li>\n<li>They are then ranked, and the flavour is overridden with the ‘winner’</li>\n</ol>\n<p>As you can see from the code, the plugin takes into account what content-types you’ve specified in the ‘content_type.<em>flavour</em>‘ files in your blog hierarchy.</p>\n<p>Note I said ‘new plugin event’. There are a number of <a href=\"http://www.raelity.org/apps/blosxom/plugin.shtml\">standard plugin hooks</a> in Blosxom (2.0 beta3). For this ‘flavour’ plugin to work, I’ve added another hook thus:</p>\n<pre><code>[dj@cicero blosxom_2_0_beta]$ diff blosxom_2_0_b3.cgi blosxom_2_0_b3.cgi.dj \n208a209,211 \n&gt; # Plugins: Flavour \n&gt; map { $_-&gt;can('flavour') and $_-&gt;flavour() } @plugins; \n&gt;\n[dj@cicero dj]$ \n</code></pre>\n<p>This is in the ‘Dynamic’ section of the code.</p>\n<p>I’ll run this new plugin hook past Rael shortly. It’s a sort of chicken and egg situation – I can’t explain the reason for the patch until I’ve done it and written about it. Rather like conneg and weblogs, perhaps. <acronym title=\"Rich Site Summary\">RSS</acronym> <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">aggregators</a> might not start doing conneg until weblog RSS content is available by that method, and there’s little incentive if no-one’s asking for it. So I thought I’d make a move. Experimental, mind you.</p>\n",
      "date_published": "2003-02-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/22/2/tiki-parser-for-moinmoin/",
      "url": "https://qmacro.org/blog/2003/22/2/tiki-parser-for-moinmoin/",
      "title": "Tiki parser for MoinMoin",
      "content_html": "<p><a href=\"http://www.mplode.com/tima/\">Tim Appnel</a> recently created <a href=\"http://www.mplode.com/tima/archives/000215.html\">TikiText</a>, a Wiki-like markup language for which <a href=\"http://www.oreillynet.com/%7Erael/\">Rael</a> recently created a <a href=\"http://www.raelity.org/archives/computers/internet/weblogs/blosxom/plugins/tiki.html\">Blosxom plugin</a>. While theoretically interesting, I wasn’t sure how I’d get to know and be able to practise the new markup, as support for it exists currently only in an experimental <a href=\"http://www.mplode.com/tima/projects/tiki/tiki.tar.gz\">Perl module</a> to parse and format text that you supply to it.</p>\n<p>I’m a keen user of the Python-based <a href=\"http://moin.sourceforge.net/\">MoinMoin</a> wiki (especially at work, where we manage our internal documentation and work collaboration with it), and the ‘natural environment’ for a wiki-like markup language is … in a Wiki. So I decided to mix up a bit of glue; I stuck Tim’s Perl Text::Tiki module into the Python MoinMoin wiki mechanism by writing a very quick and dirty parser, <a href=\"https://qmacro.org/~dj/2003/02/tiki.py\">tiki.py</a>. Now I can practice the TikiText markup in my favourite Wiki environment; all I need to do is use a</p>\n<p>#format tiki</p>\n<p>declaration at the top of a Wiki page to have the glue kick in.</p>\n<p>You can see it in action in the demowiki, specifically the <a href=\"https://qmacro.org/demowiki/TikiTest\">TikiTest</a> page. Have a look at the source (with the EditText link) to see the TikiText format.</p>\n<p>Fun!</p>\n",
      "date_published": "2003-02-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/21/2/blosxom-2-0-beta1/",
      "url": "https://qmacro.org/blog/2003/21/2/blosxom-2-0-beta1/",
      "title": "Blosxom 2.0 Beta1",
      "content_html": "<p>My favourite blogging software just got better.</p>\n<p>Congratulations to <a href=\"http://www.oreillynet.com/%7Erael/\">Rael</a> in releasing the <a href=\"http://www.raelity.org/apps/blosxom/plugin.shtml\">plugin</a>-enabled <a href=\"http://www.raelity.org/apps/blosxom/downloads/blosxom_2_0_b1.tar.gz\">2.0 Beta1</a> of <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a>. I dropped it into my cgi-bin directory, tweaked a few things, and it worked like a dream.</p>\n<p>One of the plugins available already is <a href=\"http://www.raelity.org/archives/computers/internet/weblogs/blosxom/plugins/rss10.html\">RSS 1.0 plugin</a>, which I’m now using to generate <acronym title=\"Rich Site Summary\">RSS</acronym> 1.0 – see the <a href=\"https://qmacro.org/blog/2003/%7Edj/2003/01/weblogsyndication.shtml\">Syndication</a> page for details. This means I can stop using the old <a href=\"https://qmacro.org/2002/09/12/from-rss-091-to-10/\">XSLT-based mechanism</a>. Another is the <a href=\"http://www.raelity.org/archives/computers/internet/weblogs/blosxom/plugins/foreshortened.html\">Foreshortened plugin</a> which I’m also using to have a short description generated for the <description> tag, while the entire content of the post goes into the <a href=\"content:encoded/\">content:encoded/</a> tag from the <acronym title=\"Rich Site Summary\">RSS</acronym><a href=\"http://purl.org/rss/1.0/modules/content/\">Content Module</a>.</description></p>\n<p>One thing that strikes me as interesting is the angle in the <a href=\"http://www.raelity.org/apps/blosxom/plugin.shtml\">plugin documentation</a> which encourages plugin developers to respect the Zen of <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a> and keep its users and platforms (Linux, OS-X and MSWindows) in mind when developing. It’s a refreshing and positive call for simplicity.</p>\n",
      "date_published": "2003-02-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/3/2/rss-aggregators-and-user-agent-information-for-blagg/",
      "url": "https://qmacro.org/blog/2003/3/2/rss-aggregators-and-user-agent-information-for-blagg/",
      "title": "RSS aggregators and user-agent information for Blagg",
      "content_html": "<p>Prompted by a <a href=\"http://writetheweb.com/Members/edd/Articles/2003-02-rss\">post</a> on the re-awakened <a href=\"http://www.writetheweb.com/\">WriteTheWeb</a>, I made a small mod to <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a> so that more detailed information is sent in the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.43\">User-Agent header</a> – announcing that the RSS aggregator ‘blagg’ is the agent requesting the RSS feed.</p>\n<p>Following it’s sibling <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a>‘s philosophy of simplicity and reuse of existing tools, Blagg uses ‘wget’ (or ‘curl’) to make the HTTP call. Adding the appropriate option to the string in $get_prog, e.g. by changing from this:</p>\n<p>my $get_prog = 'wget --quiet -O -';</p>\n<p>to this:</p>\n<p>my $get_prog = 'wget -U 'blagg/0+4i (wget)' --quiet -O -';</p>\n<p>was all that it took.</p>\n<p>(In fact, personally I’m using my <a href=\"https://qmacro.org/2002/05/24/etag-enabled-wget/\">ETag-aware version of wget</a> so I made the change in that small script, <a href=\"https://qmacro.org/~dj/wget.pl\">wget.pl</a> rather than in Blagg itself.)</p>\n",
      "date_published": "2003-02-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/29/1/tinkering-with-rss-and-nntp/",
      "url": "https://qmacro.org/blog/2003/29/1/tinkering-with-rss-and-nntp/",
      "title": "Tinkering with RSS and NNTP",
      "content_html": "<p>RSS via NNTP is certainly not a new concept – I first read about the idea on <a href=\"http://interconnected.org/home\">Matt Webb</a>‘s site almost <a href=\"http://interconnected.org/notes/syndication.html\">three years ago</a>. More recently there’s been mention over at Jon’s (<a href=\"http://weblog.infoworld.com/udell/2003/01/10.html\">Crossing the bridge of weak ties</a>), and Ben’s (<a href=\"http://www.benhammersley.com/archives/003441.html#003441\">RSS to NNTP</a> and <a href=\"http://www.benhammersley.com/archives/003081.html#003081\">HEP Messaging Server</a>).</p>\n<p>This week, Ben had <a href=\"http://www.benhammersley.com/archives/003935.html#003935\">mentioned</a> the <a href=\"http://actuallyworks.com/panopticon/\">Panopticon</a> in reference to the forthcoming <a href=\"http://conferences.oreilly.com/etcon\">ETCON</a>. During last year’s, I had <a href=\"https://qmacro.org/2002/05/15/the-panopticon/\">hacked</a> <a href=\"https://qmacro.org/2002/05/15/jabber-browsing-the-panopticon-data/\">around</a> with the Panopticon, creating a sort of <a href=\"http://www.jabber.org/\">Jabber</a>-based information diffusion service to lighten the load on the Panopticon mechanism’s single source socket.</p>\n<p>With all the talk of lightening the load from RSS consumers, my thoughts turned from these Panopticon experiments to NNTP, as of course it’s a technology that is designed for information diffusion, and bearing and sharing load. I couldn’t resist a bit of tinkering with NNTP, partly to follow up a little bit myself on RSS to/via NNTP, but mostly in fact to re-acquaint myself with the wonderfully arcane configuration of the majestic beast that is <a href=\"http://www.isc.org/products/INN/\">inn</a>. In addition, there’s been talk recently of aggregators moving out of the realms of satellite applications and into the browser itself. The <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a> and <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a> powered <a href=\"https://qmacro.org/cgi-bin/blosxom/djnews\">Morning Reading</a> page – my personal (but open) news aggregator – is already web-based, so I thought I’d have a look in the other direction.</p>\n<p>Aided partly by Jon’s <a href=\"http://allconsuming.net/item.cgi?isbn=1565925378\">Practical Internet Groupware book</a> and partly by the man pages, I put together a simple <a href=\"https://qmacro.org/space/InnConfig\">configuration</a> for a server that I could locally post weblog posts to as articles.</p>\n<p>As I saw it, there are two approaches to newsgroup article creation in this context, and each has its pros and cons.</p>\n<dl><dt>*Send items from all weblogs to the same newsgroup*</dt><dd>This approach means that the’aggregation effect’ (stories from different weblogs) is explicit, as the posts in a single newsgroup are sourced from different RSS feeds, and you read them sequentially. [You can see this effect in the screenshot, in the highlighted public.test newsgroup (shortened to \"p.test\")]. It also means, however, that such a ‘collective’ newsgroup is going to be less useful for diffusion and load sharing as it’s specific to one (or a few) person’s [feed](/~dj/rss.rss) tastes.</dd><dt>Send items from each weblog to a separate newsgroup</dt><dd>While the ‘aggregation effect’ is still available (by using the newsreader’s “read next unread” function, which will normally jump from one newsgroup to the next), it’s not as in-your-face. However, with a single newsgroup for each RSS feed, there are tremendous possibilities for NNTP peer exchange of (RSS weblog item) articles and consequently load sharing in the consumption of RSS – because picking and choosing feeds remains possible at the right (newsgroup) granular level. That said, this approach doesn’t exclude the possibility of composite newsgroups which consisted of, say, finance news feeds, or feeds in similar categories, which would be interesting to more than one person.</dd></dl>After deliberation of such matters, I then wrote a very simple plugin for [Blagg](http://www.oreillynet.com/%7Erael/lang/perl/blagg), which would post each weblog item to one or more newsgroups. For my purposes, I solved the question of what to call each newsgroup by using the ‘nickname’, required for each feed, in Blagg’s **rss.dat** file which controls the aggregation activity.\n<p><img src=\"https://qmacro.org/~dj/2003/01/nntp.png\" alt=\"Screenshot of Mozilla newsreader reading aggregated RSS items\" title=\"viewing aggregated RSS-sourced news in the HTML-capable Mozilla newsreader\" /></p>\n<p>The plugin is called <a href=\"https://qmacro.org/~dj/2003/01/nntp.pl\">nntp</a>. I modified Blagg slightly so it would pass the nickname to the plugin. My version of Blagg 0+4i is <a href=\"https://qmacro.org/~dj/2003/01/blagg.0+4i\">here</a> (it has a number of other modifications too). Feel free to take the plugin and modify it to suit your purpose. It was only a bit of twiddling, but it seems to work.</p>\n<p>There are plenty of possibilities for experimentation: combining the various <a href=\"http://www.benhammersley.com/archives/003862.html#003862\">weblog trackbacking mechanisms</a> with NNTP article IDs to link articles together in a thread; replying (to the newsgroup) to an article might send a comment to the post at the source weblog. Hmmmm…</p>\n",
      "date_published": "2003-01-29T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/27/1/your-wishlist-in-consumable-xml/",
      "url": "https://qmacro.org/blog/2003/27/1/your-wishlist-in-consumable-xml/",
      "title": "Your wishlist in &#39;consumable&#39; XML",
      "content_html": "<p>While <a href=\"https://qmacro.org/2003/01/25/transferring-my-amazon-wishlist-to-allconsumingnet-2/\">experimenting</a> with wishlist data, it occurred to me that it might be desirable to have one’s wishlist exposable directly from a URL, and in a consumable format. This would lend itself quite nicely to <a href=\"http://udell.roninhouse.com/bytecols/2002-03-27.html\">URL</a> <a href=\"https://qmacro.org/2002/08/29/sidebars-mozilla-rss-old-and-new/\">pipelining</a>.</p>\n<p>I hacked up a very simple module, <a href=\"https://qmacro.org/~dj/2003/01/WWW_Amazon_Wishlist_XML.pm\">WWW::Amazon::Wishlist::XML</a> (keeping to the original namespace in CPAN) which acts as an Apache <a href=\"https://qmacro.org/~dj/2003/01/wishlist.conf\">handler</a> so you can plug your wishlist ID (mine’s <a href=\"http://www.amazon.co.uk/exec/obidos/wishlist/3G7VX6N7NMGWM/026-9291044-8526042\">3G7VX6N7NMGWM</a>) in and get some basic XML out, in a simple HTTP GET request.</p>\n<p>Here’s an example:</p>\n<p><a href=\"https://qmacro.org/blog/2003/service/wishlist/uk/3G7VX6N7NMGWM\">http://www.pipetree.com/service/wishlist/uk/3G7VX6N7NMGWM</a></p>\n<p>Note the ‘uk’ part in the path. It signifies that the wishlist is held at <a href=\"http://www.amazon.co.uk/\">amazon.co.uk</a>. If held at <a href=\"http://www.amazon.com/\">amazon.com</a>, specify ‘com’, like this:</p>\n<p><a href=\"https://qmacro.org/blog/2003/service/wishlist/com/11SZLJ2XQH8UE\">http://www.pipetree.com/service/wishlist/com/11SZLJ2XQH8UE</a></p>\n<p>It uses the <a href=\"https://qmacro.org/blog/2003/%7Edj/2003/01/Wishlist.pm.diff.txt\">patched</a> version of <a href=\"http://search.cpan.org/author/SIMONW/WWW-Amazon-Wishlist-0.85/\">WWW::Amazon::Wishlist</a> so should be ok for now with .com-based wishlists too. Of course, it’s experimental anyway (as are most of the things I post here) and is likely to explode without warning.</p>\n",
      "date_published": "2003-01-27T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/27/1/asleep-in-2002/",
      "url": "https://qmacro.org/blog/2003/27/1/asleep-in-2002/",
      "title": "Asleep in 2002",
      "content_html": "<p>Was I asleep in parts of 2002? Or is my memory really as bad as people tell me it is? Of course Amazon offer consumable XML. Now that an email from Chanticleer has jogged my grey matter, I have found <a href=\"http://associates.amazon.com/exec/panama/associates/join/developer/faq.html/\">this</a> which looks extremely promising. Interesting times ahead for me, although at first glance it looks as if it might be only <a href=\"http://www.amazon.com/\">amazon.com</a> specific (i.e. not for data on <a href=\"http://www.amazon.co.uk/\">amazon.co.uk</a>). Anyway, perhaps I’ll catch up with the present sometime this year…</p>\n",
      "date_published": "2003-01-27T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/26/1/the-fragility-of-retro-engineering/",
      "url": "https://qmacro.org/blog/2003/26/1/the-fragility-of-retro-engineering/",
      "title": "The fragility of retro-engineering",
      "content_html": "<p>I just discovered that while the <a href=\"http://www.cpan.org/\">CPAN</a> module <a href=\"http://search.cpan.org/author/SIMONW/WWW-Amazon-Wishlist-0.85/\">WWW::Amazon::Wishlist</a> pulled ASINs out of <a href=\"http://www.amazon.co.uk/\">amazon.co.uk</a>-based wishlists, it seems not to be able to find ASINs in <a href=\"http://www.amazon.com/\">amazon.com</a>-based ones. I guess that the HTML layout that the module is scraping has changed. Or at least the hrefs that the module is pulling the ASINs from.</p>\n<p>While lamenting the fact that retro-fitting like this is like trying to put a wave into a box, I’ve made a second <a href=\"https://qmacro.org/~dj/2003/01/Wishlist.pm.diff.txt\">patch to the module</a> (the $url regex) so it can successfully find ASINs in U.S. wishlists too.</p>\n<p>I wonder when/if we will see consumable wishlist data available directly from Amazon, a la <a href=\"http://allconsuming.net/xml\">AllConsuming’s XML directory</a> <a href=\"https://qmacro.org/blog/2003/26/1/the-fragility-of-retro-engineering/\">? </a></p>\n",
      "date_published": "2003-01-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/25/1/transferring-my-amazon-wishlist-to-allconsuming-net/",
      "url": "https://qmacro.org/blog/2003/25/1/transferring-my-amazon-wishlist-to-allconsuming-net/",
      "title": "Transferring my Amazon wishlist to AllConsuming.net",
      "content_html": "<p>Now that I can <a href=\"https://qmacro.org/undefined/\">monitor comments about books I have in my AllConsuming collection</a>, I thought it would be nice to add those books in my <a href=\"http://www.amazon.co.uk/exec/obidos/wishlist/3G7VX6N7NMGWM/\">Amazon wishlist</a> to that AllConsuming collection so that I could see what people were saying about the books I wanted to buy.</p>\n<p>So I hacked up a few scripts, and here are the results.</p>\n<p><em>Getting my wishlist</em></p>\n<p>Using <a href=\"http://www.twoshortplanks.com/simon/\">Simon Wistow</a>‘s very useful <a href=\"http://search.cpan.org/author/SIMONW/WWW-Amazon-Wishlist-0.85/\">WWW::Amazon::Wishlist</a>, it was a cinch to grab details of the books on my <a href=\"http://www.amazon.co.uk/exec/obidos/wishlist/3G7VX6N7NMGWM/\">wishlist</a>. (I had to <a href=\"https://qmacro.org/~dj/2003/01/Wishlist.pm.diff.txt\">patch</a> the module very slightly because of a problem with the user agent string not being set).</p>\n<p>The script I wrote, <a href=\"https://qmacro.org/~dj/2003/01/wishlist\">wishlist</a>, simply outputs a list of ISBN/ASINs and title/author details, like this:</p>\n<p>[dj@cicero scraps]$ ./wishlist 0751327824 The Forgotten Arts and Crafts by John Seymour 090498205X With Ammon Wrigley in Saddleworth by Sam Seville 0672322404 Mod_perl Developer's Cookbook by Geoffrey Young, et al 0465024750 Fluid Concepts and Creative Analogies: Computer Models of ... 0765304368 Down and Out in the Magic Kingdom by Cory Doctorow ...</p>\n<p><em>Interacting with AllConsuming</em></p>\n<p>While I’m sure the <a href=\"http://allconsuming.net/\">allconsuming.net</a> site and services are going to morph as services are added and changed, I nevertheless couldn’t reist writing a very simple Perl class, <a href=\"https://qmacro.org/~dj/2003/01/Agent.pm\">Allconsuming::Agent</a> that allows you to log in (<em>logIn()</em>) and add books to your collection (<em>addToFavouriteBooks()</em>, <em>addToCurrentlyReading()</em>). It’s very basic but does the job for now. It tries to play nice by logging you out (<em>logOut()</em>) of the site automatically when you’ve finished. It can also tell if the site knows about a certain book (<em>knowsBook()</em>) – I think AllConsuming uses <a href=\"http://www.amazon.com/\">amazon.com</a> to look books up and so the discrepancies between that and <a href=\"http://www.amazon.co.uk/\">www.amazon.co.uk</a>, for example, show themselves as AllConsuming’s innocent blankness with certain ISBNs.</p>\n<p>Anyway, I’m prepared for the eventuality that things will change at <a href=\"http://allconsuming.net/\">allconsuming.net</a> sooner or later, so this class won’t work forever…but it’s fine for now.</p>\n<p><em>Adding my wishlisted books</em></p>\n<p>So putting this all together, I wrote a driver script, <a href=\"https://qmacro.org/~dj/2003/01/acadd\">acadd</a>, which grabs my current reading list data from AllConsuming, and reads in a list of ISBN/ASINs that would be typically produced from a script like <a href=\"https://qmacro.org/~dj/2003/01/wishlist\">wishlist</a>.</p>\n<p>Reading through the wishlist book data, <a href=\"https://qmacro.org/~dj/2003/01/acadd\">acadd</a> does this:</p>\n<ul>\n<li>checks to make sure the book isn’t in my AllConsuming collection already</li>\n<li>checks that AllConsuming knows about the book</li>\n<li>adds the book to my collection at AllConsuming</li>\n</ul>\n<p>Here’s a snippet of what actually happened when I piped the output of the one script into the other:</p>\n<p>[dj@cicero scraps]$ ./wishlist | ./acadd 0751327824 The Forgotten Arts and Crafts by John Se... [UNKNOWN] 090498205X With Ammon Wrigley in Saddleworth by Sam... [UNKNOWN] 0672322404 Mod_perl Developer's Cookbook by Geoffre... [HAVE] 0465024750 Fluid Concepts and Creative Analogies: C... [HAVE] 0765304368 Down and Out in the Magic Kingdom by Cor... [ADDED OK] ...</p>\n<p>Woo! <a href=\"http://allconsuming.net/item.cgi?isbn=0765304368\">Cory’s new book</a>, appearing on my <a href=\"http://www.amazon.co.uk/exec/obidos/wishlist/3G7VX6N7NMGWM/\">Amazon wishlist</a>, was added to my <a href=\"http://allconsuming.net/\">allconsuming.net</a> collection. (In case you’re wondering, I am only adding books like this to ‘Currently Reading’, rather than any other collection category, temporarily, as right now only the books in this category along with the ‘Favourites’ category can be retrieved with the <a href=\"http://allconsuming.net/news/000012.html\">SOAP API</a> – and it’s upon this API that <a href=\"https://qmacro.org/~dj/2003/01/booktalk\">booktalk</a> relies.)</p>\n<p>Anyway, it’s late, time for bed, driving to Brussels early tomorrow morning. Mmmm. Belgian beer beckons!</p>\n",
      "date_published": "2003-01-25T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/22/1/presentations-wikis-and-site-navigation/",
      "url": "https://qmacro.org/blog/2003/22/1/presentations-wikis-and-site-navigation/",
      "title": "Presentations, Wikis, and Site Navigation",
      "content_html": "<p>A while ago, inspired by others, I was looking at <a href=\"https://qmacro.org/2002/06/02/html-link-tag-for-blogroll/\">adding metadata</a> to this weblog in the form of <em>link rel=’…’</em> tags that link to related resources. The classic use of such tags in weblogging is for a weblog to <a href=\"https://qmacro.org/2002/06/03/changed-link-tags/\">point to its <acronym title=\"Rich Site Summary\">RSS</acronym> feed</a>.</p>\n<p>Cut to the present, and <a href=\"http://www.piersharding.com/\">Piers</a> and I are thinking about a joint conference presentation. While the presentation format is not in question (HTML), I’ve been wondering how I might investigate these <em>link rel=’…’</em> tags further, learn some more about wikis, and have a bit of fun in the process.</p>\n<p>While HTML-based presentations are nice, something that has always jarred (for me) has been the presence of slide navigation links within the presentation display itself. Whether buttons, graphics, or hyperlinks, they invariably (a) get in the way and (b) can move around slightly with layout changes from page to page in the presentation.</p>\n<p>I wanted to see if I could solve this problem.</p>\n<p>The <a href=\"http://twistedmatrix.com/users/jh.twistd/moin/moin.cgi/FrontPage\">MoinMoin Wiki</a> (which I <a href=\"https://qmacro.org/blog/2003/testwiki\">use</a> for documenting various things) generates <em>link rel=’…’</em> tags for each page, to point to the “Front Page”, “Glossary”, “Index” and “Help” pages that are standard within that Wiki. The Wiki markup includes <a href=\"http://twistedmatrix.com/users/jh.twistd/moin/moin.cgi/HelpOnProcessingInstructions\">processing instructions</a> that start with hash symbols (#), to control things like whether section and subsection headings should be automatically numbered or not, and so on. The <em>name/value</em> style directives are known as ‘pragmas’.</p>\n<p><img src=\"https://qmacro.org/~dj/2003/01/sitenav.png\" alt=\"screenshot  of site navigation bar in Mozilla\" /></p>\n<p>What I did was to hack some of the MoinMoin (Python code) (a few lines added only) so that I could</p>\n<ul>\n<li>specify any ‘previous’ and ‘next’ slide pages in the markup of a page using #pragma directives</li>\n<li>have the Wiki automatically generate each page’s appropriate <em>link rel=’…’</em> tags for site navigation according to these new directives</li>\n</ul>\n<p>That way, browsers aware of these tags (including my browser of choice, <a href=\"http://www.mozilla.org/\">Mozilla</a>), can display a useful and discreet navigation bar automatically. Problem solved!</p>\n<p>I tweaked two MoinMoin files, <a href=\"https://qmacro.org/~dj/2003/01/Page.py.txt\">Page.py</a> and <a href=\"https://qmacro.org/~dj/2003/01/wikiutil.py.txt\">wikiutil.py</a>. It might have broken something else, you never know. It’s just a little hack. Also, so that you can get a feel for what I mean, have a browse of these few <a href=\"https://qmacro.org/blog/2003/demowiki/ThePresentation\">presentation demo wiki pages</a> with your browser site navigation support turned on and/or visible. Use the EditPage feature to look at the markup source and see the #pragma directives. (Please don’t change anything, let others see it too – thanks).</p>\n<p>So hurrah. We can build, present, and follow up on the presentation content in the rich hypertextual style that HTML and URIs afford, and collaborate on the content in the Wiki way.</p>\n<p>On an incidental note, I’ve also added a <em>link rel=’start’</em> tag to point to the <a href=\"https://qmacro.org/qmacro\">homepage</a> of this weblog. This is made available in Mozilla as the “Top” button in the site navigation bar.</p>\n",
      "date_published": "2003-01-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/22/1/content-type-and-blosxom-s-rss/",
      "url": "https://qmacro.org/blog/2003/22/1/content-type-and-blosxom-s-rss/",
      "title": "Content-Type and Blosxom&#39;s RSS",
      "content_html": "<p>Agreeing with <a href=\"http://www.intertwingly.net/\">Sam</a> on <a href=\"http://www.intertwingly.net/blog/1142.html\">what content-type should be used for the weblog’s feed</a> (basically it should be whatever you specify in your <a href=\"http://diveintomark.org/archives/2002/05/30/rss_autodiscovery.html\">link tag for that feed</a>), last night I changed the appropriate <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a> template file, <em>content_type.rss</em>, so that “application/rss+xml” would be sent out with the Content-Type header accompanying the <acronym title=\"Rich Site Summary\">RSS</acronym> XML.</p>\n<p>Unfortunately it broke the feed, in that none of the content was being entity-escaped (escaping of entities in <acronym title=\"Rich Site Summary\">RSS</acronym> is of course a whole different story which I’ll leave for now). <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a> decides whether to do entity-escaping if the content-type is “text/xml”. So I made a quick fix to the check, so that the content of any <a href=\"http://www.raelity.org/apps/blosxom/flavour.shtml\">flavour</a> whose content-type was anything ending in “Wxml” would be entity-escaped.</p>\n<p>Funnily enough, I was only recently talking about <em>link rel=’…’</em> tags in <a href=\"https://qmacro.org/undefined/\">Presentations, Wikis, and Site Navigation</a> last night.</p>\n<p>So apologies for those people whose readers may have choked on unescaped content for the past few hours from this site.</p>\n",
      "date_published": "2003-01-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/21/1/wisdom-diplomacy-or-serendipity/",
      "url": "https://qmacro.org/blog/2003/21/1/wisdom-diplomacy-or-serendipity/",
      "title": "Wisdom, diplomacy, or serendipity?",
      "content_html": "<p><a href=\"http://allconsuming.net/\">allconsuming.net</a> has a <a href=\"http://allconsuming.net/news/000012.html\">SOAP interface</a>. Nice and easy to call and use.</p>\n<p>But for those (including me) who (also) have a <a href=\"http://internet.conveyor.com/RESTwiki/moin.cgi/FrontPage\" title=\"The REST Wiki's front page\">REST</a> bent, there is also a tip-o’-the-hat style flavour that has interesting possibilities. The (readonly) methods are also available as URLs like this:</p>\n<p><a href=\"http://allconsuming.net/soap-client.cgi?hourly=1\">http://allconsuming.net/soap-client.cgi?hourly=1</a></p>\n<p>or</p>\n<p><a href=\"http://allconsuming.net/soap-client.cgi?friends=1&amp;url=//qmacro.org/about\">http://allconsuming.net/soap-client.cgi?friends=1&amp;url=//qmacro.org/about</a></p>\n<p>where the methods are “GetHourlyList()” (hourly=1) and “GetFriends()” (friends=1) respectively.</p>\n<p>While the actual data returned in the message body is clearly <a href=\"http://www.perldoc.com/perl5.6/lib/Data/Dumper.html\">Data::Dumper</a>ed output of the data structure that would be returned in the SOAP response, a slight change on the server side to produce the data in ‘original’ XML form would be very useful indeed for pipeline-style applications, perhaps.</p>\n<p><a href=\"http://erikbenson.com/\">Erik</a> is using these URLs to show readers examples of response output. But I bet the potential diplomacy wasn’t lost on him.</p>\n",
      "date_published": "2003-01-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/21/1/the-universal-canvas-and-rss-apps/",
      "url": "https://qmacro.org/blog/2003/21/1/the-universal-canvas-and-rss-apps/",
      "title": "The universal canvas and RSS apps",
      "content_html": "<p>It seems that beyond carrying syndication information, <acronym title=\"Rich Site Summary\">RSS</acronym> is a very useful and flexible way to get all sorts of application data pushed to a user over time. In the same way that a web browser is a <a href=\"http://groups.yahoo.com/group/ucapi-discuss/\">universal canvas</a> upon which limitless services and information can be painted, so (in an albeit much smaller way) an RSS reader/aggregator might also find its place as an inbox for time-related delivery of all sorts of information. This is borne out by the <a href=\"https://qmacro.org/undefined/\">experimental “booktalk” application</a> which uses the <acronym title=\"Rich Site Summary\">RSS</acronym> infrastructure to deliver information that appears over time.</p>\n<p>Application data and <acronym title=\"Rich Site Summary\">RSS</acronym> is something that <a href=\"http://radio.weblogs.com/0103021/\">Matthew Langham</a> touched upon <a href=\"http://www.oreillynet.com/cs/user/view/cs_msg/12476\">last December</a>. And of course, this isn’t just hot air, <a href=\"http://www.oreillynet.com/cs/user/view/cs_msg/12476\">we’re already generating RSS</a> out of SAP R/3 at work for a sales (SD) application.</p>\n",
      "date_published": "2003-01-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/20/1/the-disruptive-engineering-spectrum-and-booktalk-an-allconsuming-app/",
      "url": "https://qmacro.org/blog/2003/20/1/the-disruptive-engineering-spectrum-and-booktalk-an-allconsuming-app/",
      "title": "The disruptive engineering spectrum, and &quot;booktalk&quot;, an AllConsuming app",
      "content_html": "<p>At one end of the spectrum, along which building blocks for future cooperative web applications lie, we have the library software vendors who were unwitting participants in a great web service experiment “<a href=\"http://weblog.infoworld.com/udell/stories/2002/12/11/librarylookup.html\">LibraryLookup</a>” built and described by <a href=\"http://weblog.infoworld.com/udell\">Jon</a> in a recent <a href=\"http://staging.infoworld.com/articles/ap/xml/03/01/06/030106apapps.xml?template=/storypages/printfriendly.html\">InfoWorld column</a>. While I’m sure everything is fine now, I don’t think their initial reaction to their participation was favourable. Fair enough.</p>\n<p>At the other end of the spectrum, enter <a href=\"http://erikbenson.com/\">Erik Benson</a> and his creation <a href=\"http://allconsuming.net/\">allconsuming.net</a>, a very interesting site which builds a representation of the collective literary consciousness of the weblogging community by scanning weblog RSS feeds for mentions of books (Amazon and other URLs, specifically ISBN/ASINs) and collating excerpts from those weblog posts with data from other web sources such as Amazon and Google. Add to that the ability to sign up and create your own lists of books (currently reading, favourites, and so on) and you have a fine web resource for aiding and abetting your bookworm tendencies.</p>\n<p>A fine web resource not only for humans, but as a software service too. In constructing <a href=\"http://allconsuming.net/\">allconsuming.net</a>, Erik has deliberately left software hooks and information bait dangling from the site, ready for us to connect and consume. Moreover, he <a href=\"http://www.allconsuming.net/news/000027.html#000027\">encourages </a> us to do so, telling us to “Use [his] <a href=\"http://allconsuming.net/xml/\">XML</a>” and try out his <a href=\"http://allconsuming.net/news/000012.html\">SOAP interface</a>.</p>\n<p>So I did.</p>\n<p>While <a href=\"http://allconsuming.net/\">allconsuming.net</a> can send you book reading recommendations (by email) based on what your friends are reading and commenting about, I thought it might be useful to be able to read any comments that were made on books that you had in your collection. <em>“I’ve got book X. Let me know when someone says something about book X”</em>.</p>\n<p>So I whipped up a little script, <a href=\"https://qmacro.org/~dj/2003/01/booktalk\">booktalk</a>, which indeed uses <a href=\"http://allconsuming.net/\">allconsuming.net</a>‘s hooks to build a new service. What <a href=\"https://qmacro.org/~dj/2003/01/booktalk\">booktalk</a> does, crontabbed on an hourly basis, is to grab a user’s <a href=\"http://allconsuming.net/soap-client.cgi?currently_reading=1&amp;username=avalon\">currently reading</a> and <a href=\"http://allconsuming.net/soap-client.cgi?favorite_books=1&amp;username=qmacro\">favourite books</a> lists and then look at the <a href=\"http://allconsuming.net/soap-client.cgi?hourly=1\">hourly list</a> of latest books mentioned. Any intersections are pushed onto the top of a list of items in an <acronym title=\"RDF Site Summary\">RSS</acronym> file, which represents a sort of <a href=\"https://qmacro.org/blog/2003/%7Edj/booktalk_avalon.xml\">‘commentary alert’ feed</a> for that user and his books. It goes without saying that the point of this is so that the user can easily monitor new comments on books in his collection by subscribing to that feed, which, aggregated by <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a> and rendered by <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a>, would look <a href=\"https://qmacro.org/cgi-bin/blosxom/booktalk\">something like this</a>.</p>\n<p>Of course, the usual caveats apply – it’s experimental, and works for me, your mileage may vary.</p>\n",
      "date_published": "2003-01-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/20/1/creating-the-entry-index/",
      "url": "https://qmacro.org/blog/2003/20/1/creating-the-entry-index/",
      "title": "Creating the &quot;Entry index&quot;",
      "content_html": "<p>Often I’d be discussing something and remember that I’d written something about it on this weblog. Manually searching through the files that contain the weblog entry texts was more painful than I wanted. I decided to make an <a href=\"https://qmacro.org/blog/2003/20/?flav=titles&amp;num_entries=100\">Entry index</a> available – a simple list of weblog item titles in reverse date order, that I could search through.</p>\n<p>With the power of <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a>, I managed to do it in 10 minutes. Using the ‘<a href=\"http://www.raelity.org/apps/blosxom/flavour.shtml\">flavour</a>‘ templating mechanism, I created a new flavour “titles” which I can then specify (<a href=\"https://qmacro.org/blog/2003/20/?flav=titles&amp;num_entries=100\">//qmacro.org/about/?flav=titles&amp;num_entries=100</a>) when calling Blosxom to run over my file store. Wonderfully simple. And while I could put together a little mechanism to statically build such a list every 10 minutes or something (to save the CPU hit), I don’t want to, and don’t have to now that I’m not trying to render everything on the main weblog page.</p>\n<p>The ‘titles’ flavour files are <a href=\"https://qmacro.org/~dj/2003/01/titles/\">here</a>.</p>\n<p>There was a bit of jiggery-pokery I had to perform to make it work how I wanted. First, Blosxom makes a decision on whether to insert the day/date subtitles in a weblog display based upon what content-type the flavour is. Because it decides to insert such subtitles when it sees ‘text/html’, and I don’t want Blosxom to insert the subtitles in the entry index, I set the <a href=\"https://qmacro.org/~dj/2003/01/titles/content_type.titles\">content-type for the titles flavour</a> to be ‘text/html;’.</p>\n<p>Second, the number of entries that Blosxom displays is governed by a parameter in the code. But I wanted a different number of entries in the index than in the main weblog display. So I added a line:</p>\n<p>param('num_entries') and $num_entries = param('num_entries');</p>\n<p>near the start to allow me to pass the value in the URI.</p>\n<p>Hey, it works, ok?</p>\n<p>The ‘titles’ flavour files are <a href=\"https://qmacro.org/~dj/2003/01/titles/\">here</a>.</p>\n",
      "date_published": "2003-01-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2003/20/1/a-new-year-and-a-new-approach/",
      "url": "https://qmacro.org/blog/2003/20/1/a-new-year-and-a-new-approach/",
      "title": "A new year and a new approach",
      "content_html": "<p>Well, after a rather long pause, I have found my way back to the keyboard. More and more Real Life started intervening during winter and I had less and less time around “here”. Not that I’m complaining, it’s been very pleasant (reading and daydreaming through <a href=\"http://allconsuming.net/item.cgi?isbn=0571110959\">The Complete Book of Self-Sufficiency</a>, recommended to me by <a href=\"http://www.piersharding.com/\">Piers</a>, and spending lots of time in the kitchen and garden, mostly).</p>\n<p>Anyway, I wanted to start out on a fresher, less cluttered approach to the weblog mechanism. So here it is. I’ll probably add things to it gradually over the weeks and months, but I thought I’d go back to basics and remind myself of how simple HTML, HTTP and URIs can be. I also wanted to get away from the problem of trying to fit everything onto one page. Add to that the fact that I’m no great artist (my main diagram medium at work is still ASCII art lines and boxes) and I’m actually more comfortable with this simple layout compared to the previous one. Funnily enough, it looks like <a href=\"http://diveintomark.org/\">Mark</a> has been redesigning and simplifying too.</p>\n<p>I’m using the 0+6i beta 2 version of <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a>, with the anticipation of moving to <a href=\"http://www.raelity.org/archives/2003/01/19#blosxom_filename_flavour\">0+7i</a> when it’s ready. (It’s not unlikely that I’ve broken things in this rejig – please let me know if I have – thanks!)</p>\n",
      "date_published": "2003-01-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/19/12/startups-and-software-patents/",
      "url": "https://qmacro.org/blog/2002/19/12/startups-and-software-patents/",
      "title": "Startups and software patents",
      "content_html": "<p><a href=\"http://www.scripting.com/\">Dave W</a> points to <a href=\"http://www.strangeberry.com/\">Strangeberry</a>, a startup that are doing a Java rendition of <a href=\"http://www.zeroconf.org/Rendezvous/\">Rendevous</a>.</p>\n<p>“Interesting!” I think, as I go to their site and browse the founders’ <a href=\"http://www.strangeberry.com/about/index.html\">resumes</a>, where I find something rather disturbing. What I find is that various US Patents are being paraded. These patents seem to be predominately for software, methodologies, rather than inventions. Picking one at random, <a href=\"http://www.delphion.com/details?pn=US06226654__\">US6226654: Web document based graphical user interface</a> – this seems to be using specific web technology components (HTML forms and graphics, for example) for exactly the use they were originally intended (GUI-in-browser). How the heck can you patent that?</p>\n<p>Call me naive, call me an old fogey, but I do question the use of patents for programs and applications of software. At least the Strangeberry people aren’t trying to keep them a secret (in fact, quite the opposite!)</p>\n",
      "date_published": "2002-12-19T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/17/12/for-rest-read-architectural-style/",
      "url": "https://qmacro.org/blog/2002/17/12/for-rest-read-architectural-style/",
      "title": "For REST, read &#39;Architectural Style&#39;",
      "content_html": "<p>In the swirling mass of memes surrounding web services (whatever they are) it’s sometimes easy to forget that <a href=\"http://internet.conveyor.com/RESTwiki/moin.cgi/FrontPage\" title=\"The REST Wiki's front page\">REST</a> is an architectural style, an approach, rather than something that you install or debug. If nothing else, it’s become useful as a framework in which I can think more clearly about web-based projects and their interfaces. Thinking in terms of a limited number of verbs (methods) with well-defined and widely understood semantics, combined with a set of ‘objects’ (represented by URIs) certainly helped me come up with a clear idea of what I should code, and how it should appear to the outside world, in a couple of recent projects.</p>\n<p>What’s really interesting is that a pattern is emerging. The interface description table in my ‘working notes’ (aka final documentation :-) that I’ve written to describe the details of the latest project bear a remarkable resemblance to the table in the <a href=\"https://qmacro.org/space/RtRest\">RESTful RT experiment</a> and also the one in <a href=\"http://www.bitworking.org/\">Joe</a>‘s <a href=\"http://wellformedweb.org/RESTLog.cgi/5\">RESTlog interface</a>. For each interaction, they each roughly show:</p>\n<ul>\n<li>the HTTP verb</li>\n<li>the URI</li>\n<li>what the payload to be sent is (and its content-type) if any</li>\n<li>what the expected response is (HTTP status and pertinent headers)</li>\n<li>what the payload to be expected back is (and its content-type) if any</li>\n<li>what possible error responses there might be</li>\n</ul>\n<p>Incidentally, <a href=\"http://www.piersharding.com/\">Piers</a> (my partner in code crime) has just written about the <a href=\"http://www.piersharding.com/article.xml?mhttp\">client-end</a> of one of the RESTful projects at work.</p>\n<p>I discovered a nice RESTful bonus when doing the documentation too – I could link directly to the URLs of some of the services from within my (HTML/Wiki-based) documentation, to show examples. That’s turning out to be very useful.</p>\n",
      "date_published": "2002-12-17T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/15/12/assaults-on-the-internet-s-end-to-end-architecture/",
      "url": "https://qmacro.org/blog/2002/15/12/assaults-on-the-internet-s-end-to-end-architecture/",
      "title": "&quot;Assaults on the Internet&#39;s end-to-end-architecture&quot;",
      "content_html": "<p>Jon Udell <a href=\"http://weblog.infoworld.com/udell/categories/identityPrivacy/2002/12/05.html\">wrote about whitelisting and ChoiceMail</a> earlier this month, and rightly pointed out that such mechanisms were in some ways evidence that in trying to combat UCE we were losing the general efficacy of email.</p>\n<p>I just read (via <a href=\"http://www.schockwellenreiter.de/\">Der Schockwellenreiter</a>) about another potential assault (albeit seemingly well-meant) on the same. <a href=\"http://www.wired.com/news/technology/0,1282,56788,00.html\">Wired reports</a> on a charging plan for spammers, with mechanisms that would allow genuine emails to get through.</p>\n<p>I don’t know what the answer is. For now, I’m happy, having installed the excellent <a href=\"http://www.spamassassin.org/\">SpamAssassin</a> and enjoying virtually spam-free email bliss.</p>\n",
      "date_published": "2002-12-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/11/12/ben-s-rss-book/",
      "url": "https://qmacro.org/blog/2002/11/12/ben-s-rss-book/",
      "title": "Ben&#39;s RSS book",
      "content_html": "<p>A (slightly) belated congrats to <a href=\"http://www.benhammersley.com/\">Ben</a> on the publication of his book, <a href=\"http://www.oreilly.com/catalog/consynrss/\">Content Syndication with RSS</a>. Just in time for my Christmas list. Having <a href=\"http://www.oreilly.com/catalog/jabber/\">shared a similar experience</a> I can appreciate the effort he has most certainly put in. Well done Ben.</p>\n",
      "date_published": "2002-12-11T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/8/12/restifying-rt/",
      "url": "https://qmacro.org/blog/2002/8/12/restifying-rt/",
      "title": "RESTifying RT",
      "content_html": "<p>After a rather longer-than-expected hiatus (I’ve been soaking up some of my online / technology saturation with some good old fashioned cooking, baking and sudden interest in antiques) I’m back in front of the keyboard.</p>\n<p>Lots to catch up on indeed. Seems the extended community continues to be busy, innovative, and still rather passionate about things.</p>\n<p>Anyway, as a starter for ten, I’ve dusted off a little abandoned project that I started shortly before <a href=\"http://conferences.oreilly.com/os2002/\">OSCON</a> this year and talked about it a bit there (on <a href=\"http://internet.conveyor.com/RESTwiki/moin.cgi/FrontPage\" title=\"The REST Wiki's front page\">REST</a>ifying <a href=\"http://www.fsck.com/projects/rt/\" title=\"RT: Request Tracker\">RT</a>). I’ve <a href=\"https://qmacro.org/space/RtRest\">written up a few notes</a> with a view to (a) crystallizing my thoughts and (b) thinking through the API I had (and bits I’ve added) so I can write a cleaner implementation. Maybe.</p>\n",
      "date_published": "2002-12-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/14/10/practical-rdf-book-up-for-public-review/",
      "url": "https://qmacro.org/blog/2002/14/10/practical-rdf-book-up-for-public-review/",
      "title": "&#39;Practical RDF&#39; book up for public review",
      "content_html": "<p>Great stuff – <a href=\"http://weblog.burningbird.net/\" title=\"Shelley Powers\">Shelley</a>‘s forthcoming book, “Practical RDF”, is going to be <a href=\"http://rdf.burningbird.net/\">available for public review</a>. I’m looking forward to it.</p>\n",
      "date_published": "2002-10-14T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/5/10/notes-to-self-what-should-the-rdf-about-point-to/",
      "url": "https://qmacro.org/blog/2002/5/10/notes-to-self-what-should-the-rdf-about-point-to/",
      "title": "Notes to self: What should the rdf:about point to?",
      "content_html": "<p>If nothing else, RSS 1.0 is a great source of contemplation and wondering. This morning, I’ve been considering the thoughts surrounding the <strong>rdf:about</strong> attribute in the channel element:</p>\n<p><channel rdf:about=\"...\"> ... </channel></p>\n<p>What should the value of the <strong>rdf:about</strong> be? The URI of the RSS file itself or the URI of the document that the RSS is describing? This is not a new question – it’s been debated already, and I’m not trying to dredge up the issues in any particular way now; I just want to get my (seemingly random) thoughts down here (weblogging for me is a great framework in which to marshall my thinking, which I’m trying to make the most of in this period of infrequent connectivity).</p>\n<p>There are some arguments for the value of <strong>rdf:about</strong> to be the URI of HTML document (I’m using HTML examples in this post for simplicity’s sake), and others for it to be the URI of the RSS document itself. Here’s what I’ve been thinking:</p>\n<p><em>Thoughts against the value being the RSS URI:</em></p>\n<ul>\n<li>In every case that I’ve seen, the URI for the RSS data and the URI for the HTML are different. There are two separate documents. If the value of <strong>rdf:about</strong> is the RSS URI, what is going to describe the HTML URI?</li>\n<li>There have been arguments put forward that the RSS and the HTML that it described are really just two representations of the same thing. But I thought it was Not Good Practice to identify a single resource (the thing) with two (or more) different URIs? [On the other hand, if RSS was retrieved via content negotiation, we <em>could</em> use a single URI and just state in the HTTP request that we wanted (to <strong>Accept</strong>) the data or the metadata.]</li>\n<li>If RSS ‘is just another representation’ of the HTML, and RSS is RDF, does it follow that all RDF descriptions of single URIs are to be considered as just other representations of said URIs? (This is clearly extreme and provocative)</li>\n</ul>\n<p><em>Thoughts in favour of the value being the RSS URI:</em></p>\n<ul>\n<li>Some RSS documents exist without any equivalent ‘describee’. For example, RSS feeds of aggregated items related by category are automatically constructed for further consumption. There are no equivalent HTML documents that these RSS documents are describing. So having to specify a URI of the HTML in the <strong>rdf:about</strong> attribute in these cases doesn’t make sense.</li>\n<li>Often HTML pages have content above and beyond the news (or whatever) items being described in the RSS. As the RSS is not describing this other content, stating that the description is about the HTML URI is not entirely accurate, or at least not entirely representative.</li>\n</ul>\n<p>One interesting thing to note concerning the ‘representation’ question, and in relation to the HTML &lt;link rel=”…” … /&gt; construction to</p>\n<ol>\n<li><a href=\"https://qmacro.org/blog/2002/5/2002/Jun/03#newlinks\">point to the RSS feed from a weblog</a> (in collaborative weblog activities earlier this year)</li>\n<li><a href=\"http://www.w3.org/TR/1999/REC-rdf-syntax-19990222/\">point to RDF from HTML in general</a> (in the RDF M&amp;S)</li>\n</ol>\n<p>is that different possible values for the <link />’s <strong>type</strong> attribute show both alternatives: for example the value “alt” suggests an <em>alternative representation</em>, whereas the value “home” suggests a <em>separate resource altogether</em></p>\n<p>.</p>\n<p>Regarding the content negotiation comments, and the HTTP headers that are employed, I am reminded of other thoughts about RDF and resources in general. A question I had (well, still have) is “<em>Where are the statements about the statements?</em>” Yes, I guess I’m talking about reification, but not in the specific technical sense. I’m more interested in this: given a resource, how do I know where the (RDF) statements are that describe it? <a href=\"http://www.w3.org/TR/1999/REC-rdf-syntax-19990222/#transport\">Appendix B “Transporting RDF</a> in the RDF Model and Syntax (M&amp;S) Specification describes four ways of associating descriptions with the resource they describe – “embedded”, “along-with”, “service bureau”, and “wrapped”. I’ve been thinking of the pros and cons of supplying an HTTP header when the resource is retrieved, like this:</p>\n<p>X-RDF: (URI-of-RDF-file)</p>\n<p>Now this isn’t a statement about a statement in the RDF sense, but it sure tells you where the statements about a resource are to be found. Hmmm…</p>\n<p>Anyway, back to what the value of <strong>rdf:about</strong> should be. I think the difficulties and questions arise because of the special relationship between RDF and RSS that I <a href=\"https://qmacro.org/blog/2002/5/2002/Oct/02#tech/rss/significance\">mentioned last time</a>. Perhaps because other (non-RDF) RSS formats exist, the RDF and RSS are seen as separate things, so the RSS is a valid candidate for description (by RDF). This becomes meta meta data – a description of the description. Hmmm. One perverse extrapolation of this (taking the fact that <a href=\"http://www.purl.org/rss/1.0/\" title=\"RSS (RDF Site Summary)\">RSS</a><em>is</em> RDF, and considering <strong>rdf:about</strong>=”URI-of-RSS”) is that all RDF files would be written to describe themselves, and not the actual original resource. Perhaps what I’m trying to say is that this crazy scenario is an argument against having the RSS URI in the <strong>rdf:about</strong>.</p>\n<p>So, what’s the answer?</p>\n<p>I don’t think there is a definitive one, apart from “whatever makes more sense for your particular instance”. I don’t know if this is right or not, but it sure is stimulating.</p>\n<p>One last question to bring this rambling to an end. What’s the semantic difference between specifying the RSS URI for <strong>rdf:about</strong> in an RSS file, and specifying blank (i.e. <strong>rdf:about=””</strong>)? About the same difference as there is between “self reference” and “self reflection”? ;-)</p>\n",
      "date_published": "2002-10-05T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/2/10/a-moment-of-clarity-the-significance-of-rss-1-0-as-an-rdf-application/",
      "url": "https://qmacro.org/blog/2002/2/10/a-moment-of-clarity-the-significance-of-rss-1-0-as-an-rdf-application/",
      "title": "A moment of clarity: The significance of RSS 1.0 as an RDF application",
      "content_html": "<p>Walking on the beach this morning (yes we’re on holidays) I suddenly had a moment of clarity. It may be obvious to you, but I’ve been struggling to see what the theme was that lay beyond the clutter of the investigations into RDF and RSS, the <a href=\"https://qmacro.org/2002/09/21/more-thoughts-to-ponder/\">contemplation of namespaces</a> and the various recent discussions on namespaces in comments to posts on <a href=\"http://rss.benhammersley.com/\">Ben’s</a>, <a href=\"http://weblog.burningbird.net/\">Shelley’s</a>, <a href=\"http://www.intertwingly.net/blog\">Sam’s</a>, and doubtless others’ weblogs (all too much to keep track of).</p>\n<p>I’d been contemplating what a namespace-aware XML parser for <a href=\"http://www.purl.org/rss/1.0/\" title=\"RSS (RDF Site Summary)\">RSS 1.0</a> would look like, and how it would work in relation to the <a href=\"http://web.resource.org/rss/1.0/modules/\">RSS modules</a>. (Of course for Perl programmers, for example, there’s the <a href=\"http://search.cpan.org/author/EISEN/XML-RSS-0.96/RSS.pm\">XML::RSS</a> parser on CPAN, which is namespace aware but relies on the RSS 1.0 namespace being the <em>default</em> namespace — in other words, if you specify a prefix for the RSS 1.0 namespace, say, “rss10″, rather than have it as the default namespace in the document, and prefix the RSS 1.0 elements with this prefix (“rss10:channel”, “rss10:item”, etc) then XML::RSS isn’t going to like it. But I digress…)</p>\n<p>While namespace-aware XML parsing is indeed important, and namespaces are fundamental to RDF, the importance of handling namespaces correctly when parsing had clouded a question that I knew existed but hadn’t all the right words in the sentence, until now.</p>\n<p>“What is the significance of RDF in RSS?” Actually, that’s not quite right.</p>\n<p>While I’ve been looking at <a href=\"https://qmacro.org/2002/09/08/the-rdf-in-rss/\">the RDF in RSS</a>, I’ve been concentrating on the bits that ‘look like’ RDF — the stuff that I highlighted in bold in the <a href=\"https://qmacro.org/blog/2002/2/2002/Sep/08#tech/rdf/rssrdf\">example RSS</a> (rdf:about, rdf:Seq, and so on). But it’s not as if there are some ‘bits’ of RDF in a format that’s RSS … the format RSS 1.0 <em>is</em> an RDF application. In other words, <em>all</em> of RSS 1.0 is RDF. The fact that it’s very similar to non-RDF RSS formats like 0.91 is of course an intended advantage. And the fact that the ‘transportable form’ that RDF takes is XML (RDF can be expressed in node/arc diagrams, or other forms such as <a href=\"http://www.w3.org/2000/10/swap/Primer.html\">Notation 3</a>, or ‘N3′) also makes it nicely ‘compatible’.</p>\n<p>“So what?”, I hear you ask.</p>\n<p>Well, I’ve been wondering how complicated an XML parser (yes, a namespace aware one, but that’s not significant here) would have to get to support the plethora of RSS 1.0 modules available now and in the future. To be more specific, let’s take an example. Consider the <strong>creator</strong> property (element) from the <a href=\"http://purl.org/rss/1.0/modules/dc/\">Dublin Core (dc)</a> module. The property is normally used by specifying a literal (a string) as its value, thus:</p>\n<pre><code>&lt;dc:creator&gt;DJ Adams&lt;/dc:creator&gt;\n</code></pre>\n<p>But what about <a href=\"http://web.resource.org/rss/1.0/modules/#s3.2\">rich content model</a> usage of properties? Consider the use of this property in the <a href=\"http://rss.benhammersley.com/archives/001391.html#001391\">discussions</a> of how to splice <a href=\"http://xmlns.com/foaf/0.1/\">FOAF</a> with RSS. Dealing with a new element from a defined namespace, where the usage is of the <em>open tag – literal value – close tag</em> variety, is not that difficult when parsing based on XML events. But what about this, which is based on one of the suggestions from Dan Brickley in the discussion and further discussed <a href=\"http://groups.yahoo.com/group/rdfweb-dev/message/293\">on the rdfweb-dev list</a>:</p>\n<pre><code>&lt;dc:creator&gt; &lt;foaf:Person&gt; &lt;foaf:Name&gt;DJ Adams&lt;/foaf:Name&gt; &lt;foaf:seeAlso rdf:resource='...' /&gt; ... &lt;/foaf:Person&gt; &lt;/dc:creator&gt;\n</code></pre>\n<p>Suddenly having to parsing this, as opposed to the simple ‘literal value’ example, is a whole new ballgame in state management (“where the hell am I <em>now</em> in this XML document and what do I do with these tags?”), and at least for this author, writing an XML parser to cope with all such data eventualities would be rather difficult in the context of XML-event based parsing.</p>\n<p>But that’s just it. Considering an <em>XML</em> parser is missing the point. An <em>RDF</em> parser is more appropriate here. Looking at the structure of RSS 1.0 and the modules available for it from an RDF point of view suddenly made things clear for me. With RDF, the <a href=\"http://www.w3.org/2001/10/stripes/\">striped</a> nature of the information encoded in XML is neatly parsed, regardless of difficult-to-predict hierarchical complexity, and translated into a flat set of triples (subject, predicate, object) that you can then interrogate. What you do with that information is then up to you.</p>\n<p>There are many RDF tools, including parsers, listed on <a href=\"http://www.purl.org/net/dajobe/\">Dave Beckett’s</a> <a href=\"http://www.ilrt.bristol.ac.uk/discovery/rdf/resources/\">RDF resource site</a>. One of them is <a href=\"http://www.redland.opensource.ac.uk/\">Redland</a>, his own RDF toolset. Just before I bring this post to a conclusion, let’s have a look at what the RDF parser in Redland produces for the two <strong>creator</strong> examples earlier.</p>\n<p>Simple literal value example gives:</p>\n<pre><code>{[//qmacro.org/about], [http://purl.org/dc/1.1/elements/creator], &quot;DJ Adams&quot;}\n</code></pre>\n<p>In other words:</p>\n<pre><code>    /--------  creator   +----------+     | qmacro |-----------&gt;| DJ Adams |     --------/            +----------+\n</code></pre>\n<p>Complex FOAF element structure example gives:</p>\n<pre><code>{[//qmacro.org/about], [http://dublincore.com/creator], (genid1)} {(genid1), [http://www.w3.org/1999/02/22-rdf-syntax-ns#type], [http://foaf.com/Person]} {(genid1), [http://foaf.com/name], &quot;DJ Adams&quot;} {(genid1), [http://www.w3.org/2000/01/rdf-schema#seeAlso], [http://www.pipetree.com/~dj/foaf.rdf]}\n</code></pre>\n<p>In other words:</p>\n<pre><code>                                     type      /--------                                +--------------&gt;| Person |                                |               --------/                                |     /--------  creator   /----------    name      +----------+     | qmacro |-----------&gt;|  genid1  |-------------&gt;| DJ Adams |     --------/            ----------/              +----------+                                |                                |               /----------                                +--------------&gt;| foaf.rdf |                                     seeAlso    ----------/\n</code></pre>\n<p>(Whee! ASCII art RDF diagrams :-)</p>\n<p>So what conclusion is there to draw from this bit of rambling? For me, it’s the emphasis on <em>RDF</em>, rather than <em>XML</em>, of RSS (and in fact the subtle relationships between those three things) that is significant in itself, especially when one considers the journey to data richness that seems to demand complex (and tricky-to-parse) XML structures. And what’s more, it’s not specifically RSS that wins here. It’s <em>any</em> RDF application.</p>\n",
      "date_published": "2002-10-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/22/9/the-case-of-the-missing-rdf-description/",
      "url": "https://qmacro.org/blog/2002/22/9/the-case-of-the-missing-rdf-description/",
      "title": "The case of the missing rdf:Description",
      "content_html": "<p>RDF is a framework for describing resources. We know that. We also know (from various sources, such as the <a href=\"http://www.w3.org/TR/REC-rdf-syntax\" title=\"W3C Spec\">RDF Model and Syntax Specification</a>, or Pierre-Antoine Champin’s <a href=\"http://www710.univ-lyon1.fr/%7Echampin/rdf-tutorial/node23.html\">RDF Tutorial</a> (recommended!)) that an RDF document consists of a number of descriptions, and these descriptions look like this:</p>\n<pre><code>&lt;rdf:RDF ... &gt; &lt;rdf:Description ... &gt; ... &lt;/rdf:Description&gt; &lt;rdf:Description ... &gt; ... &lt;/rdf:Description&gt; ... &lt;/rdf:RDF&gt;\n</code></pre>\n<p>How come then, that instances of two of the more well-known RDF applications, <a href=\"http://www.purl.org/rss/1.0/\" title=\"RSS (RDF Site Summary)\">RSS</a> and <a href=\"http://xmlns.com/foaf/0.1/\" title=\"FOAF: Friend Of A Friend Vocab\">FOAF</a>, don’t seem to reflect this format? Following the root rdf:RDF node and the declarations of the namespaces, we have, respectively:</p>\n<pre><code>&lt;channel rdf:about=&quot;//qmacro.org/about&quot;&gt; &lt;title&gt;DJ's Weblog&lt;/title&gt; ... &lt;/channel&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;foaf:Person rdf:ID=&quot;qmacro&quot;&gt; &lt;foaf:mbox rdf:resource=&quot;mailto:dj.adams@pobox.com&quot;/&gt; ... &lt;/foaf:Person&gt;\n</code></pre>\n<p>What, no rdf:Description? Let’s have a look at what’s happening here. In the RSS example, we have <em>channel</em> – or in its fully qualified form <em><a href=\"http://purl.org/rss/1.0/channel\">http://purl.org/rss/1.0/channel</a></em> – a class, of which <em><a href=\"https://qmacro.org/about\">//qmacro.org/about</a></em> is declared as an instance with the <em>rdf:about</em> attribute.</p>\n<p>The RDF <a href=\"https://qmacro.org/blog/2002/22/2002/Sep/08#tech/rdf/rssrdf\">subject-predicate-object triple</a> looks like this:</p>\n<pre><code>//qmacro.org/about rdf:type http://purl.org/rss/1.0/channel\n</code></pre>\n<p>or in other words “the URI (which is about to be described) is a channel”.</p>\n<p>Because RDF is about is declaring and describing resources, it becomes clear that this sort of statement (technically the <em>rdf:type</em> triple, above) is very common. And what we saw in the RSS snippet above was the special RDF/XML construction that may be used to express such statements. If we didn’t have this special construction, we’d have to write:</p>\n<pre><code>&lt;rdf:Description rdf:about=&quot;//qmacro.org/about&quot;&gt; &lt;rdf:type rdf:resource=&quot;http://purl.org/rss/1.0/channel&quot; /&gt; &lt;title&gt;DJ's Weblog&lt;/title&gt; ... &lt;/rdf:Description&gt;\n</code></pre>\n<p>which is a tad long winded. Similarly, the long winded equivalent for the FOAF example would look like this:</p>\n<pre><code>&lt;rdf:Description rdf:ID=&quot;qmacro&quot;&gt; &lt;rdf:type rdf:resource=&quot;http://xmlns.com/foaf/0.1/Person&quot; /&gt; &lt;foaf:mbox rdf:resource=&quot;mailto:dj.adams@pobox.com&quot;/&gt; ... &lt;/rdf:Description&gt;\n</code></pre>\n<p>So there you have it. The rdf:Description isn’t there because a special construction is being used in both examples. Many thanks to Jon Hanna for <a href=\"http://groups.yahoo.com/group/rss-dev/message/3880\" title=\"rss-dev mailing list post\">turning the light bulb on in the first place</a>.</p>\n",
      "date_published": "2002-09-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/21/9/more-thoughts-to-ponder/",
      "url": "https://qmacro.org/blog/2002/21/9/more-thoughts-to-ponder/",
      "title": "More thoughts to ponder",
      "content_html": "<p>Here are two or three, er, thoughtbites, that I’ve come across over the past few days and that have stayed with me. I just thought I’d share them here as it’s the weekend and often a good time to think about things.</p>\n<p><strong>Open thinking about deep-linking</strong></p>\n<p>Tim Bray’s <a href=\"http://www.w3.org/2001/tag/ilist#deepLinking-25\">strawman defence</a> of the principle that ‘deep linking’ on the web isn’t illegal. It’s a wonderfully calm and simple aspirin for the anger and frustration that builds up inside when one reads about silly legal action about ‘deep-linking’.</p>\n<p><strong>RDF, define thyself</strong></p>\n<p>In Sean B. Palmer’s document <a href=\"http://infomesh.net/2001/swintro/\">The Semantic Web: An Introduction</a> (highly recommended!), RDF Schema is <a href=\"http://infomesh.net/2001/swintro/#simpleData\">introduced</a>, using (amongst other things) this snippet of RDF (read “rdf:type” as “is a”):</p>\n<pre><code>rdfs:Resource rdf:type rdfs:Class . rdfs:Class rdf:type rdfs:Class . rdf:Property rdf:type rdfs:Class . rdf:type rdf:type rdf:Property .\n</code></pre>\n<p>I don’t know about you, but I had to go and have a sit down to consider the implications after reading that.</p>\n<p><strong>Using namespaces in code</strong></p>\n<p>Last week on <a href=\"irc://irc.openprojects.net/rss-dev\">#rss-dev</a>, Ken MacLeod pointed to a <a href=\"http://lists.w3.org/Archives/Public/xml-names-editor/2002May/0009.html\" title=\"A Plea For Sanity\">post</a> by Dan Connolly regarding namespaces. Ken <a href=\"http://www.peerfear.org/chump/rss-dev/2002/09/12/2002-09-12.xml\">said</a>:</p>\n<blockquote>\n<p>A very key point (I think) drawn out in this article is that namespaces are used only to derive a (URI+localname) pair — namespaces should never be considered seperate from the element name they specify. … A namespace and localname make a single item of data, distinct from any other combination of namespace and localname.</p>\n</blockquote>\n<blockquote>\n<p>Libraries and applications (tools) should not try to store a namespace as one “object” and try to link all of the names as “children” of those objects. So, if you’re working in a language that’s string-happy, like Tcl or Perl, the first thing you should do is take the namespace and element name and put them together and use them like that from then on, “{URI}LocalName” works well in Perl, for example.</p>\n</blockquote>\n<p>Sounds obvious when you grok it, but (for me at least) it was a refreshing way to look at the whole issue of namespaces and how they’re represented in XML and used in deserialised data structures.</p>\n",
      "date_published": "2002-09-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/20/9/xml-scripting-data-manipulation-and-rdf/",
      "url": "https://qmacro.org/blog/2002/20/9/xml-scripting-data-manipulation-and-rdf/",
      "title": "XML Scripting, data manipulation, and RDF",
      "content_html": "<p>I’ve just read <a href=\"http://weblog.infoworld.com/udell/2002/09/20.html\">Jon’s latest post on XML Scripting</a>, which mentions Adam Bosworth’s thoughts about an XML scripting language that could natively support XML.</p>\n<p>While the advent of XML scripting sounds fascinating, I’ve also been wondering about <a href=\"http://www.w3.org/RDF/\" title=\"RDF (Resource Description Framework)\">RDF</a> enabling us to “gracefully integrate with the world of objects” and enhance the “self-describing nature of XML”. Yes, it’s my current area of interest (read: I’m vacuuming as much information as I can about it right now), and this by itself is likely to taint my vision somewhat. But reading what was quoted from Adam immediately made me think of some of RDF’s features (or should I say ‘nature’, I guess I’m not trying to sell it):</p>\n<ul>\n<li>in its XML incarnation, RDF can describe the XML data it ornaments</li>\n<li>it’s core nature (and through association the nature of the XML described by it) is object-orientated: things in RDF are either (instances of) classes, properties, or values of properties</li>\n<li>the concept and use of namespaces is a key strength of RDF and one on which it relies. Shared semantics, and the classes and properties by which such semantics are conveyed, are surely important when attempting to “convert from one XML format to another” and “synthesize complex XML documents for [from?] multiple sources”</li>\n</ul>\n<p>Now it’s clear that XML is not RDF. There’s the bootstrapping issue with RDF applications of which we’re all aware. There’s no magic wand, but there are ways (such as transformations to wring out RDF essence from ‘flat’ XML) to get going. And in the context where <a href=\"http://internet.conveyor.com/RESTwiki/moin.cgi/FrontPage\" title=\"The REST Wiki's front page\">REST</a>, web services, business data, and the focus on <em>resources</em> (URIs) intersect, RDF – as a technology for describing, sharing and linking business data – seems too significant to ignore.</p>\n<p>Going back to Adam’s quote that sparked this post, I am curious about the ‘native support’ of XML as a data type; my limited imagination cannot see how that might happen without some sort of serialization/deserialisation (will a term like ‘serdes’ be this decade’s equivalent of ‘modem’?). I am ready and willing to be enlightened :-) The great thing about RDF is that there is already a bounty of software (storage mechanisms, model and query tools, serializers and deserialisers) that can work with RDF in many existing programming languages.</p>\n<p>Anyway, plenty to ponder. Life is good.</p>\n",
      "date_published": "2002-09-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/18/9/moving-from-description-to-content-encoded-in-my-rss-1-0-feed/",
      "url": "https://qmacro.org/blog/2002/18/9/moving-from-description-to-content-encoded-in-my-rss-1-0-feed/",
      "title": "Moving from description to content:encoded in my RSS 1.0 feed",
      "content_html": "<p>After spotting a <a href=\"http://rdfig.xmlhack.com/2002/09/18/2002-09-18.html#1032346014.649371\" title=\"blogged comment on \">comment</a> on <a href=\"irc://irc.openprojects.net/rdfig\">#rdfig</a> regarding the contents of my RSS 1.0 feed’s <code>&lt;description&gt;</code>, I decided to take the plunge and use the <em>draft</em> part of RSS 1.0’s <a href=\"http://web.resource.org/rss/1.0/modules/content/\" title=\"RSS 1.0 mod_content module\">mod_content module</a>, namely the <strong>content:encoded</strong> property, to hold the entity-encoded weblog item content. (The description element itself in core 1.0 is optional, and although I’m omitting it for now, I’m still uneasy about it – ideally I’ll have a text-only abstract and be a good RSS citizen).</p>\n<p>This is something that <a href=\"http://weblog.infoworld.com/udell/2002/09/09.html#a405\" title=\"Jon Udell\">Jon</a>, <a href=\"http://www.intertwingly.net/blog/2002/Sep/17#x828\" title=\"Sam Ruby\">Sam</a> and others have done already. While <a href=\"http://tima.mplode.com/\" title=\"Timothy Appnel\">Timothy Appnel</a> asks a <a href=\"http://www.intertwingly.net/blog/828.html\" title=\"Tim's question on Sam's site\">good question</a>, I’ll address it here at a later stage as <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a> entity-encodes my HTML for me (i.e. there’s not much point trying to XSL-Transform it back).</p>\n<p>So I have modified the <a href=\"https://qmacro.org/blog/2002/%7Edj/qmacro.rss10\">RSS 1.0 feed</a> for this site to use <strong>content:encoded</strong> with a <a href=\"https://qmacro.org/~dj/rss091-to-10.xsl\">stylesheet slightly modified</a> from <a href=\"https://qmacro.org/blog/2002/18/2002/Sep/12#tech/rss/rss10\">last time</a>.</p>\n",
      "date_published": "2002-09-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/12/9/from-rss-0-91-to-1-0/",
      "url": "https://qmacro.org/blog/2002/12/9/from-rss-0-91-to-1-0/",
      "title": "From RSS 0.91 to 1.0",
      "content_html": "<p>Now that I understand what <a href=\"https://qmacro.org/blog/2002/12/2002/Sep/08#tech/rdf/rssrdf\">the RDF in RSS</a> is, I’m ready to move up to <a href=\"http://www.purl.org/rss/1.0/\">RSS 1.0</a>. I’m using <a href=\"http://www.raelity.org/apps/blosxom\">Blosxom</a> which generates RSS 0.91 by default. Flushed with a previous success using XSLT, I thought I’d use that technology again to generate 1.0 from 0.91.</p>\n<p>Luckily, Eric van der Vlist has some <a href=\"http://4xt.org/news/000815-0001.xml\">XSLT stylesheets over at 4XT</a> to do exactly that. This is the perfect opportunity for me to (a) learn more about XSLT by studying his stylesheets, and (b) to reflect upon the loosely connected nature of the web by employing the <a href=\"http://www.w3.org/2001/05/xslt\">W3C’s XSLT Service</a> and pointing directly to Eric’s <a href=\"http://4xt.org/downloads/rss/rss091-to-10.xsl\">0.91-to-1.0 stylesheet</a> and my <a href=\"https://qmacro.org/blog/2002/12/xml\">RSS 0.91 source</a>, in a URI recipe similar to the earlier <a href=\"https://qmacro.org/blog/2002/12/2002/Aug/29#tech/sidebar\">sidebar experiment</a>.</p>\n<p><a href=\"http://www.w3.org/2000/06/webdata/xslt?xslfile=http%3A%2F%2F4xt.org%2Fdownloads%2Frss%2Frss091-to-10.xsl&amp;xmlfile=http%3A%2F%2Fwww.pipetree.com%2Fqmacro%2Fxml&amp;transform=Submit\">This link</a> is the URI that will automagically return an RSS 1.0 of my weblog. Hurrah! However, so as not to abuse the transformation service, I’m cacheing the result and making my RSS 1.0 feed ‘static’, like this (split up a bit for easier reading):</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">/usr/bin/wget -qO /tmp/qmacro.rss10<br />\t<span class=\"token string\">'http://www.w3.org/2000/06/webdata/xslt<br />\t?xslfile=http%3A%2F%2F4xt.org%2Fdownloads%2Frss%2Frss091-to-10.xsl<br />\t&amp;xmlfile=http%3A%2F%2Fwww.pipetree.com%2Fqmacro%2Fxml&amp;transform=Submit'</span><br />\t<span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">mv</span> /tmp/qmacro.rss10 ~dj/public_html/</code></pre>\n<p>This is another example of the flexible nature of the shell (my favourite IDE) and programs designed and written for it. The wonderful <a href=\"http://www.gnu.org/software/wget/wget.html\">wget</a> program returns true if the retrieval of a resource was successful, otherwise false. I can then use the <strong>&amp;&amp;</strong> to only overwrite the current static rendering if we’ve successfully got a fresh transform result.</p>\n<p>I arrange for this incantation to be made once an hour, and can announce that my RSS 1.0 feed is available here: <a href=\"https://qmacro.org/blog/2002/%7Edj/qmacro.rss10\">http://www.pipetree.com/~dj/qmacro.rss10</a></p>\n",
      "date_published": "2002-09-12T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/8/9/the-rdf-in-rss/",
      "url": "https://qmacro.org/blog/2002/8/9/the-rdf-in-rss/",
      "title": "The RDF in RSS",
      "content_html": "<p>Ironically, it’s only been the recent and ongoing hubbub about the direction of RSS that’s got me wondering what the real truth is about the RDF in RSS. In a still handwavy sort of way, I understand that RDF is important for the (semantic|data) web that is to form as a layer above the current writhing disconnected mass of URIs. But I realised I hadn’t really thought much about what the RDF bits of RSS (1.0) were, and much less what they were for. I get the feeling that for most mortals, including me, including RDF in their RSS feeds seemed like building a racing car to do the shopping, and never even taking it out on a track after the shopping was finished. Actually, perhaps some people didn’t even see the racing car as a whole. So I did a little reading and thinking.</p>\n<p>The point of RDF is to be able to describe resources. Resource Description Framework. So far so good. But what are resources? They’re things that we can point to on the web – things with URIs (REST axioms, anyone?). With RDF, we can make assertions, state facts, about things. These assertions are always in the form of</p>\n<blockquote>\n<p>'this thing' has 'this property' with 'this value'.</p>\n</blockquote>\n<p>These assertions are often expressed as having the form ‘subject-predicate-object’ and are referred to as ‘triples’. RDF exists independently of XML, but what I (and lots of other people) recognise RDF as is its XML incarnation. Here’s a simple example:</p>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">rdf:</span>Description</span> <span class=\"token attr-name\"><span class=\"token namespace\">rdf:</span>about</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>//qmacro.org/about<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">dc:</span>title</span><span class=\"token punctuation\">></span></span>DJ's Weblog<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">dc:</span>title</span><span class=\"token punctuation\">></span></span><br /><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">rdf:</span>Description</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>This makes the assertion that</p>\n<blockquote>\n<p>the resource at <a href=\"https://qmacro.org/blog/2002/qmacro\" title=\"DJ's Weblog\">//qmacro.org/about</a> has a title (as defined in the <a href=\"http://purl.org/dc/elements/1.0/\" title=\"Dublin Core elements\">Dublin Core</a>) with the value “DJ’s Weblog“.</p>\n</blockquote>\n<p>What’s obvious is that <em>subjects</em> are URIs. It’s also easy to realise that <em>objects</em> can be URIs too – instead of having a Literal (“DJ’s Weblog”) as in the example above, you can have another resource (a URI), for example:</p>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">foaf:</span>Person</span> <span class=\"token attr-name\"><span class=\"token namespace\">rdf:</span>ID</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>qmacro<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">foaf:</span>depiction</span> <span class=\"token attr-name\"><span class=\"token namespace\">rdf:</span>resource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://qmacro.org/~dj/dj.png<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span><br /><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">foaf:</span>Person</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Here, the object, the value of the foaf:depiction property, is a URI (<a href=\"https://qmacro.org/~dj/dj.png\" title=\"DJ's ugly mug\">http://qmacro.org/~dj/dj.png</a>) pointed to directly with the rdf:resource attribute.</p>\n<p>But what’s really mindblowingly meta is that the predicate parts of assertion triples, the <em>properties</em>, are resources, addressable by URIs, too. Yikes! this means that RDF can be used to describe … RDF. In case you’re wondering, the properties (<em>dc:title</em>, <em>foaf:depiction</em>) don’t look like URIs, but they are URIs in disguise – the URI for each property is made up from the namespace qualifying the XML element name, and the element name fragment on the end of that. So for example, the <em>dc</em> namespace <a href=\"http://purl.org/dc/elements/1.1/\">http://purl.org/dc/elements/1.1/</a>, plus the element name <em>title</em>, gives:</p>\n<blockquote>\n<p><a href=\"http://purl.org/dc/elements/1.1/title\">http://purl.org/dc/elements/1.1/title</a></p>\n</blockquote>\n<p>Anyway, the point of RDF here is to be able to make connections between things on the web. To define, or describe, relations between things; to add richness to the data out there – to declare data about the data. If we, or our machines, can understand things about the data we’re throwing around, the world will be a better place for it. And to all those meta-data agnostics out there, ask yourself this – where would the database world be without data dictionaries?</p>\n<p>So, what about these triples that exist in RSS 1.0? They’re just to add a layer of richness, a seam to be mined by RDF-aware tools. Let’s have a look at a simple RSS 1.0 file. I’ve highlighted the RDF bits (slightly cut to fit):</p>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">rdf:</span>RDF</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>rdf</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/1999/02/22-rdf-syntax-ns#<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://purl.org/rss/1.0/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>channel</span> <span class=\"token attr-name\"><span class=\"token namespace\">rdf:</span>about</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>//qmacro.org/about/xml<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>DJ's Weblog<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span><span class=\"token punctuation\">></span></span>//qmacro.org/about<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>link</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>description</span><span class=\"token punctuation\">></span></span>Reserving the right to be wrong<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>description</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>items</span><span class=\"token punctuation\">></span></span><br />\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">rdf:</span>Seq</span><span class=\"token punctuation\">></span></span><br />\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">rdf:</span>li</span> <span class=\"token attr-name\"><span class=\"token namespace\">rdf:</span>resource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www...#tech/moz-tab-bookmark<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span><br />\t\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">rdf:</span>li</span> <span class=\"token attr-name\"><span class=\"token namespace\">rdf:</span>resource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www...#tech/google-idempotent<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><br />\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">rdf:</span>Seq</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>items</span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>channel</span><span class=\"token punctuation\">></span></span><br /><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>item</span> <span class=\"token attr-name\"><span class=\"token namespace\">rdf:</span>about</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www...#tech/moz-tab-bookmark<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Mozilla \"Bookmark This Group of Tabs\"<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span><span class=\"token punctuation\">></span></span>http://www...#tech/moz-tab-bookmark<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>link</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>description</span><span class=\"token punctuation\">></span></span> I was just reading some background stuff ...<br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>description</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>item</span><span class=\"token punctuation\">></span></span><br />\t\t...<br /><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">rdf:</span>RDF</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Here’s what we have, RDF-wise:</p>\n<ul>\n<li>We have the <strong>rdf</strong> namespace (<a href=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">http://www.w3.org/1999/02/22-rdf-syntax-ns#</a>), which qualifies the rdf elements in the file. The root element is <strong>RDF</strong>, which is standard for an RDF document.</li>\n<li>An RDF document is made up of a list of descriptions of resources. The resources here are identified, via their URIs of course, via the <strong>rdf:about</strong> attributes on the <channel> and <item> elements. (Notice that the channel and item elements are on the same level, XML-wise.)</item></channel></li>\n<li>Then we have the <strong><items></items></strong> element inside the <channel> element, containing an RDF structure called a sequence (<strong>rdf:Seq</strong>), which is basically an ordered container for things.</channel></li>\n</ul>\n<p>And what do these RDF things do? First, each resource – the RSS channel, or the Weblog it represents, and the actual items – are identified as <em>subjects</em> of assertions, using the <strong>rdf:about</strong> attributes. You could say that they’re the “subjects of <em>Descriptions</em> of them”. Each has a unique URI. Then, an assertion of the following nature is made about the channel:</p>\n<blockquote>\n<p>The channel <em><a href=\"https://qmacro.org/about/xml\">//qmacro.org/about/xml</a></em> contains an <em>ordered sequence</em> of things, namely <em><a href=\"http://www/\">http://www</a>…#tech/moz-tab-bookmark and <a href=\"http://www/\">http://www</a>…#tech/google-idempotent</em>.</p>\n</blockquote>\n<p>If the RSS file were to have an image, it would occur as in other RSS versions (i.e. as an element peer of the <channel> element), and the <image> element itself would have an <strong>rdf:about</strong> attribute pointing to that image resource’s URI. Then, <em>inside the channel element</em>, there’d be a simple:</image></channel></p>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>image</span> <span class=\"token attr-name\"><span class=\"token namespace\">rdf:</span>resource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>...<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p>element pointing to the same URI as the <image> element’s <strong>rdf:about</strong> attribute pointed to. This would say:</image></p>\n<blockquote>\n<p>The channel <em><a href=\"https://qmacro.org/about/xml\">//qmacro.org/about/xml</a></em> has an *image *, namely <em>(the image’s URI)</em>.</p>\n</blockquote>\n<p>And so on.</p>\n<p>In other words, the RDF in RSS is there to <strong>identify</strong> resources (the nodes) and to <strong>describe</strong> properties of or relationships between them (the arcs). The RDF content of RSS is not large. I think some people might intermingle RDF and namespace content and think “ooh, there’s a lot of RDF in RSS”. Sure, namespaces are fundamental to RDF, but exist (both here in RSS and elsewhere) independent of it (although if you <em>use</em> namespaces such as the Dublin Core in RDF-enhanced RSS, then you’re effectively, and at no extra cost, adding to the data web with the triples that come into being because of how RDF, namespaces, and XML wonderfully work together).</p>\n<p>So, there you have it. Just a bit of a brain dump of what I’ve been learning over the past couple of days. Now that I understand what’s going on, I for one would be very disappointed to see RDF go away from RSS. Although there are signs that this may not be the case after all. But that’s another story.</p>\n",
      "date_published": "2002-09-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/4/9/moving-between-mozilla-tabs-with-the-keyboard/",
      "url": "https://qmacro.org/blog/2002/4/9/moving-between-mozilla-tabs-with-the-keyboard/",
      "title": "Moving between Mozilla tabs with the keyboard",
      "content_html": "<p>Thanks to Leandro Mariano Lopez, Andy McMullan, damaged justice (ian), and Brian Donovan, who all emailed me to tell me that it’s Ctrl-PgUp/PgDown, I’m one step closer to mouseless nirvana…</p>\n<p>Now, if I can get Mozilla to run on my VT320 …</p>\n",
      "date_published": "2002-09-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/3/9/mozilla-bookmark-this-group-of-tabs/",
      "url": "https://qmacro.org/blog/2002/3/9/mozilla-bookmark-this-group-of-tabs/",
      "title": "Mozilla &quot;Bookmark This Group of Tabs&quot;",
      "content_html": "<p>I was just reading some background stuff before I posted my comment just now over on the <a href=\"http://www.intertwingly.net/blog/?entry=784\" title=\"Sam Ruby's post, and various comments\">interesting discussion on REST and idempotency</a> over on Sam’s site (the comment is also partially in response to <a href=\"http://radio.weblogs.com/0101679/2002/09/02.html#a787\">Sam’s post</a> yesterday).</p>\n<p>I had about 5 or 6 tabbed pages open with content relating to the discussion, and lo and behold, my new browser of choice, <a href=\"http://www.mozilla.org/\" title=\"Mozilla site\">Mozilla</a> (not least because I can now have a consistent experience on Linux and MS-Windows) allowed me to “Bookmark This Group of Tabs” all at once, and give the collection a nice little title.</p>\n<p>Neat. It’s little things like this that make for a pleasant experience. Now if only I could move from tab to tab with the keyboard instead of the mouse …</p>\n",
      "date_published": "2002-09-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/2/9/rest-google-and-idempotency/",
      "url": "https://qmacro.org/blog/2002/2/9/rest-google-and-idempotency/",
      "title": "REST, Google, and idempotency",
      "content_html": "<p>Sam has <a href=\"http://radio.weblogs.com/0101679/2002/09/02.html#a784\">asked</a> Mark Baker a question, or rather, presented an apparent conundrum. It was a pleasant subject to ponder as I was rolling out the pastry for some apple and blackberry pies, and on returning to the keyboard, I’ve decided to put some of my own thoughts down on Sam’s points, even though I’m still learning about all this stuff.</p>\n<p><em>Point #1: ‘GETs must not have side effects’ is perhaps REST’s most cherished axiom</em></p>\n<p>If I had to pick one as being the most cherished, I’d go for the one that says that anything that’s important is a first class URI citizen (i.e. addressable by a URI). The ‘no side effects’ axiom appears to be ‘just’ a natural follow on from the presentation of how the HTTP verbs are supposed to be understood and used.</p>\n<p><em>Point #2: The 1001st call to Google is different, and [so] the [GET] query is not idempotent</em></p>\n<p>In the SOAP context, a SOAP Fault will be returned by Google if you exceed your limit of 1000 calls in a day. Returning a SOAP Fault within the context of an HTTP 200 OK status is one thing. But percolating this response up to a REST (i.e. HTTP) context would imply returning, say, an HTTP 403 FORBIDDEN, with a body explaining why. This is a valid response to a GET.Having different results, different status codes, returned on a GET query doesn’t necessarily imply any side effects. Indeed, in our beloved canonical stock-quote example, we don’t even need to regard the HTTP status codes to see that results can be different on the same GET query (the stock market would be a very dull place if they weren’t). And what about Google itself? The same search query one day will not necessarily return the same results the next day. Different query results, no implied side-effects.</p>\n<p><em>Point #3: So, what do you do?</em></p>\n<p>Nothing different. Through REST-tinted spectacles, the 1001th GET receives a 403, and you act accordingly. No lives have been lost, no state has been changed. Potentatus idem manet. As the saying goes. Well. It does now.</p>\n<p>Of course, these are just my thoughts. Apologies to Sam if I’ve misunderstood his points, and to Mark if I’ve potentially muddied the waters.</p>\n<p>P.S. maybe I should have used ‘potestas’…</p>\n<p>P.P.S. I’m a grey, not a black-and-white, person</p>\n",
      "date_published": "2002-09-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/31/8/cacheing-on-xslt-service/",
      "url": "https://qmacro.org/blog/2002/31/8/cacheing-on-xslt-service/",
      "title": "Cacheing on XSLT service",
      "content_html": "<p>To speed things up on the experimental <a href=\"https://qmacro.org/2002/Aug/29#tech/sidebar\" title=\"yesterday's musings on RSS, Mozilla, and Sidebars\">RSS-in-Mozilla-sidebar thingy</a>, I’ve <a href=\"https://qmacro.org/~dj/XSLTc.pm\">added in some cacheing</a> (using a little MySQL db) to the <a href=\"https://qmacro.org/blog/2002/service/xslt\">simple XSL-Transform service</a> that’s used to transform RSS to HTML on the fly, for inclusion into the sidebar. It makes it a lot faster, obviously, and takes a bit of strain off our poor old Celeron. I’ve exposed the gubbins a bit, in that it’s possible to specify a ‘cachelife’ parameter on the call. So if you want to customise the URL passed in the sidebar.addPanel() call, you can send this now:</p>\n<pre><code>http://www.pipetree.com/service/xslt\n?\nxmlfile=*http://url/of/rss.feed*\n&amp;\nxslfile=http://www.pipetree.com/~dj/rss.xsl\n&amp;\ncachelife=30\n</code></pre>\n<p>The ‘cachelife’ parameter says “give me the cached version as long as it’s no more than N (30, here) minutes old … otherwise pull the RSS and transform it for me afresh, baby”. (It’s all explained briefly on a little homepage, which you <a href=\"https://qmacro.org/blog/2002/service/xslt\">get</a> if you don’t specify an xslfile or xmlfile parameter.)</p>\n<p>The <a href=\"https://qmacro.org/~dj/sidebar.html\">existing sidebar button</a> will continue to work fine, in that a default of 60 (minutes) is assumed if no ‘cachelife’ parameter is specified.</p>\n",
      "date_published": "2002-08-31T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/29/8/sidebars-mozilla-rss-old-and-new/",
      "url": "https://qmacro.org/blog/2002/29/8/sidebars-mozilla-rss-old-and-new/",
      "title": "Sidebars, Mozilla, RSS: old and new",
      "content_html": "<p>Back in the spring of 2000, I wrote <a href=\"https://qmacro.org/~dj/cgi-bin/mysidebar.pl\" title=\"re-animated non-working bit of reminiscence\">MySidebar</a>, a concoction of Mozilla sidebars, <a href=\"http://www.xulplanet.com/\">XUL</a> and RSS. It allowed you to specify an RSS URL and would generate XUL from it and install it in Mozilla’s sidebar. (XUL involves RDF. The interconnectedness of all things, eh?)</p>\n<p>Fozbaca recently <a href=\"http://fozbaca.org/archives/2002_08_17.shtml#002612\">pointed</a> to something <a href=\"http://www.theonering.net/staff/corvar/software/mozilla.html\">similar</a>, which reminded me about the whole thing. I’ve just downloaded Mozilla 1.1, and decided to revisit the area. Things have changed – you can now plonk straight HTML into the sidebar, rather than have to use XUL. Mmmm.</p>\n<p>So, I’ve had a bit of fun glueing ideas I read about from <a href=\"http://diveintomark.org/\">Mark</a> and <a href=\"http://udell.roninhouse.com/\">Jon</a>. What I’ve ended up with is a Mozilla toolbar button that you can click while viewing a weblog that <a href=\"https://qmacro.org/2002/May/31#htmllink\">points to its own RSS feed</a>. The button’s link is to Javascript, adapted from Mark’s <a href=\"http://diveintomark.org/archives/2002/05/31.html#more_on_rss_autodiscovery\">auto-subscribe bookmarklet</a>. On discovering an RSS feed (and the title of the blog page), it then constructs an XSLT pipeline URL that Jon <a href=\"http://weblog.infoworld.com/udell/2002/07/17.html#a341\">demonstrated last month</a>. The URL looks like this (split up for easy reading):</p>\n<pre><code>http://www.pipetree.com/service/xslt\n?\nxmlfile=*http://url/of/rss.feed*\n&amp;\nxslfile=http://www.pipetree.com/~dj/rss.xsl\n</code></pre>\n<p>The /service/xslt on pipetree is something very similar to the <a href=\"http://www.w3.org/2001/05/xslt\">W3C XSLT Service</a> that Jon used. I <a href=\"https://qmacro.org/~dj/XSLT.pm\">wrote my own</a> for various reasons. It’s a lot simpler, and probably a lot dafter. The XSLT stylesheet specified is a <a href=\"https://qmacro.org/~dj/rss.xsl\">very simple one</a> which points to some <a href=\"https://qmacro.org/~dj/rss.css\">even simpler CSS</a> to make the RSS-rendered-into-HTML … small enough to fit in Mozilla’s sidebar, into which it goes with the call to sidebar.addPanel() at the end of the <a href=\"https://qmacro.org/~dj/addtosidebar.js\">Javascript</a> where all this pipelining started out.</p>\n<p>It’s not that efficient, probably not that useful in the long run, but is certainly fun and allows me to turn my Mozilla into a sort of RSS newsreader. If you want to have a go, you can drag the Javascript link from <a href=\"https://qmacro.org/~dj/sidebar.html\">here</a>. Feel free to improve things!</p>\n",
      "date_published": "2002-08-29T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/16/8/you-know-you-re-getting-old/",
      "url": "https://qmacro.org/blog/2002/16/8/you-know-you-re-getting-old/",
      "title": "You know you&#39;re getting old ...",
      "content_html": "<p>…when it takes you over two weeks to recover from <a href=\"http://conferences.oreillynet.com/os2002/\" title=\"Open Source Convention home page\">OSCON</a>. What with the travel (ok, including a connectionless week in Manchester visiting relatives), the email backlog, and the catch-up at work, not to mention the overwhelming saturation of information, ideas, inspiration, and other things beginning with ‘i’ that came from the great time that was OSCON, I really need a post-conference holiday. I can’t begin to imagine what the organisers feel like.</p>\n<p>It was as much the opportunities to meet and chat with other like-minded individuals, exchange thoughts and ideas, and generally make new friends, as it was the talks and tutorials that I (and probably many other attendees) valued there.</p>\n<p>Needless to say, I also grabbed the chance to take my annual fill of U.S. food – chilli dogs, cheese fries, burritos, and cinnamon and raisin bagels. Yum.</p>\n",
      "date_published": "2002-08-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/16/8/the-os-tables-are-turning/",
      "url": "https://qmacro.org/blog/2002/16/8/the-os-tables-are-turning/",
      "title": "The OS tables are turning...",
      "content_html": "<p>I recently bought a <a href=\"http://www.focilux.be/Merken/M_Hama.htm\" title=\"picture of the Hama 46594\">Hama multi-slot card reader</a>, primarily for reading the Smart Media cards used in our camera. It came with software for Windows. I installed it on our Windows 98 machine, and plugged in the device, following the instructions to the letter. Ka-boom! Blue screen. After about an hour of trying and retrying to make it work (even installing upgraded drivers for the VIA chipset as recommended in the troubleshooting section), I was still no further on. Plugging in the device crashed Windows. Period.</p>\n<p>About to package the thing up to take it back, I passed the house server running Linux. What the heck, I thought, and plugged it in the back. “Ooh, hello”, said the kernel. I mounted the emulated SCSI device, and grabbed the pictures of the Smart Media card. Easy as that.</p>\n<p>The tables have turned. In times past, it used to be that peripherals Just Worked with Windows (mostly because the vendors targeted the drivers to that platform). Not any more.</p>\n<p>I’m a happy Linux user.</p>\n",
      "date_published": "2002-08-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/16/8/just-finished-re-reading-the-player-of-games-iain-m-banks/",
      "url": "https://qmacro.org/blog/2002/16/8/just-finished-re-reading-the-player-of-games-iain-m-banks/",
      "title": "Just finished re-reading: The Player Of Games (Iain M Banks)",
      "content_html": "<p>I read this a few years ago, and don’t think I appreciated some of the finer points (how many books <em>don’t</em> deserve a re-reading?).</p>\n<p>You can <a href=\"http://www.amazon.co.uk/exec/obidos/ASIN/0312026307/\" title=\"'The Player Of Games' at Amazon\">find out about the book at Amazon</a> so I won’t bother with the plot. It’s a wonderful study in far future tech – the ships, minds, and drones – which the characters, the author, and eventually you, the reader, take for granted (the tech doesn’t obscure the plot or the interplay of characters, but it’s wondrous all the same), interplay between human(oid) and artificial intelligence, and the tangents of differing civilizations.</p>\n<p>But what struck me most this time around was the way that I, the reader, naturally associated myself with the Culture (the civilization to which the central characters belong) – mostly, perhaps, because the Culture was the basis from which the plot stems, and regarded the Empire (the civilization that begat the game Azad) as the “aliens”. But the more one progressed through this novel it was clear, almost politically clear, that in fact the unruly, violent, and relatively primitive Empire civilization … was ours.</p>\n<p>A great read.</p>\n<p>I wonder how I could reuse this blog item as a review item in the book’s review section on Amazon? Hmm, how about an RSS 1.0 module and Amazon binding in support for that?</p>\n",
      "date_published": "2002-08-16T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/15/7/the-mist-is-clearing/",
      "url": "https://qmacro.org/blog/2002/15/7/the-mist-is-clearing/",
      "title": "The mist is clearing ...",
      "content_html": "<p>… but I’m not sure yet whether what’s being revealed is a bright sun, a dense forest, or more mist. In any case, it’s an interesting journey, and on the whole, enlightening.</p>\n<p>I’m trying to understand more about <a href=\"http://internet.conveyor.com/RESTwiki/moin.cgi/FrontPage\" title=\"The REST Wiki's front page\">REST</a>. To that end, I’ve just written a little <em>RESTful</em> interface to <a href=\"http://www.fsck.com/projects/rt/\" title=\"RT: Request Tracker\">RT</a> (Request Tracker), in the form of an Apache mod_perl handler, so that I can create new and correspond on existing tickets via a simple interface that I can call from my other apps.</p>\n<p>Creating a ticket:</p>\n<pre><code>POST /ticket\n(queue, subject, email, and initial ticket query supplied in body)\n\n...\n\n201 Created\nLocation: /ticket/42\n</code></pre>\n<p>Corresponding on a ticket:</p>\n<pre><code>PUT /ticket/42\n(correspondence supplied in body, will be appended to the ticket history)\n\n...\n\n200 OK\n</code></pre>\n<p>(Hmm, perhaps that should that be PUT to <code>/ticket/42/history</code>, returning a 201 with a unique URI for that particular piece of correspondence, e.g. <code>/ticket/42/history/20020715115442</code>).</p>\n<p>Getting info on a ticket:</p>\n<pre><code>GET /ticket/42\nor\nGET /ticket/42/basics\nor\nGET /ticket/42/history\n\n...\n\n200 OK\n(ticket info)\n</code></pre>\n<p>I’m glad I had my copy of the excellent <a href=\"http://www.oreilly.com/catalog/wrapmod/\" title=\"Book's home on O'Reilly\">Writing Apache Modules with Perl and C</a> close to hand, to remind me of things like <code>$r-&gt;custom_response()</code> and <code>Apache::Constants-&gt;export(qw(HTTP_CREATED))</code>.</p>\n",
      "date_published": "2002-07-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/15/7/from-rest-to-uris-the-semantic-web-rdf-and-foaf/",
      "url": "https://qmacro.org/blog/2002/15/7/from-rest-to-uris-the-semantic-web-rdf-and-foaf/",
      "title": "From REST to URIs, the Semantic Web, RDF, and FOAF",
      "content_html": "<p>Good grief. Anyway, this exploration is certainly opening more doors than it’s closing. Actually, that’s not quite right. It’s <em>showing me</em> new doors that I choose to go through. This one had <a href=\"http://xmlns.com/foaf/0.1/\" title=\"The 'Friend Of A Friend' Vocabulary\">FOAF</a> written on it in shiny brass letters.</p>\n<p>FOAF is a project under the <a href=\"http://rdfweb.org/\">RDFWeb</a> umbrella, and is an effort to build a vocabulary for expressing relationships between and facts about things on the interweb. As with <a href=\"http://internet.conveyor.com/RESTwiki/moin.cgi/FrontPage\" title=\"The REST Wiki's front page\">REST</a>, a key axiom (hrm, is that verging on the tautalogical?) is that URIs are very important, in uniquely identifying resources. There’s a good introductory <a href=\"http://www-106.ibm.com/developerworks/xml/library/x-foaf.html\" title=\"FOAF article at IBM developerworks\">article by Edd Dumbill</a> on FOAF.</p>\n<p>I’ve had a first hash at a FOAF file to describe me, and it’s <a href=\"https://qmacro.org/~dj/foaf.rdf\" title=\"My FOAF data\">here</a>. In the growing fury of social network construction and subsequent mining, this could be interesting. Hey, and it doesn’t have to stop there… Under the influence of a small tumbler of Glenmorangie, I can half-imagine a situation where we have compound business documents and partners in an ERP system like <a href=\"http://www.sap.com/\" title=\"SAP's home page\">SAP</a>‘s R/3 exposed and linked (through the philosophical transparency of REST) to one another via their URIs, with those link relationships described in a FOAFy (RDFlike?) way.</p>\n<p>Hrmmmm…</p>\n",
      "date_published": "2002-07-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/8/7/the-80-20-of-http/",
      "url": "https://qmacro.org/blog/2002/8/7/the-80-20-of-http/",
      "title": "The 80/20 of HTTP",
      "content_html": "<p>I don’t know about you, but when I think of HTTP in action, I think of GET, POST, 200, 404, and 500. It seems that most of the HTTP work today (the 80%) is done in the context of these verbs and status codes (the 20%).</p>\n<p>I just read a couple of <a href=\"http://www.prescod.net/\" title=\"Paul Prescod's home page\">Paul Prescod</a>‘s papers: <a href=\"http://www.prescod.net/rest/state_transition.html\" title=\"a paper on resources and state transition\">A Web-Centric Approach to State Transition</a> and <a href=\"http://www.prescod.net/rest/restmail\" title=\"musings on email as a REST application\">Reinventing Email using REST</a>. They’re both interesting for many reasons, not least because they show some of the other 80% of HTTP in action.</p>\n<p>Of course, some people might point out that the 80/20 ‘imbalance’ will remain so while protocols (mechanisms, encodings?) like SOAP encapsulate much of what HTTP has to offer. Hmm, it’s very difficult to write about REST and SOAP in non-loaded terms :-)</p>\n<p>Anyway, if nothing else, in pondering the RESTian philosophy, I’ve been re-acquainted with the other 80% of HTTP, and those things like URIs that are closely linked.</p>\n",
      "date_published": "2002-07-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/3/7/reflecting-weblogs-com-ping-s-with-soap-jabber-and-pubsub/",
      "url": "https://qmacro.org/blog/2002/3/7/reflecting-weblogs-com-ping-s-with-soap-jabber-and-pubsub/",
      "title": "Reflecting weblogs.com &#39;ping&#39;s with SOAP, Jabber, and Pubsub",
      "content_html": "<p>Last month, <a href=\"http://www.pocketsoap.com/weblog/index.html\" title=\"Simon Fell's weblog\">Simon</a> answered a <a href=\"http://www.pocketsoap.com/weblog/2002/06/13.html#a604\">cry for help</a> from someone in the weblog community by creating <a href=\"http://www.pocketsoap.com/weblog/2002/06/15.html#a608\">blogToaster</a>, a neat little IM-based app that alerts people about updates (coordinated through <a href=\"http://www.weblogs.com/\">www.weblogs.com</a>) to weblogs that they’re interested in.</p>\n<p>But the most intriguing thing was his <a href=\"http://www.pocketsoap.com/weblog/stories/2002/02/12/subscriberInterfaceForWeblogscom.html\">Subscriber Interface for weblogs.com</a>, the mechanism on which the blogToaster is based. It’s a SOAP-based frontend to the <a href=\"http://weblogs.com/\">weblogs.com</a> ‘Recently Changed Weblogs’ information. You tell the interface what weblog URLs you’re interested in and it gives you SOAPy pings at the URL you specified whenever they’re updated, taking care of the nasty polling business for you (and for everyone else, which is the whole point).</p>\n<p>Inspired by this generous infrastructural act, I put together an experimental bit of code which reflects this mechanism out into Jabber plasma. It’s a pubsub concentrator that sits in front of Simon’s Subscriber Interface and allows any app that can send and receive simple Jabber packets to request and receive weblogs.com-based update pings via this subscriber interface, without all the tedious mucking about in HTTP and SOAP protocols [1] (with apologies to Douglas Adams).</p>\n<p>The idea is that in the same way that the <a href=\"https://qmacro.org/blog/2002/3/2002/May/15#panopticon\">Jabber extensions for Danny O’Brien’s Panopticon</a> gave the Panopticon server some breathing space by effectively diffusing the data to Jabber entities via a conference room, so this new mechanism abstracts the Subscriber Interface out and allows many subscribers to share one subscription connection. Publish/Subscribe. One publisher, many subscribers. The publisher, in this case the Subscriber Interface, only has to send out one SOAPy ping per updated weblog URL to reach potentially many notification recipients (subscribers).</p>\n<p>So rather than reproduce a blogToaster-like mechanism, I thought I’d have a go at putting together a mini-infrastructure on top of which lots of different blogToaster-like mechanisms could be built.</p>\n<p>The mechanism is running at JID ‘<strong><a href=\"http://weblogs.gnu.mine.nu/\">weblogs.gnu.mine.nu</a></strong>‘, and the packets are based on the <a href=\"http://www.jabber.org/jeps/jep-0024.html\">Jabber PubSub JEP</a>. It’s still alpha, and likely to fall over if you look at it the wrong way.</p>\n<p>Here’s an example of how it works. You send a ‘subscribe’ packet, saying you want to be notified when <a href=\"https://qmacro.org/blog/2002/3/7/reflecting-weblogs-com-ping-s-with-soap-jabber-and-pubsub/\">DJ’s Weblog</a> is updated:</p>\n<p>SEND:</p>\n<pre><code>&lt;iq type='set' to='weblogs.gnu.mine.nu'&gt;\n\t&lt;query xmlns='pipetree:iq:pubsub'&gt;\n\t\t&lt;subscribe to='//qmacro.org/about'/&gt;\n\t&lt;/query&gt;\n&lt;/iq&gt;\n</code></pre>\n<p>Then, whenever the weblog specified is updated, you get a packet pushed to you like this:</p>\n<p>RECV:</p>\n<pre><code>&lt;iq type='set' from='weblogs.gnu.mine.nu' to='user@host/resource'&gt;\n\t&lt;query xmlns='pipetree:iq:pubsub'&gt;\n\t\t&lt;publish from='//qmacro.org/about'&gt;\n\t\t\t&lt;url&gt;//qmacro.org/about&lt;/url&gt;\n\t\t\t&lt;name&gt;DJ's Weblog&lt;/name&gt;\n\t\t\t&lt;timestamp&gt;2002-07-03T21:35:51Z&lt;/timestamp&gt;\n\t\t&lt;/publish&gt;\n\t&lt;/query&gt;\n&lt;/iq&gt;\n</code></pre>\n<p>The information in the <em>name</em>, <em>url</em> and <em>timestamp</em> tags (in the publish IQ) is taken directly from the <em>weblog</em> tag in the SOAP-enveloped callback message described at the bottom of the <a href=\"http://www.pocketsoap.com/weblog/stories/2002/02/12/subscriberInterfaceForWeblogscom.html\">Subscriber Interface description</a> page.</p>\n<p>For now, as a bonus (or an immoral twisting of the Jabber pubsub packet philosophy, depending on how you look at it ;-) I’ve set up the mechanism to send you not only a publish IQ as shown above, but also a simple <em>message</em> packet with the same information, so that you can use your regular Jabber client to ‘process’ (read: see) the pings. So if you’re feeling brave, break out your Jabber debug app and send a few pubsub packets to <strong><a href=\"http://weblogs.gnu.mine.nu/\">weblogs.gnu.mine.nu</a></strong>. If you’re not feeling so brave, you can wait until tomorrow – I’ve got a a few helper example apps that will hopefully make things clearer. In either case, remember this: if it works, it works because of the coolness of what <a href=\"http://www.scripting.com/\">Dave W</a> <a href=\"http://www.weblogs.com/\">built</a>, the coolness of what <a href=\"http://www.pocketsoap.com/weblog/index.html\" title=\"Simon Fell's weblog\">Simon</a> <a href=\"http://www.pocketsoap.com/weblog/stories/2002/02/12/subscriberInterfaceForWeblogscom.html\">built</a>, and the coolness that is ‘net based collaboration and open standards. Time for bed now.</p>\n<p>[1] Ooh, talking of HTTP and SOAP protocols, I just read an interesting <a href=\"http://mail.python.org/pipermail/xml-sig/2002-February/007183.html\">XML-SIG post</a> by <a href=\"http://www.prescod.net/\">Paul Prescod</a> which made some valid (but also nicely philosophical, IMHO) points towards the end of the mail regarding whether SOAP is actually a protocol (as opposed to, say, an encoding), and how much, despite its ‘independence’ of transport, it depends upon its binding to HTTP, as much as any protocol depends on its binding to a lower-level transport. But I digress..</p>\n",
      "date_published": "2002-07-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/28/6/programming-jabber-review/",
      "url": "https://qmacro.org/blog/2002/28/6/programming-jabber-review/",
      "title": "Programming Jabber review",
      "content_html": "<p>Cool, <a href=\"http://www.amazon.com/exec/obidos/ASIN/0596002025/\" title=\"Programming Jabber at Amazon\">my book</a> gets a nice review over at <a href=\"http://www-106.ibm.com/developerworks/xml/library/x-jabberbk/index.html?loc=dwmain\" title=\"Comparative review of Jabber books\">IBM DeveloperWorks</a>.</p>\n<p>It’s been about a year now since I originally started researching and writing it; I’d taken a few months off work to devote time to it. It sure was a fun, but intense, time. I can appreciate much more now just how much work goes into writing a technical title, and I re-read books on my bookshelves with awe anew.</p>\n",
      "date_published": "2002-06-28T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/21/6/accessibility-and-blosxom/",
      "url": "https://qmacro.org/blog/2002/21/6/accessibility-and-blosxom/",
      "title": "Accessibility and Blosxom",
      "content_html": "<p>Catching up with things today, I read what <a href=\"http://diveintomark.org/\">Mark</a>‘s been doing on the accessibility front. A great job it is too. I thought I might contribute a tiny bit of the jigsaw for the <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a> users, specifically regarding the <a href=\"http://diveintomark.org/archives/2002/06/19.html#day_8_constructing_meaningful_page_titles\">meaningful page titles</a> and <a href=\"http://diveintomark.org/archives/2002/06/20.html#day_9_providing_additional_navigation_aids\">additional navigation aids</a>.</p>\n<p>I’ve updated my weblog in these two areas; each specific page – be it a year, or a year/month, or a year/month/day specification, now includes the appropriate date in the page title. I’ve added a <code>&lt;link rel=”home” … &gt;</code> link too, which I’d thought fleetingly about when I was <a href=\"https://qmacro.org/blog/2002/21/2002/Jun/3#newlinks\">looking at other attributes of the <link /> tag</a> but had forgotten until being reminded by Mark.</p>\n<p>To achieve this sort of thing, you can just add the extra bits in the <strong>head.html</strong> template. I’ve taken Blosxom’s default/builtin head template (which is inside Blosxom itself) and amended it appropriately – you can have see what it looks like <a href=\"https://qmacro.org/~dj/head.txt\">here</a> – to use it, just place the file in same directory that you keep your .txt files.</p>\n<p>In actual fact, I use Blosxom more of an engine that generates the blog postings for me, which I then include, via SSI, in a template that holds together lots of elements, such as the calendar, and the various lists. So I don’t use the <strong>head.html</strong> template file. Instead, I wrote a tiny script, <a href=\"https://qmacro.org/~dj/blostitle\">blostitle</a>, which outputs the appropriate date string for appending to the title. I include the <code>&lt;link rel=”home” … &gt;</code> link manually in the SSI. Altogether, the <code>&lt;head/&gt;</code> part looks like this:</p>\n<pre><code> ...\n&lt;title&gt; DJ's Weblog - &lt;!--#include virtual=&quot;/~dj/cgi-bin/blostitle&quot; --&gt; &lt;/title&gt;\n&lt;!--#include file=&quot;style.incl&quot; --&gt;\n&lt;link rel=&quot;home&quot; title=&quot;Home&quot; href=&quot;/qmacro&quot; /&gt;\n...\n</code></pre>\n",
      "date_published": "2002-06-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/18/6/a-change-and-a-rest/",
      "url": "https://qmacro.org/blog/2002/18/6/a-change-and-a-rest/",
      "title": "A change and a rest",
      "content_html": "<p>Just returned from a very relaxing holiday; we stayed at the <a href=\"http://www.sauntonsands.co.uk/\">Saunton Sands Hotel</a> in Devon. Great place, wonderful views, and good service. We spent most of the time flying kites on the huge beach – fantastic. Looks like lots of things have been going on, yahoo!</p>\n",
      "date_published": "2002-06-18T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/6/6/blosmail-add-and-maintain-your-blog-entries-via-email/",
      "url": "https://qmacro.org/blog/2002/6/6/blosmail-add-and-maintain-your-blog-entries-via-email/",
      "title": "&#39;Blosmail&#39; - add and maintain your blog entries via email",
      "content_html": "<p>I’ve just put together a little script, <a href=\"https://qmacro.org/~dj/blosmail\">blosmail</a>, that lets you add (and modify) your <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a>-powered weblog entries via email. The idea is that you can send emails to yourself with a specifically recognisable Subject: line, and via some procmail recipe magic, and a check on whether the sending email address is listed as valid, lo and behold, new blosxom blog entries appear in your weblog.</p>\n<p><a href=\"https://qmacro.org/testwiki/Blosmail\">Here</a> are the details of how it works and how to set it up.</p>\n",
      "date_published": "2002-06-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/4/6/standing-on-the-shoulders-exploring-weblog-neighbourhoods-with-blogdex/",
      "url": "https://qmacro.org/blog/2002/4/6/standing-on-the-shoulders-exploring-weblog-neighbourhoods-with-blogdex/",
      "title": "Standing on the shoulders ... Exploring Weblog Neighbourhoods with Blogdex",
      "content_html": "<p>Inspired by <a href=\"http://diveintomark.org/\">Mark</a>, and <a href=\"http://www.scripting.com/\">Dave</a>, I’ve been doing a bit of neighbourhood exploration hacking of my own.</p>\n<p>Last week, I was alerted to <a href=\"http://blogdex.media.mit.edu/\">Blogdex</a> by <a href=\"http://www.benhammersley.com/\">Ben</a> (through the funny little <a href=\"http://www.thinkblank.com/metalinker/\">Metalinker</a> Javascript-induced ‘[b]‘ links on his <a href=\"http://rss.benhammersley.com/\">RSS weblog</a> pages). It’s an interesting project that trawls weblogs and compiles link information (I don’t know how wide it trawls, so your URL might not be in there. YMMV).</p>\n<p>I though I’d write a script to use Blogdex’s information and perhaps complement <a href=\"http://diveintomark.org/\">Mark</a>‘s <a href=\"http://diveintomark.org/projects/misc/blogrollfinder.py.txt\">blogrollfinder.py</a> script and <a href=\"http://www.scripting.com/\">Dave</a>‘s <a href=\"http://radio.userland.com/weblogNeighborhood\">weblogNeighborhood</a> tool. My script, <a href=\"https://qmacro.org/~dj/bdexp\">bdexp</a>, compiles a ‘neighbourhood’ view of a weblog URL by following the ‘links to’ information for that URL in Blogdex. (This is the ‘browseSource’ Blogdex URL). You give it a weblog URL, and an optional depth (how far to descend, default 2 levels, maximum 4), and it goes away, pulls and analyses the information, and gives you a rank list of results. I’ve weighted the scores – the further ‘down’ a URL appears, the fewer points it gets.</p>\n<p>I’ve “CGI’d” (ugh) my script so you can have a go too. Call it like this: <a href=\"https://qmacro.org/~dj/cgi-bin/bdexp?url=//qmacro.org/about/\">http://www.pipetree.com/~dj/cgi-bin/bdexp?url=//qmacro.org/about/</a> and have patience while the script descends Blogdex information and does its stuff. I’ve deliberately slowed the script down so it doesn’t hammer Blogdex’s servers. In fact, results are cached too, for added politeness :-&gt;</p>\n<p>But wait – there’s more! So that the information made available through this script might be used to correlate, augment, and otherwise confuse neighbourhood information determined from other sources and methods like Mark’s and Dave’s, you can get XML output, rather than HTML. Just add <em>&amp;xml=1</em> to the URL like this: <a href=\"https://qmacro.org/~dj/cgi-bin/bdexp?url=//qmacro.org/about/&amp;xml=1\">http://www.pipetree.com/~dj/cgi-bin/bdexp?url=//qmacro.org/about/&amp;xml=1</a> and you’ll get a very simple XML format containing the same data. This makes it dead easy to just pull in this Blogdex-powered neighbourhood information into your own tool. Well, that’s the theory anyway :-) (You can specify the depth with <em>&amp;depth=N</em> too).</p>\n<p>I’ve implemented a little lock mechanism so that only N users can use the script at once; I’m not sure how my server (it’s only a poor old Celeron), or Blogdex, will take to massive parallelism. Ok, this is wishful thinking, of course … hardly anyone reads this anyway… ;-)</p>\n<p>Thank you Cameron at Blogdex for compiling this linking info.</p>\n<p>Usual disclaimer applies – my code is just hacked together.</p>\n",
      "date_published": "2002-06-04T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/3/6/small-blagg-mod-to-enable-custom-formatting-of-blaggregated-items/",
      "url": "https://qmacro.org/blog/2002/3/6/small-blagg-mod-to-enable-custom-formatting-of-blaggregated-items/",
      "title": "Small Blagg mod to enable custom formatting of &#39;blaggregated&#39; items",
      "content_html": "<p>Well, further to the little <a href=\"https://qmacro.org/2002/06/02/slamwedge\">formatting blaggplug</a> I wrote yesterday to reformat the blaggregated items for my <a href=\"https://qmacro.org/blog/2002/cgi-bin/blosxom/djnews\">Morning Reading</a>, I decided to go a step further and add a tiny template mechanism to Blagg so that this sort of formatting change could be done in-the-style-of <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a>, that is, by allowing <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a> to format the items as before, or overriding that format using an HTML file in my <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a> blog directory.</p>\n<p>So in the same way that Blosxom users can tune the format of the stories by maintaining a <em>story.html</em> file in their blog directory, now I can tune the format of items that Blagg spits out, by maintaining a <em>blaggitem.html</em> file in the same directory.</p>\n<p>Of course, this is an unofficial mod to Blagg, but if you’re interested, it’s <a href=\"https://qmacro.org/~dj/blagg.0+4i.templatemod\">here</a>, and for those with a ‘diff’ bent, the differences to the original 0+4i version are highlighted <a href=\"https://qmacro.org/~dj/blagg.0+4i.templatemod.diff\">here</a> (the diff also highlights the passing of the extra $i_fn parm in the call to blaggplug::post(), as well as config variable changes peculiar to me).</p>\n",
      "date_published": "2002-06-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/3/6/changed-link-tags/",
      "url": "https://qmacro.org/blog/2002/3/6/changed-link-tags/",
      "title": "Changed link tags",
      "content_html": "<p>Following Dan Brickley’s point about the RSS <link /> mime-type, and <a href=\"http://rss.benhammersley.com/archives/000065.html#000065\">Ben</a>‘s and <a href=\"http://diveintomark.org/archives/2002/06/02.html#important_change_to_the_link_tag\">Mark</a>‘s notes, I’ve made the required changes to the attribute contents for the pointer to this weblog’s <a href=\"https://qmacro.org/qmacro/xml\">RSS feed</a>.</p>\n<p>Furthermore, regarding the <a href=\"http://cicero/qmacro/2002/Jun/2#blogrollfinder_link\">other</a> <link /> tag I have in this document, pointing to the <a href=\"https://qmacro.org/~dj/rss.rss\">RSS feed list</a> (for which I’d specified a <em>rel</em> value of “<em>feeds</em>“), I’ve had a quick shufty at the <a href=\"http://www.w3.org/TR/html401/types.html#type-links\">allowed values</a> for the <em>rel</em> attribute of the <link /> tag. While “<em>feeds</em>” isn’t explicitly there, and “<em>help</em>” is the closest fit from the choices given, I’ve nevertheless decided to keep the link type “<em>feeds</em>“, and qualify that definition with a meta data profile. Just to see where this leads.</p>\n<p>This is what I interpreted from the <a href=\"http://www.w3c.org/\">W3C</a> HTML specs:</p>\n<ol>\n<li>There is a provision, following the definition of the explicitly <a href=\"http://www.w3.org/TR/html401/types.html#type-links\">allowed values</a>, to define new link types for the <em>rel</em> attribute:</li>\n</ol>\n<blockquote>\n<p>“Authors may wish to define additional link types not described in this specification. If they do so, they should use a profile to cite the conventions used to define the link types.”</p>\n</blockquote>\n<ol start=\"2\">\n<li>You can do this by providing the location a meta data profile in a <em>profile</em> attribute of the HTML document’s <head> tag.</head></li>\n<li>According to the <a href=\"http://www.w3.org/TR/html401/struct/global.html#profiles\">explanation</a> of the meta data profiles, these locations are URIs, which can be globally unique names, or actual links to be followed.</li>\n<li>Unfortunately, the specification doesn’t go so far as to actually define what the format of such a meta data profile is:</li>\n</ol>\n<blockquote>\n<p><a href=\"http://www.w3.org/TR/html401/struct/global.html#profiles\">“This specification does not define formats for profiles.”</a></p>\n</blockquote>\n<p>(If anyone can show me a pointer to where profile formats are described, that would be great!)<br />\n5. So I’ve decided to go for a simple URI, “qmacro:weblog”, for now, on the basis of this statement:</p>\n<blockquote>\n<p>“User agents may be able to recognize the name (without actually retrieving the profile) and perform some activity based on known conventions for that profile.”</p>\n</blockquote>\n<p>This is what it now looks like:</p>\n<head profile=\"qmacro:weblog\"> ... <link rel=\"feeds\" type=\"application/rss+xml\" title=\"RSS feeds\" href=\"http://www.pipetree.com/~dj/rss.rss\" /> ...\n<p>I might be barking totally up the wrong tree, but that’s the price of fun experimentation. I think the only thing that needs to be different is the actual URI – if we can agree on a standard global name, so much the better.</p>\n</head>",
      "date_published": "2002-06-03T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/2/6/html-link-tag-for-blogroll/",
      "url": "https://qmacro.org/blog/2002/2/6/html-link-tag-for-blogroll/",
      "title": "HTML link tag for Blogroll",
      "content_html": "<p><a href=\"http://diveintomark.org/\">Mark</a> is doing some very interesting <a href=\"http://diveintomark.org/archives/2002/06/02.html#social_networks\">social network scripting</a> with a script that recursively follows and compiles bloggers’ blogrolls. It occurred to me, in the context of the RSS autodiscovery flurry earlier this week, to give such scripts a leg-up. Why not use a(nother) HTML <link /> tag to point to a blogroll?</p>\n<p>So, alongside the <link /> tag I <a href=\"https://qmacro.org/blog/2002/2/2002/May/31#htmllink\">mentioned</a> yesterday, I’ve added a further <link /> tag thus:</p>\n<p><span> <link rel=\"feeds\" type=\"text/xml\" title=\"XML\" href=\"http://www.pipetree.com/~dj/rss.rss\" /> </span></p>\n<p>It points to the RSS file of RSS feeds I talked about yesterday, and point to with the [[meta]](file:///%7Edj/rss.rss) link in the <strong>My Feeds</strong> list on the right.</p>\n<p>This sort of thing should make scripts like Mark’s <a href=\"http://diveintomark.org/projects/misc/blogrollfinder.py.txt\">blogrollfinder.py</a> a lot simpler, if we can somehow standardise this too.</p>\n",
      "date_published": "2002-06-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/2/6/collapse-expand-feature-for-my-blaggregated-display/",
      "url": "https://qmacro.org/blog/2002/2/6/collapse-expand-feature-for-my-blaggregated-display/",
      "title": "Collapse/Expand feature for my Blaggregated display",
      "content_html": "<p>Marc Barrot’s weblog, <a href=\"http://radio.weblogs.com/0104487/\">‘slam’</a>, has some great collapse/expand features for the display of his items. I’ve adopted his idea, using his <a href=\"https://qmacro.org/~dj/js/outliner.js\">javascript</a>, to make the display of my “<a href=\"https://qmacro.org/cgi-bin/blosxom/djnews\">Morning Reading</a>” neater and more manageable. Thanks Marc! I created a <a href=\"https://qmacro.org/~dj/f-title.pl\">very simple plugin</a> for <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a> to format the titles of the items slightly differently (now they contain the source feed’s title in the item title, so I can see in the collapsed mode where each item is sourced).</p>\n",
      "date_published": "2002-06-02T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/1/6/extreme-computing-2002/",
      "url": "https://qmacro.org/blog/2002/1/6/extreme-computing-2002/",
      "title": "Extreme Computing 2002",
      "content_html": "<p>Great. Looks like I’ll be going to the <a href=\"http://www.xcom2002.com/\">NTK/Mute Festival of Inappropriate Technology</a>. I get the feeling that it’s going to be a combination of a computer fair (with second-hand and ‘antique’ kit), conference, and general geekfest. Right up my street.</p>\n",
      "date_published": "2002-06-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/31/5/rss-s-underlying-structure-and-meta-rss/",
      "url": "https://qmacro.org/blog/2002/31/5/rss-s-underlying-structure-and-meta-rss/",
      "title": "RSS&#39;s underlying structure, and meta-RSS.",
      "content_html": "<p>I’ve been pondering the nature of RSS, the lightweight syndication and feed format which is a heavy contender for the most talked-about XML format these days (uh, I suppose this post goes some way to help the cause too :-).</p>\n<p>So what about RSS? What makes it so appealing? Well, a big reason is of course its position as a foundation of stability (despite its own temporary <a href=\"http://rss.benhammersley.com/archives/000051.html#000051\">instability</a>, format-wise), in the burgeoning, nay, <em>blossom</em>ing, world of weblogs, syndication, and knowledge sharing. But I’ve been wondering if it’s more than that. It’s a simple format. But a powerful one. The RSS skeleton reflects an information model that can be found everywhere: header and body. You could say header and items. <em>Items</em>. <em>Positions</em>. What’s the fundamental structure of pretty much every piece of (business) transactional data in <a href=\"http://www.sap-ag.de/\">SAP</a> (and other ERM) systems? A document. A document, which has a header, and items, or ‘positions’. Sales orders, invoices, purchase requisitions… the list goes on. Hmmm. Could it be that the RSS skeleton is so popular and flexible because it’s one of the netspace’s protean formats, and easy to grok?</p>\n<p><a href=\"http://purl.org/rss/1.0/\">RSS 1.0</a> celebrates that flexibility with it’s <a href=\"http://purl.org/rss/1.0/modules/\">modular</a> approach.</p>\n<p><em>I’m</em> celebrating that with a ‘meta’ RSS feed, available from the <a href=\"https://qmacro.org/blog/2002/%7Edj/rss.rss\">[meta]</a> link in the <strong>My Feeds</strong> list on the right hand side of this page. It’s a list of all the feeds I’m subscribed to right now, in an RSS 1.0 format. Currently, I’m just using core tags, but it might be a better idea to create a simple module to enable an explicit statement of what the data is. (I know there’s <a href=\"http://internetalchemy.org/ocs/\">OCS</a> too, but hey, it’s Friday).</p>\n",
      "date_published": "2002-05-31T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/31/5/html-link-to-rss-source/",
      "url": "https://qmacro.org/blog/2002/31/5/html-link-to-rss-source/",
      "title": "HTML LINK to RSS source",
      "content_html": "<p>I’m doing my bit for the weblog community domino effect. <a href=\"http://diveintomark.org/\">Mark</a>, and others, have <a href=\"http://diveintomark.org/archives/2002/05/30.html#rss_autodiscovery\">added <link /> tags to their weblog HTML</a>, to point to the RSS feeds for the respective weblogs. I think this is a good idea, so have done it too in this, my <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a>-powered weblog.</p>\n<p>I do remember sitting in on an RSS BOF at last year’s <a href=\"http://conferences.oreillynet.com/os2002/\">OSCON</a> where we discussed the idea of having an index.rss at the website’s root, rather like the robots.txt file. This <link /> based pointing is a nicer approach, as there’s an explicit relationship between the RSS XML and what it describes.</p>\n<p>What’s more, Mark has a <a href=\"http://diveintomark.org/archives/2002/05/31.html#more_on_rss_autodiscovery\">nifty bit of Javascript</a> that grabs any RSS URL that it finds in this new <link /> home, and bungs it at <a href=\"http://radio.userland.com/\">Radio Userland</a>‘s localhost-based webserver invoking a subscribe on that RSS feed. Very nice. I don’t run RU, nor use IE much, but nevertheless this would work, even with Blosxom, because I’m running <a href=\"https://qmacro.org/blog/2002/31/2002/Apr/27#5335-redir\">bladder</a> :-)</p>\n",
      "date_published": "2002-05-31T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/24/5/top-tip/",
      "url": "https://qmacro.org/blog/2002/24/5/top-tip/",
      "title": "Top tip",
      "content_html": "<p>If you want to avoid a stint in Accident &amp; Emergency in-patients, and a bandaged ankle, don’t bolt down the stairs at Clapham Junction station two at a time and then miss your footing before you get to the bottom.</p>\n<p>Ouch.</p>\n<p>Ahem.</p>\n",
      "date_published": "2002-05-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/24/5/etag-enabled-wget/",
      "url": "https://qmacro.org/blog/2002/24/5/etag-enabled-wget/",
      "title": "ETag-enabled wget",
      "content_html": "<p>Well, a little evening hack while watching <a href=\"http://www.inspectormorse.co.uk/\">Inspector Morse</a> has produced a minimalist script <code>wget.pl</code> – a tiny wrapper around the <strong>wget</strong> command so that you can be more polite when retrieving HTTP based information – in particular RSS feeds.</p>\n<p>The idea was sparked by <a href=\"http://www.pocketsoap.com/weblog\">Simon</a>'s <a href=\"http://www.pocketsoap.com/weblog/stories/2002/05/19/bdgToEtags.html\">post</a> about using HTTP 1.1's ETag and If-None-Match headers. I wanted to write as small and minimal a script as possible, and rely on as little as possible (hence the cramped code style), in honour of <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a>, and of course <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a>, the RSS aggregator, for which the script was designed. You should be able to drop this script reference into Blagg by specifying the RSS retrieval program like this:</p>\n<p><code>my $get_prog = '/path/to/wget.pl';</code></p>\n<p>Don’t forget, the ETag advantage is only to be had from static files served by HTTP. Information generated on the fly, such as that from CGI scripts (such as <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a>) aren’t given ETags.</p>\n<p></p>\n<p><strong>Update 06/06/2012</strong></p>\n<p>It’s now just over 10 years since I originally wrote this post, and in relation to a <a href=\"http://scn.sap.com/community/technology-innovation/blog/2012/06/03/restful-apis-from-scratch-lessons-learnt-so-far\">great post on REST by Sascha Wenninger over on the SAP Community Network</a>, I’ve just re-found the script — thanks to a <a href=\"http://www.markbaker.ca/blog/2003/04/etag-enabled-wget-wrapper/\">comment on Mark Baker’s blog</a> that <a href=\"http://www.w3.org/2001/12/rubyrdf/pack/tests/scutter/wget.pl\">pointed to wget.pl being part of a Ruby RDF test package</a>. Thanks mrG, whoever you are!</p>\n<p>Here’s the script in its rude entirety for your viewing pleasure.</p>\n<pre class=\"language-perl\"><code class=\"language-perl\"><span class=\"token comment\">#!/usr/bin/perl -w</span><br /><br /><span class=\"token comment\"># ETag-aware wget</span><br /><span class=\"token comment\"># Uses wget to more politely retrieve HTTP based information</span><br /><span class=\"token comment\"># DJ Adams</span><br /><span class=\"token comment\"># Version 0+1b</span><br /><br /><span class=\"token comment\"># wget --header='If-None-Match: \"3ea6d375;3e2eee38\"' http://www.w3.org/</span><br /><br /><span class=\"token comment\"># Changes</span><br /><span class=\"token comment\"># 0+1b 2003-02-03 dja added User-Agent string to wget call</span><br /><span class=\"token comment\"># 0+1 original version</span><br /><br /><span class=\"token keyword\">use</span> strict<span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">my</span> <span class=\"token variable\">$cachedir</span> <span class=\"token operator\">=</span> <span class=\"token string\">'/tmp/etagcache'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\"># change this if you want</span><br /><span class=\"token keyword\">my</span> <span class=\"token variable\">$etagfile</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"$cachedir/\"</span><span class=\"token operator\">.</span>unpack<span class=\"token punctuation\">(</span><span class=\"token string\">\"H*\"</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$ARGV</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <br /><span class=\"token keyword\">my</span> <span class=\"token variable\">$etag</span> <span class=\"token operator\">=</span> <span class=\"token string\">`cat $etagfile 2>/dev/null`</span><span class=\"token punctuation\">;</span><br /><span class=\"token variable\">$etag</span> <span class=\"token operator\">=~</span> <span class=\"token regex\">s/\\\\\"/\"/g</span><span class=\"token punctuation\">;</span><br /><span class=\"token variable\">$etag</span> <span class=\"token operator\">=~</span> <span class=\"token regex\">s/^ETag: (.*?)\\n$/$1/</span> <span class=\"token operator\">and</span> <span class=\"token variable\">$etag</span> <span class=\"token operator\">=</span> <span class=\"token string\">qq[--header='If-None-Match: $etag']</span><span class=\"token punctuation\">;</span><br /><br /><span class=\"token keyword\">my</span> <span class=\"token variable\">$com</span><span class=\"token operator\">=</span><span class=\"token string\">\"wget -U 'blagg/0+4i+ (wget.pl/0+1b)' --timeout=60 -s --quiet $etag -O - $ARGV[0]\"</span><span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">print</span> <span class=\"token string\">\"Running: $com\"</span><span class=\"token punctuation\">;</span><br /><br /><span class=\"token keyword\">my</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$headers</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$body</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> split<span class=\"token punctuation\">(</span><span class=\"token regex\">/\\n\\n/</span><span class=\"token punctuation\">,</span> <span class=\"token string\">`wget -U 'blagg/0+4i+ (wget.pl/0+1b)' --timeout=60 -s --quiet $etag -O - $ARGV[0]`</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">print</span> <span class=\"token string\">\"Got headers: $headers\\n\\n\"</span><span class=\"token punctuation\">;</span><br /><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>defined <span class=\"token variable\">$body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token punctuation\">(</span><span class=\"token variable\">$etag</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$headers</span> <span class=\"token operator\">=~</span> <span class=\"token regex\">/^(ETag:.*?)$/m</span><span class=\"token punctuation\">;</span><br />  <span class=\"token keyword\">print</span> <span class=\"token string\">\"Return value etag: $etag\"</span><span class=\"token punctuation\">;</span><br />  defined <span class=\"token variable\">$etag</span> <span class=\"token operator\">and</span> <span class=\"token variable\">$etag</span> <span class=\"token operator\">=~</span> <span class=\"token regex\">s/\\\"/\\\\\\\"/g</span><span class=\"token punctuation\">,</span> <span class=\"token string\">`echo '$etag' > $etagfile`</span><span class=\"token punctuation\">;</span><br />  <span class=\"token keyword\">print</span> <span class=\"token string\">\"\\n==========\\n\"</span><span class=\"token punctuation\">;</span><br />  <span class=\"token keyword\">print</span> <span class=\"token variable\">$body</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span><br /><span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br />  <span class=\"token keyword\">print</span> <span class=\"token string\">\"Cached.\"</span><span class=\"token punctuation\">;</span><br /><span class=\"token punctuation\">}</span></code></pre>\n",
      "date_published": "2002-05-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/21/5/more-thoughts-on-http-email-and-jabber/",
      "url": "https://qmacro.org/blog/2002/21/5/more-thoughts-on-http-email-and-jabber/",
      "title": "More thoughts on HTTP, Email, and Jabber",
      "content_html": "<p>Since writing the previous entry, some more thoughts have drawn themselves to my attention. There are advantages that HTTP does have over email. Built-in authentication for one thing. I’ve only used basic authentication, but what about digest? Moreover, <a href=\"http://www.jabber.org/\">Jabber</a> goes one better and has a framework for identity.</p>\n<p>Actually, talking about HTTP headers with basic and digest authentication, here’s something else I’ve been wondering. <a href=\"http://www.pocketsoap.com/weblog/2002/05/19.html#a528\">Simon Fell rightly suggests</a> using a more polite and sensitive way to grab RSS sources, by use of the Etag and If-Not-Match headers. Very sensible. But what about the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.25\">If-Modified-Since</a> header?</p>\n<p>Here’s one advantage that email has over HTTP. A built-in queueing system. Ok, the actual queueing system is made most visible by use of email clients, where you see mails in a queue, ready to read or process. But this is just a mask over the flat stack of emails that you can pop with, er, the POP protocol.</p>\n<p>“Yesbut”, as a friend used to say in meetings and discussions. Here’s something I’ve been pondering too. Last week I downloaded and installed the fabulous <a href=\"http://www.fsck.com/projects/rt\">RT</a>, (“Request Tracker”) – a ticketing system written in Perl. It’s <em>very</em> flexible and extensible. RT allows tickets to be managed in queues. It also allows tickets to be created (or corresponded upon) through different interfaces – via a web interface, via email, or via the command line. Any incoming transaction is inserted into a queue (if it’s a new ticket) or appended to an existing queue entry (if it’s correspondence on an existing ticket). I wonder if I can build a small front end to accept HTTP-based business calls and stick them in an RT queue? Of course, I also wonder whether that would be useful, but if nothing else, it would be stimulating.</p>\n",
      "date_published": "2002-05-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/20/5/web-h-h-hinternet-services-some-ramblings/",
      "url": "https://qmacro.org/blog/2002/20/5/web-h-h-hinternet-services-some-ramblings/",
      "title": "&quot;Web^H^H^HInternet Services&quot;? Some Ramblings.",
      "content_html": "<p>I’ve been pondering the term “Web Services”. While I completely understand and agree with all the reasonings behind the term (the ‘original’ services were accessible via web clients, HTTP is the underlying and ubiquitous transport, blah blah blah), I’m wondering whether “Web Services” is the best term to use.</p>\n<p>While the current rush of implementations use HTTP as the transport (witness HTTP as the most common transport for <a href=\"http://www.w3.org/TR/SOAP/#_Toc478383532\">SOAP RPC</a>, or HTTP as the designated transport in the <a href=\"https://qmacro.org/blog/2002/20/5/web-h-h-hinternet-services-some-ramblings/\">XML-RPC specification</a>), there are apparent pitfalls.</p>\n<p>Firstly, look at the steam generated from the SOAP-through-firewalls debate. (On the one hand they have a point, on the other hand, it’s not necessarily up to a firewall to vet at the application level – look at EDI for example). Secondly, <a href=\"http://zdnet.com.com/2100-1105-845220.html\">some people</a> are of the opinion that HTTP needs to be replaced, in the light of its apparent weaknesses for the things that people want to use it for these days. If this happens, will we change the ‘Web Services’ name?</p>\n<p>Secondly, focusing on HTTP (and therefore the ‘Web’ in ‘Web Services’) does a, err, disservice to other protocols careening around the ‘net. What about the venerable SMTP, for example? There has been valid comments made about the applicability of HTTP in ‘increasingly asynchronous’ transactions. Fire off a request for some information, say, a quotation, and the response may take days to come back. Is this legal, moral, sensible, in HTTP?. Ok, you could frame the asynchronicity in HTTP by using two request/responses (one pair in one direction and the other in the other direction: “I want a quotation, post it here when you’re ready with it” -&gt; “Ok, will do” … “Hey, here’s the quotation” -&gt; “Ooh, thanks”). (Hmmm, why do I think of RESTful things when mulling this over in my head?) You could of course go for one-way messages suspended in a SOAP solution to achieve the same effect, I guess. Hmmm, so many options, so little time.</p>\n<p>Anyway, as an alternative to HTTP, how about transporting this stuff over other protocols, like the aforementioned SMTP (or a combination of SMTP and whatever endpoint protocol – POP, IMAP, and so on – you need). Or even <a href=\"https://qmacro.org/blog/2002/jabber/jrpc/\">Jabber</a>! Both lend themselves to asynchronous interaction more than HTTP does. Or so it seems to me. Both involve to a greater or lesser degree some modicum of store-n-forward, allowing the endpoints to talk at their leisure.</p>\n<p>Of course, this is all very high level, and based, as usual, on my ignorance of detail. But I often prefer to wonder about things rather than to know straight away which is right and which is wrong. And here, just like in the REST vs SOAP RPC debate, I don’t think there <em>is</em> a definitive right and wrong way. Horses for courses.</p>\n<p><strong>Postscript</strong></p>\n<p>I wrote the above at 30000 feet (or however high it was) above the English channel. Now that I’m on good old terra firma, travelling in a rickety South Central train from Victoria Station, I’ve had another thought. Revisiting the <a href=\"http://internet.conveyor.com/RESTwiki/moin.cgi/\">REST</a> architectural style <em>in extremis</em> (what’s all this Latin doing here?) in the context of what I wrote above (ha, in both senses of the word) would be a good mental exercise and a focused way of finding out more about how it works. From what I understand, the URI is exalted as a holy pointer, being in many respects the blessed reference mechanism to the business objects that are exchanged in service provision and consumption.</p>\n<p>I think I’ll stop now before this prose goes completely off the scale; suffice it to say that instead of the service returning a quotation, as a payload XML document in the body of the return email, it plonks it somewhere where it can be retrieved by HTTP, and sends a little notification with the URL instead.</p>\n<p>Hmm, lots of things to think about…</p>\n",
      "date_published": "2002-05-20T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/15/5/the-panopticon/",
      "url": "https://qmacro.org/blog/2002/15/5/the-panopticon/",
      "title": "The Panopticon",
      "content_html": "<p>Everything that goes around, comes around. What thing links my old University (<a href=\"http://www.ucl.ac.uk/GrandLat/\">UCL</a>), <a href=\"http://www.ucl.ac.uk/Bentham-Project/\">Jeremy Bentham</a>, (whose <a href=\"http://www.ucl.ac.uk/Bentham-Project/images/auto_il.gif\">preserved figure</a> sits in UCL’s South Cloisters), and this year’s <a href=\"http://conferences.oreillynet.com/etcon2002/\">Emerging Technology Conference</a>?</p>\n<p>Why, the <a href=\"http://www.dnai.com/%7Emackey/thesis/panopticon.html\">Panopticon</a>, of course. An architectural figure, envisioned by Bentham, which allows one to see but not be seen. “The Panopticon” is also the name given to a <a href=\"http://www.actuallyworks.com/panopticon\">wonderful experiment</a> in “blogger stalking” (a phrase from <a href=\"http://boingboing.net/2002_05_01_archive.html#85087344\">BoingBoing</a>) with avatars and a floormap of the conference area.</p>\n<p>This Panopticon’s creator, <a href=\"http://www.oblomovka.com/\">Danny O’Brien</a> (of <a href=\"http://www.ntk.net/\">NTK</a> fame), put out some <a href=\"http://www.actuallyworks.com/panopticon/explanation\">instructions</a> as to how the thing worked, and mentioned that he would be streaming the metadata out of a port on his server. He asked if anyone could regurgitate the data to a Jabber room so other clients could grab it from there rather than hammer his server, so I took up the challenge :-) This is, in essence, poor man’s pubsub (again) in the spirit of load dissipation: with a ratio of, say, 1:50 (Panopticon port connections – to – Jabber conference room listeners) we can relieve the strain and have a bit of fun.</p>\n<p>Ok, well it was a very quick hack. The data coming out of the server port is a stream of XML. Hmmm. Sounds familiar ;-) I quickly hacked together a library, <a href=\"https://qmacro.org/~dj/Panopticon.pm\">Panopticon.pm</a>, based loosely upon <a href=\"https://qmacro.org/jabber/jabberconnection/\">Jabber::Connection</a>, a Perl library for building Jabber entities (XML streams flow over Jabber connections, too, y’know). With this quick and dirty library in hand, I wrote an equally quick and dirty script, <a href=\"https://qmacro.org/~dj/panpush.pl\">panpush.pl</a>, which uses <a href=\"https://qmacro.org/~dj/Panopticon.pm\">Panopticon.pm</a> and <a href=\"https://qmacro.org/jabber/jabberconnection/\">Jabber::Connection</a> to do this:</p>\n<ul>\n<li>connect to a Jabber server and authenticate</li>\n<li>join a conference room</li>\n<li>open up the panopticon server port</li>\n<li>fire the data that comes out of the port into the conference room for all to see and read, on a continuous basis</li>\n</ul>\n<p>The Panopticon data is XML. Jabber is XML. So I decided the nice thing to do would be to avoid just blurting XML into the conference room – that would be like shouting gobbledygook in a room full of people. Instead, I wrote something sensible to the room each time some data fell out of the end of the Panopticon socket (the name of the blogger’s avatar), and <em>attached</em> the actual Panopticon XML as an extension to the groupchat message. Here’s an example:</p>\n<p>Panopticon produces this:</p>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>icon</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>4ee9da17f5839275ad0ca5d58c2bacaa<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>x</span><span class=\"token punctuation\">></span></span>456<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>x</span><span class=\"token punctuation\">></span></span><br />i\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>y</span><span class=\"token punctuation\">></span></span>255<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>y</span><span class=\"token punctuation\">></span></span><br /><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>icon</span><span class=\"token punctuation\">></span></span></code></pre>\n<p><code>panpush.pl</code> sends this to the room:</p>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>message</span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>panopticon@conf.gnu.mine.nu<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>groupchat<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\tDJ Adams<br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>x</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>panopticon:icon<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>icon</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>4ee9da17f5839275ad0ca5d58c2bacaa<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>x</span><span class=\"token punctuation\">></span></span>456<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>x</span><span class=\"token punctuation\">></span></span><br />\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>y</span><span class=\"token punctuation\">></span></span>255<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>y</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>icon</span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>x</span><span class=\"token punctuation\">></span></span><br /><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>message</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The scary thing is that it seems to work! Grab your nearest Jabber client and enter room</p>\n<p><strong><a href=\"mailto:panopticon@conf.gnu.mine.nu\">panopticon@conf.gnu.mine.nu</a></strong></p>\n<p>(remember, you don’t have to have a Jabber user account on <a href=\"http://gnu.mine.nu/\">gnu.mine.nu</a> to join a conference room there – just use your normal Jabber account, say, at <a href=\"http://jabber.org/\">jabber.org</a>). If it’s still working, you should see ‘panopticon’ in that room – that’s the <a href=\"http://panpush.pl/\">panpush.pl</a> script. When some avatar metadata changes and pops out of the Panopticon server’s port, it will appear in the room – currently represented as the avatar’s name.</p>\n<p>Want more? Want to actually do something with the data in the room?</p>\n<p>Well, I’ve just written an example antithesis to <a href=\"http://panpush.pl/\">panpush.pl</a> – <a href=\"https://qmacro.org/~dj/panclient.pl\">panclient.pl</a>. This connects to the conference room, and listens out for packets containing the panopticon XML extensions. It just prints them out, but of course you can do with the data as you please. It’s just an example.</p>\n<p>Oh, one more thing. As <a href=\"https://qmacro.org/~dj/panpush.pl\">panpush.pl</a> catches the panopticon XML and squirts it into the room, it also caches the actual avatar data, keyed by each icon’s id attribute. I plan to allow queries to be sent to the ‘panopticon’ room occupant, probably in the form of <strong>jabber:iq:browse</strong> IQ queries, so that clients can find out about what avatars are currently around, and what properties they have (name, url, xy coordinates, and so on).</p>\n",
      "date_published": "2002-05-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/15/5/jabberconf-blaggplug-version-0-1b/",
      "url": "https://qmacro.org/blog/2002/15/5/jabberconf-blaggplug-version-0-1b/",
      "title": "Jabberconf Blaggplug version 0+1b",
      "content_html": "<p>I’ve just updated the ‘<a href=\"http://www.pipetree.com.wstub.archive.org/%7Edj/jabberconf.pl\">jabberconf</a>‘ <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg/#blaggplugs\">Blaggplug</a> from 0+1 to <strong>0+1b</strong>. This new version escapes the entities transferred as text to the Jabber conference room, stopping any XML-related chundering on Jabber’s part.</p>\n",
      "date_published": "2002-05-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/15/5/jabber-browsing-the-panopticon-data/",
      "url": "https://qmacro.org/blog/2002/15/5/jabber-browsing-the-panopticon-data/",
      "title": "(Jabber-)Browsing the Panopticon data",
      "content_html": "<p>Ok, further to my initial <a href=\"https://qmacro.org/2002/05/15/the-panopticon/\">Panopticon/Jabber</a> experiments, I’ve extended the <a href=\"http://www.pipetree.com.wstub.archive.org/%7Edj/panpush.pl\">panpush.pl</a> script to respond to jabber:iq:browse requests. As the script starts, and receives the initial gush of data from the Panopticon port, and as it receives further pushes, it stores the data on the avatar icons, and makes this data available as results to the jabber:iq:browse requests.</p>\n<p>To get a list of avatars in the Panopticon, you can send a query like this:</p>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>iq</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>get<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>bot@gnu.mine.nu/panopticon<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>b1<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>query</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>jabber:iq:browse<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">/></span></span><br /><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>iq</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The response will look something like this:</p>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>iq</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>result<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>bot@gnu.mine.nu/panopticon<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>dj@gnu.mine.nu/home<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>b1<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>panopticon</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>jabber:iq:browse<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">jid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>bot@gnu.mine.nu/panopticon<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>The Panopticon<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>icon</span> <span class=\"token attr-name\">jid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>bot@gnu.mine.nu/panopticon/2b8bf6a9e9a173f95f27ae1a8d6fb2f4<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>Blammo the Clown<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>icon</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>icon</span> <span class=\"token attr-name\">jid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>bot@gnu.mine.nu/panopticon/3ab6c14732e8937cf26db26755c4aae7<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>Rael Dornfest<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>icon</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>icon</span> <span class=\"token attr-name\">jid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>bot@gnu.mine.nu/panopticon/47e48c975621bf43fc81622265d47a31<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>Dan Gillmor<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>icon</span><span class=\"token punctuation\">></span></span><br />\t\t...<br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>icon</span> <span class=\"token attr-name\">jid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>bot@gnu.mine.nu/panopticon/deedbeef<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>#etcon bot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>icon</span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>panopticon</span><span class=\"token punctuation\">></span></span><br /><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>iq</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>(I’d originally just returned each icon without the <name> tag, but figured that that would probably be less than useful.)</name></p>\n<p>You can ‘drill down’ with a further query (sent to the JID of the icon you’re interested in – remember, Jabber browsing is most effective when you can navigate a hierarchy of information via their nodes’ JIDs) like this:</p>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>iq</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>get<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>b2<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>bot@gnu.mine.nu/panopticon/2b8bf6a9e9a173f95f27ae1a8d6fb2f4<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>query</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>jabber:iq:browse<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">/></span></span><br /><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>iq</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Which should hopefully elicit a response like this:</p>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>iq</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>result<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>dj@gnu.mine.nu/home<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>b2<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">from</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>bot@gnu.mine.nu/panopticon/2b8bf6a9e9a173f95f27ae1a8d6fb2f4<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>icon</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>jabber:iq:browse<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">jid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>bot@gnu.mine.nu/panopticon/2b8bf6a9e9a173f95f27ae1a8d6fb2f4<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>2b8bf6a9e9a173f95f27ae1a8d6fb2f4<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url</span><span class=\"token punctuation\">></span></span>http://progressquest.com/expo.php?name=Blammo the Clown<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>text</span><span class=\"token punctuation\">></span></span>Mmm... Beer Elementals<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>text</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>x</span><span class=\"token punctuation\">></span></span>805<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>x</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>y</span><span class=\"token punctuation\">></span></span>494<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>y</span><span class=\"token punctuation\">></span></span><br />\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>name</span><span class=\"token punctuation\">></span></span>Blammo the Clown<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>name</span><span class=\"token punctuation\">></span></span><br />\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>icon</span><span class=\"token punctuation\">></span></span><br /><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>iq</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>This should reflect the latest information to be had on that avatar.</p>\n",
      "date_published": "2002-05-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/15/5/amphetadesk-links/",
      "url": "https://qmacro.org/blog/2002/15/5/amphetadesk-links/",
      "title": "Amphetadesk Links",
      "content_html": "<p>I was just chatting to <a href=\"http://www.disobey.com/\">Morbus</a> in the <a href=\"http://www.oreillynet.com/et2002\">Emerging Tech. Conference</a> IRC channel (#etcon on <a href=\"http://irc.openprojects.net/\">irc.openprojects.net</a>) and he mentioned his <a href=\"http://www.amphetadesk.com/\">Amphetadesk</a> news aggregator had a <em>‘subscribe to this’</em> feature for RSS URLs similar to the <a href=\"http://radio.userland.com/\">Radio Userland</a> coffee-cup feature I’ve already included in the <strong>My Feeds</strong> section.</p>\n<p>So Morbus told me what the links should look like, and I just added them to my crontab’d <a href=\"http://www.pipetree.com.wstub.archive.org/%7Edj/rss.pl\">script</a> that produces the <strong>My Feeds</strong> list from <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a>‘s rss.dat file.</p>\n<p>You can see the result in the form of the <strong>[A]</strong> links in the list – click on these if you’re running Amphetadesk!</p>\n",
      "date_published": "2002-05-15T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/10/5/subscription-from-radio/",
      "url": "https://qmacro.org/blog/2002/10/5/subscription-from-radio/",
      "title": "Subscription from Radio",
      "content_html": "<p>Sam has just had some difficulties subscribing to this weblog’s RSS feed. I checked the message he got, and looked at the XML produced by Blosxom. I’ve just added a <description> tag and a <language> tag (!) in the <channel> section. I think that might be what was missing…</channel></language></description></p>\n<p>Let’s see…</p>\n<p>P.S. Thanks Jon for the email alert :-)</p>\n",
      "date_published": "2002-05-10T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/9/5/mr-80-percent/",
      "url": "https://qmacro.org/blog/2002/9/5/mr-80-percent/",
      "title": "Mr 80-Percent",
      "content_html": "<p>Nick Denton wrote an <a href=\"http://www.nickdenton.org/docs/80_percent_company.mht\">interesting article</a> last month on how many hours people can, do, and should work in a week. It’s clear that he favours ‘80%ers’ over ‘120%ers’. I do too; having been in the fortunate position to do so, I made the move from a 5-day week to a 4-day week a couple of years ago. I’m not saying I don’t spend time at the keyboard during the 5th day, but it works wonders for one’s overall karma. Here’s to living life.</p>\n",
      "date_published": "2002-05-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/9/5/blaggplug-jabberconf/",
      "url": "https://qmacro.org/blog/2002/9/5/blaggplug-jabberconf/",
      "title": "Blaggplug: jabberconf",
      "content_html": "<p>Q: What do you get when you cross <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">really simple aggregation</a> with <a href=\"http://radio.weblogs.com/0100887/2002/03/15.html\">‘messaging to spaces’</a> and ideas of “poor man’s” pubsub?</p>\n<p>A: The ‘<a href=\"https://qmacro.org/~dj/jabberconf.pl\">jabberconf</a>‘ <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg/#blaggplugs\">Blaggplug</a> – a plugin for <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a> that pushes RSS item info to a Jabber conference room (akin to an IRC channel) as they’re pulled in the aggregation process.</p>\n<p>This idea goes back a long way, to my pre-Jabber days (!) when I was experimenting with getting my business applications to write messages to IRC channels and writing various IRC bots to listen out for and act upon specific messages (carrying out simple processes, relaying messages to further channels, and so on).</p>\n<p>Just as HTTP-GET function call based apps — such as the ‘open wire service’ <a href=\"http://www.oreillynet.com/meerkat\">Meerkat</a>, and other RESTian applications (‘RESTful’ may twang too many antennae ;-) — are both human and machine friendly, so is simple publish/subscribe via spaces. Just as people (with browsers &amp; URL lines), and applications (with HTTP libraries) can get at HTTP-GET based information, so people (with Jabber groupchat clients), and applications (with Jabber libraries), can get at published data in open spaces such as Jabber rooms.</p>\n<p>The <a href=\"http://www.pipetree.com.wstub.archive.org/%7Edj/jabberconf.pl\">plugin</a> is very raw, as I’ve just written it tonight and done some minimal testing using my current feedlist.</p>\n<p>Have fun!</p>\n",
      "date_published": "2002-05-09T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/8/5/yarm-yet-another-referers-mechanism/",
      "url": "https://qmacro.org/blog/2002/8/5/yarm-yet-another-referers-mechanism/",
      "title": "YARM: Yet Another Referers Mechanism",
      "content_html": "<p>I’ve been reading what some people have been thinking and doing about referers and backlinking:</p>\n<ul>\n<li><a href=\"http://www.disenchanted.com/dis/linkback.html\">http://www.disenchanted.com/dis/linkback.html</a></li>\n<li><a href=\"http://www.oreillynet.com/pub/a/webservices/2002/05/03/udell.html\">http://www.oreillynet.com/pub/a/webservices/2002/05/03/udell.html</a></li>\n<li><a href=\"http://diveintomark.org/archives/2002/04/20.html#automatic_linkbacks\">http://diveintomark.org/archives/2002/04/20.html#automatic_linkbacks</a></li>\n<li><a href=\"http://radio.weblogs.com/0101221/2002/05/06.html#a197\">http://radio.weblogs.com/0101221/2002/05/06.html#a197</a></li>\n</ul>\n<p>(<a href=\"http://www.decafbad.com/\">Leslie</a> has been doing stuff too, but his main site is suffering an outage at the moment and I can’t get to the right link – get well soon, 0xDECAFBAD!). While reading, I’ve been playing around a bit too, and have a little <a href=\"http://www.pipetree.com.wstub.archive.org/%7Edj/lpwc\">script</a> which is fed a ‘tail’ed access_log and looks for referers, grabbing the titles of their pages if possible (using an <a href=\"http://perl.plover.com/yak/hw1/Hardware-notes.html#_Orcish_Maneuver_\">Orcish maneuver</a>-like mechanism to cache page titles and be a good HTTP citizen).</p>\n<p>I run this script in the background:</p>\n<p>nohup tail -f access_log | perl <a href=\"https://qmacro.org/~dj/lpwc\">lpwc</a> &gt;refer.list 2&gt;refer.log &amp;</p>\n<p>and then periodically pull the last ten unique referers and create a nice list that I can then SSInclude in this weblog:</p>\n<p>uniq refer.list | tail | perl <a href=\"http://referers.pl/\">referers.pl</a> &gt; referers.incl</p>\n<p>If nothing else, it reminds me of how powerful *nix command line tools and the humble pipe can be.</p>\n",
      "date_published": "2002-05-08T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/7/5/one-small-step-one-giant-leap/",
      "url": "https://qmacro.org/blog/2002/7/5/one-small-step-one-giant-leap/",
      "title": "One small step...one giant leap...",
      "content_html": "<p>Yeow!</p>\n<p><a href=\"http://frontier.userland.com/stories/storyReader$10108#howToCallAProcedureOverIm\">[&quot;im://jabber/bull@mancuso.org&quot;].examples.getStateName (12)</a></p>\n<p>By ‘eck, it <a href=\"https://qmacro.org/jabber/XMLRPC/\">takes me back…</a></p>\n<p>A hearty congrats to <a href=\"http://www.scripting.com/\">Dave</a> (and <a href=\"http://www.pipetree.com.wstub.archive.org/archives/2002/05/www.jerf.org\">Jeremy</a> and <a href=\"http://www.wiredfool.com/ftoc\">Eric</a> of course). “This <em>Bing!</em>‘s for you.”</p>\n",
      "date_published": "2002-05-07T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/7/5/calendar-code/",
      "url": "https://qmacro.org/blog/2002/7/5/calendar-code/",
      "title": "Calendar code",
      "content_html": "<p>I forgot to mention, the little script I used to produce the calendar on the right is <a href=\"https://qmacro.org/~dj/calendar\">here.</a></p>\n",
      "date_published": "2002-05-07T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/6/5/bring-on-the-ssi/",
      "url": "https://qmacro.org/blog/2002/6/5/bring-on-the-ssi/",
      "title": "Bring on the SSI",
      "content_html": "<p>As a kid, I used to regularly re-arrange my bedroom at home, not because I was unhappy with the layout, but simply because I could. I think this trait has remained with me, as I’ve just completed a bit of a shake-up of this weblog, or rather, the mechanism(s) that make up this weblog.</p>\n<p>I <a href=\"https://qmacro.org/2002/04/21/hello-blosxom\">wrote</a> earlier about hacking support for lists into <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a>, so I could generate simple list files and Blosxom would format them nicely and fold them into the blog output for me. I decided that I wanted to go on using vanilla Blosxom, rather than a custom one, and achieve the list display another way. So I’ve turned things around, and am now running Blosxom as nature intended, and have included the output in the framework you see here via SSI. The rest of the lists and tables are also SSIncluded files.</p>\n<p>The main drive for this change was to be able to more easily incorporate the latest ‘hack’ which you can see to the right – a calendar showing the current month, with links to posts on relevant days. This idea is of course not new, and can be seen on many a <a href=\"http://radio.userland.com/\">Radio Userland</a> powered weblog. The calendar here is generated by HTMLifying the output of ‘cal’ and looking through Blosxom’s data directory at the timestamps of the .txt files I’ve created. Simple.</p>\n<p>As you can see, this blog’s location –</p>\n<blockquote>\n<p><a href=\"https://qmacro.org/blog/2002/qmacro\">//qmacro.org/about</a></p>\n</blockquote>\n<p>is new, and easy to remember. The content and CGI scripts are actually served from my <strong>~dj</strong> directory on <a href=\"http://www.pipetree.com/\">www.pipetree.com</a>; the ‘qmacro’ name is masking this by means of some <strong>AliasMatch</strong> directives in our Apache web server.</p>\n",
      "date_published": "2002-05-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/6/5/blosxom-vs-the-world/",
      "url": "https://qmacro.org/blog/2002/6/5/blosxom-vs-the-world/",
      "title": "Blosxom vs the world",
      "content_html": "<p>In case you’re wondering why I’m using <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a> instead of other fine weblogging tools like <a href=\"http://radio.userland.com/\">Radio Userland</a>, <a href=\"http://www.blogger.com/\">Blogger</a>, or <a href=\"http://www.moveabletype.org/\">Moveable Type</a>, I’ll tell you. Not because I don’t want to pay the minimal (or non-existent) price; not because I think that one is better than the other, not even because I refuse free hosting for my weblog…</p>\n<p>It’s simply <em>because I can</em>.</p>\n",
      "date_published": "2002-05-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/6/5/blog-software-review/",
      "url": "https://qmacro.org/blog/2002/6/5/blog-software-review/",
      "title": "Blog software review",
      "content_html": "<p>I found a pointer on <a href=\"http://scriptingnews.userland.com/backissues/2002/05/05#l1003254d10ef53e118908bfc419a699a\">Dave W’s</a> site to a <a href=\"http://hotwired.lycos.com/webmonkey/02/18/index3a.html?tw=authoring\">survey of weblog tools</a>. It’s a high-level but nevertheless interesting article that looks at some of the major weblogging software out there, and describes some of the features of each. It fails to mention <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a>, though, which is a shame, although it is listed on a(n oddly formatted) <a href=\"http://www.lights.com/weblogs/tools.html\">page</a> linked from the review.</p>\n",
      "date_published": "2002-05-06T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/1/5/community-disagreement-debate-inspiration/",
      "url": "https://qmacro.org/blog/2002/1/5/community-disagreement-debate-inspiration/",
      "title": "community(disagreement + debate) = inspiration",
      "content_html": "<p>Not a period goes by in the extended computing community without a juicy debate or two. This time it’s SOAP and RPC vs REST, on afterburn with a Google API in(ter)jection. I can’t remember when a single subject seemed to generate as much traffic on the <a href=\"http://www.oreillynet.com/weblogs/\">O’Reilly Network Weblogs</a> as this. There have been wonderfully interesting arguments from many people. Personally, I’m ambivalent. I think the most important thing is that it inspires people to greater things, and gets people thinking.</p>\n<p>What a rich seam of ideas and mind-stimulation there is to be mined within this community. And no coal dust, dank conditions, and canaries in sight. I’ll drink to that.</p>\n",
      "date_published": "2002-05-01T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/30/4/blog-locally-publish-globally/",
      "url": "https://qmacro.org/blog/2002/30/4/blog-locally-publish-globally/",
      "title": "&quot;Blog Locally, Publish Globally&quot;",
      "content_html": "<p>I’d been thinking of using <a href=\"http://www.cvshome.org/\">cvs</a> to help manage offline file-based blogging with Blosxom, but I recently read a couple of posts by <a href=\"http://www.nozell.com/cgi/blosxom/2002/Mar/5#syncing-blog\">Marc Nozell</a> and <a href=\"http://saladwithsteve.com/osx/2002_02_01_archive.html#9710921\">Rael</a> (to whom the title of this post is attributed) describing how they use rsync. It’s a nicer idea than using cvs, so I’ve gone for it. I made an alias, ‘blogsync’, which does this:</p>\n<pre><code>rsync -tazve ssh ~/blog/*.txt gnu:blog/\n</code></pre>\n<p>and stuck the alias definition into my .bashrc file Hey presto. My trusty Linux Vaio is always with me, and I can blog there wherever and whenever I wish. The ‘net cafe at London Gatwick airport was getting a bit too pricey for terminal access, but I passed it last week to discover that it now offers simple 10baseT connections for laptop users. Five quid for 40 minutes. Still steep, but perhaps worth it for the odd time I absolutely desperately <em>must</em> sync up.</p>\n",
      "date_published": "2002-04-30T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/27/4/other-side-of-the-coin-5335-now-resurrected/",
      "url": "https://qmacro.org/blog/2002/27/4/other-side-of-the-coin-5335-now-resurrected/",
      "title": "Other side of the coin: 5335 now resurrected",
      "content_html": "<p>To complement the <a href=\"https://qmacro.org/~dj/rss.pl\">script</a> that allows me to share my feed list with others, including <a href=\"http://radio.userland.com/\">Radio Userland</a> users (with the coffee mug link), I’ve now written a simple pair of scripts which do the equivalent of the <a href=\"https://qmacro.org/blog/2002/testwiki/5335\">5335</a> script mentioned earlier.</p>\n<p>The point of the 5335 link is that the target is 127.0.0.1, that is, localhost. This time, I didn’t want to run a script of any significant size on my localhost; rather, I thought that if I could just run a simple <em>redirector</em>, which I could configure and get to redirect calls to 127.0.0.1:5335 to a location of my choosing, I’d be able to concentrate running the ‘complicated’ (relative term) part of adding a feed to <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a>‘s rss.dat, on the host that serves my weblog.</p>\n<p>So <a href=\"https://qmacro.org/~dj/5335-redir.pl\">5335-redir.pl</a> is a simple, configurable redirector, which I run on my localhost, and <a href=\"https://qmacro.org/~dj/bladder\">bladder</a> is the script that receives a feed URL (via the redirector) and adds it to rss.dat.</p>\n<p>Very simple. In the spirit of <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a> and <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a>, I hope.</p>\n<p>Here’s a step-by-step list of what happens:</p>\n<ol>\n<li>I click on a coffee mug link next to a feed reference that I want to add to my aggregator.</li>\n<li>The link points to <a href=\"http://127.0.0.1:5335/%E2%80%A6\">http://127.0.0.1:5335/…</a>. and <a href=\"http://5335-redir.pl/\">5335-redir.pl</a> catches the request.</li>\n<li>The request is redirected by <a href=\"http://5335-redir.pl/\">5335-redir.pl</a> to bladder, running on my weblog host.</li>\n<li>Bladder simply adds the feed reference (sent in the redirected link) to Blagg’s rss.dat file.</li>\n<li>The <a href=\"http://rss.pl/\">rss.pl</a> script comes along on it’s regular cron way and rebuilds the My Feeds list and the newly added feed appears there.</li>\n</ol>\n",
      "date_published": "2002-04-27T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/26/4/original-peerkat-based-weblog-back-up-for-reference/",
      "url": "https://qmacro.org/blog/2002/26/4/original-peerkat-based-weblog-back-up-for-reference/",
      "title": "Original Peerkat-based weblog back up for reference",
      "content_html": "<p>Well, I got everything back in order relating to the old experimental weblog, and I’m running an instance of <a href=\"http://www.oreillynet.com/%7Erael/lang/python/peerkat\">Peerkat</a> to expose the blog data. It’s back at the same address (<a href=\"http://www.pipetree.com:8080/\">http://www.pipetree.com:8080</a>) but is just for reference. I’m pressing forward with this new <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a>-based weblog.</p>\n",
      "date_published": "2002-04-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/26/4/coffee-mugs-and-weblog-interop/",
      "url": "https://qmacro.org/blog/2002/26/4/coffee-mugs-and-weblog-interop/",
      "title": "Coffee Mugs and weblog interop",
      "content_html": "<p>In the same vein as the <a href=\"http://www.pipetree.com:8080//?id=1018344359.94.16\">experiment</a> with Peerkat, I’ve now exposed the feeds data for <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a> (which is the RSS aggregator mechanism I’m using with <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a>) as a list on the right hand side of the weblog here.</p>\n<p>It’s very simple; <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a> uses a text file, rss.dat, to keep a list of RSS feeds that I want to subscribe to. I wrote a <a href=\"http://www.pipetree.com/~dj/rss.pl\">simple script</a> to read that information and to create a list file that I can then pull into the weblog template like the other lists here. Very simple. I’ll probably cron the script to run every so often, to keep the list up to date.</p>\n<p>Now all I need to do is resurrect the [5335](file:///testwiki/5335) script so that I can other feed info inserted into (appended onto, probably) Blagg’s rss.dat file when I click one of those coffee mug icons.</p>\n",
      "date_published": "2002-04-26T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/25/4/cross-pollination-and-blossoming-of-scripts/",
      "url": "https://qmacro.org/blog/2002/25/4/cross-pollination-and-blossoming-of-scripts/",
      "title": "Cross pollination and blossoming of scripts",
      "content_html": "<p>There seems to be a wonderful, um, blossoming of scripts, tools, and ideas arould <a href=\"http://www.oreillynet.com/%7Erael/\">Rael</a>‘s <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a> and the new <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg\">Blagg</a> mechanisms. How about <a href=\"http://kavery.ecs.fullerton.edu/cgi-bin/blosxom.cgi/blosxmlrpc\">a Blogger API interface for Blosxom</a>, or <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blagg/#blaggplugs\">a plug-in architecture for Blagg</a>, to name but two, in addition to the tiny hacks such as the Google search list and the bookmark ‘to read’ list, both on the right…</p>\n<p>I’m sure it’s because Blosxom’s scent of simplicity has people doing what <em>they</em> want, with code, because there’s only the slightest whiff of required compliance, to fit in with how Blosxom works, and that’s something that all platforms, languages, and minds share: files.</p>\n",
      "date_published": "2002-04-25T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/24/4/my-bookmarks/",
      "url": "https://qmacro.org/blog/2002/24/4/my-bookmarks/",
      "title": "My bookmarks",
      "content_html": "<p>The essence of Blosxom, using basic tools and OS-level building blocks, inspires one to keep things simple, and celebrate the humble file as the lowest common denominator for data interchange. Now that I’ve got the possibility of including lists of things on this page (or on other blog pages, for that matter), I’ve managed to address a ‘problem’ I’ve had for a while in a really simple way. I have a bookmark folder in my <a href=\"http://galeon.sourceforge.net/\">Galeon web browser</a> called ‘to read’ where I keep references to articles that I want to print out and read (on the train, mostly) – most of the time, though, I don’t have access to a printer.</p>\n<p>With a simple <a href=\"http://www.pipetree.com/~dj/galeon.pl\">script</a>, I just parse Galeon’s bookmark file to pull out the items in the ‘to read’ folder, and make them into a simple list, which I then drop into my file area reserved for Blosxom. A simple reference to this list in the template, and ecce, I have my ‘to read’ list available on every workstation I sit down at.</p>\n",
      "date_published": "2002-04-24T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/22/4/off-with-the-relatively-old-on-with-the-new/",
      "url": "https://qmacro.org/blog/2002/22/4/off-with-the-relatively-old-on-with-the-new/",
      "title": "Off with the (relatively) old, on with the new",
      "content_html": "<p>The move from Peerkat to Blosxom coincided with open disk surgery on our colo box that hosts this website. I’ve got this weblog up and running but need to install Python so I can boot my Peerkat-based experiments previously at <a href=\"http://www.pipetree.com:8080/\">http://www.pipetree.com:8080</a>.</p>\n<p>I’m really taken with the simplicity of Blosxom. As the weblog entries are simply textfiles, I think I’m going to start using CVS to give me the ability to write offline too. I travel a lot, and my trust Sony Linux laptop goes everywhere with me.</p>\n",
      "date_published": "2002-04-22T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/21/4/interview-on-jabber-org/",
      "url": "https://qmacro.org/blog/2002/21/4/interview-on-jabber-org/",
      "title": "Interview on jabber.org",
      "content_html": "<p>My interview on <a href=\"http://www.jabber.org/\">jabber.org</a> has been <a href=\"https://web.archive.org/web/20020804053617/http://www.jabber.org/people/interviews/dj.html\">posted</a>. Yikes!</p>\n<p>It's reproduced below.</p>\n<hr />\n<h1 id=\"jabber-interviews:-dj-adams-(qmacro)\" tabindex=\"-1\">Jabber Interviews: DJ Adams (qmacro) <a class=\"direct-link\" href=\"https://qmacro.org/blog/2002/21/4/interview-on-jabber-org/#jabber-interviews:-dj-adams-(qmacro)\" aria-hidden=\"true\">#</a></h1>\n<h2 id=\"jsf-greater-people-greater-interviews-greater-dj-adams\" tabindex=\"-1\">JSF &gt; People &gt; Interviews &gt; DJ Adams <a class=\"direct-link\" href=\"https://qmacro.org/blog/2002/21/4/interview-on-jabber-org/#jsf-greater-people-greater-interviews-greater-dj-adams\" aria-hidden=\"true\">#</a></h2>\n<p><strong>Everyone in the Jabber world seems to have a nickname -- how did you get yours?</strong></p>\n<p>Well, it comes from the world of SAP. Prehistoric SAP, that is, from when I was working with R/2 in the late eighties. In those days, it was nearly all in (S/370) assembler - none of this newfangled ABAP language thank you very much :-) A Q-macro is an assembler representation of a logical file structure, defined in the SAP system's data dictionary. The names were 5 characters in length, for example QKONP, which was the name of the macro that represented the field of the contract document item structure. I picked the name 'qmacro' as it reminded me of happy times, and it was unlikely that it would clash with anyone else's.</p>\n<p><strong>Where do you live now, and what interesting places have you lived in the past?</strong><br />\nWell, I split my time between England and Germany. I work in Brentford, West London, and live in Hailsham, in East Sussex, near the south coast. I also spend time in Krefeld, Germany. Actually, when I think about it, I spend most of my time somewhere between the two. I grew up in Manchester, but moved to London when I went to university there.</p>\n<p>I was lucky enough to have a job (hacking SAP) that took me to lots of places; I've lived and / or worked in plenty of places in my time - Hamburg, Düsseldorf, Bonn, Heidelberg (Germany), Paris, Strasbourg (France), Brussels (Belgium), Copenhagen (Denmark), Rotterdam (Holland), NY state (USA), and plenty of places in the UK. To paraphrase some song lyrics, &quot;wherever I lay my laptop, that's my home&quot;.</p>\n<p><strong>When and how did you first get involved in Jabber?</strong><br />\nI remember it well. It was the autumn of 2000. I was working in London, in a small, cramped, and hot office. I was getting hot under the collar trying to install this new open XML-based messaging system called 'Jabber'. I'd been hacking around with IRC, and wanted to see what this new system was like. As I've mentioned elsewhere, my head was full of XML-RPC stuff, IRC bots, and system-to-system messaging. Although at the time Jabber was being touted as an IM system, I was intrigued.</p>\n<p>I almost gave up at the start, in that it took me over a day to get it installed and working, with all the individual library dependencies that were required at the time - I think it was the 1.0 version of the <a href=\"http://jabber.org/\">jabber.org</a> server - and the initially cryptic configuration file. But I persevered, and I'm glad I did. (The fact that I found the configuration file initially cryptic is one of the reasons why I focus so much on helping the reader of &quot;Programming Jabber&quot; to understand how the configuration works - that's why Chapter 4 is so, well, long :-)</p>\n<p>I was very much a Perl enthusiast at the time (and still am!) and I got stuck into the Net::Jabber modules almost immediately.</p>\n<p><strong>Which Jabber clients do you use or like the most?</strong><br />\nIt has to be Jarl. It's great - does what it says on the label, appeals to my graphical good taste, and I can hack bits onto it in Perl. I've used Gabber too - that's a nice client, but overall I prefer Jarl. I've read enough of Ryan's code in the Net::Jabber modules to understand his coding style, so I feel at home inside Jarl.</p>\n<p>When I'm on the move, and have only got an ssh window available, then of course I use sjabber to join meetings and conferences.</p>\n<p><strong>You're well-known in the Jabber community for having written a book about Jabber -- how did that come about and what did you learn in the process?</strong><br />\nYou mean I'm not well known for my good looks and charm? ;-) Ok, well, you can't win 'em all. Seriously, though, about the book. It was early 2001, I'd just had a couple of Fun With Jabber articles published on the O'Reilly Network, and had a few other articles and bits of documentation relating to Jabber out there too. A chap from O'Reilly called Chuck Toporek, who later was to be my editor, called me. To cut a long story short, after I had bored him half to death with the sort of things someone could write about Jabber, he asked me if <em>I</em> wanted to write it. I almost fell off my chair.</p>\n<p>If there's one thing I learned, it's that if a publisher asks you if you would like to write a book, you say &quot;YES!&quot;. It was the opportunity of a lifetime for me. I had to grab it with both hands. I had to submit a detailed proposal, which outlined the book's content, and so on. This was actually a lot harder than I thought it was going to be, as I had to essentially write the book in my head up front, so to speak, so I could work out what was going to be where. It really paid off, though, as the outline was my road map while writing. I'd have been totally lost without it.</p>\n<p>I quit my job to write it; I wanted to enjoy the experience as much as I could. The word 'enjoy' is relative, though. Although ultimately rewarding, writing the book was very hard work. I got to know the <a href=\"http://jabber.org/\">jabber.org</a> server codebase quite well, as I used to pore over it while drinking in a coffee shop just up the road.</p>\n<p><strong>What do you consider some of your most important contributions to Jabber?</strong><br />\nGosh, I dunno. I've written quite a bit of documentation, and have tried to help out on the mailing lists wherever and whenever I could. I enjoy 'promoting' Jabber, writing articles and giving talks to anyone who will listen :-) I also have a few Jabber modules on CPAN under my belt - Jabber::Connection being the most important, I guess.</p>\n<p><strong>What projects or code are you working on nowadays?</strong><br />\nWell, at the moment, I'm working with the Radio Userland community to bring Jabber in to the loop to solve various issues relating to the addressing of endpoints that are behind firewall/NAT mechanisms. We're got a 'bridge' that sits in between Radio Userland desktops and the so-called Radio Community Server mechanism; this bridge translates between XML-RPC and Jabber traffic to carry weblog update notification requests and pings. We're using packets based on the pubsub JEP 0024 to achieve this. It's working really well.</p>\n<p>I'm also experimenting with Peerkat, a personal weblog mechanism, and have added some Jabber pubsub juice to that too. There's a lot of really interesting stuff out there that is just crying out for integration with Jabber.</p>\n<p>Other than that, I'm keeping an eye on the 1.5 development work, so I'll be in a position to explain bits and pieces to anyone who expresses an interest.</p>\n<p><strong>What are your favorite programming languages?</strong><br />\nWell, it's got to be Perl, of course. What a silly question :-) Actually, Python has been growing on me too, ever since I hacked on bits of jabberpy early last year. Any language that's not too difficult for me to (a) understand and (b) do anything useful without jumping through hoops is fine by me. I've still got a soft spot for Atom Basic, a very odd dialect of Basic on the Acorn Atom. You could inline 6502 assember in your code, too!</p>\n<p><strong>What's your favorite music to code by?</strong><br />\nOh, I've rather an eclectic taste, I'm afraid. Naming any one artist would be misrepresentative of my favourites, so here's a random list of stuff I've been listening to at the keyboard recently: Electric Light Orchestra, Talvin Singh, The Smiths, Violent Femmes, Natalie Merchant, Bentley Rhythm Ace, Daft Punk, James Taylor Quartet, Led Zeppelin, Grateful Dead, Motorhead, Manu Dibango. I also like listening to BBC Radio 4.</p>\n<p><strong>What hobbies do you pursue when you're not working on Jabber?</strong><br />\nMost of my hobbies are orientated towards our son, so right now you'll find me kite flying, bicycle riding, and building stuff with Lego. I do like cooking, it's a great way to relax and switch the rest of the world off. Joseph and I especially enjoy making our own pasta, cakes, and pies. Anything that involves a lot of mess, basically.</p>\n<p><strong>Do you have a website or weblog where people can learn more about you?</strong><br />\nWell, not really. I've never been that good at maintaining that sort of thing. I do have a Jabber-related site, which is at <a href=\"http://www.pipetree.com/jabber/\">http://www.pipetree.com/jabber/</a>. My experiments with Peerkat, in the form of a weblog, can be found at <a href=\"http://www.pipetree.com:8080/\">http://www.pipetree.com:8080</a>. I did have a Geocites website for my family, but it's disappeared. Our son Joseph had a website up within 60 hours of being born :-)</p>\n<p><strong>What do you think are the most important strengths of Jabber?</strong><br />\nThe fact that the protocol is open, and flexible. It doesn't try to do too much - it just gives you the building blocks to construct your own solutions. Indeed, look at the activity in the standards-jig mailing list, where people are coming up with extensions to the protocol left right and centre. Furthermore, because the basics are straightforward, it's easy to wrap your head around it and get going with solutions without much ado.</p>\n<p>I think the fact that the Jabber development community is a friendly place to be, despite any clashes that might occur, is a very important aspect too. Life's too short already not to enjoy what you're doing.</p>\n<p><strong>What are some of the weaknesses you think need to be addressed?</strong><br />\nWeakness? Bah, that word isn't in my vocabulary :-) But if I had to pick one, it would be Jabber's name, and what people think it stands for. Jabber is not just IM, as we all know. The situation is improving, in that people are beginning to 'get it' and think of Jabber in more general XML-based messaging terms, but it's been a long hard slog to get here.</p>\n<p><strong>What cool applications would you like to see built using Jabber?</strong><br />\nWell, there's a ton of potential in the business world (where I come in from). Getting Jabber into commerce related projects is what I'm interested in. There's so much data to manage and move around in the business world, and an XML-aware transport like Jabber seems to be an ideal fit. I've already built some demo scenarios, bolting Jabber (and other Open Source tools) onto SAP R/3, and it looks very promising.</p>\n<p><strong>What other computing projects do you most admire, and why?</strong><br />\nHmmm. A difficult one. I'm not really sure. I'm not that much of a follower of computing projects per se; I'm more a user of their products :-) Rather than projects, there are many people that I admire. Take the Perl community, for example. As well as the gods who make Perl tick, there are people closer to userspace (and therefore closer to me) that are doing fantastic things to further Perl. Matt (XML), Brian (Inline) and Damian (mind stretching) to name but a few.</p>\n<p><strong>What can the Jabber community do to improve?</strong><br />\nThere's been a lot of effort to get process built into the community and the Foundation; JIGs, JEPs, and the council, for example. We need to make sure that the time and effort invested in setting these things up is not wasted; we need to see that the processes put in place are processes that work. We need to communicate more (who doesn't?) and we have to constantly work on the relations(hips) with other parties.</p>\n<p><strong>Where would you like Jabber to be two years from now?</strong><br />\nEverywhere.</p>\n<p>:-)</p>\n",
      "date_published": "2002-04-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/21/4/hello-blosxom/",
      "url": "https://qmacro.org/blog/2002/21/4/hello-blosxom/",
      "title": "Hello Blosxom",
      "content_html": "<p>Well, after having a <a href=\"http://www.pipetree.com/testwiki/Peerkat\">look</a> at <a href=\"http://www.oreillynet.com/%7Erael/lang/python/peerkat\">Peerkat</a>, from the pen of that maven <a href=\"http://www.oreillynet.com/%7Erael\">Rael Dornfest</a>, I turned my attention to his <a href=\"http://www.oreillynet.com/%7Erael/lang/perl/blosxom\">Blosxom</a> project, a beautifully simple weblog mechanism that celebrates the power of the *nix shell, tools, and simple files. It’s just up my street, and I’m a definite convert. Nice one, Rael.</p>\n<p>I grabbed the latest version, 0+3i, and hacked in a bit of support for simple lists, such as you see on the right hand side of this page. Just as you write blog entries by editing .txt files, where the first line in the file becomes the entry’s title, so you create lists by editing .list files, where the first line in the file becomes the heading for the list. You include a list in your template by including the list’s name in square brackets, like this: [listname].</p>\n<p>Because lists are just files, you can generate them in lots of ways. The Google search list on the right was created using a slightly modified version of <a href=\"http://interconnected.org/home/\">Matt Webb’s</a> <a href=\"http://interconnected.org/home/more/GoogleSearch.pl.txt\">GoogleSearch.pl</a> script. I’ll probably cron the script to search Google every hour. See – powering Blosxom with standard tools like cron. Lovely.</p>\n",
      "date_published": "2002-04-21T00:00:00Z"
    },{
      "id": "https://qmacro.org/blog/2002/21/4/bot-window-as-command-line-of-the-future/",
      "url": "https://qmacro.org/blog/2002/21/4/bot-window-as-command-line-of-the-future/",
      "title": "Bot window as command line of the future",
      "content_html": "<p>I visited <a href=\"http://interconnected.org/home/\">Matt’s blog</a> today after finding his Google script that I’ve adopted, and followed an interesting link to an article, <a href=\"http://www.instantmessagingplanet.com/public/article/0,,10817_1012411,00.html\">“Search the web via IM”</a>, in which Matt is interviewed regarding <a href=\"http://interconnected.org/googlematic/\">Googlematic</a>. It’s interesting that the ideas expressed at the start of the article:</p>\n<blockquote>\n<ul>\n<li>Do you use your IM client so much that you feel like you live in it? Would you like to use it for tasks other than one-to-one communication — say, for looking up Web pages? *</li>\n</ul>\n</blockquote>\n<p>are in line with what I wrote about in an article about Jabber and bots called <a href=\"http://web.archive.org/web/20040203121753/http://www.openp2p.com/pub/a/p2p/2002/01/11/jabber_bots.html\">“Is Jabber’s Chatbot the Command Line of the Future?”</a>.</p>\n<p>I do like the idea of permanent windows opened and connected to bots providing services.</p>\n",
      "date_published": "2002-04-21T00:00:00Z"
    }
  ]
}
