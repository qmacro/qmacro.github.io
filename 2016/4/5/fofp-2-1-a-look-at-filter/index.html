<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FOFP 2.1 A look at filter</title>
    <meta name="description" content="Reserving the right to be wrong.">
    <link rel="stylesheet" href="/blog/css/index.css">
    <link rel="stylesheet" href="/blog/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/blog/feed/feed.xml" type="application/atom+xml" title="DJ Adams">
    <link rel="alternate" href="/blog/feed/feed.json" type="application/json" title="DJ Adams">
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/blog/">DJ Adams</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/blog/">Home</a></li>
        <li class="nav-item"><a href="/blog/about/">About</a></li>
        <li class="nav-item"><a href="/blog/posts/">Archive</a></li>
        <li class="nav-item"><a href="/blog/tags/">Tags</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      <h1>FOFP 2.1 A look at filter</h1>

<time datetime="2016-05-04">04 May 2016</time><a href="/blog/tags/language-ramblings/" class="post-tag">language-ramblings</a>

<p>Part of the <a href="/2016/05/03/fofp">Fundamentals of Functional Programming</a> document.</p>
<p>Prev: <a href="/2016/05/03/fofp-1-5-creating-functions">FOFP 1.5 Creating functions</a></p>
<p>We've already seen our first higher-order function, <code>map</code>, in action. A close sibling is <code>filter</code>.</p>
<p><code>filter</code> has the same pattern as <code>map</code>, in that it works on an Array, and applies the supplied function to each element of that Array in turn. In this case though, the function acts as a predicate, and only those elements for which the predicate evaluates to true are kept. The others are discarded, leaving you with a shorter collection.</p>
<h2 id="taking-the-odd-ones" tabindex="-1">Taking the odd ones <a class="direct-link" href="#taking-the-odd-ones" aria-hidden="true">#</a></h2>
<p>Let's explore with a simple example based on our short list of numbers:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
<p>If we were only interested in the odd numbers, we could do this:</p>
<pre class="language-javascript"><code class="language-javascript">nums<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><br><span class="token comment">// [1, 3, 5]</span></code></pre>
<p>Pretty simple. Like we did with <code>map</code>, we could use a pre-defined (i.e. named) function instead:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">is_odd</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><br><br>nums<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>is_odd<span class="token punctuation">)</span><br><span class="token comment">// [1, 3, 5]</span></code></pre>
<h2 id="declarative-style" tabindex="-1">Declarative style <a class="direct-link" href="#declarative-style" aria-hidden="true">#</a></h2>
<p>Notice that the program is starting to become easier to read, the more we move away from the mechanical nature of the imperative style of programming towards a more declarative style.</p>
<p>And it doesn't end there. If we wanted to take the numbers we'd filtered our list down to (1, 3 and 5) and transform them, all we'd need to do is chain calls together ... remember that <code>map</code> and <code>filter</code> both consume and produce lists. Remembering our <code>times</code> function from <a href="/2016/05/03/fofp-1-5-creating-functions/">FOFP 1.5</a>, we could form a chain like this:</p>
<pre class="language-javascript"><code class="language-javascript">nums<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>is_odd<span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">times</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token comment">// [4, 12, 20]</span></code></pre>
<p>Now that we've seen <code>map</code> and <code>filter</code>, it's time to have a look at their somewhat more powerful sibling, <code>fold</code>.</p>

<hr>
<ul><li>Next: <a href="/blog/2016/2/10/f3c-part-1-higher-order-functions/">F3C Part 1 - Higher-order functions</a></li><li>Previous: <a href="/blog/2016/3/5/fofp-fundamentals-of-functional-programming/">FOFP Fundamentals of functional programming</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /blog/2016/4/5/fofp-2-1-a-look-at-filter/ -->
  </body>
</html>
