<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://qmacro.org/2016/10/03/f3c-part-6-currying/"><link href="/assets/main.05e665c4602227b0048e.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>F3C Part 6 - Currying | DJ Adams</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="F3C Part 6 - Currying"><meta property="og:site_name" content="DJ Adams"><meta property="og:type" content="website"><meta property="og:url" content="https://qmacro.org/2016/10/03/f3c-part-6-currying/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@qmacro"><meta name="description" content="F3C Part 6 - Currying 03 Oct 2016 | 2 min read FunFunFunction Video: Currying - Part 6 of Functional Programming in JavaScript (This post is..."><meta property="og:description" content="F3C Part 6 - Currying 03 Oct 2016 | 2 min read FunFunFunction Video: Currying - Part 6 of Functional Programming in JavaScript (This post is..."><meta name="description" content="F3C Part 6 - Currying 03 Oct 2016 | 2 min read FunFunFunction Video: Currying - Part 6 of Functional Programming in JavaScript (This post is..."><meta property="og:image" content="https://qmacro.org/images/DJA-head.png"><meta name="twitter:image" content="https://qmacro.org/images/DJA-head.png"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/">DJ Adams</a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/about">About Me</a></li><li class="nav-item"><a href="/talks">Talks</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/feed.xml">Feed</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>F3C Part 6 - Currying</h1><div class="post__details"><time datetime="2016-10-03">03 Oct 2016 </time><span>| </span><span>2 min read</span></div></header><main class="post__content"><p>FunFunFunction Video: <a href="https://www.youtube.com/watch?v=iZLP4qOwY8I&amp;index=6&amp;list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84">Currying - Part 6 of Functional Programming in JavaScript</a></p><p>(This post is part of the <a href="/f3c/">F3C</a> series)</p><p>The &quot;what&quot; part of currying is quite straightforward. The &quot;why&quot; takes a little more time to understand, but once you do, it's a big &quot;aha&quot; moment.</p><p>Currying is the process of taking a function that expects multiple arguments, and turning that into a sequence of functions, each of which takes only a single argument and produces a function that is expecting the next argument. This sequence ends with a function that takes the final argument and produces the value that the original function was designed to emit.</p><p>It's not immediately apparent why you'd want to do this. This particular aspect of functional programming has probably remained more of a mystery in the JavaScript world mostly because the facility is simply not available in the core language implementation, and therefore folks aren't as readily versed in its usage.</p><p>But if you've started to embrace functional programming in JavaScript and have already enjoyed creating &quot;helper&quot; functions that you can then use (in a composition sense) in other higher-order functions, the reason why currying is useful is clearer.</p><p>Useful is a plain word. In MPJ's example, using the <code>curry</code> facility provided by the <a href="https://lodash.com/">Lodash</a> library to enhance the way <code>filter</code> is employed, is actually quite beautiful. His exclamation &quot;wow&quot; (I heard it in lower case) should perhaps have been more &quot;WOW&quot;.</p><p>Here's the relevant section of the example code:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> hasElement <span class="token operator">=</span><br>  _<span class="token punctuation">.</span><span class="token function">curry</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token operator">=></span> obj<span class="token punctuation">.</span>element <span class="token operator">===</span> element<span class="token punctuation">)</span><br><br><span class="token keyword">let</span> lightningDragons <span class="token operator">=</span><br>  dragons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token function">hasElement</span><span class="token punctuation">(</span><span class="token string">'lightning'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p><code>hasElement</code> is the helper function that is used to dynamically filter the data we're looking for. It has a common pattern (&quot;does a particular property have a particular value?&quot;). But the original (pre-currying) invocation was a little cumbersome:</p><pre class="language-javascript"><code class="language-javascript">dragons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=></span> <span class="token function">hasElement</span><span class="token punctuation">(</span><span class="token string">'lightning'</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>With the new ES6 syntax we're already reducing the amount of code using the fat arrow syntax. But with currying, we can reduce it even further, not with syntax, but by embracing currying and <a href="https://en.wikipedia.org/wiki/Partial_application">partial application</a>. Moreover, we get even closer to saying what we want, rather than how to get it.</p><p>One thing that occurred to me, that MPJ didn't mention explicitly (perhaps it was too obvious), is the order of the parameters in the <code>hasElement</code> function. They're deliberately set that way round, so that currying will work well for us. If you stare long enough at the example code, you'll realise that this is because of what's going on:</p><ul><li>calling <code>hasElement('lightning')</code>, with only a value for the <code>element</code> parameter, returns a function</li><li>this intermediate function expects a further single argument - an object, for the <code>obj</code> parameter</li><li>what serendipity! the <code>filter</code> function is going to do exactly this - call the intermediate function, passing each object in the <code>dragons</code> array</li></ul><p>For more on the order of parameters, and a generally very entertaining talk, I recommend Brian Lonsdorf's &quot;<a href="https://www.youtube.com/watch?v=m3svKOdZijA">Hey Underscore, You're Doing It Wrong!</a>&quot;.</p></main><aside class="post__aside"><div class="post__tags"><a href="/tags/language-ramblings/">#language-ramblings</a></div><style>.utterances {
  margin-left: inherit !important;
}</style><script src="https://utteranc.es/client.js" repo="qmacro/qmacro.github.io" issue-term="title" crossorigin="anonymous" async></script><nav class="post__pagination"><a href="/2016/10/04/f3c-part-7-recursion/"><span>←</span> <span>F3C Part 7 - Recursion</span> </a><a href="/2016/10/02/f3c-a-funfunfunction-companion-series/"><span>F3C - A FunFunFunction Companion Series</span> <span>→</span></a></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a href="https://github.com/qmacro" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://www.youtube.com/djadams-qmacro" target="_blank" rel="noopener noreferrer">YouTube</a></li><li><a href="https://twitter.com/qmacro" target="_blank" rel="noopener noreferrer">Twitter</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>