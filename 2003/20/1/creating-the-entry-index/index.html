<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating the &quot;Entry index&quot;</title>
    <meta name="description" content="Reserving the right to be wrong.">
    <link rel="stylesheet" href="/blog/css/index.css">
    <link rel="stylesheet" href="/blog/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/blog/feed/feed.xml" type="application/atom+xml" title="DJ Adams">
    <link rel="alternate" href="/blog/feed/feed.json" type="application/json" title="DJ Adams">
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/blog/">DJ Adams</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/blog/">Home</a></li>
        <li class="nav-item"><a href="/blog/about/">About</a></li>
        <li class="nav-item"><a href="/blog/posts/">Archive</a></li>
        <li class="nav-item"><a href="/blog/tags/">Tags</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      <h1>Creating the &quot;Entry index&quot;</h1>

<time datetime="2003-01-20">20 Jan 2003</time>

<p>Often I’d be discussing something and remember that I’d written something about it on this weblog. Manually searching through the files that contain the weblog entry texts was more painful than I wanted. I decided to make an <a href="../../?flav=titles&amp;num_entries=100">Entry index</a> available – a simple list of weblog item titles in reverse date order, that I could search through.</p>
<p>With the power of <a href="http://www.raelity.org/apps/blosxom">Blosxom</a>, I managed to do it in 10 minutes. Using the ‘<a href="http://www.raelity.org/apps/blosxom/flavour.shtml">flavour</a>‘ templating mechanism, I created a new flavour “titles” which I can then specify (<a href="../../?flav=titles&amp;num_entries=100">//qmacro.org/about/?flav=titles&amp;num_entries=100</a>) when calling Blosxom to run over my file store. Wonderfully simple. And while I could put together a little mechanism to statically build such a list every 10 minutes or something (to save the CPU hit), I don’t want to, and don’t have to now that I’m not trying to render everything on the main weblog page.</p>
<p>The ‘titles’ flavour files are <a href="/~dj/2003/01/titles/">here</a>.</p>
<p>There was a bit of jiggery-pokery I had to perform to make it work how I wanted. First, Blosxom makes a decision on whether to insert the day/date subtitles in a weblog display based upon what content-type the flavour is. Because it decides to insert such subtitles when it sees ‘text/html’, and I don’t want Blosxom to insert the subtitles in the entry index, I set the <a href="/~dj/2003/01/titles/content_type.titles">content-type for the titles flavour</a> to be ‘text/html;’.</p>
<p>Second, the number of entries that Blosxom displays is governed by a parameter in the code. But I wanted a different number of entries in the index than in the main weblog display. So I added a line:</p>
<p>param('num_entries') and $num_entries = param('num_entries');</p>
<p>near the start to allow me to pass the value in the URI.</p>
<p>Hey, it works, ok?</p>
<p>The ‘titles’ flavour files are <a href="/~dj/2003/01/titles/">here</a>.</p>

<hr>
<ul><li>Next: <a href="/blog/2003/20/1/the-disruptive-engineering-spectrum-and-booktalk-an-allconsuming-app/">The disruptive engineering spectrum, and &quot;booktalk&quot;, an AllConsuming app</a></li><li>Previous: <a href="/blog/2003/20/1/a-new-year-and-a-new-approach/">A new year and a new approach</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /blog/2003/20/1/creating-the-entry-index/ -->
  </body>
</html>
