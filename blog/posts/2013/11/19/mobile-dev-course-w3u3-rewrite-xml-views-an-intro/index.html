<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://qmacro.org/blog/posts/2013/11/19/mobile-dev-course-w3u3-rewrite-xml-views-an-intro/"><link rel="alternate" type="application/atom+xml" title="DJ's Weblog - Feed" href="https://qmacro.org/feed.xml"><link href="/assets/main.7884d8f8e9dd86c3b137.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>Mobile Dev Course W3U3 Rewrite - XML Views - An Intro | DJ Adams</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="Mobile Dev Course W3U3 Rewrite - XML Views - An Intro"><meta property="og:site_name" content="DJ Adams"><meta property="og:type" content="website"><meta property="og:url" content="https://qmacro.org/blog/posts/2013/11/19/mobile-dev-course-w3u3-rewrite-xml-views-an-intro/"><meta name="description" content="Mobile Dev Course W3U3 Rewrite - XML Views - An Intro 19 Nov 2013 | 5 min read I rewrote the mobile dev course sample app from W3U3. Then I..."><meta property="og:description" content="Mobile Dev Course W3U3 Rewrite - XML Views - An Intro 19 Nov 2013 | 5 min read I rewrote the mobile dev course sample app from W3U3. Then I..."><meta name="description" content="Mobile Dev Course W3U3 Rewrite - XML Views - An Intro 19 Nov 2013 | 5 min read I rewrote the mobile dev course sample app from W3U3. Then I..."><meta property="og:image" content="https://qmacro.org/images/site-image.png"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4WQKBG0L4Y"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4WQKBG0L4Y');</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/">DJ Adams</a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/about">About Me</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/feed.xml">Feed</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>Mobile Dev Course W3U3 Rewrite - XML Views - An Intro</h1><div class="post__details"><time datetime="2013-11-19">19 Nov 2013 </time><span>| </span><span>5 min read</span></div></header><main class="post__content"><p>I <a href="/blog/posts/2013/10/16/mobile-dev-course-w3u3-rewrite-intro/">rewrote the mobile dev course sample app from W3U3</a>. Then I created <a href="https://github.com/qmacro/w3u3_redonebasic/tree/xmlviews">a new branch 'xmlviews' in the repo on Github</a> and rebuilt the views in XML (they were originally in JavaScript). This post talks about XML views, and touches on some points that might be useful for you if you're looking to build SAPUI5 apps with XML views yourself. See the links at the bottom of the <a href="https://blogs.sap.com/?p=94915">opening post</a> of this series to get to explanations for the other areas.</p><h2>Different Ways To Define a View</h2><p>To understand where XML views fit in, let's take a look at this diagram that highlights the Model-View-Controller (MVC) support that SAPUI5 has.</p><p><img src="/images/2013/11/mvc.png" alt=""></p><p>Views can be written in JavaScript, HTML, JSON or XML.</p><ul><li>HTML: The Wave 1 Fiori apps are written in HTML (and may be re-written to be in XML)</li><li>JavaScript: Many of us start out writing views in JavaScript, partially because there are a lot of examples out there in JavaScript (that's changing soon with the sap.m Explored app in the DemoKit - watch this space!) and partially because it's the same language we use to build the controllers</li><li>JSON: You can build views declaratively with JSON; it's not common to see, but intriguing nonetheless, especially when you consider building views programmatically</li><li>XML: Fiori Wave 2 apps are built with XML views</li></ul><p>Recently I've had a good chunk of work that involved writing XML views, and I can honestly say that in contrast to the received wisdom that has XML as &quot;generally verbose and clunky&quot;, writing views in XML is both concise and very pleasant, not to mention satisfyingly declarative.</p><h2>A Simple View in XML and JavaScript</h2><p>Let's get an idea of what an XML view looks like, and contrast it with the JavaScript equivalent. We'll keep it deliberately simple - this is what it looks like:</p><p><img src="/images/2013/11/greetings.png" alt=""></p><p>We're using the sap.m library controls: An App, containing a Page, which has a Text as the only main content, and a Bar, containing a Button, as the footer.</p><p>This is what the view looks like declared in XML.</p><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">core:</span>View</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>core</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sap.ui.core<span class="token punctuation">"</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sap.m<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Page</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Greetings<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Hello World<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Bar</span><span class="token punctuation">></span></span><br>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>contentRight</span><span class="token punctuation">></span></span><br>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Edit<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>contentRight</span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Bar</span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Page</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>App</span><span class="token punctuation">></span></span><br> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">core:</span>View</span><span class="token punctuation">></span></span></code></pre><p>And this is what it looks like declared in JavaScript. Note that I've deliberately avoided any unnecessary verbosity by not declaring intermediate variables to hold the different controls, as is common in many examples.</p><pre class="language-javascript"><code class="language-javascript">sap<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function">jsview</span><span class="token punctuation">(</span><span class="token string">"com.opensap.Page"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><br>    <span class="token function-variable function">createContent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">oController</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">sap<span class="token punctuation">.</span>m<span class="token punctuation">.</span>App</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>            <span class="token literal-property property">pages</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>                <span class="token keyword">new</span> <span class="token class-name">sap<span class="token punctuation">.</span>m<span class="token punctuation">.</span>Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>                    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"Greetings"</span><span class="token punctuation">,</span><br>                    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>                        <span class="token keyword">new</span> <span class="token class-name">sap<span class="token punctuation">.</span>m<span class="token punctuation">.</span>Text</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>                            <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"Hello World"</span><br>                        <span class="token punctuation">}</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">]</span><span class="token punctuation">,</span><br>                    <span class="token literal-property property">footer</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">sap<span class="token punctuation">.</span>m<span class="token punctuation">.</span>Bar</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>                        <span class="token literal-property property">contentRight</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">sap<span class="token punctuation">.</span>m<span class="token punctuation">.</span>Button</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>                            <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"Edit"</span><br>                        <span class="token punctuation">}</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><span class="token punctuation">)</span><br>            <span class="token punctuation">]</span><br>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Now, this is not a competition between the two, but I know which I prefer. The XML view is simpler to scan and it's clearer to see what controls are being used, and what relation they have to each other. It's also slightly less verbose than the JavaScript view. This conciseness is accentuated with larger views - the concise nature of the declarative syntax remains and scales in XML.</p><h2>The Nature of an XML View</h2><h3>XML Namespaces</h3><p>Let's have a look in a bit more detail at that XML view. Notice first that there are namespace definitions. This is standard XML stuff, and affords us prefixes to specify from what SAPUI5 library the specific control is from. Here we have a couple of prefix namespaces - &quot;core&quot;, for the sap.ui.core library, and the default namespace (no prefix) for the sap.m library. It makes sense in this case (and for the Fiori apps) to have the default namespace set for sap.m as that's where the majority of the controls come from, and therefore the majority of the XML element names won't need a prefix. Note the &quot;core&quot; prefix is used on the root element itself: &quot;core:View&quot;.</p><h3>Representing Controls</h3><p>Once we've declared our namespaces, we're ready to declare the controls that we want to use. And for the App control, for example, it's as simple as an opening and closing element pair: &quot;<app>…</app>&quot;. The same goes for all the other controls in this example too. Detail for a control is specified using XML attributes. For example, the Page has a title of &quot;Greetings&quot; and this is specified in an attribute, as is the text (&quot;Hello World&quot;) for the Text control.</p><p>Note that the controls we mentioned are represented by XML elements that are capitalised (View, App, Page, Text, Bar, Button).</p><h3>Digging Into Controls</h3><p>But what about the other stuff? What's that &quot;</p><footer>…</footer>&quot;, for example? That's not a control, nor is it capitalised. It's an aggregation. Specifically, an aggregation belonging to the Page control.<p></p><p>Let's take a step back and look at how controls are structured. We'll take the sap.m.Page control as an example. This is what we see when we look at the sap.m.Page control's constructor documentation in the API reference:</p><p><img src="/images/2013/11/pageconstructor.png" alt=""></p><p>We see that a control can have <a href="https://sapui5.hana.ondemand.com/sdk/#docs/guide/OnTheFlyControlDefinition.html">Properties, Aggregations, Associations and Events</a>. In this example, what we're interested in are Properties and Aggregations. By now you will probably have worked out that Properties of a control are declared using XML attributes (title=&quot;Greetings&quot;, for example). And as properties don't start with an uppercase letter, neither do the corresponding attribute names.</p><p>So that brings us on to Aggregations. An aggregation can be thought of as a collection of zero or more 'child controls'. Perhaps one of the most common aggregations is in a <a href="https://sapui5.hana.ondemand.com/sdk/#docs/api/symbols/sap.m.List.html">sap.m.List</a> control, where the entries in the list are, say, <a href="https://sapui5.hana.ondemand.com/sdk/#docs/api/symbols/sap.m.StandardListItem.html">sap.m.StandardListItem</a> control children in the 'items' aggregation. Note that in the aggregation definition, the type of controls that can be contained can be restricted. In the case of the List's items aggregation, the type sap.m.ListItemBase is specified:</p><p><img src="/images/2013/11/listagg.png" alt=""></p><p>As sap.m.StandardListItem inherits from sap.m.ListItemBase, it is a valid control to be contained in the sap.m.List's items aggregation.</p><p>So, back to &quot;&lt;footer&gt;…&lt;/footer&gt;&quot;. Guess what? Yes, this XML element, with a lower case initial letter, represents an aggregation. You can see from the documentation screenshot that the footer aggregation of the sap.m.Page control expects a single control - a sap.m.Bar. So that's what we have - a Bar. And in turn, <a href="https://sapui5.hana.ondemand.com/sdk/#docs/api/symbols/sap.m.Bar.html#constructor">the sap.m.Bar control has a triple of aggregations</a>, representing content in the left, center and right of the Bar. In this case we want to put a sap.m.Button control on the right, so we use the contentRight aggregation. And the simplicity of what we want to do is in some part reflected in the simplicity of the XML:</p><pre class="language-xml"><code class="language-xml">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Page</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Greetings<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Hello World<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Bar</span><span class="token punctuation">></span></span><br>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>contentRight</span><span class="token punctuation">></span></span><br>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Edit<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>contentRight</span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Bar</span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Page</span><span class="token punctuation">></span></span></code></pre><p>But wait. In the JavaScript version the sap.m.Text control is specified within the content aggregation of the sap.m.Page:</p><pre class="language-javascript"><code class="language-javascript">                <span class="token keyword">new</span> <span class="token class-name">sap<span class="token punctuation">.</span>m<span class="token punctuation">.</span>Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>                    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"Greetings"</span><span class="token punctuation">,</span><br>                    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>                        <span class="token keyword">new</span> <span class="token class-name">sap<span class="token punctuation">.</span>m<span class="token punctuation">.</span>Text</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>                            <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"Hello World"</span><br>                        <span class="token punctuation">}</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre><p>Where's the equivalent in the XML? There isn't. Or rather, it's implicit. The content aggregation is the Page's default aggregation, and as such, doesn't need to be explicitly declared in the XML view. Clean! You can include the &quot;&lt;content&gt; … &lt;/content&gt;&quot; if you want:</p><pre class="language-xml"><code class="language-xml">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Page</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Greetings<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>content</span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Hello World<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>content</span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Bar</span><span class="token punctuation">></span></span><br>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>contentRight</span><span class="token punctuation">></span></span><br>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Edit<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>contentRight</span><span class="token punctuation">></span></span><br>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Bar</span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Page</span><span class="token punctuation">></span></span></code></pre><p>but you don't have to.</p><h2>Next Steps</h2><p>Armed with this knowledge, we're ready to examine <a href="https://github.com/qmacro/w3u3_redonebasic/tree/xmlviews/myapp">the XML versions of the views in the W3U3 app I rewrote</a>. We'll do that in the next post.</p><p>Until then, share &amp; enjoy!</p><p><a href="https://blogs.sap.com/2013/11/19/mobile-dev-course-w3u3-rewrite-xml-views-an-intro/">Originally published on SAP Community</a></p></main><aside class="post__aside"><div class="post__tags"><a href="/tags/sapcommunity/">#sapcommunity</a></div><style>.utterances {
  margin-left: inherit !important;
}</style><script src="https://utteranc.es/client.js" repo="qmacro/qmacro.github.io" issue-term="title" crossorigin="anonymous" async></script><nav class="post__pagination"><a href="/blog/posts/2013/11/22/codetalk-sapui5-and-sap-fiori/"><span>←</span> <span>CodeTalk - SAPUI5 and SAP Fiori</span> </a><a href="/blog/posts/2013/10/18/mobile-dev-course-w3u3-rewrite-productlist-productdetail-and-supplierdetail/"><span>Mobile Dev Course W3U3 Rewrite - ProductList, ProductDetail and SupplierDetail</span> <span>→</span></a></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a rel="me" href="https://github.com/qmacro" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a rel="me" href="https://www.youtube.com/djadams-qmacro" target="_blank" rel="noopener noreferrer">YouTube</a></li><li><a rel="me" href="https://www.linkedin.com/in/djadams/" target="_blank" rel="noopener noreferrer">LinkedIn</a></li><li><a rel="me" href="/tweets/">Tweet Archive</a></li><li><a rel="me" href="https://hachyderm.io/@qmacro" target="_blank" rel="noopener noreferrer">Mastodon</a></li><li><a rel="me" href="https://bsky.app/profile/qmacro.bsky.social" target="_blank" rel="noopener noreferrer">Bluesky</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>