<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://qmacro.org/blog/posts/2016/05/03/fofp-1.5-creating-functions/"><link rel="alternate" type="application/atom+xml" title="DJ's Weblog - Feed" href="https://qmacro.org/feed.xml"><link href="/assets/main.fe29f9442e3f93216470.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>FOFP 1.5 Creating functions | DJ Adams</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="FOFP 1.5 Creating functions"><meta property="og:site_name" content="DJ Adams"><meta property="og:type" content="website"><meta property="og:url" content="https://qmacro.org/blog/posts/2016/05/03/fofp-1.5-creating-functions/"><meta name="description" content="FOFP 1.5 Creating functions 03 May 2016 | 2 min read Part of the Fundamentals of Functional Programming document. Prev: FOFP 1.4 A different..."><meta property="og:description" content="FOFP 1.5 Creating functions 03 May 2016 | 2 min read Part of the Fundamentals of Functional Programming document. Prev: FOFP 1.4 A different..."><meta name="description" content="FOFP 1.5 Creating functions 03 May 2016 | 2 min read Part of the Fundamentals of Functional Programming document. Prev: FOFP 1.4 A different..."><meta property="og:image" content="https://qmacro.org/images/site-image.png"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4WQKBG0L4Y"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4WQKBG0L4Y');</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/">DJ Adams</a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/about">About Me</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/feed.xml">Feed</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>FOFP 1.5 Creating functions</h1><div class="post__details"><time datetime="2016-05-03">03 May 2016 </time><span>| </span><span>2 min read</span></div></header><main class="post__content"><p>Part of the <a href="/blog/posts/2016/05/03/fofp-fundamentals-of-functional-programming/">Fundamentals of Functional Programming</a> document.</p><p>Prev: <a href="/blog/posts/2016/05/03/fofp-1.4-a-different-approach-with-map">FOFP 1.4 A different approach with map</a></p><p>In our previous example, we defined a helper function <code>square</code> and used it like this:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br>nums<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>square<span class="token punctuation">)</span><br><span class="token comment">// [1, 4, 9, 16, 25]</span></code></pre><h2>Helper functions</h2><p>Let's go one step further and write something that will produce helper functions for us. We'll move away from squaring numbers, but stay on the simple theme of increasing integers.</p><p>Consider this:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">times</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> x <span class="token operator">*</span> n<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>What's going on? We have a function, which is returning a function. Yes, it's that higher-order nature again. Here we're defining a function that takes a multiple <code>n</code>. The scope defined by that function's block (the outermost <code>{...}</code>) closes over the value passed for <code>n</code>, creating a so-called &quot;closure&quot;, with the value forged into the inner function that's returned.</p><p>The inner function also expects a value <code>x</code> that will be multiplied by that value of <code>n</code>.</p><p>Let's have a look at how we might use that:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> double <span class="token operator">=</span> <span class="token function">times</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> triple <span class="token operator">=</span> <span class="token function">times</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>So take <code>triple</code>. What is it that we have, as a result of calling <code>times(3)</code>? Well, we have a function expecting an argument:</p><pre class="language-javascript"><code class="language-javascript"><span class="token function">triple</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><br><span class="token comment">// 18</span></code></pre><p>So really, with <code>times</code>, we have a function, that takes a value, and produces a function, that takes a value, that produces a value. If you're familiar with type signatures at all, for example from Haskell, you'd represent this like so:</p><pre><code>f :: a -&gt; (a -&gt; a)
</code></pre><p>or simply:</p><pre><code>f :: a -&gt; a -&gt; a
</code></pre><h2>Partial application</h2><p>You could even use <code>times</code> like this:</p><pre class="language-javascript"><code class="language-javascript"><span class="token function">times</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><br><span class="token comment">// 12</span></code></pre><p>In some ways, our simple <code>times</code> function embodies some of the essence of partial application [4.12.1.4]. Calling <code>times</code> with a single argument:</p><pre class="language-javascript"><code class="language-javascript"><span class="token function">times</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></code></pre><p>is a partial application, and results in a function which is waiting for the second argument:</p><pre><code>&lt;function-produced-by-times(3)&gt;(4)
</code></pre><h2>Using helpers</h2><p>Now we have everything we need to use <code>map</code> to process our list, with a helper function:</p><pre class="language-javascript"><code class="language-javascript">nums<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">times</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token comment">// [2, 4, 8, 8, 10]</span></code></pre><p>Neat!</p><p>Next: <a href="/blog/posts/2016/05/04/fofp-2-1.a-look-at-filter">FOFP 2.1 A look at filter</a></p></main><aside class="post__aside"><div class="post__tags"><a href="/tags/language-ramblings/">#language-ramblings</a></div><style>.utterances {
  margin-left: inherit !important;
}</style><script src="https://utteranc.es/client.js" repo="qmacro/qmacro.github.io" issue-term="title" crossorigin="anonymous" async></script><nav class="post__pagination"><a href="/blog/posts/2016/05/03/fofp-fundamentals-of-functional-programming/"><span>←</span> <span>FOFP Fundamentals of functional programming</span> </a><a href="/blog/posts/2016/05/03/fofp-1.4-a-different-approach-with-map/"><span>FOFP 1.4 A different approach with map</span> <span>→</span></a></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a rel="me" href="https://github.com/qmacro" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a rel="me" href="https://www.youtube.com/djadams-qmacro" target="_blank" rel="noopener noreferrer">YouTube</a></li><li><a rel="me" href="https://hachyderm.io/@qmacro" target="_blank" rel="noopener noreferrer">Mastodon</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>