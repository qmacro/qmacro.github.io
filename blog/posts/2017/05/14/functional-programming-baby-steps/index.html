<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://qmacro.org/blog/posts/2017/05/14/functional-programming-baby-steps/"><link rel="alternate" type="application/atom+xml" title="DJ's Weblog - Feed" href="https://qmacro.org/feed.xml"><link href="/assets/main.7884d8f8e9dd86c3b137.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>Functional programming - baby steps | DJ Adams</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="Functional programming - baby steps"><meta property="og:site_name" content="DJ Adams"><meta property="og:type" content="website"><meta property="og:url" content="https://qmacro.org/blog/posts/2017/05/14/functional-programming-baby-steps/"><meta name="description" content="Functional programming - baby steps 14 May 2017 | 4 min read There&#39;s a lot of talk about functional programming these days. Some of the..."><meta property="og:description" content="Functional programming - baby steps 14 May 2017 | 4 min read There&#39;s a lot of talk about functional programming these days. Some of the..."><meta name="description" content="Functional programming - baby steps 14 May 2017 | 4 min read There&#39;s a lot of talk about functional programming these days. Some of the..."><meta property="og:image" content="https://qmacro.org/images/site-image.png"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4WQKBG0L4Y"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4WQKBG0L4Y');</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/">DJ Adams</a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/about">About Me</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/feed.xml">Feed</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>Functional programming - baby steps</h1><div class="post__details"><time datetime="2017-05-14">14 May 2017 </time><span>| </span><span>4 min read</span></div></header><main class="post__content"><p><em>There's a lot of talk about functional programming these days. Some of the language seems impenetrable at first - immutability, first class functions, functions as values, and so on. If you're a programmer versed in more mainstream approaches, how do you start on the functional programming journey? Here's how I started, perhaps it will work for you too.</em></p><h2>Programming Paradigms</h2><p>There are a number of paradigms in programming. Imperative, procedural, object oriented, logic, declarative, and more. Self taught in the 1970s and early 1980s, I naturally found myself on the imperative and procedural side, with object orientation the panacea we all strived to reach. These days I've seen the light, and am heading in that direction. I started with a little toe in the water, and managed to take in a number of core functional programming concepts along the way:</p><ul><li>what, not how: describing what you want, rather than how to do it</li><li>immutability: not changing data (and potentially causing unwanted side-effects)</li><li>functions as values: treating functions as first class, along with other value types</li><li>higher-order functions: functions that take and / or produce other functions</li></ul><h2>Starting in JavaScript</h2><p>I've heard it said, somewhat deliberately provocatively, that JavaScript is the most widespread functional programming language. While folks could argue in either direction on that (and the fact that this statement was countered with &quot;no, spreadsheets are!&quot;) there is enough functional spice in the language to start exploring, and as it's likely that you may be already familiar with the language, it's a great place to start. I'm using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/New_in_JavaScript/ECMAScript_2015_support_in_Mozilla">some ES2015 language features</a>, given that it's already 2017 ;-)</p><p>Let's say we have a list of numbers and we want to double them.</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> aNums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>Here's how we might do that in an imperative, procedural fashion:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> aNums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  aNums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> aNums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token comment">//=> 10</span></code></pre><p>Nothing wrong with that per se, but if we're thinking about functional programming, what are the pain points we see? Well:</p><ul><li>it's clunky and describes in detail how to go about iterating through the list, even having to have a stop condition</li><li>it mutates the values in place, possibly causing issues for any other parts of the program that were relying on the previous state</li></ul><p>(Confused about the value of 10 that was produced? That's the return value from the last computation, i.e. 5 * 2. Yeah. Ugh.)</p><p>Using the higher-order function map, we can address the pain points:</p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> aNums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>Now we can declare our list to be a constant, which, amongst other effects, stataes our intention. Then it's simply:</p><pre class="language-javascript"><code class="language-javascript">aNums<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=></span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">//=> [2, 4, 6, 8, 10]</span></code></pre><p>Said out loud: &quot;map the following function over each of the values in aNums - a function that multiplies by two whatever value you give it&quot;. Much neater:</p><ul><li>it's succinct and just says what we want, not how to do it; there's no notion of explicitly describing an iteration or a counter</li><li>it doesn't mutate the input; rather, it produces a new list as output</li></ul><p>Mindful of the concepts we looked at earlier, this approach uses map, a higher-order function that takes a function as an argument. Ironically, the native implementation of map in JavaScript appears in an object oriented context - as a method you call on an instance of an object. How about that for an unlikely marriage? As you explore functional progamming further, you'll discover the delights of point-free programming where the use of map (and similar higher order functions) in this way doesn't quite work, and you'll have to resort to a more purely functional approach with helper libraries such as <a href="http://ramdajs.com/">Ramda</a>, where map is implemented as a curried function with the parameters in the &quot;right&quot; order. If you're intrigued, watch: <a href="https://www.youtube.com/watch?v=m3svKOdZijA">Hey Underscore, You're Doing It Wrong!</a>. And then watch it again :-)</p><p>There are functions related to map, such as filter, find and reduce. They're all available for you to explore in JavaScript, too. Let's finish these baby steps by looking at reduce. Some say reduce is the ultimate higher order function in this family, as the other functions can be (and often are) implemented using it.</p><p>Reduce is also a higher-order function that operates on a list, but the function it takes has two parameters - an accumulator, and the value each time around. Also, reduce itself takes a second parameter - the starting value for the accumulator.</p><p>Let's use reduce to compute the total of all the values in our list:</p><pre class="language-javascript"><code class="language-javascript">aNums<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> x</span><span class="token punctuation">)</span> <span class="token operator">=></span> a <span class="token operator">+</span> x<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><br><span class="token comment">//=> 15</span></code></pre><p>(Notice that as we have two parameters for our function, we have to wrap them in parentheses.)</p><p>Reduce can produce a differently shaped output. It doesn't have to &quot;reduce&quot; a list down to something smaller (like a scalar value, 15, in this case). Let's produce a list of records instead:</p><pre class="language-javascript"><code class="language-javascript">aNums<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><br>  <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> x</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">val</span> <span class="token operator">:</span> x<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> a<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span><span class="token punctuation">]</span><br><span class="token punctuation">)</span><br><span class="token comment">//=> [ { val : 1 }, { val : 2 }, { val : 3 }, { val : 4 }, { val : 5 } ]</span></code></pre><p>Take a moment to think about the power of reduce. You'll also come across a function called <a href="https://en.wikipedia.org/wiki/Fold_(higher-order_function)">fold</a> in the functional programming world. Fold and reduce are pretty much the same thing (fold is arguably a better name).</p><p>So that's it for now. When you find yourself starting to type &quot;for ( …&quot; in JavaScript, stop and reflect whether you could hazard a higher-order function. Embrace the simplicity, and get ready to take the next steps.</p><hr><p><a href="https://web.archive.org/web/*/https://mud.bluefinsolutions.com/2017/05/14/func-prog-baby-steps/">Originally published on mud.bluefinsolutions.com</a>.</p></main><aside class="post__aside"><div class="post__tags"><a href="/tags/fp/">#fp</a> <a href="/tags/functionalprogramming/">#functionalprogramming</a></div><style>.utterances {
  margin-left: inherit !important;
}</style><script src="https://utteranc.es/client.js" repo="qmacro/qmacro.github.io" issue-term="title" crossorigin="anonymous" async></script><nav class="post__pagination"><a href="/blog/posts/2017/07/18/fix-blink/"><span>←</span> <span>Fix Blink</span> </a><a href="/blog/posts/2017/05/10/meeting-request-details/"><span>Meeting Request Details</span> <span>→</span></a></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a rel="me" href="https://github.com/qmacro" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a rel="me" href="https://www.youtube.com/djadams-qmacro" target="_blank" rel="noopener noreferrer">YouTube</a></li><li><a rel="me" href="https://www.linkedin.com/in/djadams/" target="_blank" rel="noopener noreferrer">LinkedIn</a></li><li><a rel="me" href="/tweets/">Tweet Archive</a></li><li><a rel="me" href="https://hachyderm.io/@qmacro" target="_blank" rel="noopener noreferrer">Mastodon</a></li><li><a rel="me" href="https://bsky.app/profile/qmacro.bsky.social" target="_blank" rel="noopener noreferrer">Bluesky</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>