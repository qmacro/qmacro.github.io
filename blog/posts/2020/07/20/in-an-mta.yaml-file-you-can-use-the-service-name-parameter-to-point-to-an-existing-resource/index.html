<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://qmacro.org/blog/posts/2020/07/20/in-an-mta.yaml-file-you-can-use-the-service-name-parameter-to-point-to-an-existing-resource/"><link href="/assets/main.b6be6784e8575ba25795.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>In an mta.yaml file you can use the service-name parameter to point to an existing resource | DJ Adams</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="In an mta.yaml file you can use the service-name parameter to point to an existing resource"><meta property="og:site_name" content="DJ Adams"><meta property="og:type" content="website"><meta property="og:url" content="https://qmacro.org/blog/posts/2020/07/20/in-an-mta.yaml-file-you-can-use-the-service-name-parameter-to-point-to-an-existing-resource/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@qmacro"><meta name="description" content="In an mta.yaml file you can use the service-name parameter to point to an existing resource 20 Jul 2020 | 1 min read In mta.yaml files you..."><meta property="og:description" content="In an mta.yaml file you can use the service-name parameter to point to an existing resource 20 Jul 2020 | 1 min read In mta.yaml files you..."><meta name="description" content="In an mta.yaml file you can use the service-name parameter to point to an existing resource 20 Jul 2020 | 1 min read In mta.yaml files you..."><meta property="og:image" content="https://qmacro.org/images/site-image.png"><meta name="twitter:image" content="https://qmacro.org/images/site-image.png"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4WQKBG0L4Y"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4WQKBG0L4Y');</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/">DJ Adams</a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/about">About Me</a></li><li class="nav-item"><a href="/talks">Talks</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/feed.xml">Feed</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>In an mta.yaml file you can use the service-name parameter to point to an existing resource</h1><div class="post__details"><time datetime="2020-07-20">20 Jul 2020 </time><span>| </span><span>1 min read</span></div></header><main class="post__content"><p><em>In <code>mta.yaml</code> files you can use the <code>service-name</code> parameter to point to an existing service instance with a different name than the resource.</em></p><p>When the contents of a <a href="https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.03/en-US/33548a721e6548688605049792d55295.html">multi-target application file</a> file have been created or modified automatically for you, and there are references to generated service instance names, you don't have to globally replace those names to match whatever service instances you may already have, but instead you can add the <code>service-name</code> <a href="https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.03/en-US/4050fee4c469498ebc31b10f2ae15ff2.html">parameter</a> in the resource definition.</p><p>For example, when adding a new Workflow module to an existing (<code>mta.yaml</code>-based) project, the generator will add something like this:</p><pre><code>modules:
  - name: OrderProcess
    type: com.sap.application.content
    path: OrderProcess
    requires:
      - name: workflow_mta
        parameters:
          content-target: true
resources:
  - name: workflow_mta
    parameters:
      service-plan: standard
      service: workflow
    type: org.cloudfoundry.managed-service
</code></pre><p>It's often the case that you already have a Workflow service instance, but not with the generated name <code>workflow_mta</code>. So after modifying the resource <code>type</code> to be <code>org.cloudfoundry.existing-service</code>, you can save some time and avoid changing all occurrences of <code>workflow_mta</code> to match your actual instance name (e.g. <code>my-workflow-instance</code>). Instead, use the <code>service-name</code> parameter, like this:</p><pre><code>modules:
  - name: OrderProcess
    type: com.sap.application.content
    path: OrderProcess
    requires:
      - name: workflow_mta
        parameters:
          content-target: true
resources:
  - name: workflow_mta
    parameters:
      service-name: my-workflow-instance
    type: org.cloudfoundry.existing-service
</code></pre><blockquote><p>I learned this a while ago but promptly forgot about it until now, when I needed it again.</p></blockquote></main><aside class="post__aside"><div class="post__tags"><a href="/tags/autodidactics/">#autodidactics</a> <a href="/tags/cloudfoundry/">#cloudfoundry</a></div><style>.utterances {
  margin-left: inherit !important;
}</style><script src="https://utteranc.es/client.js" repo="qmacro/qmacro.github.io" issue-term="title" crossorigin="anonymous" async></script><nav class="post__pagination"><a href="/blog/posts/2020/07/20/git-diff-can-emit-different-exit-codes/"><span>←</span> <span>git diff can emit different exit codes</span> </a><a href="/blog/posts/2020/06/20/removing-the-knob-on-a-la-pavoni-steam-valve/"><span>Removing the knob on a La Pavoni steam valve</span> <span>→</span></a></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a rel="me" href="https://github.com/qmacro" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a rel="me" href="https://www.youtube.com/djadams-qmacro" target="_blank" rel="noopener noreferrer">YouTube</a></li><li><a rel="me" href="https://twitter.com/qmacro" target="_blank" rel="noopener noreferrer">Twitter</a></li><li><a rel="me" href="https://hachyderm.io/@qmacro" target="_blank" rel="noopener noreferrer">Mastodon</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>