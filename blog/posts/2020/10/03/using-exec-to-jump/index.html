<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://qmacro.org/blog/posts/2020/10/03/using-exec-to-jump/"><link href="/assets/main.d44a8693a615cc267cd3.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>Using exec to jump | DJ Adams</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="Using exec to jump"><meta property="og:site_name" content="DJ Adams"><meta property="og:type" content="website"><meta property="og:url" content="https://qmacro.org/blog/posts/2020/10/03/using-exec-to-jump/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@qmacro"><meta name="description" content="Using exec to jump 03 Oct 2020 | 1 min read In Mr Rob&#39;s dotfiles repo (see A new learning source for shell scripting) there&#39;s a treasure..."><meta property="og:description" content="Using exec to jump 03 Oct 2020 | 1 min read In Mr Rob&#39;s dotfiles repo (see A new learning source for shell scripting) there&#39;s a treasure..."><meta name="description" content="Using exec to jump 03 Oct 2020 | 1 min read In Mr Rob&#39;s dotfiles repo (see A new learning source for shell scripting) there&#39;s a treasure..."><meta property="og:image" content="https://qmacro.org/images/site-image.png"><meta name="twitter:image" content="https://qmacro.org/images/site-image.png"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4WQKBG0L4Y"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4WQKBG0L4Y');</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/">DJ Adams</a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/about">About Me</a></li><li class="nav-item"><a href="/talks">Talks</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/feed.xml">Feed</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>Using exec to jump</h1><div class="post__details"><time datetime="2020-10-03">03 Oct 2020 </time><span>| </span><span>1 min read</span></div></header><main class="post__content"><p><em>In <a href="https://rwx.gg">Mr Rob</a>'s <a href="https://gitlab.com/rwxrob/dotfiles/">dotfiles repo</a> (see <a href="https://qmacro.org/2020/10/03/a-new-learning-source-for-shell-scripting/">A new learning source for shell scripting</a>) there's a treasure trove of content that is very pleasant to peruse.</em></p><p>In one of his streams I saw him use <a href="https://gitlab.com/rwxrob/dotfiles/-/blob/master/scripts/ix"><code>ix</code></a> and thereby discovered <a href="http://ix.io">ix.io</a> - a simple pastebin. He uses his <code>ix</code> script to share code and other content, either from the command line or from within Vim directly. It's only 14 lines including comments, but I've learned stuff from it already.</p><p>If <code>ix</code> is invoked with an argument, it's treated as the unique identifier for a specific pastebin, and that pastebin is retrieved, such as <a href="http://ix.io/2pgP">2pgP</a> (which is another of his scripts with lots to learn from - <code>twitch</code>).</p><p>The part of <code>ix</code> that handles this is simply:</p><pre class="language-shell"><code class="language-shell"><span class="token keyword">if</span> <span class="token punctuation">[</span> -n <span class="token string">"<span class="token variable">$1</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span><br>  <span class="token builtin class-name">exec</span> <span class="token function">curl</span> -s <span class="token string">"ix.io/<span class="token variable">$1</span>"</span><br><span class="token keyword">fi</span></code></pre><p>Basically in this mode, there's no point in processing the rest of the script (beyond the small section you see here), so the handling of the input should finish when the pastebin is retrieved.</p><p>Until now, I would have written it like this:</p><pre class="language-shell"><code class="language-shell"><span class="token keyword">if</span> <span class="token punctuation">[</span> -n <span class="token string">"<span class="token variable">$1</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span><br>  <span class="token function">curl</span> -s <span class="token string">"ix.io/<span class="token variable">$1</span>"</span><br>  <span class="token builtin class-name">exit</span><br><span class="token keyword">fi</span></code></pre><p>But that's simply unnecessary, and in fact arguably less efficient too. The Bash man page mentions, for <code>exec</code>, this fact: &quot;<em>If command is specified, it replaces the shell. No new process is created.</em>&quot;. In other words, in this <code>if ... fi</code>, the <code>curl</code> command replaces the script's execution, rather than being executed as a sub process.</p><p>Sometimes there's a beauty in the smallest things.</p></main><aside class="post__aside"><div class="post__tags"><a href="/tags/autodidactics/">#autodidactics</a> <a href="/tags/shell/">#shell</a></div><style>.utterances {
  margin-left: inherit !important;
}</style><script src="https://utteranc.es/client.js" repo="qmacro/qmacro.github.io" issue-term="title" crossorigin="anonymous" async></script><nav class="post__pagination"><a href="/blog/posts/2020/10/04/checking-a-command-is-available-before-use/"><span>←</span> <span>Checking a command is available before use</span> </a><a href="/blog/posts/2020/10/03/a-new-learning-source-for-shell-scripting/"><span>A new learning source for shell scripting</span> <span>→</span></a></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a rel="me" href="https://github.com/qmacro" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a rel="me" href="https://www.youtube.com/djadams-qmacro" target="_blank" rel="noopener noreferrer">YouTube</a></li><li><a rel="me" href="https://twitter.com/qmacro" target="_blank" rel="noopener noreferrer">Twitter</a></li><li><a rel="me" href="https://hachyderm.io/@qmacro" target="_blank" rel="noopener noreferrer">Mastodon</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>