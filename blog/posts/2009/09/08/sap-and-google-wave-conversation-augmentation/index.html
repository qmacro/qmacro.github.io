<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://qmacro.org/blog/posts/2009/09/08/sap-and-google-wave-conversation-augmentation/"><link rel="alternate" type="application/rss+xml" title="DJ's Weblog - Feed" href="https://qmacro.org/feed.xml"><link href="/assets/main.4654d4542dcb045c9ba3.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>SAP and Google Wave - Conversation Augmentation | DJ Adams</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="SAP and Google Wave - Conversation Augmentation"><meta property="og:site_name" content="DJ Adams"><meta property="og:type" content="website"><meta property="og:url" content="https://qmacro.org/blog/posts/2009/09/08/sap-and-google-wave-conversation-augmentation/"><meta name="description" content="SAP and Google Wave - Conversation Augmentation 08 Sep 2009 | 2 min read It&#39;s been pretty much six years to the day since I last wrote here..."><meta property="og:description" content="SAP and Google Wave - Conversation Augmentation 08 Sep 2009 | 2 min read It&#39;s been pretty much six years to the day since I last wrote here..."><meta name="description" content="SAP and Google Wave - Conversation Augmentation 08 Sep 2009 | 2 min read It&#39;s been pretty much six years to the day since I last wrote here..."><meta property="og:image" content="https://qmacro.org/images/site-image.png"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4WQKBG0L4Y"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4WQKBG0L4Y');</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/">DJ Adams</a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/about">About Me</a></li><li class="nav-item"><a href="/talks">Talks</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/feed.xml">Feed</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>SAP and Google Wave - Conversation Augmentation</h1><div class="post__details"><time datetime="2009-09-08">08 Sep 2009 </time><span>| </span><span>2 min read</span></div></header><main class="post__content"><p>It's been pretty much six years to the day since <a href="/tags/dashboard/">I last wrote here about Dashboard</a>, Nat Friedman's project and implementation of a realtime contextual information system. So I thought it fitting to make a short demo showing integration between Google Wave and SAP, inspired by the cluepacket-driven style shown so nicely with Dashboard.</p><p>I got my Wave Sandbox account a week or so ago, and have had a bit of time to have a look at how robots and gadgets work — the two main Wave extension mechanisms. To get my feet wet, I built a robot, which is hosted in the cloud using Google App Engine, another <a href="/tags/appengine/">area of interest to me</a>, and the subject of this weblog entry. I used Python, but there's also a Java client library available too. You can get more info in the <a href="http://code.google.com/apis/wave/guide.html">API Overview</a>.</p><p>What this robot does is listen to conversations in a Wave, automatically recognising SAP entities and augmenting the conversation by inserting extra contextual information directly into the flow. In this example, the robot can recognise transport requests, and will insert the request's description into the conversation, lending a bit more information to what's being discussed.</p><p>The robot recognises transport requests by looking for a pattern:</p><pre class="language-python"><code class="language-python">trkorr_match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">' (SAPKw{6}|[A-Z0-9]{3}Kd{6}) '</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span></code></pre><p>In other words, it's looking for something starting SAPK followed by six further characters, or something starting with 3 characters, followed by a K and six digits (the more traditional customer-orientated request format). In either case, there must be a space before and a space following, to be more sure of it being a 'word'.</p><p>How does it retrieve the description for a recognised transport request? Via a simple REST-orientated interface, of course :-) I use the excellent Internet Communication Framework (ICF) to build and host HTTP handlers so I can <a href="/blog/posts/2004/06/24/forget-soap-build-real-web-services-with-the-icf/">expose SAP functionality and data as resources in a uniform and controlled way</a>. Each piece of data worth talking about is a <a href="/blog/posts/2009/06/29/information-vs-behaviour/">first class citizen on the web</a>; that is, each piece of data is a resource, and has a URL.</p><p>So the robot simply fetches the default representation of the recognised request's 'description' resource. If the request was NSPK900115, the description resource’s URL would be something like:</p><pre class="language-url"><code class="language-url"><span class="token scheme">http<span class="token scheme-delimiter">:</span></span><span class="token authority"><span class="token authority-delimiter">//</span><span class="token host">hostname</span><span class="token port-segment"><span class="token port-delimiter">:</span></span></span><span class="token path">port<span class="token path-separator">/</span>transport<span class="token path-separator">/</span>request<span class="token path-separator">/</span>NSPK900115<span class="token path-separator">/</span>description</span></code></pre><p>Once fetched, the description is inserted into the conversation flow.</p><p><img src="/images/2009/09/wave-video-screenshot.png" alt="Screenshot of YouTube video"></p><p><a href="http://www.youtube.com/watch?v=G7W2M6H3OQo">http://www.youtube.com/watch?v=G7W2M6H3OQo</a></p><p><a href="https://blogs.sap.com/2009/09/07/sap-and-google-wave-conversation-augmentation/">Originally published on SAP Community</a></p></main><aside class="post__aside"><div class="post__tags"><a href="/tags/sapcommunity/">#sapcommunity</a> <a href="/tags/appengine/">#appengine</a> <a href="/tags/dashboard-tag/">#dashboard-tag</a> <a href="/tags/http/">#http</a> <a href="/tags/python/">#python</a> <a href="/tags/rest/">#rest</a> <a href="/tags/sap/">#sap</a> <a href="/tags/wave/">#wave</a></div><style>.utterances {
  margin-left: inherit !important;
}</style><script src="https://utteranc.es/client.js" repo="qmacro/qmacro.github.io" issue-term="title" crossorigin="anonymous" async></script><nav class="post__pagination"><a href="/blog/posts/2009/09/09/mainframes-and-the-cloud-everything-old-is-new-again/"><span>←</span> <span>Mainframes and the cloud - everything old is new again</span> </a><a href="/blog/posts/2009/08/31/book-review-sap-business-one-implementation/"><span>Book review - SAP Business ONE Implementation</span> <span>→</span></a></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a rel="me" href="https://github.com/qmacro" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a rel="me" href="https://www.youtube.com/djadams-qmacro" target="_blank" rel="noopener noreferrer">YouTube</a></li><li><a rel="me" href="https://hachyderm.io/@qmacro" target="_blank" rel="noopener noreferrer">Mastodon</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>