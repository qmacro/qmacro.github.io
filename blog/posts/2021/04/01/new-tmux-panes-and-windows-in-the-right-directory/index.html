<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://qmacro.org/blog/posts/2021/04/01/new-tmux-panes-and-windows-in-the-right-directory/"><link rel="alternate" type="application/atom+xml" title="DJ's Weblog - Feed" href="https://qmacro.org/feed.xml"><link href="/assets/main.bed7db4098e5e4fe9224.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>New tmux panes and windows in the right directory | DJ Adams</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="New tmux panes and windows in the right directory"><meta property="og:site_name" content="DJ Adams"><meta property="og:type" content="website"><meta property="og:url" content="https://qmacro.org/blog/posts/2021/04/01/new-tmux-panes-and-windows-in-the-right-directory/"><meta name="description" content="New tmux panes and windows in the right directory 01 Apr 2021 | 2 min read I finally got round to looking into how to be in the..."><meta property="og:description" content="New tmux panes and windows in the right directory 01 Apr 2021 | 2 min read I finally got round to looking into how to be in the..."><meta name="description" content="New tmux panes and windows in the right directory 01 Apr 2021 | 2 min read I finally got round to looking into how to be in the..."><meta property="og:image" content="https://qmacro.org/images/site-image.png"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4WQKBG0L4Y"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4WQKBG0L4Y');</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/">DJ Adams</a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/about">About Me</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/feed.xml">Feed</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>New tmux panes and windows in the right directory</h1><div class="post__details"><time datetime="2021-04-01">01 Apr 2021 </time><span>| </span><span>2 min read</span></div></header><main class="post__content"><p><em>I finally got round to looking into how to be in the &quot;right&quot; directory when I create a new window or pane in <code>tmux</code>. Here's what I did.</em></p><p>I've been starting multiple <code>tmux</code> sessions, one for each project I'm working on, and ensuring that I'm in the &quot;right&quot; base directory for each of those projects before actually creating the corresponding <code>tmux</code> session. That way, each new window or pane I open places me in that project's base directory. Which isn't too bad.</p><p>But I'm trying to move to a simpler workflow, and use fewer <code>tmux</code> sessions. This meant I hit on that possibly age-old issue of being in the &quot;wrong&quot; directory when I create a new window or pane, and having to <code>cd</code> to where I want to be. Which is usually <em>where I just was</em> before invoking the new window or pane command!</p><p>I did a bit of digging and found the answer, which was quite simple in the end - and I would have known about it with a better level of knowledge about <code>tmux</code>. I had written a short essay on that subject: <a href="https://qmacro.org/2021/03/31/deeper-connections-to-everyday-tools/">Deeper connections to everyday tools</a>, and in that essay, I'd made a reference to this new discovery.</p><p><a href="https://twitter.com/ceedee666/status/1377501505226477569">Christian Drumm asked</a> me today about this very thing, so I thought I'd write this short entry that I could refer to for Christian and also for others.</p><p>Basically it involves using the <code>-c</code> option when creating a new window or pane, and passing the value of the built-in variable <code>pane_current_path</code> (see the <a href="https://man7.org/linux/man-pages/man1/tmux.1.html">manual</a> for info).</p><p>I initially got this info from a <a href="https://gist.github.com/william8th/faf23d311fc842be698a1d80737d9631">gist</a> by <a href="https://gist.github.com/william8th">William Heng</a> but <a href="https://unix.stackexchange.com/a/12091/87597">this Stack Exchange answer</a> by Chris Johnsen has some great background which is worth reading too.</p><p>The change I made to my <code>tmux</code> configuration is in <a href="https://github.com/qmacro/dotfiles/pull/2/commits/2664669d5922e640b232f185e2045e412852f47c">this commit</a> and looks like this:</p><pre><code>bind c new-window -c &quot;#{pane_current_path}&quot;
bind '-' split-window -c &quot;#{pane_current_path}&quot;
bind '\' split-window -h -c &quot;#{pane_current_path}&quot;
bind C new-window
bind '_' split-window
bind '|' split-window -h
</code></pre><p>Basically I'm now set up to enjoy the new behaviour (opening new windows and panes in the current working directory) when I use the keys I normally use:</p><ul><li><code>c</code> - new window</li><li><code>-</code> - new vertically split pane</li><li><code>\</code> - new horizontally split pane</li></ul><p>But I've added three extra bindings in case I want the old behaviour, bindings to the &quot;shifted&quot; version of those keys:</p><ul><li><code>C</code> - new window</li><li><code>_</code> - new vertically split pane</li><li><code>|</code> - new horizontally split pane</li></ul><p>I've not found myself using these extra bindings for the old behaviour yet, and I'll probably end up removing them.</p><p>Anyway, there you have it. Thank you William and Chris for the help!</p></main><aside class="post__aside"><div class="post__tags"><a href="/tags/autodidactics/">#autodidactics</a> <a href="/tags/tmux/">#tmux</a></div><style>.utterances {
  margin-left: inherit !important;
}</style><script src="https://utteranc.es/client.js" repo="qmacro/qmacro.github.io" issue-term="title" crossorigin="anonymous" async></script><nav class="post__pagination"><a href="/blog/posts/2021/04/04/mainframes-sdsf-and-github-actions/"><span>←</span> <span>Mainframes, SDSF and GitHub Actions</span> </a><a href="/blog/posts/2021/03/31/deeper-connections-to-everyday-tools/"><span>Deeper connections to everyday tools</span> <span>→</span></a></nav></aside></article></main><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a rel="me" href="https://github.com/qmacro" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a rel="me" href="https://www.youtube.com/djadams-qmacro" target="_blank" rel="noopener noreferrer">YouTube</a></li><li><a rel="me" href="https://www.linkedin.com/in/djadams/" target="_blank" rel="noopener noreferrer">LinkedIn</a></li><li><a rel="me" href="https://hachyderm.io/@qmacro" target="_blank" rel="noopener noreferrer">Mastodon</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul></div></footer></div><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>