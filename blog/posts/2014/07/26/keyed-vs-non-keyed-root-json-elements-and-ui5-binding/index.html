<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://qmacro.org/blog/posts/2014/07/26/keyed-vs-non-keyed-root-json-elements-and-ui5-binding/"><link rel="alternate" type="application/atom+xml" title="DJ's Weblog - Feed" href="https://qmacro.org/feed.xml"><link href="/assets/main.54fe08380532f159e78f.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet"><title>Keyed vs Non-Keyed Root JSON Elements &amp; UI5 Binding | DJ Adams</title><link rel="icon" type="“image/x-icon”" href="/images/favicon.ico"><meta property="og:title" content="Keyed vs Non-Keyed Root JSON Elements &amp; UI5 Binding"><meta property="og:site_name" content="DJ Adams"><meta property="og:type" content="website"><meta property="og:url" content="https://qmacro.org/blog/posts/2014/07/26/keyed-vs-non-keyed-root-json-elements-and-ui5-binding/"><meta name="description" content="Keyed vs Non-Keyed Root JSON Elements &amp;amp; UI5 Binding 26 Jul 2014 | 1 min read In a screencast this week (OpenUI5 MultiComboBox First..."><meta property="og:description" content="Keyed vs Non-Keyed Root JSON Elements &amp;amp; UI5 Binding 26 Jul 2014 | 1 min read In a screencast this week (OpenUI5 MultiComboBox First..."><meta name="description" content="Keyed vs Non-Keyed Root JSON Elements &amp;amp; UI5 Binding 26 Jul 2014 | 1 min read In a screencast this week (OpenUI5 MultiComboBox First..."><meta property="og:image" content="https://qmacro.org/images/site-image.png"><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>mermaid.initialize({startOnLoad:true});</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4WQKBG0L4Y"></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-4WQKBG0L4Y');</script></head><body><div class="layout-wrapper"><header class="header"><div class="header__content"><h1 class="site-title"><a href="/">DJ Adams</a></h1><nav class="nav"><ul class="nav__list"><li class="nav-item"><a href="/about">About Me</a></li><li class="nav-item"><a href="/blog">Blog</a></li><li class="nav-item"><a href="/feed.xml">Feed</a></li></ul></nav></div></header><main class="main"><article class="post"><header class="post__header"><h1>Keyed vs Non-Keyed Root JSON Elements &amp; UI5 Binding</h1><div class="post__details"><time datetime="2014-07-26">26 Jul 2014 </time><span>| </span><span>1 min read</span></div></header><main class="post__content"><p>In a screencast this week (<a href="https://www.youtube.com/watch?v=0UIyKoiZ-gE">OpenUI5 MultiComboBox First Look</a>) I explicitly used the model mechanism’s requestCompleted event to get to the model data and manipulate it, adding a key to the root array. Initially the data looked like this:</p><p><img src="/images/2014/07/Screen-Shot-2014-07-26-at-14.20.21.png" alt="image"></p><p>and I added a key to this root array so it looked like this:</p><p><img src="/images/2014/07/Screen-Shot-2014-07-26-at-14.23.44.png" alt="image"></p><p>I did this programmatically in the requestCompleted event of the model mechanism, as you can see in the <a href="https://gist.github.com/qmacro/973aea751b00654b399a#file-multicombobox-html-L38">Gist for the MultiComboBox.html file, specifically starting at line 38</a>:</p><pre class="language-javascript"><code class="language-javascript">oModel<span class="token punctuation">.</span><span class="token function">attachEventOnce</span><span class="token punctuation">(</span><span class="token string">'requestCompleted'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">oEvent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	<span class="token keyword">var</span> oModel <span class="token operator">=</span> oEvent<span class="token punctuation">.</span><span class="token function">getSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>	oModel<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>		<span class="token string-property property">"ProductCategories"</span> <span class="token operator">:</span> oModel<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></main></article></main></div>However, while fun and interesting, I want to point out that this is not absolutely necessary. The model will still support an unkeyed root element such as this array, as shown in the first screenshot above. You can see how this is done in the [Gist for the MultiComboBox-without-Keyed-Root.html file](https://gist.github.com/qmacro/973aea751b00654b399a#file-multicombobox-without-keyed-root-html) – the difference is we don’t need to manipulate the data in the requestCompleted event and the binding for the MultiComboBox items aggregation looks like this:<pre><code>{/}
</code></pre><p>rather than this:</p><pre><code>{/ProductCategories}
</code></pre><p>Of course, having an unkeyed root element means that you can’t have anything else in that JSON source, which may cause you issues further down the line. But it’s not critical for this example.</p><aside class="post__aside"><div class="post__tags"><a href="/tags/databinding/">#databinding</a> <a href="/tags/multicombobox/">#multicombobox</a> <a href="/tags/openui5/">#openui5</a> <a href="/tags/sapui5/">#sapui5</a> <a href="/tags/ui5/">#ui5</a></div><style>.utterances {
  margin-left: inherit !important;
}</style><script src="https://utteranc.es/client.js" repo="qmacro/qmacro.github.io" issue-term="title" crossorigin="anonymous" async></script><nav class="post__pagination"><a href="/blog/posts/2014/07/26/this-week-in-fiori-(2014-30)/"><span>←</span> <span>This Week in Fiori (2014-30)</span> </a><a href="/blog/posts/2014/07/22/openui5-tutorial-at-oscon-2014/"><span>OpenUI5 Tutorial at OSCON 2014</span> <span>→</span></a></nav></aside><footer class="footer"><div class="footer__content"><ul class="hero__social-links"><li><a rel="me" href="https://github.com/qmacro" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a rel="me" href="https://www.youtube.com/djadams-qmacro" target="_blank" rel="noopener noreferrer">YouTube</a></li><li><a rel="me" href="https://www.linkedin.com/in/djadams/" target="_blank" rel="noopener noreferrer">LinkedIn</a></li><li><a rel="me" href="/tweets/">Tweet Archive</a></li><li><a rel="me" href="https://hachyderm.io/@qmacro" target="_blank" rel="noopener noreferrer">Mastodon</a></li><li><a rel="me" href="https://bsky.app/profile/qmacro.org" target="_blank" rel="noopener noreferrer">Bluesky</a></li><li><a href="/feed.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul></div></footer><script src="/assets/main.31d6cfe0d16ae931b73c.js"></script></body></html>