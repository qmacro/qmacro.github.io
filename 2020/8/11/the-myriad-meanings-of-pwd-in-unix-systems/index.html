<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The myriad meanings of pwd in Unix systems</title>
    <meta name="description" content="Reserving the right to be wrong.">
    <link rel="stylesheet" href="/blog/css/index.css">
    <link rel="stylesheet" href="/blog/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/blog/feed/feed.xml" type="application/atom+xml" title="DJ Adams">
    <link rel="alternate" href="/blog/feed/feed.json" type="application/json" title="DJ Adams">
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/blog/">DJ Adams</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/blog/">Home</a></li>
        <li class="nav-item"><a href="/blog/about/">About</a></li>
        <li class="nav-item"><a href="/blog/posts/">Archive</a></li>
        <li class="nav-item"><a href="/blog/tags/">Tags</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      <h1>The myriad meanings of pwd in Unix systems</h1>

<time datetime="2020-11-08">08 Nov 2020</time>

<p><em>Last week I ran a poll on Twitter to see what people considered with respect to the meaning of 'pwd' in Unix and Linux systems. The results were varied, for perhaps good reason.</em></p>
<p>At the end of Oct 2020 I ran a <a href="https://twitter.com/qmacro/status/1322567992551624705">brief poll on Twitter</a>, on which 82 people voted. Here's that poll, and the results. They're quite mixed, which at first might seem surprising. But there are reasons for that, as we'll find out.</p>
<p><img src="/blog/img/2020/11/twitter-poll-pwd.png" alt="Poll on Twitter: &quot;Fun Saturday afternoon shell poll. In Unix (and Linux), what do you think the P in $PWD (or pwd) stand for?&quot;"></p>
<p><strong>Print working directory</strong></p>
<p>The most popular option was &quot;print working directory&quot;. At first sight it seems logical: &quot;print out the current working directory, i.e. where I am right now&quot;. Moreover, the description in various versions of the manual for <code>pwd</code> help to drive home that notion. Typically we see sentences like &quot;<a href="https://linux.die.net/man/1/pwd">print name of current/working directory</a>&quot; or &quot;<a href="https://www.mankier.com/1/pwd">print the current directory</a>&quot;.</p>
<p>But there are lots of commands that print stuff, and are described in that way too. Take the <code>id</code> command. Here's what one man page says: &quot;<a href="https://man7.org/linux/man-pages/man1/id.1.html">print real and effective user and group IDs</a>&quot;. There's &quot;print&quot; again. But the command isn't <code>pid</code>, it's <code>id</code>. When you think about it, many, many commands in Unix send information to STDOUT, i.e. to the terminal. That's sort of the point of many of them.</p>
<p>This time arguably only superficially definitive, it would seem, the Wikipedia entry states, on the <a href="https://en.wikipedia.org/wiki/Pwd">page for <code>pwd</code></a>: &quot;the pwd command (print working directory) writes the full pathname of the current working directory to the standard output&quot;. As if to underline the hopeful authority of this statement, there are five (!) footnotes that supposedly link to resources that back this up.</p>
<p>Unfortunately, the first footnote points to a Wayback Machine copy of the <a href="https://web.archive.org/web/20050520231659/http://cm.bell-labs.com/7thEdMan/v7vol1.pdf">UNIX PROGRAMMERS MANUAL - Seventh Edition, Volume 1 - January, 1979</a>, wherein there are actually zero references to <code>pwd</code> being short for &quot;print working directory&quot;:</p>
<p><img src="/blog/img/2020/11/programmers-manual-pwd.png" alt="excerpt from UNIX PROGRAMMERS MANUAL on pwd"></p>
<p>I don't know about you, but this historic document carries more weight for me than other sources I've come across, and it only serves here to undermine the credibility of the Wikipedia entry.</p>
<p>The rest of the footnote links seem dubious at best, except for the one pointing to the <a href="https://www.gnu.org/software/coreutils/manual/coreutils.html#pwd-invocation">GNU Coreutils manual on pwd</a> which has it as &quot;print working directory&quot;. But everything else I've seen so far makes me think that this is a misunderstanding that has spread for obvious and innocent reasons. In addition, the one footnote in the Wikipedia page that is not used to back this claim up is a pointer to <a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/pwd.html">The Open Group Base Specifications Issue 7, 2018 edition's information on pwd</a>, which almost seems like it's actually avoiding using the word &quot;print&quot; at all: &quot;return working directory name&quot; ... &quot;The pwd utility shall write to standard output an absolute pathname of the current working directory, which does not contain the filenames dot or dot-dot.&quot;. Very specific, very not-print.</p>
<p>So I'm thinking that &quot;print working directory&quot; isn't what <code>pwd</code> stands for. In fact, &quot;print working directory&quot; may be common to some man pages, but on this macOS machine, with its <a href="https://en.wikipedia.org/wiki/Berkeley_Software_Distribution">BSD</a> heritage, we have, instead: &quot;pwd -- return working directory name&quot;. Moreover, it goes on to say &quot;The pwd utility writes the absolute pathname of the current working directory to the standard output&quot;.</p>
<p><strong>Pathname of working directory</strong></p>
<p>So perhaps it really is &quot;pathname of working directory&quot;. That would, at least to me, make more sense. Not only does it eschew the redundancy of &quot;print&quot;, it also is more specific about the output - if I'm in <code>/home/dja/</code> for example, then invoking pwd will tell me that, i.e. where I am, including the whole path, and not just <code>dja</code>:</p>
<pre class="language-shell"><code class="language-shell">$ <span class="token builtin class-name">pwd</span><br>/home/dja</code></pre>
<p><strong>Process working directory</strong></p>
<p>As for the other options, I do favour &quot;process working directory&quot;, mostly because it makes a lot of sense to me; every process in Unix has the concept of a current working directory, and that's exactly what I'm asking for when I'm in my shell process and enter <code>pwd</code> - there's a part in the video <a href="https://youtu.be/hgFBRZmwpSM?t=165">Unix terminals and shells</a> that explains this very well.</p>
<p>I'd love to be able to point to some old Unix sources that definitively explain the answer, but unfortunately that search has come up with very little - the <code>pwd</code> source in both the <a href="https://minnie.tuhs.org/cgi-bin/utree.pl?file=V5/usr/source/s2/pwd.c">5th</a> and <a href="https://github.com/yisooan/unix-v6/blob/master/source/s2/pwd.c">6th</a> Editions of Unix shed no light on this whatsoever.</p>
<p><strong>Present working directory</strong></p>
<p>What about &quot;present working directory&quot;? Well, that option seems to have legs, in the form of the Korn shell. While <a href="https://northstar-www.dartmouth.edu/doc/solaris-forte/ipe-help/dbx/dbx88cc.html">one source</a> implies that the answer might well be &quot;pathname of current working directory&quot;, in that <code>pwd</code> just emits the value of the <code>$PWD</code> environment variable (and a variable called &quot;print working directory&quot; makes no sense at all) ... it would seem that in ksh-land, at least, &quot;present working directory&quot; is what <code>pwd</code> represents. Take, for example, the <a href="https://osr507doc.xinuos.com/en/man/html.C/ksh.C.html">ksh man page</a> which states &quot;PWD - The present working directory set by the cd command&quot;.</p>
<p>There's a ton of discussion, both direct and indirect, on this very question. Take for example these two entries in the Unix &amp; Linux Stack Exchange forum: <a href="https://unix.stackexchange.com/questions/399026/etymology-of-pwd">Etymology of $PWD</a> and <a href="https://unix.stackexchange.com/questions/174990/what-is-pwd-vs-current-working-directory">What is $PWD? (vs current working directory)</a>. Of course, perhaps the definitive answer will never be found, as computing history is nothing if not varied and prone to forking.</p>
<p><strong>Multics and print_wdir</strong></p>
<p>Talking of history, we could go further back to pre-Unix roots, in the form of Multics, which indirectly gave rise to Unix (originally &quot;Unics&quot;). In the <a href="https://multicians.org/multics-commands.html">list of Multics Commands</a>, we see, nestled amongst other similarly named commands, something that jumps out at us:</p>
<pre><code>print_mail (pm)	display mail in a mailbox
print_messages (pm)	display interactive messages in a mailbox
print_motd (pmotd)	display message of the day (source)
print_proc_auth (ppa)	display process's sensitivity level and compartments
print_request_types (prt)	display list of I/O daemon request types
print_search_paths (psp)	display search paths
print_search_rules (psr)	display ready messages
print_wdir (pwd)	display working directory
</code></pre>
<p>There's <code>pwd</code>, and in fact, just like its sibling <code>pmotd</code>, for example, which is short for <code>print_motd</code>, it's short for <code>print_wdir</code>. Now, given the context of the original poll being set to Unix and Linux, perhaps we must discount this information. But as someone who is fascinated with Unix history in general - how can I?</p>
<p>I guess there are few things to conclude. The history is rich and diverse, and maybe we'll never know for sure. Perhaps, in fact, the answer will depend on whom we ask. In the grand scheme of things, it doesn't really matter ... but to those who delight in minutiae, it's a fun topic worth exploring.</p>

<hr>
<ul><li>Next: <a href="/blog/2020/3/12/implicit-values-in-bash-for-loop-construct/">Implicit values in Bash for loop construct</a></li><li>Previous: <a href="/blog/2020/3/11/computer-unit-1979/">Computer Unit 1979</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /blog/2020/8/11/the-myriad-meanings-of-pwd-in-unix-systems/ -->
  </body>
</html>
