<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hacking the Delicious extension for Chrome</title>
    <meta name="description" content="Reserving the right to be wrong.">
    <link rel="stylesheet" href="/blog/css/index.css">
    <link rel="stylesheet" href="/blog/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/blog/feed/feed.xml" type="application/atom+xml" title="DJ Adams">
    <link rel="alternate" href="/blog/feed/feed.json" type="application/json" title="DJ Adams">
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/blog/">DJ Adams</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/blog/">Home</a></li>
        <li class="nav-item"><a href="/blog/about/">About</a></li>
        <li class="nav-item"><a href="/blog/posts/">Archive</a></li>
        <li class="nav-item"><a href="/blog/tags/">Tags</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      <h1>Hacking the Delicious extension for Chrome</h1>

<time datetime="2010-11-09">09 Nov 2010</time><a href="/blog/tags/chrome/" class="post-tag">chrome</a><a href="/blog/tags/delicious/" class="post-tag">delicious</a><a href="/blog/tags/extension/" class="post-tag">extension</a><a href="/blog/tags/javascript/" class="post-tag">javascript</a>

<p>I’ve recently moved from Firefox to Chrome. I use Delicious for managing my public and private bookmarks, and have installed the <a href="http://www.delicious.com/help/tools">plugins</a> for both browsers.</p>
<p>In moving to Chrome and installing the <a href="https://chrome.google.com/extensions/detail/gclkcflnjahgejhappicbhcpllkpakej">Delicious Tools</a> extension, one thing I really missed from the Firefox-based add-on was the ability to set a <a href="http://kenyarmosh.com/delicious-firefox-add-on-always-mark-as-private/">simple configuration option</a> to set the “Mark as private” checkbox on by default. There seemed to be a lot of forum-based discussion on making this work for the Chrome extension, but it seemed no solution was immediately evident. So I decided to investigate, and found out what I could do. This post is as much an aide memoire as anything else.</p>
<p>The Chrome extensions can be administered by entering <a href="chrome://extensions">chrome://extensions</a> into the address bar. This is what you can see for the Delicious Tools extension, when you have the Developer Mode expanded:</p>
<p><img src="/blog/img/2010/11/screenshot-extensions-google-chrome.png" alt="Chrome extension details"></p>
<p>There are a couple of interesting things that we can see:</p>
<ul>
<li>the ID of this extension is <em>gclkcflnjahgejhappicbhcpllkpakej</em>, which is the same as part of the URL that points to the extension’s home page:<br>
<a href="https://chrome.google.com/extensions/detail/gclkcflnjahgejhappicbhcpllkpakej">https://chrome.google.com/extensions/detail/gclkcflnjahgejhappicbhcpllkpakej</a></li>
<li>there’s a reference to the active view ‘background.html’, which, on inspection, contains a Javascript function addDelicious() which builds up the URL that will retrieve the Delicious page to save a bookmark</li>
</ul>
<p>A find and grep later, I find this background.html component’s home:</p>
<pre><code>~/.config/google-chrome/Default/Extensions/ gclkcflnjahgejhappicbhcpllkpakej/1.0.4_0/
</code></pre>
<p>It’s not just integration mechanisms that can be built in a loosely-coupled way. Applications built with HTTP, HTML, CSS and Javascript are also, almost by definition, beautifully loosely coupled; on inspecting the Javascript source in this file, we see:</p>
<pre><code> // Show delicious pop-up window addDelicious = function(conf) { var c = conf || {}, doc = c.document || document, url = c.url || doc.location, title = c.title || doc.title, notes = c.notes || '', w = c.width || 550, h = c.height || 550, deliciousUrl = c.deliciousUrl || &quot;http://delicious.com/save?v=5&amp;noui&amp;jump=close&amp;url=&quot;, fullUrl; fullUrl = deliciousUrl + encodeURIComponent(url) + '&amp;title=' + encodeURIComponent(title) + '&amp;notes=' + encodeURIComponent(notes); window.open( fullUrl, [...]
</code></pre>
<p>A simple addition of</p>
<pre><code>fullUrl = fullUrl + &quot;&amp;share=no&quot;;
</code></pre>
<p>before the call to window.open() will add the query parameter “share=no” to the Delicious URL that is requested, resulting in the HTML form being rendered with the “Mark as private” checkbox already ticked.</p>
<p><img src="/blog/img/2010/11/screenshot-save-a-bookmark-on-delicious-google-chrome.png" alt="Saving a bookmark, with private as default"></p>
<p>Result!</p>

<hr>
<ul><li>Next: <a href="/blog/2011/3/2/the-past-and-future-of-sap-integration-guest-bluefin-blog-post/">The past and future of SAP integration: guest Bluefin blog post</a></li><li>Previous: <a href="/blog/2010/1/11/google-visualization-api-manchester-gtug-talk/">Google Visualization API: Manchester GTUG Talk</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /blog/2010/9/11/hacking-the-delicious-extension-for-chrome/ -->
  </body>
</html>
