2014-01-13-ui5-xml-views-another-example
UI5 XML Views - Another Example
technology-blog-members
2014-01-13
https://community.sap.com/t5/technology-blogs-by-members/ui5-xml-views-another-example/ba-p/13052267
<DIV class="jive-rendered-content"><P>I've been diving into UI5 XML views and sharing the love recently - see <A class="jive-link-wiki-small" href="http://scn.sap.com/docs/DOC-49095" target="_blank" rel="noopener noreferrer">Mobile Dev Course W3U3 Rewrite - XML Views - An Intro</A> (as part of <A class="jive-link-external-small" href="https://blogs.sap.com/?p=94915" target="_blank" rel="noopener noreferrer">Mobile Dev Course W3U3 Rewrite - Intro</A>), and the XML view based templates and snippets in my <A class="jive-link-external-small" href="https://github.com/qmacro/SublimeUI5" target="_blank" rel="nofollow noopener noreferrer">SublimeUI5</A> Package for the "developer's choice" Sublime Text editor.</P><P></P><P>Recently <SPAN class="mention-scrubbed">john.patterson5</SPAN> supplied a JSBin example of an OData sourced table with a filter on dates, in answer to <A class="jive-link-message-small" href="http://scn.sap.com/message/14432063#14432063" target="_blank" rel="noopener noreferrer">Using Table filter when a formatter function is used</A>.</P><P></P><P>This was a very nice example but I thought it would be an interesting exercise to convert it to XML, for a number of reasons:</P><P></P><UL><LI>XML views are important (in the context of learning about and extending Fiori apps)</LI><LI>it would be a good test of my latest #SublimeUI5 snippet "<A class="jive-link-external-small" href="https://github.com/qmacro/SublimeUI5/blob/master/Snippets/indexmspmvc.html.sublime-snippet" target="_blank" rel="nofollow noopener noreferrer">index - Mobile - Single Page - MVC</A>" (indexmspmvc) (Note 1)</LI><LI>all of the XML view work I've done so far has involved controls predominantly from the sap.m library (as they're also what the Fiori apps are built with) so I wantd to try using non-sap.m controls (Note 2)</LI></UL><P></P><P>So I did, and have made it available in the <A class="jive-link-external-small" href="https://github.com/qmacro/sapui5bin" target="_blank" rel="nofollow noopener noreferrer">sapui5bin repo on Github</A> here:</P><P></P><P><A class="jive-link-external-small" href="https://github.com/qmacro/sapui5bin/blob/master/SinglePageExamples/ODataDateTableFilter.html" target="_blank" rel="nofollow noopener noreferrer">sapui5bin/SinglePageExamples/ODataDateTableFilter.html at master · qmacro/sapui5bin · GitHub</A></P><P></P><P>Open up this link in a separate window to view it and read the rest of the post. </P><P></P><P>I'll cover the "single page MVC" concept in another post; for now, here are a few notes to help you navigate:</P><P></P><UL><LI>the XML view is defined in a script tag with the id "view1" and brought to life with <EM style="font-family: terminal, monaco"><SPAN style="font-family: arial, helvetica, sans-serif">sap</SPAN><SPAN style="font-family: arial, helvetica, sans-serif"><SPAN class="p">.</SPAN><SPAN class="nx">ui</SPAN><SPAN class="p">.</SPAN><SPAN class="nx">xmlview</SPAN><SPAN class="p">({ </SPAN><SPAN class="nx">viewContent</SPAN><SPAN class="o" style="font-weight: bold">:</SPAN> <SPAN class="nx">jQuery</SPAN><SPAN class="p">(</SPAN><SPAN class="s1" style="color: #dd1144">'#view1'</SPAN><SPAN class="p">).</SPAN><SPAN class="nx">html</SPAN><SPAN class="p">() </SPAN></SPAN><SPAN style="font-family: arial, helvetica, sans-serif">})</SPAN></EM></LI><LI>I've specified the XML namespace declarations (xmlns) for the relevant libraries, having the most common controls' namespace (sap.ui.table) as the default</LI><LI>I've used the extended binding syntax for the Table's "rows" aggregation, to include the OData select parameters</LI><LI>I've declared the date formatting 'dateShort' (for the third column) in a namespace (util.formatting) with jQuery.sap.declare</LI><LI>We have a local controller (which doesn't actually have anything to do)</LI></UL><P></P><P>The one thing I'm not entirely convinced about is having to set the filterType property on the BirthDate column "procedurally" (in JavaScript); perhaps I'll get round to looking into how to do this particular bit a different way at some stage.</P><P></P><P>Anyway, I thought this might be more useful insight into XML views and single page MVC examples.</P><P></P><P>Share &amp; enjoy!</P><P>dj</P><P></P><P></P><P></P><P><SPAN style="font-size: 8pt">Note 1: This "single page MVC" idea is something I've wanted to put together and share for a while; it's easy to write a single page demo UI5 app but not so easy to do that and involve the MVC concept as well - in a single file ... until now.</SPAN></P><P></P><P><SPAN style="font-size: 8pt">Note 2: The SAP Fiori Wave 1 apps have views that are written declaratively in HTML; the SAP Fiori Wave 2 and 3 apps have views written in XML, using the sap.m controls, with a smattering of sap.ui.layout controls too</SPAN></P></DIV>
