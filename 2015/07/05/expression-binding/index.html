<!doctype html>
<html lang="en">
  <head>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-80338297-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-80338297-1');
  </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expression Binding</title>
    <meta name="description" content="Reserving the right to be wrong.">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="DJ Adams">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="DJ Adams">
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/">DJ Adams</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/">Home</a></li>
        <li class="nav-item"><a href="/about/">About</a></li>
        <li class="nav-item"><a href="/posts/">Archive</a></li>
        <li class="nav-item"><a href="/tags/">Tags</a></li>
        <li class="nav-item"><a href="/feed.xml">Feed</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      <h1>Expression Binding</h1>

<time datetime="2015-07-05">05 Jul 2015</time><a href="/tags/binding/" class="post-tag">binding</a><a href="/tags/embeddedbinding/" class="post-tag">embeddedbinding</a><a href="/tags/expressionbinding/" class="post-tag">expressionbinding</a><a href="/tags/formatter/" class="post-tag">formatter</a><a href="/tags/openui5/" class="post-tag">openui5</a><a href="/tags/ui5/" class="post-tag">ui5</a><a href="/tags/30ui5/" class="post-tag">30ui5</a>

<p><strong><a href="/2015/07/04/30-days-of-ui5/">30 Days of UI5</a>  — Day 2 by <a href="//qmacro.org/about/">DJ Adams</a></strong></p>
<p><img src="/img/2018/01/Screen-Shot-2015-07-05-at-13.34.07.png" alt="Expression Binding samples"></p>
<p>The expression binding feature was <a href="https://openui5.hana.ondemand.com/#docs/guide/99ac68a5b1c3416ab5c84c99fefa250d.html">introduced with version 1.28</a>, and allows logic to be included directly in an embedded binding. It’s a very useful feature, but a double edged sword that should be wielded with care.</p>
<p>Before expression bindings, any embedded binding that required a condition to be checked, or a calculation to be made, or a reformatting to happen, needed a reference to a formatter function that would either be in a dedicated formatter module (common), or in the controller (less common). When using XML views, for example, the Model-View-Controller philosophy remained strong, in that any imperative computation remained separate from the pure declarative UI definitions.</p>
<p>But in practice you find yourself creating a <em>lot</em> of formatter functions. Yes, some of them could be probably be refactored, and if you had time, you could probably find that library of common formatter functions that you’d been half building in your copious free time. Regardless, you end up with a lot of helper functions, small and large, that sometimes become a maintenance burden.</p>
<p>Enter expression bindings. If you’re prepared to add sugar and milk to your coffee, if you’re prepared to sacrifice the absolute purity of MVC for the sake of brevity, then expression bindings can be your friend.</p>
<p>Here’s an <a href="http://jsbin.com/wivuku/18/edit">example</a>:</p>
<p><a class="jsbin-embed" href="http://jsbin.com/wivuku/18/embed?html,js,output">JS Bin on jsbin.com</a><script src="http://static.jsbin.com/js/embed.min.js?4.1.2"></script></p>
<p>The greeting is created in three different ways. First, we use a function inside a formatter. Then, we use the same function but in the controller that is linked to the view (note the dot prefix in the value of the formatter property, specifying that the function is to be found in the controller). Finally, we have the same example in an expression binding, directly in the view.</p>
<p>Those who have had their coffee already today (milk and sugar optional) may have noticed something unusual in the expression binding example. Instead of having the literal “Good” outside of the embedded binding curly brackets, like this:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Input</span><br>  <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <br>  <span class="token attr-name">description</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Expression<span class="token punctuation">"</span></span> <br>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Good {= ${/now}.getHours() > 11 ? <span class="token punctuation">'</span>afternoon<span class="token punctuation">'</span> : <span class="token punctuation">'</span>morning<span class="token punctuation">'</span>}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre>
<p>… it’s like this, instead:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Input</span> <span class="token attr-name">enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><br>  <span class="token attr-name">description</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Expression<span class="token punctuation">"</span></span><br>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{= <span class="token punctuation">'</span>Good <span class="token punctuation">'</span> + (${/now}.getHours() > 11 ? <span class="token punctuation">'</span>afternoon<span class="token punctuation">'</span> : <span class="token punctuation">'</span>morning<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre>
<p>(Note the extra parentheses in this version).</p>
<p>This is because, currently, any literal string outside of the curly braces is rejected by the runtime.</p>
<p>Anyway, expression bindings are here, and they may be the sort of thing that you’re looking for. Possibly exactly what you’re looking for, if you’re considering <a href="https://openui5.hana.ondemand.com/#docs/guide/5ee619fc1370463ea674ee04b65ed83b.html">XML Templating</a>. But that’s a post for another time.</p>

<hr>
<style>
.utterances {
  margin-left: inherit !important;
}
</style>
<script src="https://utteranc.es/client.js" repo="qmacro/qmacro.github.io" issue-term="title" crossorigin="anonymous" async></script>

<hr>
<ul><li>Next: <a href="/2015/07/06/semantic-pages/">Semantic Pages</a></li><li>Previous: <a href="/2015/07/04/lightweight-notifications-with-the-message-strip/">Lightweight notifications with the Message Strip</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /2015/07/05/expression-binding/ -->
  </body>
</html>
