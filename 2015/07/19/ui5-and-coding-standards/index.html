<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI5 and Coding Standards</title>
    <meta name="description" content="Reserving the right to be wrong.">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="DJ Adams">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="DJ Adams">
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/">DJ Adams</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/">Home</a></li>
        <li class="nav-item"><a href="/about/">About</a></li>
        <li class="nav-item"><a href="/posts/">Archive</a></li>
        <li class="nav-item"><a href="/tags/">Tags</a></li>
        <li class="nav-item"><a href="/feed.xml">Feed</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      <h1>UI5 and Coding Standards</h1>

<time datetime="2015-07-19">19 Jul 2015</time><a href="/tags/coding/" class="post-tag">coding</a><a href="/tags/contribution/" class="post-tag">contribution</a><a href="/tags/guidelines/" class="post-tag">guidelines</a><a href="/tags/openui5/" class="post-tag">openui5</a><a href="/tags/standards/" class="post-tag">standards</a><a href="/tags/xmlviews/" class="post-tag">xmlviews</a>

<p><strong><a href="/2015/07/04/30-days-of-ui5/">30 Days of UI5</a> â€” Day 16 by <a href="//qmacro.org/about/">DJ Adams</a></strong></p>
<p><img src="/img/2018/02/Screen-Shot-2015-07-19-at-07.09.23.png" alt="Y-U-NO meme"></p>
<p>At one end of the spectrum, coding standards can be regarded as <a href="https://jaxenter.com/power-ten-nasas-coding-commandments-114124.html">essential</a>. At the other, theyâ€™re the subject of many a passionate debate, second perhaps only to the Vim vs Emacs <a href="https://en.wikipedia.org/wiki/Editor_war">editor wars</a>.</p>
<p>Iâ€™ll provide some caution by starting with one of my favourite quotes from Andrew Tanenbaum:</p>
<p><em>â€œThe nice thing about standards is that there are so many of them to choose fromâ€.</em></p>
<p><strong>Use of standards</strong></p>
<p>As software projects scale up, coding standards make more and more sense. On a <a href="https://www.endomondo.com/users/1074038/workouts/555294655">recent run</a>, I listened to theÂ JavaScript Jabber podcast â€œ<a href="http://devchat.tv/js-jabber/162-jsj-eslint-with-jamund-ferguson">JSJ ESLint with Jamund Ferguson</a>â€œ. There was a great discussion about ESLint, and it was interesting to see the different perspectives on imposed coding standards, from â€œit restricts my freedom of expressionâ€ to â€œit makes teams more efficient as they work more as oneâ€. I think those two perspectives slot roughly onto the scale spectrum. If itâ€™s just you developing, then by all means use whatever style you feel like using. But if youâ€™re part of a larger team whose members have to work with each otherâ€™s code, imposed coding standards do make a lot of sense.</p>
<p>The OpenUI5 project has some coding <a href="https://github.com/SAP/openui5/blob/master/CONTRIBUTING.md#contribute-code">contributionÂ guidelines</a>Â as well as <a href="https://github.com/SAP/openui5/blob/master/.eslintrc">ESLint rules</a>, well worth checking out, and pretty important if you want to contribute to UI5. Itâ€™s also worth considering them for your own UI5 applications. One advantage of adopting the OpenUI5 projectâ€™s guidelines and rules is that when you cross the path from your codebase into the underlying UI5 toolkit, the transition wonâ€™t be as jarring.</p>
<p><strong>Example XML View</strong></p>
<p>The ESLint rules, and ESLint in general would cause this post to be a lot longer than I want, so instead Iâ€™ll look at some non-JavaScript conventions that I like to try and impose, at least upon myself. In particular Iâ€™ll look at the style for XML View definitions. Hereâ€™s part a sample XML View, which Iâ€™ll use to illustrate the style for which I strive. Note that the â€œÂ»â€ character represents a tab (I have the list mode turned on in my editor to <a href="http://vimcasts.org/episodes/show-invisibles/">show invisibles</a>).</p>
<p><img src="/img/2018/02/Screen-Shot-2015-07-19-at-09.40.55.png" alt="sample code"></p>
<p>In the following, each prefix represents the line number(s) to which Iâ€™m referring.</p>
<p><strong>1</strong>: The correct namespace for aÂ <a href="https://openui5.hana.ondemand.com/#docs/api/symbols/sap.ui.core.mvc.View.html">View</a> is â€œsap.ui.core.mvcâ€, not â€œsap.ui.coreâ€ as you might have seen in older documentation and code examples.</p>
<p><strong>2</strong>: The controllerName attribute should be the first attribute for the View element. If there is no controller then obviously this attribute wonâ€™t be present. It just makes it slightly quicker to look for the controller reference if itâ€™s going to be consistently in the same place.</p>
<p><strong>3-5</strong>: All the namespace declarations should be in a contiguous chunk. There are other attributes that might appear for a View element, thatâ€™s fine, as long as theyâ€™re not interspersed amongst the namespace declarations. Ensure any other attributes appear before the namespace declarations. Also, donâ€™t specify a namespace declaration unless youâ€™re going to use it. (In this example, Iâ€™m using all of them; you just canâ€™t see the use of the â€œcoreâ€ here as itâ€™s on line 60, not in the screenshot).</p>
<p><strong>5</strong>: The default XML namespace for any given XML View should be the one that is dominant in the file, or â€œsap.mâ€. If youâ€™re building responsive UI5 apps, youâ€™re going to need a good reason for â€œsap.mâ€Â <em>not</em> to be the dominant library. Also, it should be the last attribute in the View element, with a closing angle bracket directly following. (Unlike the use of other angle-bracket powered markup (such as HTML) in UI5, this is a rule that can be applied consistently. With the UI5 bootstrap in HTML, I like to have the closing angle bracket on a separate line, in the â€˜prefix-commaâ€™ style from ABAP and other code, so I can add further data attributes without causing diff confusion.)</p>
<p><strong>1-5, 6-7, 11-13 etc</strong>: All attributes should appear on lines of their own, indented appropriately.</p>
<p><strong>13</strong>: When closing an element directly (like this: <element /> rather than this: <element>â€¦</element>), a space should be used before the closing â€œ/&gt;â€.</p>
<p><strong>8, 17, 22, 29, etc</strong>: All aggregation elements should be used explicitly. Donâ€™t omit implicit default aggregations for controls; instead, specify them. In this example, Iâ€™m using a sap.m.Page control, with the â€œsubHeaderâ€ and â€œcontentâ€ aggregations. While the â€œsubHeaderâ€ aggregation must be specified explicitly anyway, the â€œcontentâ€ aggregation is default and doesnâ€™t need to be, but I do anyway. The same goes for the sap.m.List controlâ€™s â€œitemsâ€ aggregation.</p>
<p><strong>18</strong>: Contrary to the rule about attributes being on their own separate lines, thereâ€™s an exception to this which is for the id attribute. If it exists, put it on the same line as the opening part of the controlâ€™s element.</p>
<p><strong>25</strong>: Unless thereâ€™s a good reason not to, create the names for your event handler functions using an â€œonâ€ prefix (like here: â€œonSelectâ€). This way theyâ€™re consistent with the builtin view lifecycle event functions such as â€œonInitâ€.</p>
<p><strong>31-34</strong>: When writing complex embedded binding syntax, put each property of the map on a separate line, in the same way youâ€™d write a map in JavaScript. Use spaces before and after the colons.</p>
<p><strong>1-34</strong>:Â Use double quotes throughout; the only place youâ€™ll then use single quotes is within embedded binding syntax.Â Also â€¦Â I know this is the subject of much debate, butÂ theÂ OpenUI5â€™s project standard specifies tabs for indentation. It came as a shock to me at first, but I have now embraced it :-)</p>
<p><strong>Conclusion</strong></p>
<p>I have no doubt caused some outrage to some of you, but hopefully just as much agreement with others. For me, this sample XML View is easy to read, a lot easier than some of the Fiori views that are generated from templates, for example. What are your standards?</p>

<hr>
<script src="https://utteranc.es/client.js" repo="qmacro/qmacro.github.io" issue-term="title" label="ğŸ’¬" crossorigin="anonymous" async></script>

<hr>
<ul><li>Next: <a href="/2015/07/20/ui5-and-fiori-the-story-of-open-and-free/">UI5 and Fiori - The Story of Open and Free</a></li><li>Previous: <a href="/2015/07/18/the-ui5-support-tool-help-yourself/">The UI5 Support Tool - Help Yourself!</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /2015/07/19/ui5-and-coding-standards/ -->
  </body>
</html>
