<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI5 Version Info</title>
    <meta name="description" content="Reserving the right to be wrong.">
    <link rel="stylesheet" href="/blog/css/index.css">
    <link rel="stylesheet" href="/blog/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/blog/feed/feed.xml" type="application/atom+xml" title="DJ Adams">
    <link rel="alternate" href="/blog/feed/feed.json" type="application/json" title="DJ Adams">
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/blog/">DJ Adams</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/blog/">Home</a></li>
        <li class="nav-item"><a href="/blog/about/">About</a></li>
        <li class="nav-item"><a href="/blog/posts/">Archive</a></li>
        <li class="nav-item"><a href="/blog/tags/">Tags</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      <h1>UI5 Version Info</h1>

<time datetime="2015-07-31">31 Jul 2015</time><a href="/blog/tags/openui5/" class="post-tag">openui5</a><a href="/blog/tags/sapui5/" class="post-tag">sapui5</a><a href="/blog/tags/versioninfo/" class="post-tag">versioninfo</a>

<p><strong><a href="/2015/07/04/30-days-of-ui5/">30 Days of UI5</a> — Day 28 by <a href="//qmacro.org/about/">DJ Adams</a></strong></p>
<p><img src="/blog/img/2018/02/Screen-Shot-2015-07-31-at-13.04.22-624x312.png" alt=""></p>
<p>Yesterday Peter Müßig from the UI5 team at SAP in Walldorf <a href="https://twitter.com/pmuessig/status/626649315235229696">announced</a> the multi-version capability for SAPUI5.</p>
<p>He also documented the details in a post on the SAP Community Network here: “<a href="http://scn.sap.com/community/developer-center/front-end/blog/2015/07/30/multi-version-availability-of-sapui5">Multi-Version availability of SAPUI5</a>“. Shortly after, the <a href="https://twitter.com/OpenUI5/status/626658243071315968">announcement</a> was also made that this would also be available for OpenUI5.</p>
<p>This is great news, and something that we’ve been waiting for now for a while. It makes perfect sense, and the ability to select a particular runtime version via a part of the bootstrap URL’s path info is very nice. It’s something I do locally on my workstation anyway, and I also have a ‘latest’ symbolic link that I ensure points to the latest copy of the runtime or SDK that I have locally.</p>
<p>Along with the announcement came a link to a simple <a href="https://sapui5.hana.ondemand.com/versionoverview.html">SAPUI5 Version Overview</a> page, built in UI5. It looks like this:</p>
<p><img src="/blog/img/2018/02/Screen-Shot-2015-07-31-at-13.11.42-624x330.png" alt=""></p>
<p>And if you look under the covers, you’ll see a single-file app, with a lot of custom CSS, some JavaScript view stuff going on, and the retrieval of a couple of JSON resources containing the <a href="https://sapui5.hana.ondemand.com/versionoverview.json">version overview info</a> and the data from the <a href="https://sapui5.hana.ondemand.com/neo-app.json">neo-app.json</a> file that is present in the HCP platform and which describes routes to destinations, which include the SAPUI5 runtime services, now available at different paths for different versions.</p>
<p>You’ll also see some <a href="https://github.com/qmacro/ui5versioninfo/blob/master/versionoverview.html#L207-L263">complex manipulation and merging of those two datasets</a>, and <a href="https://github.com/qmacro/ui5versioninfo/blob/master/versionoverview.html#L298-L308">the mix of UI5 controls with raw HTML header elements</a>.</p>
<p><img src="/blog/img/2018/02/Screen-Shot-2015-07-31-at-13.22.44-169x300.png" alt=""></p>
<p>The result is an app that looks OK on the desktop but doesn’t look that well on a smartphone, as you can see above.</p>
<p>So I spent some time on the train down from Manchester to London early this morning to see what I could do.</p>
<p>I wanted to address a couple of things:</p>
<ul>
<li>have the smartphone as the target device, rebuilding the UI with an App control</li>
<li>improve the binding, to a single data collection</li>
</ul>
<p>The UI part was straightforward. I used my MVC technique (see <a href="/2015/07/21/mvc-model-view-controller-minimum-viable-code/">MVC – Model View Controller, Minimum Viable Code</a> from earlier in this series) to define a new View, declaratively in XML. I used an App control with a couple of Pages, and a simple controller for the view which handled all the view lifecycle and user-generated events, as well as being the container for the formatter functions.</p>
<p>I also used some of my favourite JavaScript functions to bind together the disparate data into a nice cohesive single array of maps. I left the original data manipulation as it was, and then grabbed what it produced to make my array. I could then bind the List in UI to this single array, and then confer the right binding context to the second Page for a selected item from the array.</p>
<p>I’ve created a small Github repo <a href="https://github.com/qmacro/ui5versioninfo">ui5versioninfo</a> with the files. It contains a local snapshot of the two source JSON files (<a href="https://github.com/qmacro/ui5versioninfo/blob/master/neo-app.json">neo-app.json</a> and <a href="https://github.com/qmacro/ui5versioninfo/blob/master/versionoverview.json">versionoverview.json</a>), the original <a href="https://github.com/qmacro/ui5versioninfo/blob/master/versionoverview.html">versionoverview.html</a> that produces the UI we saw earlier, and a new file, called <a href="https://github.com/qmacro/ui5versioninfo/blob/master/new.html?ts=2">new.html</a>, which is my quick attempt addressing those things above.</p>
<p>Here’s what the result looks like:</p>
<p><img src="/blog/img/2018/02/versioninfo.gif" alt="versioninfo"></p>
<p>I’ve tried to use some UI5 design and control best practices, while <a href="https://github.com/qmacro/ui5versioninfo/blob/master/new.html?ts=2#L15-L92">defining the UI in XML</a>. I’ve added some <a href="https://github.com/qmacro/ui5versioninfo/blob/master/new.html?ts=2#L191-L209">functional programming style data merging</a> to take place after the original manipulation, and a <a href="https://github.com/qmacro/ui5versioninfo/blob/master/new.html?ts=2#L211-L259">small controller</a> with the requisite functions for event handling and formatting.</p>
<p>I took the screencast of the “finished” attempt on the tube from London Euston to Chiswick this morning, so it really was a rush job. But I think that it’s worth thinking about how we can improve this useful resource. How would you improve it?</p>
<p></p>

<hr>
<ul><li>Next: <a href="/blog/2015/1/8/revisiting-the-xml-model/">Revisiting the XML Model</a></li><li>Previous: <a href="/blog/2015/30/7/a-non-techie-pm-s-view-of-ui5/">A non-techie PM&#39;s view of UI5</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /blog/2015/31/7/ui5-version-info/ -->
  </body>
</html>
